function C4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hj={exports:{}},xu={},qj={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.element"),O4=Symbol.for("react.portal"),_4=Symbol.for("react.fragment"),P4=Symbol.for("react.strict_mode"),A4=Symbol.for("react.profiler"),E4=Symbol.for("react.provider"),T4=Symbol.for("react.context"),$4=Symbol.for("react.forward_ref"),I4=Symbol.for("react.suspense"),M4=Symbol.for("react.memo"),D4=Symbol.for("react.lazy"),Ng=Symbol.iterator;function R4(e){return e===null||typeof e!="object"?null:(e=Ng&&e[Ng]||e["@@iterator"],typeof e=="function"?e:null)}var Gj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kj=Object.assign,Xj={};function ui(e,t,n){this.props=e,this.context=t,this.refs=Xj,this.updater=n||Gj}ui.prototype.isReactComponent={};ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yj(){}Yj.prototype=ui.prototype;function dx(e,t,n){this.props=e,this.context=t,this.refs=Xj,this.updater=n||Gj}var ux=dx.prototype=new Yj;ux.constructor=dx;Kj(ux,ui.prototype);ux.isPureReactComponent=!0;var Sg=Array.isArray,Qj=Object.prototype.hasOwnProperty,fx={current:null},Jj={key:!0,ref:!0,__self:!0,__source:!0};function Zj(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Qj.call(t,r)&&!Jj.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:jo,type:e,key:i,ref:l,props:s,_owner:fx.current}}function L4(e,t){return{$$typeof:jo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function px(e){return typeof e=="object"&&e!==null&&e.$$typeof===jo}function z4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kg=/\/+/g;function Df(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z4(""+e.key):t.toString(36)}function Nc(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case jo:case O4:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Df(l,0):r,Sg(s)?(n="",e!=null&&(n=e.replace(kg,"$&/")+"/"),Nc(s,t,n,"",function(d){return d})):s!=null&&(px(s)&&(s=L4(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(kg,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Sg(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Df(i,o);l+=Nc(i,t,n,c,s)}else if(c=R4(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Df(i,o++),l+=Nc(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Vo(e,t,n){if(e==null)return e;var r=[],s=0;return Nc(e,r,"","",function(i){return t.call(n,i,s++)}),r}function B4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Sc={transition:null},F4={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:fx};function ew(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Vo,forEach:function(e,t,n){Vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vo(e,function(){t++}),t},toArray:function(e){return Vo(e,function(t){return t})||[]},only:function(e){if(!px(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=ui;we.Fragment=_4;we.Profiler=A4;we.PureComponent=dx;we.StrictMode=P4;we.Suspense=I4;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F4;we.act=ew;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kj({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=fx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Qj.call(t,c)&&!Jj.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:jo,type:e.type,key:s,ref:i,props:r,_owner:l}};we.createContext=function(e){return e={$$typeof:T4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E4,_context:e},e.Consumer=e};we.createElement=Zj;we.createFactory=function(e){var t=Zj.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:$4,render:e}};we.isValidElement=px;we.lazy=function(e){return{$$typeof:D4,_payload:{_status:-1,_result:e},_init:B4}};we.memo=function(e,t){return{$$typeof:M4,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Sc.transition;Sc.transition={};try{e()}finally{Sc.transition=t}};we.unstable_act=ew;we.useCallback=function(e,t){return Bt.current.useCallback(e,t)};we.useContext=function(e){return Bt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};we.useEffect=function(e,t){return Bt.current.useEffect(e,t)};we.useId=function(){return Bt.current.useId()};we.useImperativeHandle=function(e,t,n){return Bt.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Bt.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Bt.current.useReducer(e,t,n)};we.useRef=function(e){return Bt.current.useRef(e)};we.useState=function(e){return Bt.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Bt.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Bt.current.useTransition()};we.version="18.3.1";qj.exports=we;var w=qj.exports;const R=Le(w),U4=C4({__proto__:null,default:R},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V4=w,W4=Symbol.for("react.element"),H4=Symbol.for("react.fragment"),q4=Object.prototype.hasOwnProperty,G4=V4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K4={key:!0,ref:!0,__self:!0,__source:!0};function tw(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)q4.call(t,r)&&!K4.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:W4,type:e,key:i,ref:l,props:s,_owner:G4.current}}xu.Fragment=H4;xu.jsx=tw;xu.jsxs=tw;Hj.exports=xu;var a=Hj.exports,Fp={},nw={exports:{}},cn={},rw={exports:{}},aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,P){var U=_.length;_.push(P);e:for(;0<U;){var G=U-1>>>1,q=_[G];if(0<s(q,P))_[G]=P,_[U]=q,U=G;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var P=_[0],U=_.pop();if(U!==P){_[0]=U;e:for(var G=0,q=_.length,z=q>>>1;G<z;){var ee=2*(G+1)-1,ae=_[ee],ge=ee+1,Q=_[ge];if(0>s(ae,U))ge<q&&0>s(Q,ae)?(_[G]=Q,_[ge]=U,G=ge):(_[G]=ae,_[ee]=U,G=ee);else if(ge<q&&0>s(Q,U))_[G]=Q,_[ge]=U,G=ge;else break e}}return P}function s(_,P){var U=_.sortIndex-P.sortIndex;return U!==0?U:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,p=3,x=!1,m=!1,j=!1,h=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var P=n(d);P!==null;){if(P.callback===null)r(d);else if(P.startTime<=_)r(d),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(d)}}function N(_){if(j=!1,b(_),!m)if(n(c)!==null)m=!0,A(v);else{var P=n(d);P!==null&&L(N,P.startTime-_)}}function v(_,P){m=!1,j&&(j=!1,y(C),C=-1),x=!0;var U=p;try{for(b(P),f=n(c);f!==null&&(!(f.expirationTime>P)||_&&!M());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var q=G(f.expirationTime<=P);P=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(c)&&r(c),b(P)}else r(c);f=n(c)}if(f!==null)var z=!0;else{var ee=n(d);ee!==null&&L(N,ee.startTime-P),z=!1}return z}finally{f=null,p=U,x=!1}}var S=!1,k=null,C=-1,O=5,E=-1;function M(){return!(e.unstable_now()-E<O)}function $(){if(k!==null){var _=e.unstable_now();E=_;var P=!0;try{P=k(!0,_)}finally{P?I():(S=!1,k=null)}}else S=!1}var I;if(typeof g=="function")I=function(){g($)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=$,I=function(){F.postMessage(null)}}else I=function(){h($,0)};function A(_){k=_,S||(S=!0,I())}function L(_,P){C=h(function(){_(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){m||x||(m=!0,A(v))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var U=p;p=P;try{return _()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var U=p;p=_;try{return P()}finally{p=U}},e.unstable_scheduleCallback=function(_,P,U){var G=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,_){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,_={id:u++,callback:P,priorityLevel:_,startTime:U,expirationTime:q,sortIndex:-1},U>G?(_.sortIndex=U,t(d,_),n(c)===null&&_===n(d)&&(j?(y(C),C=-1):j=!0,L(N,U-G))):(_.sortIndex=q,t(c,_),m||x||(m=!0,A(v))),_},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(_){var P=p;return function(){var U=p;p=P;try{return _.apply(this,arguments)}finally{p=U}}}})(aw);rw.exports=aw;var X4=rw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4=w,on=X4;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sw=new Set,vl={};function Xa(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(vl[e]=t,e=0;e<t.length;e++)sw.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,Q4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cg={},Og={};function J4(e){return Up.call(Og,e)?!0:Up.call(Cg,e)?!1:Q4.test(e)?Og[e]=!0:(Cg[e]=!0,!1)}function Z4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eC(e,t,n,r){if(t===null||typeof t>"u"||Z4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var mx=/[\-:]([a-z])/g;function hx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mx,hx);wt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mx,hx);wt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mx,hx);wt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function xx(e,t,n,r){var s=wt.hasOwnProperty(t)?wt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eC(t,n,s,r)&&(n=null),r||s===null?J4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ar=Y4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),ls=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),gx=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),iw=Symbol.for("react.provider"),lw=Symbol.for("react.context"),yx=Symbol.for("react.forward_ref"),Wp=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),vx=Symbol.for("react.memo"),Dr=Symbol.for("react.lazy"),ow=Symbol.for("react.offscreen"),_g=Symbol.iterator;function Mi(e){return e===null||typeof e!="object"?null:(e=_g&&e[_g]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Rf;function tl(e){if(Rf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rf=t&&t[1]||""}return`
`+Rf+e}var Lf=!1;function zf(e,t){if(!e||Lf)return"";Lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Lf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tl(e):""}function tC(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=zf(e.type,!1),e;case 11:return e=zf(e.type.render,!1),e;case 1:return e=zf(e.type,!0),e;default:return""}}function qp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case ls:return"Portal";case Vp:return"Profiler";case gx:return"StrictMode";case Wp:return"Suspense";case Hp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lw:return(e.displayName||"Context")+".Consumer";case iw:return(e._context.displayName||"Context")+".Provider";case yx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vx:return t=e.displayName||null,t!==null?t:qp(e.type)||"Memo";case Dr:t=e._payload,e=e._init;try{return qp(e(t))}catch{}}return null}function nC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(t);case 8:return t===gx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rC(e){var t=cw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ho(e){e._valueTracker||(e._valueTracker=rC(e))}function dw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gp(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ra(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uw(e,t){t=t.checked,t!=null&&xx(e,"checked",t,!1)}function Kp(e,t){uw(e,t);var n=ra(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xp(e,t.type,ra(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ag(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xp(e,t,n){(t!=="number"||zc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nl=Array.isArray;function ws(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ra(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(nl(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ra(n)}}function fw(e,t){var n=ra(t.value),r=ra(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qo,mw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aC=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(e){aC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),il[t]=il[e]})});function hw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||il.hasOwnProperty(e)&&il[e]?(""+t).trim():t+"px"}function xw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=hw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var sC=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jp(e,t){if(t){if(sC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Zp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=null;function bx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tm=null,Ns=null,Ss=null;function $g(e){if(e=So(e)){if(typeof tm!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=ju(t),tm(e.stateNode,e.type,t))}}function gw(e){Ns?Ss?Ss.push(e):Ss=[e]:Ns=e}function yw(){if(Ns){var e=Ns,t=Ss;if(Ss=Ns=null,$g(e),t)for(e=0;e<t.length;e++)$g(t[e])}}function vw(e,t){return e(t)}function bw(){}var Bf=!1;function jw(e,t,n){if(Bf)return e(t,n);Bf=!0;try{return vw(e,t,n)}finally{Bf=!1,(Ns!==null||Ss!==null)&&(bw(),yw())}}function jl(e,t){var n=e.stateNode;if(n===null)return null;var r=ju(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var nm=!1;if(jr)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){nm=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{nm=!1}function iC(e,t,n,r,s,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var ll=!1,Bc=null,Fc=!1,rm=null,lC={onError:function(e){ll=!0,Bc=e}};function oC(e,t,n,r,s,i,l,o,c){ll=!1,Bc=null,iC.apply(lC,arguments)}function cC(e,t,n,r,s,i,l,o,c){if(oC.apply(this,arguments),ll){if(ll){var d=Bc;ll=!1,Bc=null}else throw Error(Z(198));Fc||(Fc=!0,rm=d)}}function Ya(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ww(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ig(e){if(Ya(e)!==e)throw Error(Z(188))}function dC(e){var t=e.alternate;if(!t){if(t=Ya(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ig(s),e;if(i===r)return Ig(s),t;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function Nw(e){return e=dC(e),e!==null?Sw(e):null}function Sw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sw(e);if(t!==null)return t;e=e.sibling}return null}var kw=on.unstable_scheduleCallback,Mg=on.unstable_cancelCallback,uC=on.unstable_shouldYield,fC=on.unstable_requestPaint,Ze=on.unstable_now,pC=on.unstable_getCurrentPriorityLevel,jx=on.unstable_ImmediatePriority,Cw=on.unstable_UserBlockingPriority,Uc=on.unstable_NormalPriority,mC=on.unstable_LowPriority,Ow=on.unstable_IdlePriority,gu=null,tr=null;function hC(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(gu,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:yC,xC=Math.log,gC=Math.LN2;function yC(e){return e>>>=0,e===0?32:31-(xC(e)/gC|0)|0}var Go=64,Ko=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=rl(o):(i&=l,i!==0&&(r=rl(i)))}else l=n&~s,l!==0?r=rl(l):i!==0&&(r=rl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ln(t),s=1<<n,r|=e[n],t&=~s;return r}function vC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ln(i),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=vC(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function am(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _w(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function Ff(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=n}function jC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ln(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function wx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ln(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Te=0;function Pw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Aw,Nx,Ew,Tw,$w,sm=!1,Xo=[],Hr=null,qr=null,Gr=null,wl=new Map,Nl=new Map,zr=[],wC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dg(e,t){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Ri(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=So(t),t!==null&&Nx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function NC(e,t,n,r,s){switch(t){case"focusin":return Hr=Ri(Hr,e,t,n,r,s),!0;case"dragenter":return qr=Ri(qr,e,t,n,r,s),!0;case"mouseover":return Gr=Ri(Gr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return wl.set(i,Ri(wl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Nl.set(i,Ri(Nl.get(i)||null,e,t,n,r,s)),!0}return!1}function Iw(e){var t=wa(e.target);if(t!==null){var n=Ya(t);if(n!==null){if(t=n.tag,t===13){if(t=ww(n),t!==null){e.blockedOn=t,$w(e.priority,function(){Ew(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=im(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);em=r,n.target.dispatchEvent(r),em=null}else return t=So(n),t!==null&&Nx(t),e.blockedOn=n,!1;t.shift()}return!0}function Rg(e,t,n){kc(e)&&n.delete(t)}function SC(){sm=!1,Hr!==null&&kc(Hr)&&(Hr=null),qr!==null&&kc(qr)&&(qr=null),Gr!==null&&kc(Gr)&&(Gr=null),wl.forEach(Rg),Nl.forEach(Rg)}function Li(e,t){e.blockedOn===t&&(e.blockedOn=null,sm||(sm=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,SC)))}function Sl(e){function t(s){return Li(s,e)}if(0<Xo.length){Li(Xo[0],e);for(var n=1;n<Xo.length;n++){var r=Xo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hr!==null&&Li(Hr,e),qr!==null&&Li(qr,e),Gr!==null&&Li(Gr,e),wl.forEach(t),Nl.forEach(t),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)Iw(n),n.blockedOn===null&&zr.shift()}var ks=Ar.ReactCurrentBatchConfig,Wc=!0;function kC(e,t,n,r){var s=Te,i=ks.transition;ks.transition=null;try{Te=1,Sx(e,t,n,r)}finally{Te=s,ks.transition=i}}function CC(e,t,n,r){var s=Te,i=ks.transition;ks.transition=null;try{Te=4,Sx(e,t,n,r)}finally{Te=s,ks.transition=i}}function Sx(e,t,n,r){if(Wc){var s=im(e,t,n,r);if(s===null)Qf(e,t,r,Hc,n),Dg(e,r);else if(NC(s,e,t,n,r))r.stopPropagation();else if(Dg(e,r),t&4&&-1<wC.indexOf(e)){for(;s!==null;){var i=So(s);if(i!==null&&Aw(i),i=im(e,t,n,r),i===null&&Qf(e,t,r,Hc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Qf(e,t,r,null,n)}}var Hc=null;function im(e,t,n,r){if(Hc=null,e=bx(r),e=wa(e),e!==null)if(t=Ya(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ww(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hc=e,null}function Mw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pC()){case jx:return 1;case Cw:return 4;case Uc:case mC:return 16;case Ow:return 536870912;default:return 16}default:return 16}}var Fr=null,kx=null,Cc=null;function Dw(){if(Cc)return Cc;var e,t=kx,n=t.length,r,s="value"in Fr?Fr.value:Fr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Cc=s.slice(e,1<r?1-r:void 0)}function Oc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function Lg(){return!1}function dn(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yo:Lg,this.isPropagationStopped=Lg,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cx=dn(fi),No=Xe({},fi,{view:0,detail:0}),OC=dn(No),Uf,Vf,zi,yu=Xe({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ox,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(Uf=e.screenX-zi.screenX,Vf=e.screenY-zi.screenY):Vf=Uf=0,zi=e),Uf)},movementY:function(e){return"movementY"in e?e.movementY:Vf}}),zg=dn(yu),_C=Xe({},yu,{dataTransfer:0}),PC=dn(_C),AC=Xe({},No,{relatedTarget:0}),Wf=dn(AC),EC=Xe({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),TC=dn(EC),$C=Xe({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IC=dn($C),MC=Xe({},fi,{data:0}),Bg=dn(MC),DC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LC[e])?!!t[e]:!1}function Ox(){return zC}var BC=Xe({},No,{key:function(e){if(e.key){var t=DC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ox,charCode:function(e){return e.type==="keypress"?Oc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FC=dn(BC),UC=Xe({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fg=dn(UC),VC=Xe({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ox}),WC=dn(VC),HC=Xe({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qC=dn(HC),GC=Xe({},yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KC=dn(GC),XC=[9,13,27,32],_x=jr&&"CompositionEvent"in window,ol=null;jr&&"documentMode"in document&&(ol=document.documentMode);var YC=jr&&"TextEvent"in window&&!ol,Rw=jr&&(!_x||ol&&8<ol&&11>=ol),Ug=" ",Vg=!1;function Lw(e,t){switch(e){case"keyup":return XC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function QC(e,t){switch(e){case"compositionend":return zw(t);case"keypress":return t.which!==32?null:(Vg=!0,Ug);case"textInput":return e=t.data,e===Ug&&Vg?null:e;default:return null}}function JC(e,t){if(cs)return e==="compositionend"||!_x&&Lw(e,t)?(e=Dw(),Cc=kx=Fr=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rw&&t.locale!=="ko"?null:t.data;default:return null}}var ZC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZC[e.type]:t==="textarea"}function Bw(e,t,n,r){gw(r),t=qc(t,"onChange"),0<t.length&&(n=new Cx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cl=null,kl=null;function eO(e){Qw(e,0)}function vu(e){var t=fs(e);if(dw(t))return e}function tO(e,t){if(e==="change")return t}var Fw=!1;if(jr){var Hf;if(jr){var qf="oninput"in document;if(!qf){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),qf=typeof Hg.oninput=="function"}Hf=qf}else Hf=!1;Fw=Hf&&(!document.documentMode||9<document.documentMode)}function qg(){cl&&(cl.detachEvent("onpropertychange",Uw),kl=cl=null)}function Uw(e){if(e.propertyName==="value"&&vu(kl)){var t=[];Bw(t,kl,e,bx(e)),jw(eO,t)}}function nO(e,t,n){e==="focusin"?(qg(),cl=t,kl=n,cl.attachEvent("onpropertychange",Uw)):e==="focusout"&&qg()}function rO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(kl)}function aO(e,t){if(e==="click")return vu(t)}function sO(e,t){if(e==="input"||e==="change")return vu(t)}function iO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:iO;function Cl(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Up.call(t,s)||!Fn(e[s],t[s]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kg(e,t){var n=Gg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gg(n)}}function Vw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ww(){for(var e=window,t=zc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zc(e.document)}return t}function Px(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lO(e){var t=Ww(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vw(n.ownerDocument.documentElement,n)){if(r!==null&&Px(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Kg(n,i);var l=Kg(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oO=jr&&"documentMode"in document&&11>=document.documentMode,ds=null,lm=null,dl=null,om=!1;function Xg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;om||ds==null||ds!==zc(r)||(r=ds,"selectionStart"in r&&Px(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Cl(dl,r)||(dl=r,r=qc(lm,"onSelect"),0<r.length&&(t=new Cx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ds)))}function Qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var us={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Gf={},Hw={};jr&&(Hw=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function bu(e){if(Gf[e])return Gf[e];if(!us[e])return e;var t=us[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hw)return Gf[e]=t[n];return e}var qw=bu("animationend"),Gw=bu("animationiteration"),Kw=bu("animationstart"),Xw=bu("transitionend"),Yw=new Map,Yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(e,t){Yw.set(e,t),Xa(t,[e])}for(var Kf=0;Kf<Yg.length;Kf++){var Xf=Yg[Kf],cO=Xf.toLowerCase(),dO=Xf[0].toUpperCase()+Xf.slice(1);la(cO,"on"+dO)}la(qw,"onAnimationEnd");la(Gw,"onAnimationIteration");la(Kw,"onAnimationStart");la("dblclick","onDoubleClick");la("focusin","onFocus");la("focusout","onBlur");la(Xw,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uO=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Qg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,cC(r,t,void 0,e),e.currentTarget=null}function Qw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Qg(s,o,d),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Qg(s,o,d),i=c}}}if(Fc)throw e=rm,Fc=!1,rm=null,e}function Be(e,t){var n=t[pm];n===void 0&&(n=t[pm]=new Set);var r=e+"__bubble";n.has(r)||(Jw(t,e,2,!1),n.add(r))}function Yf(e,t,n){var r=0;t&&(r|=4),Jw(n,e,r,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Ol(e){if(!e[Jo]){e[Jo]=!0,sw.forEach(function(n){n!=="selectionchange"&&(uO.has(n)||Yf(n,!1,e),Yf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,Yf("selectionchange",!1,t))}}function Jw(e,t,n,r){switch(Mw(t)){case 1:var s=kC;break;case 4:s=CC;break;default:s=Sx}n=s.bind(null,t,n,e),s=void 0,!nm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Qf(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=wa(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}jw(function(){var d=i,u=bx(n),f=[];e:{var p=Yw.get(e);if(p!==void 0){var x=Cx,m=e;switch(e){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":x=FC;break;case"focusin":m="focus",x=Wf;break;case"focusout":m="blur",x=Wf;break;case"beforeblur":case"afterblur":x=Wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=PC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=WC;break;case qw:case Gw:case Kw:x=TC;break;case Xw:x=qC;break;case"scroll":x=OC;break;case"wheel":x=KC;break;case"copy":case"cut":case"paste":x=IC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Fg}var j=(t&4)!==0,h=!j&&e==="scroll",y=j?p!==null?p+"Capture":null:p;j=[];for(var g=d,b;g!==null;){b=g;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,y!==null&&(N=jl(g,y),N!=null&&j.push(_l(g,N,b)))),h)break;g=g.return}0<j.length&&(p=new x(p,m,null,n,u),f.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==em&&(m=n.relatedTarget||n.fromElement)&&(wa(m)||m[wr]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(m=n.relatedTarget||n.toElement,x=d,m=m?wa(m):null,m!==null&&(h=Ya(m),m!==h||m.tag!==5&&m.tag!==6)&&(m=null)):(x=null,m=d),x!==m)){if(j=zg,N="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(j=Fg,N="onPointerLeave",y="onPointerEnter",g="pointer"),h=x==null?p:fs(x),b=m==null?p:fs(m),p=new j(N,g+"leave",x,n,u),p.target=h,p.relatedTarget=b,N=null,wa(u)===d&&(j=new j(y,g+"enter",m,n,u),j.target=b,j.relatedTarget=h,N=j),h=N,x&&m)t:{for(j=x,y=m,g=0,b=j;b;b=ns(b))g++;for(b=0,N=y;N;N=ns(N))b++;for(;0<g-b;)j=ns(j),g--;for(;0<b-g;)y=ns(y),b--;for(;g--;){if(j===y||y!==null&&j===y.alternate)break t;j=ns(j),y=ns(y)}j=null}else j=null;x!==null&&Jg(f,p,x,j,!1),m!==null&&h!==null&&Jg(f,h,m,j,!0)}}e:{if(p=d?fs(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var v=tO;else if(Wg(p))if(Fw)v=sO;else{v=rO;var S=nO}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(v=aO);if(v&&(v=v(e,d))){Bw(f,v,n,u);break e}S&&S(e,p,d),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Xp(p,"number",p.value)}switch(S=d?fs(d):window,e){case"focusin":(Wg(S)||S.contentEditable==="true")&&(ds=S,lm=d,dl=null);break;case"focusout":dl=lm=ds=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,Xg(f,n,u);break;case"selectionchange":if(oO)break;case"keydown":case"keyup":Xg(f,n,u)}var k;if(_x)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else cs?Lw(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Rw&&n.locale!=="ko"&&(cs||C!=="onCompositionStart"?C==="onCompositionEnd"&&cs&&(k=Dw()):(Fr=u,kx="value"in Fr?Fr.value:Fr.textContent,cs=!0)),S=qc(d,C),0<S.length&&(C=new Bg(C,e,null,n,u),f.push({event:C,listeners:S}),k?C.data=k:(k=zw(n),k!==null&&(C.data=k)))),(k=YC?QC(e,n):JC(e,n))&&(d=qc(d,"onBeforeInput"),0<d.length&&(u=new Bg("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=k))}Qw(f,t)})}function _l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jl(e,n),i!=null&&r.unshift(_l(e,i,s)),i=jl(e,t),i!=null&&r.push(_l(e,i,s))),e=e.return}return r}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jg(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,s?(c=jl(n,i),c!=null&&l.unshift(_l(n,c,o))):s||(c=jl(n,i),c!=null&&l.push(_l(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var fO=/\r\n?/g,pO=/\u0000|\uFFFD/g;function Zg(e){return(typeof e=="string"?e:""+e).replace(fO,`
`).replace(pO,"")}function Zo(e,t,n){if(t=Zg(t),Zg(e)!==t&&n)throw Error(Z(425))}function Gc(){}var cm=null,dm=null;function um(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fm=typeof setTimeout=="function"?setTimeout:void 0,mO=typeof clearTimeout=="function"?clearTimeout:void 0,ey=typeof Promise=="function"?Promise:void 0,hO=typeof queueMicrotask=="function"?queueMicrotask:typeof ey<"u"?function(e){return ey.resolve(null).then(e).catch(xO)}:fm;function xO(e){setTimeout(function(){throw e})}function Jf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Sl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sl(t)}function Kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ty(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),Qn="__reactFiber$"+pi,Pl="__reactProps$"+pi,wr="__reactContainer$"+pi,pm="__reactEvents$"+pi,gO="__reactListeners$"+pi,yO="__reactHandles$"+pi;function wa(e){var t=e[Qn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wr]||n[Qn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ty(e);e!==null;){if(n=e[Qn])return n;e=ty(e)}return t}e=n,n=e.parentNode}return null}function So(e){return e=e[Qn]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function ju(e){return e[Pl]||null}var mm=[],ps=-1;function oa(e){return{current:e}}function Ve(e){0>ps||(e.current=mm[ps],mm[ps]=null,ps--)}function Re(e,t){ps++,mm[ps]=e.current,e.current=t}var aa={},Et=oa(aa),Gt=oa(!1),za=aa;function Is(e,t){var n=e.type.contextTypes;if(!n)return aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Kt(e){return e=e.childContextTypes,e!=null}function Kc(){Ve(Gt),Ve(Et)}function ny(e,t,n){if(Et.current!==aa)throw Error(Z(168));Re(Et,t),Re(Gt,n)}function Zw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Z(108,nC(e)||"Unknown",s));return Xe({},n,r)}function Xc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||aa,za=Et.current,Re(Et,e),Re(Gt,Gt.current),!0}function ry(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Zw(e,t,za),r.__reactInternalMemoizedMergedChildContext=e,Ve(Gt),Ve(Et),Re(Et,e)):Ve(Gt),Re(Gt,n)}var fr=null,wu=!1,Zf=!1;function eN(e){fr===null?fr=[e]:fr.push(e)}function vO(e){wu=!0,eN(e)}function ca(){if(!Zf&&fr!==null){Zf=!0;var e=0,t=Te;try{var n=fr;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fr=null,wu=!1}catch(s){throw fr!==null&&(fr=fr.slice(e+1)),kw(jx,ca),s}finally{Te=t,Zf=!1}}return null}var ms=[],hs=0,Yc=null,Qc=0,hn=[],xn=0,Ba=null,pr=1,mr="";function ga(e,t){ms[hs++]=Qc,ms[hs++]=Yc,Yc=e,Qc=t}function tN(e,t,n){hn[xn++]=pr,hn[xn++]=mr,hn[xn++]=Ba,Ba=e;var r=pr;e=mr;var s=32-Ln(r)-1;r&=~(1<<s),n+=1;var i=32-Ln(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,pr=1<<32-Ln(t)+s|n<<s|r,mr=i+e}else pr=1<<i|n<<s|r,mr=e}function Ax(e){e.return!==null&&(ga(e,1),tN(e,1,0))}function Ex(e){for(;e===Yc;)Yc=ms[--hs],ms[hs]=null,Qc=ms[--hs],ms[hs]=null;for(;e===Ba;)Ba=hn[--xn],hn[xn]=null,mr=hn[--xn],hn[xn]=null,pr=hn[--xn],hn[xn]=null}var ln=null,sn=null,We=!1,Mn=null;function nN(e,t){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ay(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,sn=Kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ba!==null?{id:pr,overflow:mr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ln=e,sn=null,!0):!1;default:return!1}}function hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xm(e){if(We){var t=sn;if(t){var n=t;if(!ay(e,t)){if(hm(e))throw Error(Z(418));t=Kr(n.nextSibling);var r=ln;t&&ay(e,t)?nN(r,n):(e.flags=e.flags&-4097|2,We=!1,ln=e)}}else{if(hm(e))throw Error(Z(418));e.flags=e.flags&-4097|2,We=!1,ln=e}}}function sy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function ec(e){if(e!==ln)return!1;if(!We)return sy(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!um(e.type,e.memoizedProps)),t&&(t=sn)){if(hm(e))throw rN(),Error(Z(418));for(;t;)nN(e,t),t=Kr(t.nextSibling)}if(sy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sn=Kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=ln?Kr(e.stateNode.nextSibling):null;return!0}function rN(){for(var e=sn;e;)e=Kr(e.nextSibling)}function Ms(){sn=ln=null,We=!1}function Tx(e){Mn===null?Mn=[e]:Mn.push(e)}var bO=Ar.ReactCurrentBatchConfig;function Bi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function tc(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iy(e){var t=e._init;return t(e._payload)}function aN(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Jr(y,g),y.index=0,y.sibling=null,y}function i(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,g,b,N){return g===null||g.tag!==6?(g=ip(b,y.mode,N),g.return=y,g):(g=s(g,b),g.return=y,g)}function c(y,g,b,N){var v=b.type;return v===os?u(y,g,b.props.children,N,b.key):g!==null&&(g.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Dr&&iy(v)===g.type)?(N=s(g,b.props),N.ref=Bi(y,g,b),N.return=y,N):(N=Ic(b.type,b.key,b.props,null,y.mode,N),N.ref=Bi(y,g,b),N.return=y,N)}function d(y,g,b,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=lp(b,y.mode,N),g.return=y,g):(g=s(g,b.children||[]),g.return=y,g)}function u(y,g,b,N,v){return g===null||g.tag!==7?(g=Ta(b,y.mode,N,v),g.return=y,g):(g=s(g,b),g.return=y,g)}function f(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ip(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wo:return b=Ic(g.type,g.key,g.props,null,y.mode,b),b.ref=Bi(y,null,g),b.return=y,b;case ls:return g=lp(g,y.mode,b),g.return=y,g;case Dr:var N=g._init;return f(y,N(g._payload),b)}if(nl(g)||Mi(g))return g=Ta(g,y.mode,b,null),g.return=y,g;tc(y,g)}return null}function p(y,g,b,N){var v=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return v!==null?null:o(y,g,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wo:return b.key===v?c(y,g,b,N):null;case ls:return b.key===v?d(y,g,b,N):null;case Dr:return v=b._init,p(y,g,v(b._payload),N)}if(nl(b)||Mi(b))return v!==null?null:u(y,g,b,N,null);tc(y,b)}return null}function x(y,g,b,N,v){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(b)||null,o(g,y,""+N,v);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Wo:return y=y.get(N.key===null?b:N.key)||null,c(g,y,N,v);case ls:return y=y.get(N.key===null?b:N.key)||null,d(g,y,N,v);case Dr:var S=N._init;return x(y,g,b,S(N._payload),v)}if(nl(N)||Mi(N))return y=y.get(b)||null,u(g,y,N,v,null);tc(g,N)}return null}function m(y,g,b,N){for(var v=null,S=null,k=g,C=g=0,O=null;k!==null&&C<b.length;C++){k.index>C?(O=k,k=null):O=k.sibling;var E=p(y,k,b[C],N);if(E===null){k===null&&(k=O);break}e&&k&&E.alternate===null&&t(y,k),g=i(E,g,C),S===null?v=E:S.sibling=E,S=E,k=O}if(C===b.length)return n(y,k),We&&ga(y,C),v;if(k===null){for(;C<b.length;C++)k=f(y,b[C],N),k!==null&&(g=i(k,g,C),S===null?v=k:S.sibling=k,S=k);return We&&ga(y,C),v}for(k=r(y,k);C<b.length;C++)O=x(k,y,C,b[C],N),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),g=i(O,g,C),S===null?v=O:S.sibling=O,S=O);return e&&k.forEach(function(M){return t(y,M)}),We&&ga(y,C),v}function j(y,g,b,N){var v=Mi(b);if(typeof v!="function")throw Error(Z(150));if(b=v.call(b),b==null)throw Error(Z(151));for(var S=v=null,k=g,C=g=0,O=null,E=b.next();k!==null&&!E.done;C++,E=b.next()){k.index>C?(O=k,k=null):O=k.sibling;var M=p(y,k,E.value,N);if(M===null){k===null&&(k=O);break}e&&k&&M.alternate===null&&t(y,k),g=i(M,g,C),S===null?v=M:S.sibling=M,S=M,k=O}if(E.done)return n(y,k),We&&ga(y,C),v;if(k===null){for(;!E.done;C++,E=b.next())E=f(y,E.value,N),E!==null&&(g=i(E,g,C),S===null?v=E:S.sibling=E,S=E);return We&&ga(y,C),v}for(k=r(y,k);!E.done;C++,E=b.next())E=x(k,y,C,E.value,N),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),g=i(E,g,C),S===null?v=E:S.sibling=E,S=E);return e&&k.forEach(function($){return t(y,$)}),We&&ga(y,C),v}function h(y,g,b,N){if(typeof b=="object"&&b!==null&&b.type===os&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wo:e:{for(var v=b.key,S=g;S!==null;){if(S.key===v){if(v=b.type,v===os){if(S.tag===7){n(y,S.sibling),g=s(S,b.props.children),g.return=y,y=g;break e}}else if(S.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Dr&&iy(v)===S.type){n(y,S.sibling),g=s(S,b.props),g.ref=Bi(y,S,b),g.return=y,y=g;break e}n(y,S);break}else t(y,S);S=S.sibling}b.type===os?(g=Ta(b.props.children,y.mode,N,b.key),g.return=y,y=g):(N=Ic(b.type,b.key,b.props,null,y.mode,N),N.ref=Bi(y,g,b),N.return=y,y=N)}return l(y);case ls:e:{for(S=b.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(y,g.sibling),g=s(g,b.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=lp(b,y.mode,N),g.return=y,y=g}return l(y);case Dr:return S=b._init,h(y,g,S(b._payload),N)}if(nl(b))return m(y,g,b,N);if(Mi(b))return j(y,g,b,N);tc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,b),g.return=y,y=g):(n(y,g),g=ip(b,y.mode,N),g.return=y,y=g),l(y)):n(y,g)}return h}var Ds=aN(!0),sN=aN(!1),Jc=oa(null),Zc=null,xs=null,$x=null;function Ix(){$x=xs=Zc=null}function Mx(e){var t=Jc.current;Ve(Jc),e._currentValue=t}function gm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){Zc=e,$x=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ht=!0),e.firstContext=null)}function Sn(e){var t=e._currentValue;if($x!==e)if(e={context:e,memoizedValue:t,next:null},xs===null){if(Zc===null)throw Error(Z(308));xs=e,Zc.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Na=null;function Dx(e){Na===null?Na=[e]:Na.push(e)}function iN(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dx(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nr(e,r)}function Nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function Rx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nr(e,n)}return s=r.interleaved,s===null?(t.next=t,Dx(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nr(e,n)}function _c(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wx(e,n)}}function ly(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ed(e,t,n,r){var s=e.updateQueue;Rr=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;l=0,u=d=c=null,o=i;do{var p=o.lane,x=o.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,j=o;switch(p=t,x=n,j.tag){case 1:if(m=j.payload,typeof m=="function"){f=m.call(x,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=j.payload,p=typeof m=="function"?m.call(x,f,p):m,p==null)break e;f=Xe({},f,p);break e;case 2:Rr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else x={eventTime:x,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=x,c=f):u=u.next=x,l|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ua|=l,e.lanes=l,e.memoizedState=f}}function oy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var ko={},nr=oa(ko),Al=oa(ko),El=oa(ko);function Sa(e){if(e===ko)throw Error(Z(174));return e}function Lx(e,t){switch(Re(El,t),Re(Al,e),Re(nr,ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qp(t,e)}Ve(nr),Re(nr,t)}function Rs(){Ve(nr),Ve(Al),Ve(El)}function oN(e){Sa(El.current);var t=Sa(nr.current),n=Qp(t,e.type);t!==n&&(Re(Al,e),Re(nr,n))}function zx(e){Al.current===e&&(Ve(nr),Ve(Al))}var qe=oa(0);function td(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ep=[];function Bx(){for(var e=0;e<ep.length;e++)ep[e]._workInProgressVersionPrimary=null;ep.length=0}var Pc=Ar.ReactCurrentDispatcher,tp=Ar.ReactCurrentBatchConfig,Fa=0,Ge=null,lt=null,ft=null,nd=!1,ul=!1,Tl=0,jO=0;function kt(){throw Error(Z(321))}function Fx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fn(e[n],t[n]))return!1;return!0}function Ux(e,t,n,r,s,i){if(Fa=i,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pc.current=e===null||e.memoizedState===null?kO:CO,e=n(r,s),ul){i=0;do{if(ul=!1,Tl=0,25<=i)throw Error(Z(301));i+=1,ft=lt=null,t.updateQueue=null,Pc.current=OO,e=n(r,s)}while(ul)}if(Pc.current=rd,t=lt!==null&&lt.next!==null,Fa=0,ft=lt=Ge=null,nd=!1,t)throw Error(Z(300));return e}function Vx(){var e=Tl!==0;return Tl=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ge.memoizedState=ft=e:ft=ft.next=e,ft}function kn(){if(lt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ft===null?Ge.memoizedState:ft.next;if(t!==null)ft=t,lt=e;else{if(e===null)throw Error(Z(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?Ge.memoizedState=ft=e:ft=ft.next=e}return ft}function $l(e,t){return typeof t=="function"?t(e):t}function np(e){var t=kn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=lt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Fa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=r):c=c.next=f,Ge.lanes|=u,Ua|=u}d=d.next}while(d!==null&&d!==i);c===null?l=r:c.next=o,Fn(r,t.memoizedState)||(Ht=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ge.lanes|=i,Ua|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rp(e){var t=kn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Fn(i,t.memoizedState)||(Ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function cN(){}function dN(e,t){var n=Ge,r=kn(),s=t(),i=!Fn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,Wx(pN.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Il(9,fN.bind(null,n,r,s,t),void 0,null),ht===null)throw Error(Z(349));Fa&30||uN(n,t,s)}return s}function uN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fN(e,t,n,r){t.value=n,t.getSnapshot=r,mN(t)&&hN(e)}function pN(e,t,n){return n(function(){mN(t)&&hN(e)})}function mN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fn(e,n)}catch{return!0}}function hN(e){var t=Nr(e,1);t!==null&&zn(t,e,1,-1)}function cy(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:e},t.queue=e,e=e.dispatch=SO.bind(null,Ge,e),[t.memoizedState,e]}function Il(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xN(){return kn().memoizedState}function Ac(e,t,n,r){var s=Yn();Ge.flags|=e,s.memoizedState=Il(1|t,n,void 0,r===void 0?null:r)}function Nu(e,t,n,r){var s=kn();r=r===void 0?null:r;var i=void 0;if(lt!==null){var l=lt.memoizedState;if(i=l.destroy,r!==null&&Fx(r,l.deps)){s.memoizedState=Il(t,n,i,r);return}}Ge.flags|=e,s.memoizedState=Il(1|t,n,i,r)}function dy(e,t){return Ac(8390656,8,e,t)}function Wx(e,t){return Nu(2048,8,e,t)}function gN(e,t){return Nu(4,2,e,t)}function yN(e,t){return Nu(4,4,e,t)}function vN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bN(e,t,n){return n=n!=null?n.concat([e]):null,Nu(4,4,vN.bind(null,t,e),n)}function Hx(){}function jN(e,t){var n=kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wN(e,t){var n=kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function NN(e,t,n){return Fa&21?(Fn(n,t)||(n=_w(),Ge.lanes|=n,Ua|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=n)}function wO(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=tp.transition;tp.transition={};try{e(!1),t()}finally{Te=n,tp.transition=r}}function SN(){return kn().memoizedState}function NO(e,t,n){var r=Qr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kN(e))CN(t,n);else if(n=iN(e,t,n,r),n!==null){var s=Dt();zn(n,e,r,s),ON(n,t,r)}}function SO(e,t,n){var r=Qr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kN(e))CN(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,Fn(o,l)){var c=t.interleaved;c===null?(s.next=s,Dx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=iN(e,t,s,r),n!==null&&(s=Dt(),zn(n,e,r,s),ON(n,t,r))}}function kN(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function CN(e,t){ul=nd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ON(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wx(e,n)}}var rd={readContext:Sn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},kO={readContext:Sn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:dy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ac(4194308,4,vN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ac(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ac(4,2,e,t)},useMemo:function(e,t){var n=Yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=NO.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:cy,useDebugValue:Hx,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=cy(!1),t=e[0];return e=wO.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,s=Yn();if(We){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),ht===null)throw Error(Z(349));Fa&30||uN(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,dy(pN.bind(null,r,i,e),[e]),r.flags|=2048,Il(9,fN.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Yn(),t=ht.identifierPrefix;if(We){var n=mr,r=pr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CO={readContext:Sn,useCallback:jN,useContext:Sn,useEffect:Wx,useImperativeHandle:bN,useInsertionEffect:gN,useLayoutEffect:yN,useMemo:wN,useReducer:np,useRef:xN,useState:function(){return np($l)},useDebugValue:Hx,useDeferredValue:function(e){var t=kn();return NN(t,lt.memoizedState,e)},useTransition:function(){var e=np($l)[0],t=kn().memoizedState;return[e,t]},useMutableSource:cN,useSyncExternalStore:dN,useId:SN,unstable_isNewReconciler:!1},OO={readContext:Sn,useCallback:jN,useContext:Sn,useEffect:Wx,useImperativeHandle:bN,useInsertionEffect:gN,useLayoutEffect:yN,useMemo:wN,useReducer:rp,useRef:xN,useState:function(){return rp($l)},useDebugValue:Hx,useDeferredValue:function(e){var t=kn();return lt===null?t.memoizedState=e:NN(t,lt.memoizedState,e)},useTransition:function(){var e=rp($l)[0],t=kn().memoizedState;return[e,t]},useMutableSource:cN,useSyncExternalStore:dN,useId:SN,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ym(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Su={isMounted:function(e){return(e=e._reactInternals)?Ya(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dt(),s=Qr(e),i=gr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Xr(e,i,s),t!==null&&(zn(t,e,s,r),_c(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dt(),s=Qr(e),i=gr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xr(e,i,s),t!==null&&(zn(t,e,s,r),_c(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dt(),r=Qr(e),s=gr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xr(e,s,r),t!==null&&(zn(t,e,r,n),_c(t,e,r))}};function uy(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Cl(n,r)||!Cl(s,i):!0}function _N(e,t,n){var r=!1,s=aa,i=t.contextType;return typeof i=="object"&&i!==null?i=Sn(i):(s=Kt(t)?za:Et.current,r=t.contextTypes,i=(r=r!=null)?Is(e,s):aa),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Su,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Su.enqueueReplaceState(t,t.state,null)}function vm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Rx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Sn(i):(i=Kt(t)?za:Et.current,s.context=Is(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ym(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Su.enqueueReplaceState(s,s.state,null),ed(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,t){try{var n="",r=t;do n+=tC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ap(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _O=typeof WeakMap=="function"?WeakMap:Map;function PN(e,t,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sd||(sd=!0,Am=r),bm(e,t)},n}function AN(e,t,n){n=gr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){bm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bm(e,t),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function py(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _O;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=UO.bind(null,e,t,n),t.then(e,e))}function my(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gr(-1,1),t.tag=2,Xr(n,t,1))),n.lanes|=1),e)}var PO=Ar.ReactCurrentOwner,Ht=!1;function It(e,t,n,r){t.child=e===null?sN(t,null,n,r):Ds(t,e.child,n,r)}function xy(e,t,n,r,s){n=n.render;var i=t.ref;return Cs(t,s),r=Ux(e,t,n,r,i,s),n=Vx(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sr(e,t,s)):(We&&n&&Ax(t),t.flags|=1,It(e,t,r,s),t.child)}function gy(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Zx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,EN(e,t,i,r,s)):(e=Ic(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(l,r)&&e.ref===t.ref)return Sr(e,t,s)}return t.flags|=1,e=Jr(i,r),e.ref=t.ref,e.return=t,t.child=e}function EN(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Cl(i,r)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ht=!0);else return t.lanes=e.lanes,Sr(e,t,s)}return jm(e,t,n,r,s)}function TN(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(ys,nn),nn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(ys,nn),nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Re(ys,nn),nn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Re(ys,nn),nn|=r;return It(e,t,s,n),t.child}function $N(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jm(e,t,n,r,s){var i=Kt(n)?za:Et.current;return i=Is(t,i),Cs(t,s),n=Ux(e,t,n,r,i,s),r=Vx(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sr(e,t,s)):(We&&r&&Ax(t),t.flags|=1,It(e,t,n,s),t.child)}function yy(e,t,n,r,s){if(Kt(n)){var i=!0;Xc(t)}else i=!1;if(Cs(t,s),t.stateNode===null)Ec(e,t),_N(t,n,r),vm(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Sn(d):(d=Kt(n)?za:Et.current,d=Is(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==d)&&fy(t,l,r,d),Rr=!1;var p=t.memoizedState;l.state=p,ed(t,r,l,s),c=t.memoizedState,o!==r||p!==c||Gt.current||Rr?(typeof u=="function"&&(ym(t,n,u,r),c=t.memoizedState),(o=Rr||uy(t,n,o,r,p,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=d,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,lN(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:En(t.type,o),l.props=d,f=t.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Sn(c):(c=Kt(n)?za:Et.current,c=Is(t,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||p!==c)&&fy(t,l,r,c),Rr=!1,p=t.memoizedState,l.state=p,ed(t,r,l,s);var m=t.memoizedState;o!==f||p!==m||Gt.current||Rr?(typeof x=="function"&&(ym(t,n,x,r),m=t.memoizedState),(d=Rr||uy(t,n,d,r,p,m,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,m,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,m,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),l.props=r,l.state=m,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return wm(e,t,n,r,i,s)}function wm(e,t,n,r,s,i){$N(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&ry(t,n,!1),Sr(e,t,i);r=t.stateNode,PO.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ds(t,e.child,null,i),t.child=Ds(t,null,o,i)):It(e,t,o,i),t.memoizedState=r.state,s&&ry(t,n,!0),t.child}function IN(e){var t=e.stateNode;t.pendingContext?ny(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ny(e,t.context,!1),Lx(e,t.containerInfo)}function vy(e,t,n,r,s){return Ms(),Tx(s),t.flags|=256,It(e,t,n,r),t.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function Sm(e){return{baseLanes:e,cachePool:null,transitions:null}}function MN(e,t,n){var r=t.pendingProps,s=qe.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(qe,s&1),e===null)return xm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ou(l,r,0,null),e=Ta(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sm(n),t.memoizedState=Nm,e):qx(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return AO(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Jr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Jr(o,i):(i=Ta(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Sm(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Nm,r}return i=e.child,e=i.sibling,r=Jr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qx(e,t){return t=Ou({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nc(e,t,n,r){return r!==null&&Tx(r),Ds(t,e.child,null,n),e=qx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AO(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=ap(Error(Z(422))),nc(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ou({mode:"visible",children:r.children},s,0,null),i=Ta(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ds(t,e.child,null,l),t.child.memoizedState=Sm(l),t.memoizedState=Nm,i);if(!(t.mode&1))return nc(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(Z(419)),r=ap(i,r,void 0),nc(e,t,l,r)}if(o=(l&e.childLanes)!==0,Ht||o){if(r=ht,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(e,s),zn(r,e,s,-1))}return Jx(),r=ap(Error(Z(421))),nc(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=VO.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,sn=Kr(s.nextSibling),ln=t,We=!0,Mn=null,e!==null&&(hn[xn++]=pr,hn[xn++]=mr,hn[xn++]=Ba,pr=e.id,mr=e.overflow,Ba=t),t=qx(t,r.children),t.flags|=4096,t)}function by(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gm(e.return,t,n)}function sp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function DN(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(It(e,t,r.children,n),r=qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&by(e,n,t);else if(e.tag===19)by(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re(qe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&td(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),sp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&td(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}sp(t,!0,n,null,i);break;case"together":sp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ec(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=Jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function EO(e,t,n){switch(t.tag){case 3:IN(t),Ms();break;case 5:oN(t);break;case 1:Kt(t.type)&&Xc(t);break;case 4:Lx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Re(Jc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Re(qe,qe.current&1),t.flags|=128,null):n&t.child.childLanes?MN(e,t,n):(Re(qe,qe.current&1),e=Sr(e,t,n),e!==null?e.sibling:null);Re(qe,qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return DN(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(qe,qe.current),r)break;return null;case 22:case 23:return t.lanes=0,TN(e,t,n)}return Sr(e,t,n)}var RN,km,LN,zN;RN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};LN=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Sa(nr.current);var i=null;switch(n){case"input":s=Gp(e,s),r=Gp(e,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=Yp(e,s),r=Yp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gc)}Jp(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Be("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};zN=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fi(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TO(e,t,n){var r=t.pendingProps;switch(Ex(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Kt(t.type)&&Kc(),Ct(t),null;case 3:return r=t.stateNode,Rs(),Ve(Gt),Ve(Et),Bx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ec(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&($m(Mn),Mn=null))),km(e,t),Ct(t),null;case 5:zx(t);var s=Sa(El.current);if(n=t.type,e!==null&&t.stateNode!=null)LN(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Ct(t),null}if(e=Sa(nr.current),ec(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Qn]=t,r[Pl]=i,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<al.length;s++)Be(al[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Pg(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":Eg(r,i),Be("invalid",r)}Jp(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Zo(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Zo(r.textContent,o,e),s=["children",""+o]):vl.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Be("scroll",r)}switch(n){case"input":Ho(r),Ag(r,i,!0);break;case"textarea":Ho(r),Tg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Qn]=t,e[Pl]=r,RN(e,t,!1,!1),t.stateNode=e;e:{switch(l=Zp(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<al.length;s++)Be(al[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":Pg(e,r),s=Gp(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Eg(e,r),s=Yp(e,r),Be("invalid",e);break;default:s=r}Jp(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?xw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mw(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&bl(e,c):typeof c=="number"&&bl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",e):c!=null&&xx(e,i,c,l))}switch(n){case"input":Ho(e),Ag(e,r,!1);break;case"textarea":Ho(e),Tg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ra(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ws(e,!!r.multiple,i,!1):r.defaultValue!=null&&ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)zN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Sa(El.current),Sa(nr.current),ec(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qn]=t,(i=r.nodeValue!==n)&&(e=ln,e!==null))switch(e.tag){case 3:Zo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=t,t.stateNode=r}return Ct(t),null;case 13:if(Ve(qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&sn!==null&&t.mode&1&&!(t.flags&128))rN(),Ms(),t.flags|=98560,i=!1;else if(i=ec(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Qn]=t}else Ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),i=!1}else Mn!==null&&($m(Mn),Mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?ot===0&&(ot=3):Jx())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Rs(),km(e,t),e===null&&Ol(t.stateNode.containerInfo),Ct(t),null;case 10:return Mx(t.type._context),Ct(t),null;case 17:return Kt(t.type)&&Kc(),Ct(t),null;case 19:if(Ve(qe),i=t.memoizedState,i===null)return Ct(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Fi(i,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=td(e),l!==null){for(t.flags|=128,Fi(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re(qe,qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ze()>zs&&(t.flags|=128,r=!0,Fi(i,!1),t.lanes=4194304)}else{if(!r)if(e=td(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!We)return Ct(t),null}else 2*Ze()-i.renderingStartTime>zs&&n!==1073741824&&(t.flags|=128,r=!0,Fi(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,n=qe.current,Re(qe,r?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return Qx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nn&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function $O(e,t){switch(Ex(t),t.tag){case 1:return Kt(t.type)&&Kc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rs(),Ve(Gt),Ve(Et),Bx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zx(t),null;case 13:if(Ve(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(qe),null;case 4:return Rs(),null;case 10:return Mx(t.type._context),null;case 22:case 23:return Qx(),null;case 24:return null;default:return null}}var rc=!1,_t=!1,IO=typeof WeakSet=="function"?WeakSet:Set,le=null;function gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(e,t,r)}else n.current=null}function Cm(e,t,n){try{n()}catch(r){Qe(e,t,r)}}var jy=!1;function MO(e,t){if(cm=Wc,e=Ww(),Px(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(o=l+s),f!==i||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===e)break t;if(p===n&&++d===s&&(o=l),p===i&&++u===r&&(c=l),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dm={focusedElem:e,selectionRange:n},Wc=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var j=m.memoizedProps,h=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?j:En(t.type,j),h);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(N){Qe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return m=jy,jy=!1,m}function fl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cm(t,n,i)}s=s.next}while(s!==r)}}function ku(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Om(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function BN(e){var t=e.alternate;t!==null&&(e.alternate=null,BN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Pl],delete t[pm],delete t[gO],delete t[yO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FN(e){return e.tag===5||e.tag===3||e.tag===4}function wy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gc));else if(r!==4&&(e=e.child,e!==null))for(_m(e,t,n),e=e.sibling;e!==null;)_m(e,t,n),e=e.sibling}function Pm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pm(e,t,n),e=e.sibling;e!==null;)Pm(e,t,n),e=e.sibling}var yt=null,Tn=!1;function Mr(e,t,n){for(n=n.child;n!==null;)UN(e,t,n),n=n.sibling}function UN(e,t,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(gu,n)}catch{}switch(n.tag){case 5:_t||gs(n,t);case 6:var r=yt,s=Tn;yt=null,Mr(e,t,n),yt=r,Tn=s,yt!==null&&(Tn?(e=yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Tn?(e=yt,n=n.stateNode,e.nodeType===8?Jf(e.parentNode,n):e.nodeType===1&&Jf(e,n),Sl(e)):Jf(yt,n.stateNode));break;case 4:r=yt,s=Tn,yt=n.stateNode.containerInfo,Tn=!0,Mr(e,t,n),yt=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Cm(n,t,l),s=s.next}while(s!==r)}Mr(e,t,n);break;case 1:if(!_t&&(gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Qe(n,t,o)}Mr(e,t,n);break;case 21:Mr(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Mr(e,t,n),_t=r):Mr(e,t,n);break;default:Mr(e,t,n)}}function Ny(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IO),t.forEach(function(r){var s=WO.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:yt=o.stateNode,Tn=!1;break e;case 3:yt=o.stateNode.containerInfo,Tn=!0;break e;case 4:yt=o.stateNode.containerInfo,Tn=!0;break e}o=o.return}if(yt===null)throw Error(Z(160));UN(i,l,s),yt=null,Tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Qe(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)VN(t,e),t=t.sibling}function VN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(t,e),Kn(e),r&4){try{fl(3,e,e.return),ku(3,e)}catch(j){Qe(e,e.return,j)}try{fl(5,e,e.return)}catch(j){Qe(e,e.return,j)}}break;case 1:Pn(t,e),Kn(e),r&512&&n!==null&&gs(n,n.return);break;case 5:if(Pn(t,e),Kn(e),r&512&&n!==null&&gs(n,n.return),e.flags&32){var s=e.stateNode;try{bl(s,"")}catch(j){Qe(e,e.return,j)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&uw(s,i),Zp(o,l);var d=Zp(o,i);for(l=0;l<c.length;l+=2){var u=c[l],f=c[l+1];u==="style"?xw(s,f):u==="dangerouslySetInnerHTML"?mw(s,f):u==="children"?bl(s,f):xx(s,u,f,d)}switch(o){case"input":Kp(s,i);break;case"textarea":fw(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ws(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pl]=i}catch(j){Qe(e,e.return,j)}}break;case 6:if(Pn(t,e),Kn(e),r&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(j){Qe(e,e.return,j)}}break;case 3:if(Pn(t,e),Kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(j){Qe(e,e.return,j)}break;case 4:Pn(t,e),Kn(e);break;case 13:Pn(t,e),Kn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xx=Ze())),r&4&&Ny(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(d=_t)||u,Pn(t,e),_t=d):Pn(t,e),Kn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(le=e,u=e.child;u!==null;){for(f=le=u;le!==null;){switch(p=le,x=p.child,p.tag){case 0:case 11:case 14:case 15:fl(4,p,p.return);break;case 1:gs(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(j){Qe(r,n,j)}}break;case 5:gs(p,p.return);break;case 22:if(p.memoizedState!==null){ky(f);continue}}x!==null?(x.return=p,le=x):ky(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=hw("display",l))}catch(j){Qe(e,e.return,j)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(j){Qe(e,e.return,j)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pn(t,e),Kn(e),r&4&&Ny(e);break;case 21:break;default:Pn(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(FN(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bl(s,""),r.flags&=-33);var i=wy(e);Pm(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=wy(e);_m(e,o,l);break;default:throw Error(Z(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DO(e,t,n){le=e,WN(e)}function WN(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||rc;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||_t;o=rc;var d=_t;if(rc=l,(_t=c)&&!d)for(le=s;le!==null;)l=le,c=l.child,l.tag===22&&l.memoizedState!==null?Cy(s):c!==null?(c.return=l,le=c):Cy(s);for(;i!==null;)le=i,WN(i),i=i.sibling;le=s,rc=o,_t=d}Sy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):Sy(e)}}function Sy(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||ku(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&oy(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oy(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}_t||t.flags&512&&Om(t)}catch(p){Qe(t,t.return,p)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function ky(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Cy(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ku(4,t)}catch(c){Qe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Qe(t,s,c)}}var i=t.return;try{Om(t)}catch(c){Qe(t,i,c)}break;case 5:var l=t.return;try{Om(t)}catch(c){Qe(t,l,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){le=null;break}var o=t.sibling;if(o!==null){o.return=t.return,le=o;break}le=t.return}}var RO=Math.ceil,ad=Ar.ReactCurrentDispatcher,Gx=Ar.ReactCurrentOwner,bn=Ar.ReactCurrentBatchConfig,ke=0,ht=null,nt=null,bt=0,nn=0,ys=oa(0),ot=0,Ml=null,Ua=0,Cu=0,Kx=0,pl=null,Wt=null,Xx=0,zs=1/0,ur=null,sd=!1,Am=null,Yr=null,ac=!1,Ur=null,id=0,ml=0,Em=null,Tc=-1,$c=0;function Dt(){return ke&6?Ze():Tc!==-1?Tc:Tc=Ze()}function Qr(e){return e.mode&1?ke&2&&bt!==0?bt&-bt:bO.transition!==null?($c===0&&($c=_w()),$c):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Mw(e.type)),e):1}function zn(e,t,n,r){if(50<ml)throw ml=0,Em=null,Error(Z(185));wo(e,n,r),(!(ke&2)||e!==ht)&&(e===ht&&(!(ke&2)&&(Cu|=n),ot===4&&Br(e,bt)),Xt(e,r),n===1&&ke===0&&!(t.mode&1)&&(zs=Ze()+500,wu&&ca()))}function Xt(e,t){var n=e.callbackNode;bC(e,t);var r=Vc(e,e===ht?bt:0);if(r===0)n!==null&&Mg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Mg(n),t===1)e.tag===0?vO(Oy.bind(null,e)):eN(Oy.bind(null,e)),hO(function(){!(ke&6)&&ca()}),n=null;else{switch(Pw(r)){case 1:n=jx;break;case 4:n=Cw;break;case 16:n=Uc;break;case 536870912:n=Ow;break;default:n=Uc}n=JN(n,HN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function HN(e,t){if(Tc=-1,$c=0,ke&6)throw Error(Z(327));var n=e.callbackNode;if(Os()&&e.callbackNode!==n)return null;var r=Vc(e,e===ht?bt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ld(e,r);else{t=r;var s=ke;ke|=2;var i=GN();(ht!==e||bt!==t)&&(ur=null,zs=Ze()+500,Ea(e,t));do try{BO();break}catch(o){qN(e,o)}while(!0);Ix(),ad.current=i,ke=s,nt!==null?t=0:(ht=null,bt=0,t=ot)}if(t!==0){if(t===2&&(s=am(e),s!==0&&(r=s,t=Tm(e,s))),t===1)throw n=Ml,Ea(e,0),Br(e,r),Xt(e,Ze()),n;if(t===6)Br(e,r);else{if(s=e.current.alternate,!(r&30)&&!LO(s)&&(t=ld(e,r),t===2&&(i=am(e),i!==0&&(r=i,t=Tm(e,i))),t===1))throw n=Ml,Ea(e,0),Br(e,r),Xt(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:ya(e,Wt,ur);break;case 3:if(Br(e,r),(r&130023424)===r&&(t=Xx+500-Ze(),10<t)){if(Vc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=fm(ya.bind(null,e,Wt,ur),t);break}ya(e,Wt,ur);break;case 4:if(Br(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Ln(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RO(r/1960))-r,10<r){e.timeoutHandle=fm(ya.bind(null,e,Wt,ur),r);break}ya(e,Wt,ur);break;case 5:ya(e,Wt,ur);break;default:throw Error(Z(329))}}}return Xt(e,Ze()),e.callbackNode===n?HN.bind(null,e):null}function Tm(e,t){var n=pl;return e.current.memoizedState.isDehydrated&&(Ea(e,t).flags|=256),e=ld(e,t),e!==2&&(t=Wt,Wt=n,t!==null&&$m(t)),e}function $m(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function LO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Fn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Br(e,t){for(t&=~Kx,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ln(t),r=1<<n;e[n]=-1,t&=~r}}function Oy(e){if(ke&6)throw Error(Z(327));Os();var t=Vc(e,0);if(!(t&1))return Xt(e,Ze()),null;var n=ld(e,t);if(e.tag!==0&&n===2){var r=am(e);r!==0&&(t=r,n=Tm(e,r))}if(n===1)throw n=Ml,Ea(e,0),Br(e,t),Xt(e,Ze()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,Wt,ur),Xt(e,Ze()),null}function Yx(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(zs=Ze()+500,wu&&ca())}}function Va(e){Ur!==null&&Ur.tag===0&&!(ke&6)&&Os();var t=ke;ke|=1;var n=bn.transition,r=Te;try{if(bn.transition=null,Te=1,e)return e()}finally{Te=r,bn.transition=n,ke=t,!(ke&6)&&ca()}}function Qx(){nn=ys.current,Ve(ys)}function Ea(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mO(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Ex(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kc();break;case 3:Rs(),Ve(Gt),Ve(Et),Bx();break;case 5:zx(r);break;case 4:Rs();break;case 13:Ve(qe);break;case 19:Ve(qe);break;case 10:Mx(r.type._context);break;case 22:case 23:Qx()}n=n.return}if(ht=e,nt=e=Jr(e.current,null),bt=nn=t,ot=0,Ml=null,Kx=Cu=Ua=0,Wt=pl=null,Na!==null){for(t=0;t<Na.length;t++)if(n=Na[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Na=null}return e}function qN(e,t){do{var n=nt;try{if(Ix(),Pc.current=rd,nd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nd=!1}if(Fa=0,ft=lt=Ge=null,ul=!1,Tl=0,Gx.current=null,n===null||n.return===null){ot=1,Ml=t,nt=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=bt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=my(l);if(x!==null){x.flags&=-257,hy(x,l,o,i,t),x.mode&1&&py(i,d,t),t=x,c=d;var m=t.updateQueue;if(m===null){var j=new Set;j.add(c),t.updateQueue=j}else m.add(c);break e}else{if(!(t&1)){py(i,d,t),Jx();break e}c=Error(Z(426))}}else if(We&&o.mode&1){var h=my(l);if(h!==null){!(h.flags&65536)&&(h.flags|=256),hy(h,l,o,i,t),Tx(Ls(c,o));break e}}i=c=Ls(c,o),ot!==4&&(ot=2),pl===null?pl=[i]:pl.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=PN(i,c,t);ly(i,y);break e;case 1:o=c;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yr===null||!Yr.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=AN(i,o,t);ly(i,N);break e}}i=i.return}while(i!==null)}XN(n)}catch(v){t=v,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function GN(){var e=ad.current;return ad.current=rd,e===null?rd:e}function Jx(){(ot===0||ot===3||ot===2)&&(ot=4),ht===null||!(Ua&268435455)&&!(Cu&268435455)||Br(ht,bt)}function ld(e,t){var n=ke;ke|=2;var r=GN();(ht!==e||bt!==t)&&(ur=null,Ea(e,t));do try{zO();break}catch(s){qN(e,s)}while(!0);if(Ix(),ke=n,ad.current=r,nt!==null)throw Error(Z(261));return ht=null,bt=0,ot}function zO(){for(;nt!==null;)KN(nt)}function BO(){for(;nt!==null&&!uC();)KN(nt)}function KN(e){var t=QN(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?XN(e):nt=t,Gx.current=null}function XN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$O(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,nt=null;return}}else if(n=TO(n,t,nn),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ot===0&&(ot=5)}function ya(e,t,n){var r=Te,s=bn.transition;try{bn.transition=null,Te=1,FO(e,t,n,r)}finally{bn.transition=s,Te=r}return null}function FO(e,t,n,r){do Os();while(Ur!==null);if(ke&6)throw Error(Z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(jC(e,i),e===ht&&(nt=ht=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ac||(ac=!0,JN(Uc,function(){return Os(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bn.transition,bn.transition=null;var l=Te;Te=1;var o=ke;ke|=4,Gx.current=null,MO(e,n),VN(n,e),lO(dm),Wc=!!cm,dm=cm=null,e.current=n,DO(n),fC(),ke=o,Te=l,bn.transition=i}else e.current=n;if(ac&&(ac=!1,Ur=e,id=s),i=e.pendingLanes,i===0&&(Yr=null),hC(n.stateNode),Xt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sd)throw sd=!1,e=Am,Am=null,e;return id&1&&e.tag!==0&&Os(),i=e.pendingLanes,i&1?e===Em?ml++:(ml=0,Em=e):ml=0,ca(),null}function Os(){if(Ur!==null){var e=Pw(id),t=bn.transition,n=Te;try{if(bn.transition=null,Te=16>e?16:e,Ur===null)var r=!1;else{if(e=Ur,Ur=null,id=0,ke&6)throw Error(Z(331));var s=ke;for(ke|=4,le=e.current;le!==null;){var i=le,l=i.child;if(le.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(le=d;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:fl(8,u,i)}var f=u.child;if(f!==null)f.return=u,le=f;else for(;le!==null;){u=le;var p=u.sibling,x=u.return;if(BN(u),u===d){le=null;break}if(p!==null){p.return=x,le=p;break}le=x}}}var m=i.alternate;if(m!==null){var j=m.child;if(j!==null){m.child=null;do{var h=j.sibling;j.sibling=null,j=h}while(j!==null)}}le=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,le=l;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,le=y;break e}le=i.return}}var g=e.current;for(le=g;le!==null;){l=le;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,le=b;else e:for(l=g;le!==null;){if(o=le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ku(9,o)}}catch(v){Qe(o,o.return,v)}if(o===l){le=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,le=N;break e}le=o.return}}if(ke=s,ca(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(gu,e)}catch{}r=!0}return r}finally{Te=n,bn.transition=t}}return!1}function _y(e,t,n){t=Ls(n,t),t=PN(e,t,1),e=Xr(e,t,1),t=Dt(),e!==null&&(wo(e,1,t),Xt(e,t))}function Qe(e,t,n){if(e.tag===3)_y(e,e,n);else for(;t!==null;){if(t.tag===3){_y(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){e=Ls(n,e),e=AN(t,e,1),t=Xr(t,e,1),e=Dt(),t!==null&&(wo(t,1,e),Xt(t,e));break}}t=t.return}}function UO(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(bt&n)===n&&(ot===4||ot===3&&(bt&130023424)===bt&&500>Ze()-Xx?Ea(e,0):Kx|=n),Xt(e,t)}function YN(e,t){t===0&&(e.mode&1?(t=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):t=1);var n=Dt();e=Nr(e,t),e!==null&&(wo(e,t,n),Xt(e,n))}function VO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YN(e,n)}function WO(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),YN(e,n)}var QN;QN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ht=!1,EO(e,t,n);Ht=!!(e.flags&131072)}else Ht=!1,We&&t.flags&1048576&&tN(t,Qc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ec(e,t),e=t.pendingProps;var s=Is(t,Et.current);Cs(t,n),s=Ux(null,t,r,e,s,n);var i=Vx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(i=!0,Xc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rx(t),s.updater=Su,t.stateNode=s,s._reactInternals=t,vm(t,r,e,n),t=wm(null,t,r,!0,i,n)):(t.tag=0,We&&i&&Ax(t),It(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ec(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=qO(r),e=En(r,e),s){case 0:t=jm(null,t,r,e,n);break e;case 1:t=yy(null,t,r,e,n);break e;case 11:t=xy(null,t,r,e,n);break e;case 14:t=gy(null,t,r,En(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),jm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),yy(e,t,r,s,n);case 3:e:{if(IN(t),e===null)throw Error(Z(387));r=t.pendingProps,i=t.memoizedState,s=i.element,lN(e,t),ed(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ls(Error(Z(423)),t),t=vy(e,t,r,n,s);break e}else if(r!==s){s=Ls(Error(Z(424)),t),t=vy(e,t,r,n,s);break e}else for(sn=Kr(t.stateNode.containerInfo.firstChild),ln=t,We=!0,Mn=null,n=sN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ms(),r===s){t=Sr(e,t,n);break e}It(e,t,r,n)}t=t.child}return t;case 5:return oN(t),e===null&&xm(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,um(r,s)?l=null:i!==null&&um(r,i)&&(t.flags|=32),$N(e,t),It(e,t,l,n),t.child;case 6:return e===null&&xm(t),null;case 13:return MN(e,t,n);case 4:return Lx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ds(t,null,r,n):It(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),xy(e,t,r,s,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,Re(Jc,r._currentValue),r._currentValue=l,i!==null)if(Fn(i.value,l)){if(i.children===s.children&&!Gt.current){t=Sr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=gr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),gm(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Z(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),gm(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}It(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cs(t,n),s=Sn(s),r=r(s),t.flags|=1,It(e,t,r,n),t.child;case 14:return r=t.type,s=En(r,t.pendingProps),s=En(r.type,s),gy(e,t,r,s,n);case 15:return EN(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),Ec(e,t),t.tag=1,Kt(r)?(e=!0,Xc(t)):e=!1,Cs(t,n),_N(t,r,s),vm(t,r,s,n),wm(null,t,r,!0,e,n);case 19:return DN(e,t,n);case 22:return TN(e,t,n)}throw Error(Z(156,t.tag))};function JN(e,t){return kw(e,t)}function HO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,r){return new HO(e,t,n,r)}function Zx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qO(e){if(typeof e=="function")return Zx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yx)return 11;if(e===vx)return 14}return 2}function Jr(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Zx(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case os:return Ta(n.children,s,i,t);case gx:l=8,s|=8;break;case Vp:return e=gn(12,n,t,s|2),e.elementType=Vp,e.lanes=i,e;case Wp:return e=gn(13,n,t,s),e.elementType=Wp,e.lanes=i,e;case Hp:return e=gn(19,n,t,s),e.elementType=Hp,e.lanes=i,e;case ow:return Ou(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iw:l=10;break e;case lw:l=9;break e;case yx:l=11;break e;case vx:l=14;break e;case Dr:l=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=gn(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ta(e,t,n,r){return e=gn(7,e,r,t),e.lanes=n,e}function Ou(e,t,n,r){return e=gn(22,e,r,t),e.elementType=ow,e.lanes=n,e.stateNode={isHidden:!1},e}function ip(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function lp(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GO(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ff(0),this.expirationTimes=Ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function e0(e,t,n,r,s,i,l,o,c){return e=new GO(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rx(i),e}function KO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ZN(e){if(!e)return aa;e=e._reactInternals;e:{if(Ya(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(Kt(n))return Zw(e,n,t)}return t}function e2(e,t,n,r,s,i,l,o,c){return e=e0(n,r,!0,e,s,i,l,o,c),e.context=ZN(null),n=e.current,r=Dt(),s=Qr(n),i=gr(r,s),i.callback=t??null,Xr(n,i,s),e.current.lanes=s,wo(e,s,r),Xt(e,r),e}function _u(e,t,n,r){var s=t.current,i=Dt(),l=Qr(s);return n=ZN(n),t.context===null?t.context=n:t.pendingContext=n,t=gr(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xr(s,t,l),e!==null&&(zn(e,s,l,i),_c(e,s,l)),l}function od(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Py(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function t0(e,t){Py(e,t),(e=e.alternate)&&Py(e,t)}function XO(){return null}var t2=typeof reportError=="function"?reportError:function(e){console.error(e)};function n0(e){this._internalRoot=e}Pu.prototype.render=n0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));_u(e,t,null,null)};Pu.prototype.unmount=n0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Va(function(){_u(null,e,null,null)}),t[wr]=null}};function Pu(e){this._internalRoot=e}Pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zr.length&&t!==0&&t<zr[n].priority;n++);zr.splice(n,0,e),n===0&&Iw(e)}};function r0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ay(){}function YO(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=od(l);i.call(d)}}var l=e2(t,r,e,0,null,!1,!1,"",Ay);return e._reactRootContainer=l,e[wr]=l.current,Ol(e.nodeType===8?e.parentNode:e),Va(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var d=od(c);o.call(d)}}var c=e0(e,0,!1,null,null,!1,!1,"",Ay);return e._reactRootContainer=c,e[wr]=c.current,Ol(e.nodeType===8?e.parentNode:e),Va(function(){_u(t,c,n,r)}),c}function Eu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=od(l);o.call(c)}}_u(t,l,e,s)}else l=YO(n,t,e,s,r);return od(l)}Aw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rl(t.pendingLanes);n!==0&&(wx(t,n|1),Xt(t,Ze()),!(ke&6)&&(zs=Ze()+500,ca()))}break;case 13:Va(function(){var r=Nr(e,1);if(r!==null){var s=Dt();zn(r,e,1,s)}}),t0(e,1)}};Nx=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var n=Dt();zn(t,e,134217728,n)}t0(e,134217728)}};Ew=function(e){if(e.tag===13){var t=Qr(e),n=Nr(e,t);if(n!==null){var r=Dt();zn(n,e,t,r)}t0(e,t)}};Tw=function(){return Te};$w=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};tm=function(e,t,n){switch(t){case"input":if(Kp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ju(r);if(!s)throw Error(Z(90));dw(r),Kp(r,s)}}}break;case"textarea":fw(e,n);break;case"select":t=n.value,t!=null&&ws(e,!!n.multiple,t,!1)}};vw=Yx;bw=Va;var QO={usingClientEntryPoint:!1,Events:[So,fs,ju,gw,yw,Yx]},Ui={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JO={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance||XO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{gu=sc.inject(JO),tr=sc}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QO;cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r0(t))throw Error(Z(200));return KO(e,t,null,n)};cn.createRoot=function(e,t){if(!r0(e))throw Error(Z(299));var n=!1,r="",s=t2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=e0(e,1,!1,null,null,n,!1,r,s),e[wr]=t.current,Ol(e.nodeType===8?e.parentNode:e),new n0(t)};cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Nw(t),e=e===null?null:e.stateNode,e};cn.flushSync=function(e){return Va(e)};cn.hydrate=function(e,t,n){if(!Au(t))throw Error(Z(200));return Eu(null,e,t,!0,n)};cn.hydrateRoot=function(e,t,n){if(!r0(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=t2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=e2(t,null,e,1,n??null,s,!1,i,l),e[wr]=t.current,Ol(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Pu(t)};cn.render=function(e,t,n){if(!Au(t))throw Error(Z(200));return Eu(null,e,t,!1,n)};cn.unmountComponentAtNode=function(e){if(!Au(e))throw Error(Z(40));return e._reactRootContainer?(Va(function(){Eu(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};cn.unstable_batchedUpdates=Yx;cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Au(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Eu(e,t,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function n2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n2)}catch(e){console.error(e)}}n2(),nw.exports=cn;var ZO=nw.exports,Ey=ZO;Fp.createRoot=Ey.createRoot,Fp.hydrateRoot=Ey.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}var Vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vr||(Vr={}));const Ty="popstate";function e_(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:l,hash:o}=r.location;return Im("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:cd(s)}return n_(t,n,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function a0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t_(){return Math.random().toString(36).substr(2,8)}function $y(e,t){return{usr:e.state,key:e.key,idx:t}}function Im(e,t,n,r){return n===void 0&&(n=null),Dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mi(t):t,{state:n,key:t&&t.key||r||t_()})}function cd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function n_(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,o=Vr.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(Dl({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function f(){o=Vr.Pop;let h=u(),y=h==null?null:h-d;d=h,c&&c({action:o,location:j.location,delta:y})}function p(h,y){o=Vr.Push;let g=Im(j.location,h,y);d=u()+1;let b=$y(g,d),N=j.createHref(g);try{l.pushState(b,"",N)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;s.location.assign(N)}i&&c&&c({action:o,location:j.location,delta:1})}function x(h,y){o=Vr.Replace;let g=Im(j.location,h,y);d=u();let b=$y(g,d),N=j.createHref(g);l.replaceState(b,"",N),i&&c&&c({action:o,location:j.location,delta:0})}function m(h){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof h=="string"?h:cd(h);return g=g.replace(/ $/,"%20"),Ke(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let j={get action(){return o},get location(){return e(s,l)},listen(h){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ty,f),c=h,()=>{s.removeEventListener(Ty,f),c=null}},createHref(h){return t(s,h)},createURL:m,encodeLocation(h){let y=m(h);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:x,go(h){return l.go(h)}};return j}var Iy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Iy||(Iy={}));function r_(e,t,n){return n===void 0&&(n="/"),a_(e,t,n)}function a_(e,t,n,r){let s=typeof t=="string"?mi(t):t,i=Bs(s.pathname||"/",n);if(i==null)return null;let l=r2(e);s_(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=x_(i);o=m_(l[c],d)}return o}function r2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Ke(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Zr([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),r2(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:f_(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of a2(i.path))s(i,l,c)}),t}function a2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=a2(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function s_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:p_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i_=/^:[\w-]+$/,l_=3,o_=2,c_=1,d_=10,u_=-2,My=e=>e==="*";function f_(e,t){let n=e.split("/"),r=n.length;return n.some(My)&&(r+=u_),t&&(r+=o_),n.filter(s=>!My(s)).reduce((s,i)=>s+(i_.test(i)?l_:i===""?c_:d_),r)}function p_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function m_(e,t,n){let{routesMeta:r}=e,s={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Mm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:Zr([i,f.pathname]),pathnameBase:j_(Zr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Zr([i,f.pathnameBase]))}return l}function Mm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=h_(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((d,u,f)=>{let{paramName:p,isOptional:x}=u;if(p==="*"){let j=o[f]||"";l=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const m=o[f];return x&&!m?d[p]=void 0:d[p]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function h_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),a0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function x_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return a0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const g_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y_=e=>g_.test(e);function v_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?mi(e):e,i;if(n)if(y_(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),a0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=Dy(n.substring(1),"/"):i=Dy(n,t)}else i=t;return{pathname:i,search:w_(r),hash:N_(s)}}function Dy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function op(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function s0(e,t){let n=b_(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function i0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=mi(e):(s=Dl({},e),Ke(!s.pathname||!s.pathname.includes("?"),op("?","pathname","search",s)),Ke(!s.pathname||!s.pathname.includes("#"),op("#","pathname","hash",s)),Ke(!s.search||!s.search.includes("#"),op("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=n;else{let f=t.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?t[f]:"/"}let c=v_(s,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Zr=e=>e.join("/").replace(/\/\/+/g,"/"),j_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const s2=["post","put","patch","delete"];new Set(s2);const k_=["get",...s2];new Set(k_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}const Tu=w.createContext(null),i2=w.createContext(null),Er=w.createContext(null),$u=w.createContext(null),or=w.createContext({outlet:null,matches:[],isDataRoute:!1}),l2=w.createContext(null);function C_(e,t){let{relative:n}=t===void 0?{}:t;hi()||Ke(!1);let{basename:r,navigator:s}=w.useContext(Er),{hash:i,pathname:l,search:o}=Mu(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:Zr([r,l])),s.createHref({pathname:c,search:o,hash:i})}function hi(){return w.useContext($u)!=null}function Qa(){return hi()||Ke(!1),w.useContext($u).location}function o2(e){w.useContext(Er).static||w.useLayoutEffect(e)}function un(){let{isDataRoute:e}=w.useContext(or);return e?F_():O_()}function O_(){hi()||Ke(!1);let e=w.useContext(Tu),{basename:t,future:n,navigator:r}=w.useContext(Er),{matches:s}=w.useContext(or),{pathname:i}=Qa(),l=JSON.stringify(s0(s,n.v7_relativeSplatPath)),o=w.useRef(!1);return o2(()=>{o.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let f=i0(d,JSON.parse(l),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Zr([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,l,i,e])}const __=w.createContext(null);function P_(e){let t=w.useContext(or).outlet;return t&&w.createElement(__.Provider,{value:e},t)}function Iu(){let{matches:e}=w.useContext(or),t=e[e.length-1];return t?t.params:{}}function Mu(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Er),{matches:s}=w.useContext(or),{pathname:i}=Qa(),l=JSON.stringify(s0(s,r.v7_relativeSplatPath));return w.useMemo(()=>i0(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function A_(e,t){return E_(e,t)}function E_(e,t,n,r){hi()||Ke(!1);let{navigator:s}=w.useContext(Er),{matches:i}=w.useContext(or),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Qa(),u;if(t){var f;let h=typeof t=="string"?mi(t):t;c==="/"||(f=h.pathname)!=null&&f.startsWith(c)||Ke(!1),u=h}else u=d;let p=u.pathname||"/",x=p;if(c!=="/"){let h=c.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(h.length).join("/")}let m=r_(e,{pathname:x}),j=D_(m&&m.map(h=>Object.assign({},h,{params:Object.assign({},o,h.params),pathname:Zr([c,s.encodeLocation?s.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:Zr([c,s.encodeLocation?s.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,n,r);return t&&j?w.createElement($u.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vr.Pop}},j):j}function T_(){let e=B_(),t=S_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const $_=w.createElement(T_,null);class I_ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(or.Provider,{value:this.props.routeContext},w.createElement(l2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M_(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Tu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(or.Provider,{value:t},r)}function D_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let u=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Ke(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<l.length;u++){let f=l[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:p,errors:x}=n,m=f.route.loader&&p[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||m){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,f,p)=>{let x,m=!1,j=null,h=null;n&&(x=o&&f.route.id?o[f.route.id]:void 0,j=f.route.errorElement||$_,c&&(d<0&&p===0?(U_("route-fallback"),m=!0,h=null):d===p&&(m=!0,h=f.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,p+1)),g=()=>{let b;return x?b=j:m?b=h:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,w.createElement(M_,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?w.createElement(I_,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var c2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(c2||{}),d2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(d2||{});function R_(e){let t=w.useContext(Tu);return t||Ke(!1),t}function L_(e){let t=w.useContext(i2);return t||Ke(!1),t}function z_(e){let t=w.useContext(or);return t||Ke(!1),t}function u2(e){let t=z_(),n=t.matches[t.matches.length-1];return n.route.id||Ke(!1),n.route.id}function B_(){var e;let t=w.useContext(l2),n=L_(),r=u2();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function F_(){let{router:e}=R_(c2.UseNavigateStable),t=u2(d2.UseNavigateStable),n=w.useRef(!1);return o2(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Rl({fromRouteId:t},i)))},[e,t])}const Ry={};function U_(e,t,n){Ry[e]||(Ry[e]=!0)}function V_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _s(e){let{to:t,replace:n,state:r,relative:s}=e;hi()||Ke(!1);let{future:i,static:l}=w.useContext(Er),{matches:o}=w.useContext(or),{pathname:c}=Qa(),d=un(),u=i0(t,s0(o,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function l0(e){return P_(e.context)}function fe(e){Ke(!1)}function W_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Vr.Pop,navigator:i,static:l=!1,future:o}=e;hi()&&Ke(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:i,static:l,future:Rl({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof r=="string"&&(r=mi(r));let{pathname:u="/",search:f="",hash:p="",state:x=null,key:m="default"}=r,j=w.useMemo(()=>{let h=Bs(u,c);return h==null?null:{location:{pathname:h,search:f,hash:p,state:x,key:m},navigationType:s}},[c,u,f,p,x,m,s]);return j==null?null:w.createElement(Er.Provider,{value:d},w.createElement($u.Provider,{children:n,value:j}))}function H_(e){let{children:t,location:n}=e;return A_(Dm(t),n)}new Promise(()=>{});function Dm(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,Dm(r.props.children,i));return}r.type!==fe&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Dm(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dd.apply(this,arguments)}function f2(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function q_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G_(e,t){return e.button===0&&(!t||t==="_self")&&!q_(e)}const K_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Y_="6";try{window.__reactRouterVersion=Y_}catch{}const Q_=w.createContext({isTransitioning:!1}),J_="startTransition",Ly=U4[J_];function Z_(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=e_({window:s,v5Compat:!0}));let l=i.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},u=w.useCallback(f=>{d&&Ly?Ly(()=>c(f)):c(f)},[c,d]);return w.useLayoutEffect(()=>l.listen(u),[l,u]),w.useEffect(()=>V_(r),[r]),w.createElement(W_,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const eP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jn=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,p=f2(t,K_),{basename:x}=w.useContext(Er),m,j=!1;if(typeof d=="string"&&tP.test(d)&&(m=d,eP))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),v=Bs(N.pathname,x);N.origin===b.origin&&v!=null?d=v+N.search+N.hash:j=!0}catch{}let h=C_(d,{relative:s}),y=rP(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:s,viewTransition:f});function g(b){r&&r(b),b.defaultPrevented||y(b)}return w.createElement("a",dd({},p,{href:m||h,onClick:j||i?r:g,ref:n,target:c}))}),o0=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:d,children:u}=t,f=f2(t,X_),p=Mu(c,{relative:f.relative}),x=Qa(),m=w.useContext(i2),{navigator:j,basename:h}=w.useContext(Er),y=m!=null&&aP(p)&&d===!0,g=j.encodeLocation?j.encodeLocation(p).pathname:p.pathname,b=x.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(b=b.toLowerCase(),N=N?N.toLowerCase():null,g=g.toLowerCase()),N&&h&&(N=Bs(N,h)||N);const v=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let S=b===g||!l&&b.startsWith(g)&&b.charAt(v)==="/",k=N!=null&&(N===g||!l&&N.startsWith(g)&&N.charAt(g.length)==="/"),C={isActive:S,isPending:k,isTransitioning:y},O=S?r:void 0,E;typeof i=="function"?E=i(C):E=[i,S?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(C):o;return w.createElement(Jn,dd({},f,{"aria-current":O,className:E,ref:n,style:M,to:c,viewTransition:d}),typeof u=="function"?u(C):u)});var Rm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rm||(Rm={}));var zy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zy||(zy={}));function nP(e){let t=w.useContext(Tu);return t||Ke(!1),t}function rP(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=un(),d=Qa(),u=Mu(e,{relative:l});return w.useCallback(f=>{if(G_(f,n)){f.preventDefault();let p=r!==void 0?r:cd(d)===cd(u);c(e,{replace:p,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,r,s,n,e,i,l,o])}function aP(e,t){t===void 0&&(t={});let n=w.useContext(Q_);n==null&&Ke(!1);let{basename:r}=nP(Rm.useViewTransitionState),s=Mu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mm(s.pathname,l)!=null||Mm(s.pathname,i)!=null}function p2(e,t){return function(){return e.apply(t,arguments)}}const{toString:sP}=Object.prototype,{getPrototypeOf:c0}=Object,{iterator:Du,toStringTag:m2}=Symbol,Ru=(e=>t=>{const n=sP.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=e=>(e=e.toLowerCase(),t=>Ru(t)===e),Lu=e=>t=>typeof t===e,{isArray:xi}=Array,Fs=Lu("undefined");function Co(e){return e!==null&&!Fs(e)&&e.constructor!==null&&!Fs(e.constructor)&&Yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const h2=Hn("ArrayBuffer");function iP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&h2(e.buffer),t}const lP=Lu("string"),Yt=Lu("function"),x2=Lu("number"),Oo=e=>e!==null&&typeof e=="object",oP=e=>e===!0||e===!1,Mc=e=>{if(Ru(e)!=="object")return!1;const t=c0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(m2 in e)&&!(Du in e)},cP=e=>{if(!Oo(e)||Co(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dP=Hn("Date"),uP=Hn("File"),fP=Hn("Blob"),pP=Hn("FileList"),mP=e=>Oo(e)&&Yt(e.pipe),hP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yt(e.append)&&((t=Ru(e))==="formdata"||t==="object"&&Yt(e.toString)&&e.toString()==="[object FormData]"))},xP=Hn("URLSearchParams"),[gP,yP,vP,bP]=["ReadableStream","Request","Response","Headers"].map(Hn),jP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _o(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),xi(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Co(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(r=0;r<l;r++)o=i[r],t.call(null,e[o],o,e)}}function g2(e,t){if(Co(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y2=e=>!Fs(e)&&e!==ka;function Lm(){const{caseless:e,skipUndefined:t}=y2(this)&&this||{},n={},r=(s,i)=>{const l=e&&g2(n,i)||i;Mc(n[l])&&Mc(s)?n[l]=Lm(n[l],s):Mc(s)?n[l]=Lm({},s):xi(s)?n[l]=s.slice():(!t||!Fs(s))&&(n[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&_o(arguments[s],r);return n}const wP=(e,t,n,{allOwnKeys:r}={})=>(_o(t,(s,i)=>{n&&Yt(s)?e[i]=p2(s,n):e[i]=s},{allOwnKeys:r}),e),NP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),SP=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},kP=(e,t,n,r)=>{let s,i,l;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!r||r(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=n!==!1&&c0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},CP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},OP=e=>{if(!e)return null;if(xi(e))return e;let t=e.length;if(!x2(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_P=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&c0(Uint8Array)),PP=(e,t)=>{const r=(e&&e[Du]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},AP=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},EP=Hn("HTMLFormElement"),TP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),By=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$P=Hn("RegExp"),v2=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_o(n,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(r[i]=l||s)}),Object.defineProperties(e,r)},IP=e=>{v2(e,(t,n)=>{if(Yt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Yt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MP=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return xi(e)?r(e):r(String(e).split(t)),n},DP=()=>{},RP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function LP(e){return!!(e&&Yt(e.append)&&e[m2]==="FormData"&&e[Du])}const zP=e=>{const t=new Array(10),n=(r,s)=>{if(Oo(r)){if(t.indexOf(r)>=0)return;if(Co(r))return r;if(!("toJSON"in r)){t[s]=r;const i=xi(r)?[]:{};return _o(r,(l,o)=>{const c=n(l,s+1);!Fs(c)&&(i[o]=c)}),t[s]=void 0,i}}return r};return n(e,0)},BP=Hn("AsyncFunction"),FP=e=>e&&(Oo(e)||Yt(e))&&Yt(e.then)&&Yt(e.catch),b2=((e,t)=>e?setImmediate:t?((n,r)=>(ka.addEventListener("message",({source:s,data:i})=>{s===ka&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ka.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Yt(ka.postMessage)),UP=typeof queueMicrotask<"u"?queueMicrotask.bind(ka):typeof process<"u"&&process.nextTick||b2,VP=e=>e!=null&&Yt(e[Du]),W={isArray:xi,isArrayBuffer:h2,isBuffer:Co,isFormData:hP,isArrayBufferView:iP,isString:lP,isNumber:x2,isBoolean:oP,isObject:Oo,isPlainObject:Mc,isEmptyObject:cP,isReadableStream:gP,isRequest:yP,isResponse:vP,isHeaders:bP,isUndefined:Fs,isDate:dP,isFile:uP,isBlob:fP,isRegExp:$P,isFunction:Yt,isStream:mP,isURLSearchParams:xP,isTypedArray:_P,isFileList:pP,forEach:_o,merge:Lm,extend:wP,trim:jP,stripBOM:NP,inherits:SP,toFlatObject:kP,kindOf:Ru,kindOfTest:Hn,endsWith:CP,toArray:OP,forEachEntry:PP,matchAll:AP,isHTMLForm:EP,hasOwnProperty:By,hasOwnProp:By,reduceDescriptors:v2,freezeMethods:IP,toObjectSet:MP,toCamelCase:TP,noop:DP,toFiniteNumber:RP,findKey:g2,global:ka,isContextDefined:y2,isSpecCompliantForm:LP,toJSONObject:zP,isAsyncFn:BP,isThenable:FP,setImmediate:b2,asap:UP,isIterable:VP};function ye(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}W.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const j2=ye.prototype,w2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{w2[e]={value:e}});Object.defineProperties(ye,w2);Object.defineProperty(j2,"isAxiosError",{value:!0});ye.from=(e,t,n,r,s,i)=>{const l=Object.create(j2);W.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ye.call(l,o,c,n,r,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const WP=null;function zm(e){return W.isPlainObject(e)||W.isArray(e)}function N2(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function Fy(e,t,n){return e?e.concat(t).map(function(s,i){return s=N2(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function HP(e){return W.isArray(e)&&!e.some(zm)}const qP=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function zu(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,h){return!W.isUndefined(h[j])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(W.isDate(m))return m.toISOString();if(W.isBoolean(m))return m.toString();if(!c&&W.isBlob(m))throw new ye("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(m)||W.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,j,h){let y=m;if(m&&!h&&typeof m=="object"){if(W.endsWith(j,"{}"))j=r?j:j.slice(0,-2),m=JSON.stringify(m);else if(W.isArray(m)&&HP(m)||(W.isFileList(m)||W.endsWith(j,"[]"))&&(y=W.toArray(m)))return j=N2(j),y.forEach(function(b,N){!(W.isUndefined(b)||b===null)&&t.append(l===!0?Fy([j],N,i):l===null?j:j+"[]",d(b))}),!1}return zm(m)?!0:(t.append(Fy(h,j,i),d(m)),!1)}const f=[],p=Object.assign(qP,{defaultVisitor:u,convertValue:d,isVisitable:zm});function x(m,j){if(!W.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+j.join("."));f.push(m),W.forEach(m,function(y,g){(!(W.isUndefined(y)||y===null)&&s.call(t,y,W.isString(g)?g.trim():g,j,p))===!0&&x(y,j?j.concat(g):[g])}),f.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Uy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function d0(e,t){this._pairs=[],e&&zu(e,this,t)}const S2=d0.prototype;S2.append=function(t,n){this._pairs.push([t,n])};S2.toString=function(t){const n=t?function(r){return t.call(this,r,Uy)}:Uy;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function GP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function k2(e,t,n){if(!t)return e;const r=n&&n.encode||GP;W.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=W.isURLSearchParams(t)?t.toString():new d0(t,n).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Vy{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(r){r!==null&&t(r)})}}const C2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KP=typeof URLSearchParams<"u"?URLSearchParams:d0,XP=typeof FormData<"u"?FormData:null,YP=typeof Blob<"u"?Blob:null,QP={isBrowser:!0,classes:{URLSearchParams:KP,FormData:XP,Blob:YP},protocols:["http","https","file","blob","url","data"]},u0=typeof window<"u"&&typeof document<"u",Bm=typeof navigator=="object"&&navigator||void 0,JP=u0&&(!Bm||["ReactNative","NativeScript","NS"].indexOf(Bm.product)<0),ZP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eA=u0&&window.location.href||"http://localhost",tA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:u0,hasStandardBrowserEnv:JP,hasStandardBrowserWebWorkerEnv:ZP,navigator:Bm,origin:eA},Symbol.toStringTag,{value:"Module"})),At={...tA,...QP};function nA(e,t){return zu(e,new At.classes.URLSearchParams,{visitor:function(n,r,s,i){return At.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function rA(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aA(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function O2(e){function t(n,r,s,i){let l=n[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=n.length;return l=!l&&W.isArray(s)?s.length:l,c?(W.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!o):((!s[l]||!W.isObject(s[l]))&&(s[l]=[]),t(n,r,s[l],i)&&W.isArray(s[l])&&(s[l]=aA(s[l])),!o)}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,(r,s)=>{t(rA(r),s,n,0)}),n}return null}function sA(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Po={transitional:C2,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return s?JSON.stringify(O2(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nA(t,this.formSerializer).toString();if((o=W.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return zu(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),sA(t)):t}],transformResponse:[function(t){const n=this.transitional||Po.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ye.from(o,ye.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Po.headers[e]={}});const iA=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lA=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||t[n]&&iA[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Wy=Symbol("internals");function Vi(e){return e&&String(e).trim().toLowerCase()}function Dc(e){return e===!1||e==null?e:W.isArray(e)?e.map(Dc):String(e)}function oA(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const cA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function cp(e,t,n,r,s){if(W.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!W.isString(t)){if(W.isString(r))return t.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(t)}}function dA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function uA(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,l){return this[r].call(this,t,s,i,l)},configurable:!0})})}let Qt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(o,c,d){const u=Vi(c);if(!u)throw new Error("header name must be a non-empty string");const f=W.findKey(s,u);(!f||s[f]===void 0||d===!0||d===void 0&&s[f]!==!1)&&(s[f||c]=Dc(o))}const l=(o,c)=>W.forEach(o,(d,u)=>i(d,u,c));if(W.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(W.isString(t)&&(t=t.trim())&&!cA(t))l(lA(t),n);else if(W.isObject(t)&&W.isIterable(t)){let o={},c,d;for(const u of t){if(!W.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?W.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Vi(t),t){const r=W.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return oA(s);if(W.isFunction(n))return n.call(this,s,r);if(W.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Vi(t),t){const r=W.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||cp(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(l){if(l=Vi(l),l){const o=W.findKey(r,l);o&&(!n||cp(r,r[o],o,n))&&(delete r[o],s=!0)}}return W.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||cp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return W.forEach(this,(s,i)=>{const l=W.findKey(r,i);if(l){n[l]=Dc(s),delete n[i];return}const o=t?dA(i):String(i).trim();o!==i&&delete n[i],n[o]=Dc(s),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return W.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Wy]=this[Wy]={accessors:{}}).accessors,s=this.prototype;function i(l){const o=Vi(l);r[o]||(uA(s,l),r[o]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Qt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});W.freezeMethods(Qt);function dp(e,t){const n=this||Po,r=t||n,s=Qt.from(r.headers);let i=r.data;return W.forEach(e,function(o){i=o.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function _2(e){return!!(e&&e.__CANCEL__)}function gi(e,t,n){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(gi,ye,{__CANCEL__:!0});function P2(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pA(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[i];l||(l=d),n[s]=c,r[s]=d;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-l<t)return;const x=u&&d-u;return x?Math.round(p*1e3/x):void 0}}function mA(e,t){let n=0,r=1e3/t,s,i;const l=(d,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-n;f>=r?l(d,u):(s=d,i||(i=setTimeout(()=>{i=null,l(s)},r-f)))},()=>s&&l(s)]}const ud=(e,t,n=3)=>{let r=0;const s=pA(50,250);return mA(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,d=s(c),u=l<=o;r=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},n)},Hy=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},qy=e=>(...t)=>W.asap(()=>e(...t)),hA=At.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,At.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,xA=At.hasStandardBrowserEnv?{write(e,t,n,r,s,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];W.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),W.isString(r)&&o.push(`path=${r}`),W.isString(s)&&o.push(`domain=${s}`),i===!0&&o.push("secure"),W.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function gA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function A2(e,t,n){let r=!gA(t);return e&&(r||n==!1)?yA(e,t):t}const Gy=e=>e instanceof Qt?{...e}:e;function Wa(e,t){t=t||{};const n={};function r(d,u,f,p){return W.isPlainObject(d)&&W.isPlainObject(u)?W.merge.call({caseless:p},d,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function s(d,u,f,p){if(W.isUndefined(u)){if(!W.isUndefined(d))return r(void 0,d,f,p)}else return r(d,u,f,p)}function i(d,u){if(!W.isUndefined(u))return r(void 0,u)}function l(d,u){if(W.isUndefined(u)){if(!W.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,f){if(f in t)return r(d,u);if(f in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,f)=>s(Gy(d),Gy(u),f,!0)};return W.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||s,p=f(e[u],t[u],u);W.isUndefined(p)&&f!==o||(n[u]=p)}),n}const E2=e=>{const t=Wa({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Qt.from(l),t.url=k2(A2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),W.isFormData(n)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&l.set(u,f)})}}if(At.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(t)),r||r!==!1&&hA(t.url))){const c=s&&i&&xA.read(i);c&&l.set(s,c)}return t},vA=typeof XMLHttpRequest<"u",bA=vA&&function(e){return new Promise(function(n,r){const s=E2(e);let i=s.data;const l=Qt.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=s,u,f,p,x,m;function j(){x&&x(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function y(){if(!h)return;const b=Qt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:b,config:e,request:h};P2(function(k){n(k),j()},function(k){r(k),j()},v),h=null}"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(r(new ye("Request aborted",ye.ECONNABORTED,e,h)),h=null)},h.onerror=function(N){const v=N&&N.message?N.message:"Network Error",S=new ye(v,ye.ERR_NETWORK,e,h);S.event=N||null,r(S),h=null},h.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const v=s.transitional||C2;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new ye(N,v.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,h)),h=null},i===void 0&&l.setContentType(null),"setRequestHeader"in h&&W.forEach(l.toJSON(),function(N,v){h.setRequestHeader(v,N)}),W.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),o&&o!=="json"&&(h.responseType=s.responseType),d&&([p,m]=ud(d,!0),h.addEventListener("progress",p)),c&&h.upload&&([f,x]=ud(c),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(u=b=>{h&&(r(!b||b.type?new gi(null,e,h):b),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const g=fA(s.url);if(g&&At.protocols.indexOf(g)===-1){r(new ye("Unsupported protocol "+g+":",ye.ERR_BAD_REQUEST,e));return}h.send(i||null)})},jA=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(d){if(!s){s=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof ye?u:new gi(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,i(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>W.asap(o),c}},wA=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},NA=async function*(e,t){for await(const n of SA(e))yield*wA(n,t)},SA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Ky=(e,t,n,r)=>{const s=NA(e,t);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){o(),c.close();return}let f=u.byteLength;if(n){let p=i+=f;n(p)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},Xy=64*1024,{isFunction:ic}=W,kA=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:Yy,TextEncoder:Qy}=W.global,Jy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},CA=e=>{e=W.merge.call({skipUndefined:!0},kA,e);const{fetch:t,Request:n,Response:r}=e,s=t?ic(t):typeof fetch=="function",i=ic(n),l=ic(r);if(!s)return!1;const o=s&&ic(Yy),c=s&&(typeof Qy=="function"?(m=>j=>m.encode(j))(new Qy):async m=>new Uint8Array(await new n(m).arrayBuffer())),d=i&&o&&Jy(()=>{let m=!1;const j=new n(At.origin,{body:new Yy,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!j}),u=l&&o&&Jy(()=>W.isReadableStream(new r("").body)),f={stream:u&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(j,h)=>{let y=j&&j[m];if(y)return y.call(j);throw new ye(`Response type '${m}' is not supported`,ye.ERR_NOT_SUPPORT,h)})});const p=async m=>{if(m==null)return 0;if(W.isBlob(m))return m.size;if(W.isSpecCompliantForm(m))return(await new n(At.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(W.isArrayBufferView(m)||W.isArrayBuffer(m))return m.byteLength;if(W.isURLSearchParams(m)&&(m=m+""),W.isString(m))return(await c(m)).byteLength},x=async(m,j)=>{const h=W.toFiniteNumber(m.getContentLength());return h??p(j)};return async m=>{let{url:j,method:h,data:y,signal:g,cancelToken:b,timeout:N,onDownloadProgress:v,onUploadProgress:S,responseType:k,headers:C,withCredentials:O="same-origin",fetchOptions:E}=E2(m),M=t||fetch;k=k?(k+"").toLowerCase():"text";let $=jA([g,b&&b.toAbortSignal()],N),I=null;const D=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let F;try{if(S&&d&&h!=="get"&&h!=="head"&&(F=await x(C,y))!==0){let G=new n(j,{method:"POST",body:y,duplex:"half"}),q;if(W.isFormData(y)&&(q=G.headers.get("content-type"))&&C.setContentType(q),G.body){const[z,ee]=Hy(F,ud(qy(S)));y=Ky(G.body,Xy,z,ee)}}W.isString(O)||(O=O?"include":"omit");const A=i&&"credentials"in n.prototype,L={...E,signal:$,method:h.toUpperCase(),headers:C.normalize().toJSON(),body:y,duplex:"half",credentials:A?O:void 0};I=i&&new n(j,L);let _=await(i?M(I,E):M(j,L));const P=u&&(k==="stream"||k==="response");if(u&&(v||P&&D)){const G={};["status","statusText","headers"].forEach(ae=>{G[ae]=_[ae]});const q=W.toFiniteNumber(_.headers.get("content-length")),[z,ee]=v&&Hy(q,ud(qy(v),!0))||[];_=new r(Ky(_.body,Xy,z,()=>{ee&&ee(),D&&D()}),G)}k=k||"text";let U=await f[W.findKey(f,k)||"text"](_,m);return!P&&D&&D(),await new Promise((G,q)=>{P2(G,q,{data:U,headers:Qt.from(_.headers),status:_.status,statusText:_.statusText,config:m,request:I})})}catch(A){throw D&&D(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,m,I),{cause:A.cause||A}):ye.from(A,A&&A.code,m,I)}}},OA=new Map,T2=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let l=i.length,o=l,c,d,u=OA;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:CA(t)),u=d;return d};T2();const f0={http:WP,xhr:bA,fetch:{get:T2}};W.forEach(f0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Zy=e=>`- ${e}`,_A=e=>W.isFunction(e)||e===null||e===!1;function PA(e,t){e=W.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let l=0;l<n;l++){r=e[l];let o;if(s=r,!_A(r)&&(s=f0[(o=String(r)).toLowerCase()],s===void 0))throw new ye(`Unknown adapter '${o}'`);if(s&&(W.isFunction(s)||(s=s.get(t))))break;i[o||"#"+l]=s}if(!s){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(Zy).join(`
`):" "+Zy(l[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const $2={getAdapter:PA,adapters:f0};function up(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gi(null,e)}function ev(e){return up(e),e.headers=Qt.from(e.headers),e.data=dp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$2.getAdapter(e.adapter||Po.adapter,e)(e).then(function(r){return up(e),r.data=dp.call(e,e.transformResponse,r),r.headers=Qt.from(r.headers),r},function(r){return _2(r)||(up(e),r&&r.response&&(r.response.data=dp.call(e,e.transformResponse,r.response),r.response.headers=Qt.from(r.response.headers))),Promise.reject(r)})}const I2="1.13.2",Bu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const tv={};Bu.transitional=function(t,n,r){function s(i,l){return"[Axios v"+I2+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(t===!1)throw new ye(s(l," has been removed"+(n?" in "+n:"")),ye.ERR_DEPRECATED);return n&&!tv[l]&&(tv[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,o):!0}};Bu.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function AA(e,t,n){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new ye("option "+i+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ye("Unknown option "+i,ye.ERR_BAD_OPTION)}}const Rc={assertOptions:AA,validators:Bu},Xn=Rc.validators;let $a=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vy,response:new Vy}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Wa(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Rc.assertOptions(r,{silentJSONParsing:Xn.transitional(Xn.boolean),forcedJSONParsing:Xn.transitional(Xn.boolean),clarifyTimeoutError:Xn.transitional(Xn.boolean)},!1),s!=null&&(W.isFunction(s)?n.paramsSerializer={serialize:s}:Rc.assertOptions(s,{encode:Xn.function,serialize:Xn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rc.assertOptions(n,{baseUrl:Xn.spelling("baseURL"),withXsrfToken:Xn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&W.merge(i.common,i[n.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Qt.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(c=c&&j.synchronous,o.unshift(j.fulfilled,j.rejected))});const d=[];this.interceptors.response.forEach(function(j){d.push(j.fulfilled,j.rejected)});let u,f=0,p;if(!c){const m=[ev.bind(this),void 0];for(m.unshift(...o),m.push(...d),p=m.length,u=Promise.resolve(n);f<p;)u=u.then(m[f++],m[f++]);return u}p=o.length;let x=n;for(;f<p;){const m=o[f++],j=o[f++];try{x=m(x)}catch(h){j.call(this,h);break}}try{u=ev.call(this,x)}catch(m){return Promise.reject(m)}for(f=0,p=d.length;f<p;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Wa(this.defaults,t);const n=A2(t.baseURL,t.url,t.allowAbsoluteUrls);return k2(n,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){$a.prototype[t]=function(n,r){return this.request(Wa(r||{},{method:t,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(t){function n(r){return function(i,l,o){return this.request(Wa(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}$a.prototype[t]=n(),$a.prototype[t+"Form"]=n(!0)});let EA=class M2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(s);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,o){r.reason||(r.reason=new gi(i,l,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new M2(function(s){t=s}),cancel:t}}};function TA(e){return function(n){return e.apply(null,n)}}function $A(e){return W.isObject(e)&&e.isAxiosError===!0}const Fm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fm).forEach(([e,t])=>{Fm[t]=e});function D2(e){const t=new $a(e),n=p2($a.prototype.request,t);return W.extend(n,$a.prototype,t,{allOwnKeys:!0}),W.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return D2(Wa(e,s))},n}const et=D2(Po);et.Axios=$a;et.CanceledError=gi;et.CancelToken=EA;et.isCancel=_2;et.VERSION=I2;et.toFormData=zu;et.AxiosError=ye;et.Cancel=et.CanceledError;et.all=function(t){return Promise.all(t)};et.spread=TA;et.isAxiosError=$A;et.mergeConfig=Wa;et.AxiosHeaders=Qt;et.formToJSON=e=>O2(W.isHTMLForm(e)?new FormData(e):e);et.getAdapter=$2.getAdapter;et.HttpStatusCode=Fm;et.default=et;const{Axios:Cee,AxiosError:Oee,CanceledError:_ee,isCancel:Pee,CancelToken:Aee,VERSION:Eee,all:Tee,Cancel:$ee,isAxiosError:Iee,spread:Mee,toFormData:Dee,AxiosHeaders:Ree,HttpStatusCode:Lee,formToJSON:zee,getAdapter:Bee,mergeConfig:Fee}=et,B=et.create({baseURL:"https://property-saif-production.up.railway.app/",headers:{"Content-Type":"application/json"}});B.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));B.interceptors.response.use(e=>e,e=>(e.response&&e.response.status,Promise.reject(e)));const IA=()=>{const e=un(),[t,n]=w.useState(""),[r,s]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(!1),d=async f=>{var p,x;f.preventDefault();try{l(""),c(!0);const m=await B.post("/api/auth/login",{email:t,password:r}),{accessToken:j,refreshToken:h,user:y}=m.data;localStorage.setItem("accessToken",j),localStorage.setItem("refreshToken",h),localStorage.setItem("user",JSON.stringify(y)),y.role==="ADMIN"?(localStorage.setItem("isLoggedIn","true"),e("/dashboard")):y.role==="TENANT"?(localStorage.setItem("tenantLoggedIn","true"),localStorage.setItem("currentTenantId",y.id),e("/tenant/dashboard")):y.role==="OWNER"?(localStorage.setItem("isOwnerLoggedIn","true"),localStorage.setItem("ownerId",y.id),e("/owner/dashboard")):(l("Unknown user role"),localStorage.clear())}catch(m){console.error(m),l(((x=(p=m.response)==null?void 0:p.data)==null?void 0:x.message)||"Login failed")}finally{c(!1)}},u=f=>{f==="admin"?(n("admin@property.com"),s("123456")):f==="tenant"?(n("tenant@example.com"),s("123456")):f==="owner"&&(n("owner@property.com"),s("123456"))};return a.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[a.jsx("div",{className:"hidden md:flex flex-1 relative bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1560185008-b033106af5c3')"},children:a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-600/75 to-blue-800/85 p-[60px] flex flex-col justify-center text-white",children:[a.jsx("h1",{className:"text-[42px] font-bold mb-3",children:"ProPerty"}),a.jsx("p",{className:"text-lg opacity-95",children:"Smart Property & Rental Management"})]})}),a.jsxs("div",{className:"w-full md:w-[420px] bg-white p-12 flex flex-col justify-center shadow-xl md:shadow-none",children:[a.jsx("h2",{className:"text-[28px] font-semibold mb-1.5 text-slate-900",children:"Welcome Back"}),a.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Sign in to access your dashboard"}),i&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-md border border-red-100",children:i}),a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{className:"flex flex-col mb-5",children:[a.jsx("label",{className:"text-[13px] mb-1.5 text-slate-700",children:"Email"}),a.jsx("input",{type:"email",placeholder:"name@company.com",value:t,onChange:f=>n(f.target.value),className:"h-[42px] px-3 rounded-md border border-slate-300 text-sm focus:outline-none focus:border-blue-600 focus:ring-3 focus:ring-blue-600/15 transition-all w-full"})]}),a.jsxs("div",{className:"flex flex-col mb-5",children:[a.jsx("label",{className:"text-[13px] mb-1.5 text-slate-700",children:"Password"}),a.jsx("input",{type:"password",placeholder:"",value:r,onChange:f=>s(f.target.value),className:"h-[42px] px-3 rounded-md border border-slate-300 text-sm focus:outline-none focus:border-blue-600 focus:ring-3 focus:ring-blue-600/15 transition-all w-full"})]}),a.jsx("button",{type:"submit",className:"w-full h-[44px] bg-blue-600 text-white border-0 rounded-md text-[15px] cursor-pointer mt-2.5 hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:o?"Logging in...":"Login"})]}),a.jsxs("div",{className:"mt-7 bg-slate-100 p-3.5 rounded-md text-[13px] text-slate-600",children:[a.jsx("strong",{className:"block mb-2 text-slate-900",children:"Demo Credentials"}),a.jsxs("p",{className:"mb-2 text-[12px] text-slate-500",children:["All use password: ",a.jsx("strong",{children:"123456"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{type:"button",onClick:()=>u("admin"),className:"text-xs bg-white border border-slate-200 px-2 py-1 rounded hover:bg-slate-50 text-slate-700",children:"Admin"}),a.jsx("button",{type:"button",onClick:()=>u("owner"),className:"text-xs bg-white border border-slate-200 px-2 py-1 rounded hover:bg-slate-50 text-slate-700",children:"Owner"}),a.jsx("button",{type:"button",onClick:()=>u("tenant"),className:"text-xs bg-white border border-slate-200 px-2 py-1 rounded hover:bg-slate-50 text-slate-700",children:"Tenant"})]}),a.jsxs("p",{className:"mt-2 text-[11px] text-slate-400",children:["If Tenant login fails, run ",a.jsx("code",{className:"bg-slate-200 px-1 rounded",children:"npx prisma db seed"})," in the backend to create demo users."]})]})]})]})},MA=()=>localStorage.getItem("isLoggedIn")==="true"?a.jsx(l0,{}):a.jsx(_s,{to:"/login",replace:!0});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>w.createElement("svg",{ref:u,...DA,width:s,height:s,stroke:r,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${RA(e)}`,o].join(" "),...d},[...t.map(([f,p])=>w.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=re("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=re("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=re("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=re("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=re("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=re("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=re("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=re("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=re("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=re("FileBarChart",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=re("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=re("FileMinus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=re("Files",[["path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z",key:"cennsq"}],["path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8",key:"ms809a"}],["path",{d:"M15 2v5h5",key:"qq6kwv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=re("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=re("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=re("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=re("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=re("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=re("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=re("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=re("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function K2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=K2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ue(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=K2(e))&&(r&&(r+=" "),r+=t);return r}const tE=[{icon:h0,label:"Dashboard",path:"/dashboard",children:[{label:"Overview",path:"/dashboard"},{label:"Vacancy Dashboard",path:"/vacancy"},{label:"Revenue Dashboard",path:"/revenue"}]},{icon:sa,label:"Properties",path:"/properties/buildings",children:[{label:"Buildings",path:"/properties/buildings"},{label:"Units",path:"/units"}]},{icon:Vu,label:"Tenants",path:"/tenants",children:[{label:"Tenant List",path:"/tenants"},{label:"Insurance Alerts",path:"/insurance-alerts"}]},{icon:WA,label:"Owners",path:"/owners"},{icon:Ee,label:"Leases",path:"/leases"},{icon:Ee,label:"Documents",path:"/documents"},{icon:jn,label:"Payments",path:"/payments/invoices",children:[{label:"Rent Invoices",path:"/payments/invoices"},{label:"Payments Received",path:"/payments/received"},{label:"Outstanding Dues",path:"/payments/outstanding"},{label:"Refunds & Adjustments",path:"/payments/refunds"}]},{icon:BA,label:"Accounting",path:"/accounting",children:[{label:"QuickBooks Sync",path:"/settings/quickbooks"},{label:"Chart of Accounts",path:"/accounting/chart-of-accounts"},{label:"Tax Settings",path:"/accounting/tax-settings"}]},{icon:H2,label:"Reports",path:"/reports"},{icon:yi,label:"Communication",path:"/communication"},{icon:W2,label:"Email Logs",path:"/emails"},{icon:F2,label:"Maintenance",path:"/maintenance"},{icon:Ll,label:"Tickets",path:"/tickets"},{icon:q2,label:"Settings",path:"/settings"}],X2=({item:e,depth:t=0,onClose:n})=>{var c;const r=Qa(),s=((c=e.children)==null?void 0:c.length)>0,[i,l]=w.useState(!1);w.useEffect(()=>{if(s){const d=e.children.some(u=>r.pathname.startsWith(u.path));l(d)}},[r.pathname]);const o=d=>{s?(d.preventDefault(),l(u=>!u)):n==null||n()};return a.jsxs(a.Fragment,{children:[a.jsxs(o0,{to:e.path,onClick:o,className:({isActive:d})=>ue("flex items-center gap-3 px-4 py-3.5 rounded-2xl text-sm font-bold transition-all duration-300 group relative overflow-hidden",d&&!s?"bg-primary-600 text-white shadow-xl shadow-primary-200":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),style:{paddingLeft:`calc(16px + ${t*14}px)`},children:[e.icon&&a.jsx(e.icon,{size:20}),a.jsx("span",{className:"flex-1",children:e.label}),s&&(i?a.jsx(mt,{size:14}):a.jsx(B2,{size:14}))]}),s&&i&&a.jsx("div",{className:"ml-2",children:e.children.map(d=>a.jsx(X2,{item:d,depth:t+1,onClose:n},d.path))})]})},Y2=({isOpen:e,onClose:t})=>{const n=R.useRef(null);return w.useEffect(()=>{const r=sessionStorage.getItem("adminSidebarScroll");n.current&&r&&(n.current.scrollTop=Number(r));const s=()=>{n.current&&sessionStorage.setItem("adminSidebarScroll",n.current.scrollTop)},i=n.current;return i&&i.addEventListener("scroll",s),()=>{i&&i.removeEventListener("scroll",s)}},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:ue("fixed inset-0 bg-black/40 z-40 lg:hidden",e?"block":"hidden"),onClick:t}),a.jsxs("aside",{className:ue("fixed left-0 top-0 h-screen w-[280px] bg-white border-r border-slate-100 shadow-2xl shadow-slate-200/50 z-50 transition-transform duration-300 ease-in-out flex flex-col",e?"translate-x-0":"-translate-x-full","lg:translate-x-0"),children:[a.jsxs("div",{className:"p-8 pb-6 flex items-center justify-between shrink-0",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("img",{src:"/assets/logo.png",alt:"Masteko Logo",className:"h-10 w-auto object-container"})}),a.jsx("button",{className:"lg:hidden p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-xl transition-all",onClick:t,children:a.jsx(je,{size:20})})]}),a.jsxs("nav",{ref:n,className:"flex-1 overflow-y-auto px-4 py-2 space-y-1 custom-scrollbar",children:[a.jsx("div",{className:"px-4 mb-2 mt-2",children:a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Main Menu"})}),tE.map(r=>a.jsx(X2,{item:r,onClose:t},r.label))]}),a.jsx("div",{className:"p-6 border-t border-slate-50 shrink-0",children:a.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 group cursor-pointer hover:border-primary-100 hover:bg-primary-50/30 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center font-bold text-sm border-2 border-white shadow-sm",children:"AD"}),a.jsxs("div",{className:"overflow-hidden",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 truncate",children:"Admin User"}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide truncate",children:"Super Admin"})]})]})})})]})]})},V=({children:e,variant:t="primary",size:n="md",className:r,icon:s,isLoading:i,...l})=>{const o="inline-flex items-center justify-center rounded-lg font-sans font-medium cursor-pointer transition-all duration-200 border disabled:opacity-60 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-400 disabled:border-transparent gap-2 whitespace-nowrap select-none active:scale-[0.98]",c={primary:"bg-primary-600 text-white shadow-md shadow-primary-600/20 hover:bg-primary-700 hover:shadow-lg hover:shadow-primary-600/30 border-transparent",secondary:"bg-white border-slate-200 text-slate-700 shadow-sm hover:bg-slate-50 hover:border-slate-300 hover:text-slate-900",outline:"bg-transparent border-primary-200 text-primary-600 hover:bg-primary-50 hover:border-primary-300",ghost:"bg-transparent border-transparent text-slate-500 hover:bg-slate-100/80 hover:text-slate-900 shadow-none",danger:"bg-white border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300 shadow-sm"},d={sm:"h-8 px-3 text-xs",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"};return a.jsx("button",{className:ue(o,c[t],d[n],r),disabled:i||l.disabled,...l,children:i?a.jsxs("svg",{className:"animate-spin h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsxs(a.Fragment,{children:[s&&a.jsx(s,{size:18,className:"flex items-center"}),e]})})},Q2=({title:e="Overview",onMenuClick:t})=>{const n=un(),r=()=>{localStorage.removeItem("isLoggedIn"),n("/login")};return a.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 sticky top-0 z-40 lg:px-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{className:"block lg:hidden text-slate-600 p-2",onClick:t,children:a.jsx(g0,{size:24})}),a.jsx("div",{className:"flex items-center gap-6",children:a.jsx("h1",{className:"text-lg ml-5 font-semibold text-slate-800 tracking-[-0.01em] whitespace-nowrap",children:e})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-80 hidden lg:block",children:[a.jsx(Jt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),a.jsx("input",{type:"text",placeholder:"Search properties, tenants...",className:"w-full h-10 pl-10 pr-4 rounded-md border border-slate-200 text-sm bg-white text-slate-900 transition-all focus:outline-none focus:border-primary-500 focus:ring-4 focus:ring-primary-50 placeholder:text-slate-400 hover:border-slate-300"})]}),a.jsxs("button",{className:"flex items-center gap-[6px] h-10 px-3 rounded-md border border-slate-200 bg-white text-slate-600 text-sm cursor-pointer transition-all hover:bg-slate-100 hover:text-danger hover:border-slate-300",onClick:r,title:"Logout",children:[a.jsx(x0,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})},Ce=({children:e,title:t="Overview"})=>{const[n,r]=w.useState(!1),s=()=>r(!n),i=()=>r(!1);return a.jsxs("div",{className:"flex w-full min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsx(Y2,{isOpen:n,onClose:i}),a.jsxs("div",{className:"flex flex-col flex-1 min-w-0 transition-all duration-200 ml-0 lg:ml-[260px]",children:[a.jsx(Q2,{title:t,onMenuClick:s}),a.jsx("main",{className:"flex-1 w-full max-w-[1400px] mx-auto flex flex-col gap-8 p-4 lg:p-8",children:e})]})]})},xe=({children:e,className:t,title:n,action:r,...s})=>a.jsxs("div",{className:ue("bg-white border border-slate-200/60 rounded-xl shadow-card hover:shadow-lg transition-all duration-300 ease-in-out flex flex-col overflow-hidden",t),...s,children:[(n||r)&&a.jsxs("div",{className:"py-4 px-6 bg-transparent border-b border-slate-200 flex items-center justify-between",children:[n&&a.jsx("h3",{className:"font-sans text-base font-semibold text-slate-900 tracking-[-0.01em]",children:n}),r&&a.jsx("div",{className:"flex items-center gap-2",children:r})]}),a.jsx("div",{className:"p-6 flex-1 text-slate-500 text-sm",children:e})]});var nE=Array.isArray,Zt=nE,rE=typeof Uo=="object"&&Uo&&Uo.Object===Object&&Uo,J2=rE,aE=J2,sE=typeof self=="object"&&self&&self.Object===Object&&self,iE=aE||sE||Function("return this")(),cr=iE,lE=cr,oE=lE.Symbol,$o=oE,av=$o,Z2=Object.prototype,cE=Z2.hasOwnProperty,dE=Z2.toString,Wi=av?av.toStringTag:void 0;function uE(e){var t=cE.call(e,Wi),n=e[Wi];try{e[Wi]=void 0;var r=!0}catch{}var s=dE.call(e);return r&&(t?e[Wi]=n:delete e[Wi]),s}var fE=uE,pE=Object.prototype,mE=pE.toString;function hE(e){return mE.call(e)}var xE=hE,sv=$o,gE=fE,yE=xE,vE="[object Null]",bE="[object Undefined]",iv=sv?sv.toStringTag:void 0;function jE(e){return e==null?e===void 0?bE:vE:iv&&iv in Object(e)?gE(e):yE(e)}var Tr=jE;function wE(e){return e!=null&&typeof e=="object"}var $r=wE,NE=Tr,SE=$r,kE="[object Symbol]";function CE(e){return typeof e=="symbol"||SE(e)&&NE(e)==kE}var vi=CE,OE=Zt,_E=vi,PE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,AE=/^\w*$/;function EE(e,t){if(OE(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||_E(e)?!0:AE.test(e)||!PE.test(e)||t!=null&&e in Object(t)}var y0=EE;function TE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var da=TE;const bi=Le(da);var $E=Tr,IE=da,ME="[object AsyncFunction]",DE="[object Function]",RE="[object GeneratorFunction]",LE="[object Proxy]";function zE(e){if(!IE(e))return!1;var t=$E(e);return t==DE||t==RE||t==ME||t==LE}var v0=zE;const Ne=Le(v0);var BE=cr,FE=BE["__core-js_shared__"],UE=FE,fp=UE,lv=function(){var e=/[^.]+$/.exec(fp&&fp.keys&&fp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function VE(e){return!!lv&&lv in e}var WE=VE,HE=Function.prototype,qE=HE.toString;function GE(e){if(e!=null){try{return qE.call(e)}catch{}try{return e+""}catch{}}return""}var eS=GE,KE=v0,XE=WE,YE=da,QE=eS,JE=/[\\^$.*+?()[\]{}|]/g,ZE=/^\[object .+?Constructor\]$/,eT=Function.prototype,tT=Object.prototype,nT=eT.toString,rT=tT.hasOwnProperty,aT=RegExp("^"+nT.call(rT).replace(JE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sT(e){if(!YE(e)||XE(e))return!1;var t=KE(e)?aT:ZE;return t.test(QE(e))}var iT=sT;function lT(e,t){return e==null?void 0:e[t]}var oT=lT,cT=iT,dT=oT;function uT(e,t){var n=dT(e,t);return cT(n)?n:void 0}var Ja=uT,fT=Ja,pT=fT(Object,"create"),Wu=pT,ov=Wu;function mT(){this.__data__=ov?ov(null):{},this.size=0}var hT=mT;function xT(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gT=xT,yT=Wu,vT="__lodash_hash_undefined__",bT=Object.prototype,jT=bT.hasOwnProperty;function wT(e){var t=this.__data__;if(yT){var n=t[e];return n===vT?void 0:n}return jT.call(t,e)?t[e]:void 0}var NT=wT,ST=Wu,kT=Object.prototype,CT=kT.hasOwnProperty;function OT(e){var t=this.__data__;return ST?t[e]!==void 0:CT.call(t,e)}var _T=OT,PT=Wu,AT="__lodash_hash_undefined__";function ET(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=PT&&t===void 0?AT:t,this}var TT=ET,$T=hT,IT=gT,MT=NT,DT=_T,RT=TT;function ji(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ji.prototype.clear=$T;ji.prototype.delete=IT;ji.prototype.get=MT;ji.prototype.has=DT;ji.prototype.set=RT;var LT=ji;function zT(){this.__data__=[],this.size=0}var BT=zT;function FT(e,t){return e===t||e!==e&&t!==t}var b0=FT,UT=b0;function VT(e,t){for(var n=e.length;n--;)if(UT(e[n][0],t))return n;return-1}var Hu=VT,WT=Hu,HT=Array.prototype,qT=HT.splice;function GT(e){var t=this.__data__,n=WT(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():qT.call(t,n,1),--this.size,!0}var KT=GT,XT=Hu;function YT(e){var t=this.__data__,n=XT(t,e);return n<0?void 0:t[n][1]}var QT=YT,JT=Hu;function ZT(e){return JT(this.__data__,e)>-1}var e6=ZT,t6=Hu;function n6(e,t){var n=this.__data__,r=t6(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var r6=n6,a6=BT,s6=KT,i6=QT,l6=e6,o6=r6;function wi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wi.prototype.clear=a6;wi.prototype.delete=s6;wi.prototype.get=i6;wi.prototype.has=l6;wi.prototype.set=o6;var qu=wi,c6=Ja,d6=cr,u6=c6(d6,"Map"),j0=u6,cv=LT,f6=qu,p6=j0;function m6(){this.size=0,this.__data__={hash:new cv,map:new(p6||f6),string:new cv}}var h6=m6;function x6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var g6=x6,y6=g6;function v6(e,t){var n=e.__data__;return y6(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Gu=v6,b6=Gu;function j6(e){var t=b6(this,e).delete(e);return this.size-=t?1:0,t}var w6=j6,N6=Gu;function S6(e){return N6(this,e).get(e)}var k6=S6,C6=Gu;function O6(e){return C6(this,e).has(e)}var _6=O6,P6=Gu;function A6(e,t){var n=P6(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var E6=A6,T6=h6,$6=w6,I6=k6,M6=_6,D6=E6;function Ni(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ni.prototype.clear=T6;Ni.prototype.delete=$6;Ni.prototype.get=I6;Ni.prototype.has=M6;Ni.prototype.set=D6;var w0=Ni,tS=w0,R6="Expected a function";function N0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(R6);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var l=e.apply(this,r);return n.cache=i.set(s,l)||i,l};return n.cache=new(N0.Cache||tS),n}N0.Cache=tS;var nS=N0;const L6=Le(nS);var z6=nS,B6=500;function F6(e){var t=z6(e,function(r){return n.size===B6&&n.clear(),r}),n=t.cache;return t}var U6=F6,V6=U6,W6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H6=/\\(\\)?/g,q6=V6(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(W6,function(n,r,s,i){t.push(s?i.replace(H6,"$1"):r||n)}),t}),G6=q6;function K6(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var S0=K6,dv=$o,X6=S0,Y6=Zt,Q6=vi,uv=dv?dv.prototype:void 0,fv=uv?uv.toString:void 0;function rS(e){if(typeof e=="string")return e;if(Y6(e))return X6(e,rS)+"";if(Q6(e))return fv?fv.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var J6=rS,Z6=J6;function e$(e){return e==null?"":Z6(e)}var aS=e$,t$=Zt,n$=y0,r$=G6,a$=aS;function s$(e,t){return t$(e)?e:n$(e,t)?[e]:r$(a$(e))}var sS=s$,i$=vi;function l$(e){if(typeof e=="string"||i$(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ku=l$,o$=sS,c$=Ku;function d$(e,t){t=o$(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[c$(t[n++])];return n&&n==r?e:void 0}var k0=d$,u$=k0;function f$(e,t,n){var r=e==null?void 0:u$(e,t);return r===void 0?n:r}var iS=f$;const Nn=Le(iS);function p$(e){return e==null}var m$=p$;const _e=Le(m$);var h$=Tr,x$=Zt,g$=$r,y$="[object String]";function v$(e){return typeof e=="string"||!x$(e)&&g$(e)&&h$(e)==y$}var b$=v$;const Ha=Le(b$);var lS={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=Symbol.for("react.element"),O0=Symbol.for("react.portal"),Xu=Symbol.for("react.fragment"),Yu=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),Ju=Symbol.for("react.provider"),Zu=Symbol.for("react.context"),j$=Symbol.for("react.server_context"),ef=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),nf=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),af=Symbol.for("react.lazy"),w$=Symbol.for("react.offscreen"),oS;oS=Symbol.for("react.module.reference");function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case C0:switch(e=e.type,e){case Xu:case Qu:case Yu:case tf:case nf:return e;default:switch(e=e&&e.$$typeof,e){case j$:case Zu:case ef:case af:case rf:case Ju:return e;default:return t}}case O0:return t}}}$e.ContextConsumer=Zu;$e.ContextProvider=Ju;$e.Element=C0;$e.ForwardRef=ef;$e.Fragment=Xu;$e.Lazy=af;$e.Memo=rf;$e.Portal=O0;$e.Profiler=Qu;$e.StrictMode=Yu;$e.Suspense=tf;$e.SuspenseList=nf;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(e){return On(e)===Zu};$e.isContextProvider=function(e){return On(e)===Ju};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===C0};$e.isForwardRef=function(e){return On(e)===ef};$e.isFragment=function(e){return On(e)===Xu};$e.isLazy=function(e){return On(e)===af};$e.isMemo=function(e){return On(e)===rf};$e.isPortal=function(e){return On(e)===O0};$e.isProfiler=function(e){return On(e)===Qu};$e.isStrictMode=function(e){return On(e)===Yu};$e.isSuspense=function(e){return On(e)===tf};$e.isSuspenseList=function(e){return On(e)===nf};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xu||e===Qu||e===Yu||e===tf||e===nf||e===w$||typeof e=="object"&&e!==null&&(e.$$typeof===af||e.$$typeof===rf||e.$$typeof===Ju||e.$$typeof===Zu||e.$$typeof===ef||e.$$typeof===oS||e.getModuleId!==void 0)};$e.typeOf=On;lS.exports=$e;var N$=lS.exports,S$=Tr,k$=$r,C$="[object Number]";function O$(e){return typeof e=="number"||k$(e)&&S$(e)==C$}var cS=O$;const _$=Le(cS);var P$=cS;function A$(e){return P$(e)&&e!=+e}var E$=A$;const Io=Le(E$);var Rn=function(t){return t===0?0:t>0?1:-1},Oa=function(t){return Ha(t)&&t.indexOf("%")===t.length-1},ne=function(t){return _$(t)&&!Io(t)},T$=function(t){return _e(t)},ct=function(t){return ne(t)||Ha(t)},$$=0,sf=function(t){var n=++$$;return"".concat(t||"").concat(n)},qa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(t)&&!Ha(t))return r;var i;if(Oa(t)){var l=t.indexOf("%");i=n*parseFloat(t.slice(0,l))/100}else i=+t;return Io(i)&&(i=r),s&&i>n&&(i=n),i},is=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},I$=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},rs=function(t,n){return ne(t)&&ne(n)?function(r){return t+r*(n-t)}:function(){return n}};function Um(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Nn(r,t))===n})}var M$=function(t,n){return ne(t)&&ne(n)?t-n:Ha(t)&&Ha(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Ps(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var D$=["viewBox","children"],R$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pv=["points","pathLength"],pp={svg:D$,polygon:pv,polyline:pv},_0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hd=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(w.isValidElement(t)&&(r=t.props),!bi(r))return null;var s={};return Object.keys(r).forEach(function(i){_0.includes(i)&&(s[i]=n||function(l){return r[i](r,l)})}),s},L$=function(t,n,r){return function(s){return t(n,r,s),null}},xd=function(t,n,r){if(!bi(t)||Vm(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];_0.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=L$(l,n,r))}),s},z$=["children"],B$=["children"];function mv(e,t){if(e==null)return{};var n=F$(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function F$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var hv={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xv=null,mp=null,P0=function e(t){if(t===xv&&Array.isArray(mp))return mp;var n=[];return w.Children.forEach(t,function(r){_e(r)||(N$.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),mp=n,xv=t,n};function Bn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return vr(s)}):r=[vr(t)],P0(e).forEach(function(s){var i=Nn(s,"type.displayName")||Nn(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function rn(e,t){var n=Bn(e,t);return n&&n[0]}var gv=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!ne(r)||r<=0||!ne(s)||s<=0)},U$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],V$=function(t){return t&&t.type&&Ha(t.type)&&U$.indexOf(t.type)>=0},W$=function(t,n,r,s){var i,l=(i=pp==null?void 0:pp[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ne(t)&&(s&&l.includes(n)||R$.includes(n))||r&&_0.includes(n)},Ae=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!bi(s))return null;var i={};return Object.keys(s).forEach(function(l){var o;W$((o=s)===null||o===void 0?void 0:o[l],l,n,r)&&(i[l]=s[l])}),i},Wm=function e(t,n){if(t===n)return!0;var r=w.Children.count(t);if(r!==w.Children.count(n))return!1;if(r===0)return!0;if(r===1)return yv(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=t[s],l=n[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!yv(i,l))return!1}return!0},yv=function(t,n){if(_e(t)&&_e(n))return!0;if(!_e(t)&&!_e(n)){var r=t.props||{},s=r.children,i=mv(r,z$),l=n.props||{},o=l.children,c=mv(l,B$);return s&&o?Ps(i,c)&&Wm(s,o):!s&&!o?Ps(i,c):!1}return!1},vv=function(t,n){var r=[],s={};return P0(t).forEach(function(i,l){if(V$(i))r.push(i);else if(i){var o=vr(i.type),c=n[o]||{},d=c.handler,u=c.once;if(d&&(!u||!s[o])){var f=d(i,o,l);r.push(f),s[o]=!0}}}),r},H$=function(t){var n=t&&t.type;return n&&hv[n]?hv[n]:null},q$=function(t,n){return P0(n).indexOf(t)},G$=["children","width","height","viewBox","className","style","title","desc"];function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hm.apply(this,arguments)}function K$(e,t){if(e==null)return{};var n=X$(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function X$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qm(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,i=e.className,l=e.style,o=e.title,c=e.desc,d=K$(e,G$),u=s||{width:n,height:r,x:0,y:0},f=ue("recharts-surface",i);return R.createElement("svg",Hm({},Ae(d,!0,"svg"),{className:f,width:n,height:r,style:l,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),R.createElement("title",null,o),R.createElement("desc",null,c),t)}var Y$=["children","className"];function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gm.apply(this,arguments)}function Q$(e,t){if(e==null)return{};var n=J$(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var pt=R.forwardRef(function(e,t){var n=e.children,r=e.className,s=Q$(e,Y$),i=ue("recharts-layer",r);return R.createElement("g",Gm({className:i},Ae(s,!0),{ref:t}),n)}),Ma=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function Z$(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}var e3=Z$,t3=e3;function n3(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:t3(e,t,n)}var r3=n3,a3="\\ud800-\\udfff",s3="\\u0300-\\u036f",i3="\\ufe20-\\ufe2f",l3="\\u20d0-\\u20ff",o3=s3+i3+l3,c3="\\ufe0e\\ufe0f",d3="\\u200d",u3=RegExp("["+d3+a3+o3+c3+"]");function f3(e){return u3.test(e)}var dS=f3;function p3(e){return e.split("")}var m3=p3,uS="\\ud800-\\udfff",h3="\\u0300-\\u036f",x3="\\ufe20-\\ufe2f",g3="\\u20d0-\\u20ff",y3=h3+x3+g3,v3="\\ufe0e\\ufe0f",b3="["+uS+"]",Km="["+y3+"]",Xm="\\ud83c[\\udffb-\\udfff]",j3="(?:"+Km+"|"+Xm+")",fS="[^"+uS+"]",pS="(?:\\ud83c[\\udde6-\\uddff]){2}",mS="[\\ud800-\\udbff][\\udc00-\\udfff]",w3="\\u200d",hS=j3+"?",xS="["+v3+"]?",N3="(?:"+w3+"(?:"+[fS,pS,mS].join("|")+")"+xS+hS+")*",S3=xS+hS+N3,k3="(?:"+[fS+Km+"?",Km,pS,mS,b3].join("|")+")",C3=RegExp(Xm+"(?="+Xm+")|"+k3+S3,"g");function O3(e){return e.match(C3)||[]}var _3=O3,P3=m3,A3=dS,E3=_3;function T3(e){return A3(e)?E3(e):P3(e)}var $3=T3,I3=r3,M3=dS,D3=$3,R3=aS;function L3(e){return function(t){t=R3(t);var n=M3(t)?D3(t):void 0,r=n?n[0]:t.charAt(0),s=n?I3(n,1).join(""):t.slice(1);return r[e]()+s}}var z3=L3,B3=z3,F3=B3("toUpperCase"),U3=F3;const lf=Le(U3);function De(e){return function(){return e}}const gS=Math.cos,gd=Math.sin,qn=Math.sqrt,yd=Math.PI,of=2*yd,Ym=Math.PI,Qm=2*Ym,va=1e-6,V3=Qm-va;function yS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function W3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yS;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class H3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yS:W3(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,l){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=r-t,d=s-n,u=l-t,f=o-n,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>va)if(!(Math.abs(f*c-d*u)>va)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,m=s-o,j=c*c+d*d,h=x*x+m*m,y=Math.sqrt(j),g=Math.sqrt(p),b=i*Math.tan((Ym-Math.acos((j+p-h)/(2*y*g)))/2),N=b/g,v=b/y;Math.abs(N-1)>va&&this._append`L${t+N*u},${n+N*f}`,this._append`A${i},${i},0,0,${+(f*x>u*m)},${this._x1=t+v*c},${this._y1=n+v*d}`}}arc(t,n,r,s,i,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(s),c=r*Math.sin(s),d=t+o,u=n+c,f=1^l,p=l?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>va||Math.abs(this._y1-u)>va)&&this._append`L${d},${u}`,r&&(p<0&&(p=p%Qm+Qm),p>V3?this._append`A${r},${r},0,1,${f},${t-o},${n-c}A${r},${r},0,1,${f},${this._x1=d},${this._y1=u}`:p>va&&this._append`A${r},${r},0,${+(p>=Ym)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function A0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new H3(t)}function E0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vS(e){this._context=e}vS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cf(e){return new vS(e)}function bS(e){return e[0]}function jS(e){return e[1]}function wS(e,t){var n=De(!0),r=null,s=cf,i=null,l=A0(o);e=typeof e=="function"?e:e===void 0?bS:De(e),t=typeof t=="function"?t:t===void 0?jS:De(t);function o(c){var d,u=(c=E0(c)).length,f,p=!1,x;for(r==null&&(i=s(x=l())),d=0;d<=u;++d)!(d<u&&n(f=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,d,c),+t(f,d,c));if(x)return i=null,x+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:De(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:De(+c),o):t},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:De(!!c),o):n},o.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),o):s},o.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),o):r},o}function lc(e,t,n){var r=null,s=De(!0),i=null,l=cf,o=null,c=A0(d);e=typeof e=="function"?e:e===void 0?bS:De(+e),t=typeof t=="function"?t:De(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jS:De(+n);function d(f){var p,x,m,j=(f=E0(f)).length,h,y=!1,g,b=new Array(j),N=new Array(j);for(i==null&&(o=l(g=c())),p=0;p<=j;++p){if(!(p<j&&s(h=f[p],p,f))===y)if(y=!y)x=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=p-1;m>=x;--m)o.point(b[m],N[m]);o.lineEnd(),o.areaEnd()}y&&(b[p]=+e(h,p,f),N[p]=+t(h,p,f),o.point(r?+r(h,p,f):b[p],n?+n(h,p,f):N[p]))}if(g)return o=null,g+""||null}function u(){return wS().defined(s).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),r=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),d):e},d.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:De(+f),d):r},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),n=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),d):t},d.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:De(+f),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:De(!!f),d):s},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class NS{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function q3(e){return new NS(e,!0)}function G3(e){return new NS(e,!1)}const T0={draw(e,t){const n=qn(t/yd);e.moveTo(n,0),e.arc(0,0,n,0,of)}},K3={draw(e,t){const n=qn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},SS=qn(1/3),X3=SS*2,Y3={draw(e,t){const n=qn(t/X3),r=n*SS;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Q3={draw(e,t){const n=qn(t),r=-n/2;e.rect(r,r,n,n)}},J3=.8908130915292852,kS=gd(yd/10)/gd(7*yd/10),Z3=gd(of/10)*kS,eI=-gS(of/10)*kS,tI={draw(e,t){const n=qn(t*J3),r=Z3*n,s=eI*n;e.moveTo(0,-n),e.lineTo(r,s);for(let i=1;i<5;++i){const l=of*i/5,o=gS(l),c=gd(l);e.lineTo(c*n,-o*n),e.lineTo(o*r-c*s,c*r+o*s)}e.closePath()}},hp=qn(3),nI={draw(e,t){const n=-qn(t/(hp*3));e.moveTo(0,n*2),e.lineTo(-hp*n,-n),e.lineTo(hp*n,-n),e.closePath()}},fn=-.5,pn=qn(3)/2,Jm=1/qn(12),rI=(Jm/2+1)*3,aI={draw(e,t){const n=qn(t/rI),r=n/2,s=n*Jm,i=r,l=n*Jm+n,o=-i,c=l;e.moveTo(r,s),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(fn*r-pn*s,pn*r+fn*s),e.lineTo(fn*i-pn*l,pn*i+fn*l),e.lineTo(fn*o-pn*c,pn*o+fn*c),e.lineTo(fn*r+pn*s,fn*s-pn*r),e.lineTo(fn*i+pn*l,fn*l-pn*i),e.lineTo(fn*o+pn*c,fn*c-pn*o),e.closePath()}};function sI(e,t){let n=null,r=A0(s);e=typeof e=="function"?e:De(e||T0),t=typeof t=="function"?t:De(t===void 0?64:+t);function s(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:De(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:De(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function vd(){}function bd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function CS(e){this._context=e}CS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iI(e){return new CS(e)}function OS(e){this._context=e}OS.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lI(e){return new OS(e)}function _S(e){this._context=e}_S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oI(e){return new _S(e)}function PS(e){this._context=e}PS.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cI(e){return new PS(e)}function bv(e){return e<0?-1:1}function jv(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),l=(n-e._y1)/(s||r<0&&-0),o=(i*s+l*r)/(r+s);return(bv(i)+bv(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function wv(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xp(e,t,n){var r=e._x0,s=e._y0,i=e._x1,l=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,s+o*t,i-o,l-o*n,i,l)}function jd(e){this._context=e}jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xp(this,this._t0,wv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xp(this,wv(this,n=jv(this,e,t)),n);break;default:xp(this,this._t0,n=jv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function AS(e){this._context=new ES(e)}(AS.prototype=Object.create(jd.prototype)).point=function(e,t){jd.prototype.point.call(this,t,e)};function ES(e){this._context=e}ES.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,i){this._context.bezierCurveTo(t,e,r,n,i,s)}};function dI(e){return new jd(e)}function uI(e){return new AS(e)}function TS(e){this._context=e}TS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Nv(e),s=Nv(t),i=0,l=1;l<n;++i,++l)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Nv(e){var t,n=e.length-1,r,s=new Array(n),i=new Array(n),l=new Array(n);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/i[t-1],i[t]-=r,l[t]-=r*l[t-1];for(s[n-1]=l[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function fI(e){return new TS(e)}function df(e,t){this._context=e,this._t=t}df.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function pI(e){return new df(e,.5)}function mI(e){return new df(e,0)}function hI(e){return new df(e,1)}function Vs(e,t){if((l=e.length)>1)for(var n=1,r,s,i=e[t[0]],l,o=i.length;n<l;++n)for(s=i,i=e[t[n]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Zm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function xI(e,t){return e[t]}function gI(e){const t=[];return t.key=e,t}function yI(){var e=De([]),t=Zm,n=Vs,r=xI;function s(i){var l=Array.from(e.apply(this,arguments),gI),o,c=l.length,d=-1,u;for(const f of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+r(f,l[o].key,d,i)]).data=f;for(o=0,u=E0(t(l));o<c;++o)l[u[o]].index=o;return n(l,u),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:De(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:De(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?Zm:typeof i=="function"?i:De(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Vs,s):n},s}function vI(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,l;s<i;++s){for(l=n=0;n<r;++n)l+=e[n][s][1]||0;if(l)for(n=0;n<r;++n)e[n][s][1]/=l}Vs(e,t)}}function bI(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,i=r.length;n<i;++n){for(var l=0,o=0;l<s;++l)o+=e[l][n][1]||0;r[n][1]+=r[n][0]=-o/2}Vs(e,t)}}function jI(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,i,l;r<i;++r){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],f=u[r][1]||0,p=u[r-1][1]||0,x=(f-p)/2,m=0;m<o;++m){var j=e[t[m]],h=j[r][1]||0,y=j[r-1][1]||0;x+=h-y}c+=f,d+=x*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=d/c)}s[r-1][1]+=s[r-1][0]=n,Vs(e,t)}}function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}var wI=["type","size","sizeType"];function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(this,arguments)}function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sv(Object(n),!0).forEach(function(r){NI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NI(e,t,n){return t=SI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SI(e){var t=kI(e,"string");return zl(t)=="symbol"?t:t+""}function kI(e,t){if(zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CI(e,t){if(e==null)return{};var n=OI(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OI(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var $S={symbolCircle:T0,symbolCross:K3,symbolDiamond:Y3,symbolSquare:Q3,symbolStar:tI,symbolTriangle:nI,symbolWye:aI},_I=Math.PI/180,PI=function(t){var n="symbol".concat(lf(t));return $S[n]||T0},AI=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*_I;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},EI=function(t,n){$S["symbol".concat(lf(t))]=n},$0=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,l=t.sizeType,o=l===void 0?"area":l,c=CI(t,wI),d=kv(kv({},c),{},{type:r,size:i,sizeType:o}),u=function(){var h=PI(r),y=sI().type(h).size(AI(i,o,r));return y()},f=d.className,p=d.cx,x=d.cy,m=Ae(d,!0);return p===+p&&x===+x&&i===+i?R.createElement("path",eh({},m,{className:ue("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(x,")"),d:u()})):null};$0.registerSymbol=EI;function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(this,arguments)}function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cv(Object(n),!0).forEach(function(r){Bl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function II(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MS(r.key),r)}}function MI(e,t,n){return t&&II(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DI(e,t,n){return t=wd(t),RI(e,IS()?Reflect.construct(t,n||[],wd(e).constructor):t.apply(e,n))}function RI(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LI(e)}function LI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IS=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(e)}function zI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nh(e,t)}function nh(e,t){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nh(e,t)}function Bl(e,t,n){return t=MS(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MS(e){var t=BI(e,"string");return Ws(t)=="symbol"?t:t+""}function BI(e,t){if(Ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mn=32,I0=function(e){function t(){return $I(this,t),DI(this,t,arguments)}return zI(t,e),MI(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=mn/2,l=mn/6,o=mn/3,c=r.inactive?s:r.color;if(r.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:mn,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(mn,"M").concat(2*o,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(mn/8,"h").concat(mn,"v").concat(mn*3/4,"h").concat(-mn,"z"),className:"recharts-legend-icon"});if(R.isValidElement(r.legendIcon)){var d=TI({},r);return delete d.legendIcon,R.cloneElement(r.legendIcon,d)}return R.createElement($0,{fill:c,cx:i,cy:i,size:mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,l=s.iconSize,o=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:mn,height:mn},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,m){var j=x.formatter||c,h=ue(Bl(Bl({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",x.inactive));if(x.type==="none")return null;var y=Ne(x.value)?null:x.value;Ma(!Ne(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=x.inactive?d:x.color;return R.createElement("li",th({className:h,style:f,key:"legend-item-".concat(m)},xd(r.props,x,m)),R.createElement(qm,{width:l,height:l,viewBox:u,style:p},r.renderIcon(x)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},j?j(y,x,m):y))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,l=r.align;if(!s||!s.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(w.PureComponent);Bl(I0,"displayName","Legend");Bl(I0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var FI=qu;function UI(){this.__data__=new FI,this.size=0}var VI=UI;function WI(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var HI=WI;function qI(e){return this.__data__.get(e)}var GI=qI;function KI(e){return this.__data__.has(e)}var XI=KI,YI=qu,QI=j0,JI=w0,ZI=200;function eM(e,t){var n=this.__data__;if(n instanceof YI){var r=n.__data__;if(!QI||r.length<ZI-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new JI(r)}return n.set(e,t),this.size=n.size,this}var tM=eM,nM=qu,rM=VI,aM=HI,sM=GI,iM=XI,lM=tM;function Si(e){var t=this.__data__=new nM(e);this.size=t.size}Si.prototype.clear=rM;Si.prototype.delete=aM;Si.prototype.get=sM;Si.prototype.has=iM;Si.prototype.set=lM;var DS=Si,oM="__lodash_hash_undefined__";function cM(e){return this.__data__.set(e,oM),this}var dM=cM;function uM(e){return this.__data__.has(e)}var fM=uM,pM=w0,mM=dM,hM=fM;function Nd(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new pM;++t<n;)this.add(e[t])}Nd.prototype.add=Nd.prototype.push=mM;Nd.prototype.has=hM;var RS=Nd;function xM(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var LS=xM;function gM(e,t){return e.has(t)}var zS=gM,yM=RS,vM=LS,bM=zS,jM=1,wM=2;function NM(e,t,n,r,s,i){var l=n&jM,o=e.length,c=t.length;if(o!=c&&!(l&&c>o))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,p=!0,x=n&wM?new yM:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var m=e[f],j=t[f];if(r)var h=l?r(j,m,f,t,e,i):r(m,j,f,e,t,i);if(h!==void 0){if(h)continue;p=!1;break}if(x){if(!vM(t,function(y,g){if(!bM(x,g)&&(m===y||s(m,y,n,r,i)))return x.push(g)})){p=!1;break}}else if(!(m===j||s(m,j,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var BS=NM,SM=cr,kM=SM.Uint8Array,CM=kM;function OM(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var _M=OM;function PM(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var M0=PM,Ov=$o,_v=CM,AM=b0,EM=BS,TM=_M,$M=M0,IM=1,MM=2,DM="[object Boolean]",RM="[object Date]",LM="[object Error]",zM="[object Map]",BM="[object Number]",FM="[object RegExp]",UM="[object Set]",VM="[object String]",WM="[object Symbol]",HM="[object ArrayBuffer]",qM="[object DataView]",Pv=Ov?Ov.prototype:void 0,gp=Pv?Pv.valueOf:void 0;function GM(e,t,n,r,s,i,l){switch(n){case qM:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case HM:return!(e.byteLength!=t.byteLength||!i(new _v(e),new _v(t)));case DM:case RM:case BM:return AM(+e,+t);case LM:return e.name==t.name&&e.message==t.message;case FM:case VM:return e==t+"";case zM:var o=TM;case UM:var c=r&IM;if(o||(o=$M),e.size!=t.size&&!c)return!1;var d=l.get(e);if(d)return d==t;r|=MM,l.set(e,t);var u=EM(o(e),o(t),r,s,i,l);return l.delete(e),u;case WM:if(gp)return gp.call(e)==gp.call(t)}return!1}var KM=GM;function XM(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var FS=XM,YM=FS,QM=Zt;function JM(e,t,n){var r=t(e);return QM(e)?r:YM(r,n(e))}var ZM=JM;function eD(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var l=e[n];t(l,n,e)&&(i[s++]=l)}return i}var tD=eD;function nD(){return[]}var rD=nD,aD=tD,sD=rD,iD=Object.prototype,lD=iD.propertyIsEnumerable,Av=Object.getOwnPropertySymbols,oD=Av?function(e){return e==null?[]:(e=Object(e),aD(Av(e),function(t){return lD.call(e,t)}))}:sD,cD=oD;function dD(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var uD=dD,fD=Tr,pD=$r,mD="[object Arguments]";function hD(e){return pD(e)&&fD(e)==mD}var xD=hD,Ev=xD,gD=$r,US=Object.prototype,yD=US.hasOwnProperty,vD=US.propertyIsEnumerable,bD=Ev(function(){return arguments}())?Ev:function(e){return gD(e)&&yD.call(e,"callee")&&!vD.call(e,"callee")},D0=bD,Sd={exports:{}};function jD(){return!1}var wD=jD;Sd.exports;(function(e,t){var n=cr,r=wD,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,o=l?n.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||r;e.exports=d})(Sd,Sd.exports);var VS=Sd.exports,ND=9007199254740991,SD=/^(?:0|[1-9]\d*)$/;function kD(e,t){var n=typeof e;return t=t??ND,!!t&&(n=="number"||n!="symbol"&&SD.test(e))&&e>-1&&e%1==0&&e<t}var R0=kD,CD=9007199254740991;function OD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=CD}var L0=OD,_D=Tr,PD=L0,AD=$r,ED="[object Arguments]",TD="[object Array]",$D="[object Boolean]",ID="[object Date]",MD="[object Error]",DD="[object Function]",RD="[object Map]",LD="[object Number]",zD="[object Object]",BD="[object RegExp]",FD="[object Set]",UD="[object String]",VD="[object WeakMap]",WD="[object ArrayBuffer]",HD="[object DataView]",qD="[object Float32Array]",GD="[object Float64Array]",KD="[object Int8Array]",XD="[object Int16Array]",YD="[object Int32Array]",QD="[object Uint8Array]",JD="[object Uint8ClampedArray]",ZD="[object Uint16Array]",e8="[object Uint32Array]",Fe={};Fe[qD]=Fe[GD]=Fe[KD]=Fe[XD]=Fe[YD]=Fe[QD]=Fe[JD]=Fe[ZD]=Fe[e8]=!0;Fe[ED]=Fe[TD]=Fe[WD]=Fe[$D]=Fe[HD]=Fe[ID]=Fe[MD]=Fe[DD]=Fe[RD]=Fe[LD]=Fe[zD]=Fe[BD]=Fe[FD]=Fe[UD]=Fe[VD]=!1;function t8(e){return AD(e)&&PD(e.length)&&!!Fe[_D(e)]}var n8=t8;function r8(e){return function(t){return e(t)}}var WS=r8,kd={exports:{}};kd.exports;(function(e,t){var n=J2,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,l=i&&n.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();e.exports=o})(kd,kd.exports);var a8=kd.exports,s8=n8,i8=WS,Tv=a8,$v=Tv&&Tv.isTypedArray,l8=$v?i8($v):s8,HS=l8,o8=uD,c8=D0,d8=Zt,u8=VS,f8=R0,p8=HS,m8=Object.prototype,h8=m8.hasOwnProperty;function x8(e,t){var n=d8(e),r=!n&&c8(e),s=!n&&!r&&u8(e),i=!n&&!r&&!s&&p8(e),l=n||r||s||i,o=l?o8(e.length,String):[],c=o.length;for(var d in e)(t||h8.call(e,d))&&!(l&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||f8(d,c)))&&o.push(d);return o}var g8=x8,y8=Object.prototype;function v8(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||y8;return e===n}var b8=v8;function j8(e,t){return function(n){return e(t(n))}}var qS=j8,w8=qS,N8=w8(Object.keys,Object),S8=N8,k8=b8,C8=S8,O8=Object.prototype,_8=O8.hasOwnProperty;function P8(e){if(!k8(e))return C8(e);var t=[];for(var n in Object(e))_8.call(e,n)&&n!="constructor"&&t.push(n);return t}var A8=P8,E8=v0,T8=L0;function $8(e){return e!=null&&T8(e.length)&&!E8(e)}var uf=$8,I8=g8,M8=A8,D8=uf;function R8(e){return D8(e)?I8(e):M8(e)}var z0=R8,L8=ZM,z8=cD,B8=z0;function F8(e){return L8(e,B8,z8)}var U8=F8,Iv=U8,V8=1,W8=Object.prototype,H8=W8.hasOwnProperty;function q8(e,t,n,r,s,i){var l=n&V8,o=Iv(e),c=o.length,d=Iv(t),u=d.length;if(c!=u&&!l)return!1;for(var f=c;f--;){var p=o[f];if(!(l?p in t:H8.call(t,p)))return!1}var x=i.get(e),m=i.get(t);if(x&&m)return x==t&&m==e;var j=!0;i.set(e,t),i.set(t,e);for(var h=l;++f<c;){p=o[f];var y=e[p],g=t[p];if(r)var b=l?r(g,y,p,t,e,i):r(y,g,p,e,t,i);if(!(b===void 0?y===g||s(y,g,n,r,i):b)){j=!1;break}h||(h=p=="constructor")}if(j&&!h){var N=e.constructor,v=t.constructor;N!=v&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof v=="function"&&v instanceof v)&&(j=!1)}return i.delete(e),i.delete(t),j}var G8=q8,K8=Ja,X8=cr,Y8=K8(X8,"DataView"),Q8=Y8,J8=Ja,Z8=cr,eR=J8(Z8,"Promise"),tR=eR,nR=Ja,rR=cr,aR=nR(rR,"Set"),GS=aR,sR=Ja,iR=cr,lR=sR(iR,"WeakMap"),oR=lR,rh=Q8,ah=j0,sh=tR,ih=GS,lh=oR,KS=Tr,ki=eS,Mv="[object Map]",cR="[object Object]",Dv="[object Promise]",Rv="[object Set]",Lv="[object WeakMap]",zv="[object DataView]",dR=ki(rh),uR=ki(ah),fR=ki(sh),pR=ki(ih),mR=ki(lh),ba=KS;(rh&&ba(new rh(new ArrayBuffer(1)))!=zv||ah&&ba(new ah)!=Mv||sh&&ba(sh.resolve())!=Dv||ih&&ba(new ih)!=Rv||lh&&ba(new lh)!=Lv)&&(ba=function(e){var t=KS(e),n=t==cR?e.constructor:void 0,r=n?ki(n):"";if(r)switch(r){case dR:return zv;case uR:return Mv;case fR:return Dv;case pR:return Rv;case mR:return Lv}return t});var hR=ba,yp=DS,xR=BS,gR=KM,yR=G8,Bv=hR,Fv=Zt,Uv=VS,vR=HS,bR=1,Vv="[object Arguments]",Wv="[object Array]",oc="[object Object]",jR=Object.prototype,Hv=jR.hasOwnProperty;function wR(e,t,n,r,s,i){var l=Fv(e),o=Fv(t),c=l?Wv:Bv(e),d=o?Wv:Bv(t);c=c==Vv?oc:c,d=d==Vv?oc:d;var u=c==oc,f=d==oc,p=c==d;if(p&&Uv(e)){if(!Uv(t))return!1;l=!0,u=!1}if(p&&!u)return i||(i=new yp),l||vR(e)?xR(e,t,n,r,s,i):gR(e,t,c,n,r,s,i);if(!(n&bR)){var x=u&&Hv.call(e,"__wrapped__"),m=f&&Hv.call(t,"__wrapped__");if(x||m){var j=x?e.value():e,h=m?t.value():t;return i||(i=new yp),s(j,h,n,r,i)}}return p?(i||(i=new yp),yR(e,t,n,r,s,i)):!1}var NR=wR,SR=NR,qv=$r;function XS(e,t,n,r,s){return e===t?!0:e==null||t==null||!qv(e)&&!qv(t)?e!==e&&t!==t:SR(e,t,n,r,XS,s)}var B0=XS,kR=DS,CR=B0,OR=1,_R=2;function PR(e,t,n,r){var s=n.length,i=s,l=!r;if(e==null)return!i;for(e=Object(e);s--;){var o=n[s];if(l&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<i;){o=n[s];var c=o[0],d=e[c],u=o[1];if(l&&o[2]){if(d===void 0&&!(c in e))return!1}else{var f=new kR;if(r)var p=r(d,u,c,e,t,f);if(!(p===void 0?CR(u,d,OR|_R,r,f):p))return!1}}return!0}var AR=PR,ER=da;function TR(e){return e===e&&!ER(e)}var YS=TR,$R=YS,IR=z0;function MR(e){for(var t=IR(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,$R(s)]}return t}var DR=MR;function RR(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var QS=RR,LR=AR,zR=DR,BR=QS;function FR(e){var t=zR(e);return t.length==1&&t[0][2]?BR(t[0][0],t[0][1]):function(n){return n===e||LR(n,e,t)}}var UR=FR;function VR(e,t){return e!=null&&t in Object(e)}var WR=VR,HR=sS,qR=D0,GR=Zt,KR=R0,XR=L0,YR=Ku;function QR(e,t,n){t=HR(t,e);for(var r=-1,s=t.length,i=!1;++r<s;){var l=YR(t[r]);if(!(i=e!=null&&n(e,l)))break;e=e[l]}return i||++r!=s?i:(s=e==null?0:e.length,!!s&&XR(s)&&KR(l,s)&&(GR(e)||qR(e)))}var JR=QR,ZR=WR,eL=JR;function tL(e,t){return e!=null&&eL(e,t,ZR)}var nL=tL,rL=B0,aL=iS,sL=nL,iL=y0,lL=YS,oL=QS,cL=Ku,dL=1,uL=2;function fL(e,t){return iL(e)&&lL(t)?oL(cL(e),t):function(n){var r=aL(n,e);return r===void 0&&r===t?sL(n,e):rL(t,r,dL|uL)}}var pL=fL;function mL(e){return e}var Ci=mL;function hL(e){return function(t){return t==null?void 0:t[e]}}var xL=hL,gL=k0;function yL(e){return function(t){return gL(t,e)}}var vL=yL,bL=xL,jL=vL,wL=y0,NL=Ku;function SL(e){return wL(e)?bL(NL(e)):jL(e)}var kL=SL,CL=UR,OL=pL,_L=Ci,PL=Zt,AL=kL;function EL(e){return typeof e=="function"?e:e==null?_L:typeof e=="object"?PL(e)?OL(e[0],e[1]):CL(e):AL(e)}var Oi=EL;function TL(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var $L=TL;function IL(e){return e!==e}var ML=IL;function DL(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var RL=DL,LL=$L,zL=ML,BL=RL;function FL(e,t,n){return t===t?BL(e,t,n):LL(e,zL,n)}var UL=FL,VL=UL;function WL(e,t){var n=e==null?0:e.length;return!!n&&VL(e,t,0)>-1}var HL=WL;function qL(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var GL=qL;function KL(){}var XL=KL,vp=GS,YL=XL,QL=M0,JL=1/0,ZL=vp&&1/QL(new vp([,-0]))[1]==JL?function(e){return new vp(e)}:YL,ez=ZL,tz=RS,nz=HL,rz=GL,az=zS,sz=ez,iz=M0,lz=200;function oz(e,t,n){var r=-1,s=nz,i=e.length,l=!0,o=[],c=o;if(n)l=!1,s=rz;else if(i>=lz){var d=t?null:sz(e);if(d)return iz(d);l=!1,s=az,c=new tz}else c=t?[]:o;e:for(;++r<i;){var u=e[r],f=t?t(u):u;if(u=n||u!==0?u:0,l&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),o.push(u)}else s(c,f,n)||(c!==o&&c.push(f),o.push(u))}return o}var cz=oz,dz=Oi,uz=cz;function fz(e,t){return e&&e.length?uz(e,dz(t)):[]}var pz=fz;const Gv=Le(pz);function JS(e,t,n){return t===!0?Gv(e,n):Ne(t)?Gv(e,t):e}function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}var mz=["ref"];function Kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kv(Object(n),!0).forEach(function(r){ff(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ek(r.key),r)}}function xz(e,t,n){return t&&Xv(e.prototype,t),n&&Xv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gz(e,t,n){return t=Cd(t),yz(e,ZS()?Reflect.construct(t,n||[],Cd(e).constructor):t.apply(e,n))}function yz(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vz(e)}function vz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZS=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(e)}function bz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oh(e,t)}function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},oh(e,t)}function ff(e,t,n){return t=ek(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ek(e){var t=jz(e,"string");return Hs(t)=="symbol"?t:t+""}function jz(e,t){if(Hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wz(e,t){if(e==null)return{};var n=Nz(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nz(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sz(e){return e.value}function kz(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var n=wz(t,mz);return R.createElement(I0,n)}var Yv=1,As=function(e){function t(){var n;hz(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=gz(this,t,[].concat(s)),ff(n,"lastBoundingBox",{width:-1,height:-1}),n}return bz(t,e),xz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Yv||Math.abs(s.height-this.lastBoundingBox.height)>Yv)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,l=s.align,o=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();f={left:((d||0)-x.width)/2}}else f=l==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();p={top:((u||0)-m.height)/2}}else p=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return dr(dr({},f),p)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,l=s.width,o=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=dr(dr({position:"absolute",width:l||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){r.wrapperNode=x}},kz(i,dr(dr({},this.props),{},{payload:JS(u,d,Sz)})))}}],[{key:"getWithHeight",value:function(r,s){var i=dr(dr({},this.defaultProps),r.props),l=i.layout;return l==="vertical"&&ne(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||s}:null}}])}(w.PureComponent);ff(As,"displayName","Legend");ff(As,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qv=$o,Cz=D0,Oz=Zt,Jv=Qv?Qv.isConcatSpreadable:void 0;function _z(e){return Oz(e)||Cz(e)||!!(Jv&&e&&e[Jv])}var Pz=_z,Az=FS,Ez=Pz;function tk(e,t,n,r,s){var i=-1,l=e.length;for(n||(n=Ez),s||(s=[]);++i<l;){var o=e[i];t>0&&n(o)?t>1?tk(o,t-1,n,r,s):Az(s,o):r||(s[s.length]=o)}return s}var nk=tk;function Tz(e){return function(t,n,r){for(var s=-1,i=Object(t),l=r(t),o=l.length;o--;){var c=l[e?o:++s];if(n(i[c],c,i)===!1)break}return t}}var $z=Tz,Iz=$z,Mz=Iz(),Dz=Mz,Rz=Dz,Lz=z0;function zz(e,t){return e&&Rz(e,t,Lz)}var rk=zz,Bz=uf;function Fz(e,t){return function(n,r){if(n==null)return n;if(!Bz(n))return e(n,r);for(var s=n.length,i=t?s:-1,l=Object(n);(t?i--:++i<s)&&r(l[i],i,l)!==!1;);return n}}var Uz=Fz,Vz=rk,Wz=Uz,Hz=Wz(Vz),F0=Hz,qz=F0,Gz=uf;function Kz(e,t){var n=-1,r=Gz(e)?Array(e.length):[];return qz(e,function(s,i,l){r[++n]=t(s,i,l)}),r}var ak=Kz;function Xz(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Yz=Xz,Zv=vi;function Qz(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,i=Zv(e),l=t!==void 0,o=t===null,c=t===t,d=Zv(t);if(!o&&!d&&!i&&e>t||i&&l&&c&&!o&&!d||r&&l&&c||!n&&c||!s)return 1;if(!r&&!i&&!d&&e<t||d&&n&&s&&!r&&!i||o&&n&&s||!l&&s||!c)return-1}return 0}var Jz=Qz,Zz=Jz;function eB(e,t,n){for(var r=-1,s=e.criteria,i=t.criteria,l=s.length,o=n.length;++r<l;){var c=Zz(s[r],i[r]);if(c){if(r>=o)return c;var d=n[r];return c*(d=="desc"?-1:1)}}return e.index-t.index}var tB=eB,bp=S0,nB=k0,rB=Oi,aB=ak,sB=Yz,iB=WS,lB=tB,oB=Ci,cB=Zt;function dB(e,t,n){t.length?t=bp(t,function(i){return cB(i)?function(l){return nB(l,i.length===1?i[0]:i)}:i}):t=[oB];var r=-1;t=bp(t,iB(rB));var s=aB(e,function(i,l,o){var c=bp(t,function(d){return d(i)});return{criteria:c,index:++r,value:i}});return sB(s,function(i,l){return lB(i,l,n)})}var uB=dB;function fB(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var pB=fB,mB=pB,eb=Math.max;function hB(e,t,n){return t=eb(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=eb(r.length-t,0),l=Array(i);++s<i;)l[s]=r[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=r[s];return o[t]=n(l),mB(e,this,o)}}var xB=hB;function gB(e){return function(){return e}}var yB=gB,vB=Ja,bB=function(){try{var e=vB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sk=bB,jB=yB,tb=sk,wB=Ci,NB=tb?function(e,t){return tb(e,"toString",{configurable:!0,enumerable:!1,value:jB(t),writable:!0})}:wB,SB=NB,kB=800,CB=16,OB=Date.now;function _B(e){var t=0,n=0;return function(){var r=OB(),s=CB-(r-n);if(n=r,s>0){if(++t>=kB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var PB=_B,AB=SB,EB=PB,TB=EB(AB),$B=TB,IB=Ci,MB=xB,DB=$B;function RB(e,t){return DB(MB(e,t,IB),e+"")}var LB=RB,zB=b0,BB=uf,FB=R0,UB=da;function VB(e,t,n){if(!UB(n))return!1;var r=typeof t;return(r=="number"?BB(n)&&FB(t,n.length):r=="string"&&t in n)?zB(n[t],e):!1}var pf=VB,WB=nk,HB=uB,qB=LB,nb=pf,GB=qB(function(e,t){if(e==null)return[];var n=t.length;return n>1&&nb(e,t[0],t[1])?t=[]:n>2&&nb(t[0],t[1],t[2])&&(t=[t[0]]),HB(e,WB(t,1),[])}),KB=GB;const U0=Le(KB);function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch.apply(this,arguments)}function XB(e,t){return ZB(e)||JB(e,t)||QB(e,t)||YB()}function YB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QB(e,t){if(e){if(typeof e=="string")return rb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rb(e,t)}}function rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function ZB(e){if(Array.isArray(e))return e}function ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(n),!0).forEach(function(r){eF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eF(e,t,n){return t=tF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tF(e){var t=nF(e,"string");return Fl(t)=="symbol"?t:t+""}function nF(e,t){if(Fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rF(e){return Array.isArray(e)&&ct(e[0])&&ct(e[1])?e.join(" ~ "):e}var aF=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,o=l===void 0?{}:l,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,p=t.itemSorter,x=t.wrapperClassName,m=t.labelClassName,j=t.label,h=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(u&&u.length){var $={padding:0,margin:0},I=(p?U0(u,p):u).map(function(D,F){if(D.type==="none")return null;var A=jp({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},o),L=D.formatter||f||rF,_=D.value,P=D.name,U=_,G=P;if(L&&U!=null&&G!=null){var q=L(_,P,D,F,u);if(Array.isArray(q)){var z=XB(q,2);U=z[0],G=z[1]}else U=q}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:A},ct(G)?R.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ct(G)?R.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,R.createElement("span",{className:"recharts-tooltip-item-value"},U),R.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:$},I)}return null},N=jp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),v=jp({margin:0},d),S=!_e(j),k=S?j:"",C=ue("recharts-default-tooltip",x),O=ue("recharts-tooltip-label",m);S&&h&&u!==void 0&&u!==null&&(k=h(j,u));var E=g?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",ch({className:C,style:N},E),R.createElement("p",{className:O,style:v},R.isValidElement(k)?k:"".concat(k)),b())};function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function cc(e,t,n){return t=sF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sF(e){var t=iF(e,"string");return Ul(t)=="symbol"?t:t+""}function iF(e,t){if(Ul(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hi="recharts-tooltip-wrapper",lF={visibility:"hidden"};function oF(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ue(Hi,cc(cc(cc(cc({},"".concat(Hi,"-right"),ne(n)&&t&&ne(t.x)&&n>=t.x),"".concat(Hi,"-left"),ne(n)&&t&&ne(t.x)&&n<t.x),"".concat(Hi,"-bottom"),ne(r)&&t&&ne(t.y)&&r>=t.y),"".concat(Hi,"-top"),ne(r)&&t&&ne(t.y)&&r<t.y))}function sb(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&ne(i[r]))return i[r];var u=n[r]-o-s,f=n[r]+s;if(t[r])return l[r]?u:f;if(l[r]){var p=u,x=c[r];return p<x?Math.max(f,c[r]):Math.max(u,c[r])}var m=f+o,j=c[r]+d;return m>j?Math.max(u,c[r]):Math.max(f,c[r])}function cF(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function dF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,d,u,f;return l.height>0&&l.width>0&&n?(u=sb({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=sb({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=cF({translateX:u,translateY:f,useTranslate3d:o})):d=lF,{cssProperties:d,cssClasses:oF({translateX:u,translateY:f,coordinate:n})}}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(n),!0).forEach(function(r){uh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lk(r.key),r)}}function pF(e,t,n){return t&&fF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mF(e,t,n){return t=Od(t),hF(e,ik()?Reflect.construct(t,n||[],Od(e).constructor):t.apply(e,n))}function hF(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xF(e)}function xF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(e)}function gF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dh(e,t)}function dh(e,t){return dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},dh(e,t)}function uh(e,t,n){return t=lk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lk(e){var t=yF(e,"string");return qs(t)=="symbol"?t:t+""}function yF(e,t){if(qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ob=1,vF=function(e){function t(){var n;uF(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=mF(this,t,[].concat(s)),uh(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uh(n,"handleKeyDown",function(l){if(l.key==="Escape"){var o,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return gF(t,e),pF(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ob||Math.abs(r.height-this.state.lastBoundingBox.height)>ob)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,o=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,p=s.isAnimationActive,x=s.offset,m=s.position,j=s.reverseDirection,h=s.useTranslate3d,y=s.viewBox,g=s.wrapperStyle,b=dF({allowEscapeViewBox:l,coordinate:u,offsetTopLeft:x,position:m,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:y}),N=b.cssClasses,v=b.cssProperties,S=lb(lb({transition:p&&i?"transform ".concat(o,"ms ").concat(c):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return R.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(C){r.wrapperNode=C}},d)}}])}(w.PureComponent),bF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mo={isSsr:bF()};function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function db(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(n),!0).forEach(function(r){V0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ck(r.key),r)}}function NF(e,t,n){return t&&wF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SF(e,t,n){return t=_d(t),kF(e,ok()?Reflect.construct(t,n||[],_d(e).constructor):t.apply(e,n))}function kF(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CF(e)}function CF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ok(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ok=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_d(e)}function OF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fh(e,t)}function fh(e,t){return fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},fh(e,t)}function V0(e,t,n){return t=ck(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ck(e){var t=_F(e,"string");return Gs(t)=="symbol"?t:t+""}function _F(e,t){if(Gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PF(e){return e.dataKey}function AF(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(aF,t)}var $n=function(e){function t(){return jF(this,t),SF(this,t,arguments)}return OF(t,e),NF(t,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,o=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,p=s.isAnimationActive,x=s.offset,m=s.payload,j=s.payloadUniqBy,h=s.position,y=s.reverseDirection,g=s.useTranslate3d,b=s.viewBox,N=s.wrapperStyle,v=m??[];f&&v.length&&(v=JS(m.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),j,PF));var S=v.length>0;return R.createElement(vF,{allowEscapeViewBox:l,animationDuration:o,animationEasing:c,isAnimationActive:p,active:i,coordinate:u,hasPayload:S,offset:x,position:h,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:N},AF(d,db(db({},this.props),{},{payload:v})))}}])}(w.PureComponent);V0($n,"displayName","Tooltip");V0($n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var EF=cr,TF=function(){return EF.Date.now()},$F=TF,IF=/\s/;function MF(e){for(var t=e.length;t--&&IF.test(e.charAt(t)););return t}var DF=MF,RF=DF,LF=/^\s+/;function zF(e){return e&&e.slice(0,RF(e)+1).replace(LF,"")}var BF=zF,FF=BF,ub=da,UF=vi,fb=NaN,VF=/^[-+]0x[0-9a-f]+$/i,WF=/^0b[01]+$/i,HF=/^0o[0-7]+$/i,qF=parseInt;function GF(e){if(typeof e=="number")return e;if(UF(e))return fb;if(ub(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ub(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=FF(e);var n=WF.test(e);return n||HF.test(e)?qF(e.slice(2),n?2:8):VF.test(e)?fb:+e}var dk=GF,KF=da,wp=$F,pb=dk,XF="Expected a function",YF=Math.max,QF=Math.min;function JF(e,t,n){var r,s,i,l,o,c,d=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(XF);t=pb(t)||0,KF(n)&&(u=!!n.leading,f="maxWait"in n,i=f?YF(pb(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function x(S){var k=r,C=s;return r=s=void 0,d=S,l=e.apply(C,k),l}function m(S){return d=S,o=setTimeout(y,t),u?x(S):l}function j(S){var k=S-c,C=S-d,O=t-k;return f?QF(O,i-C):O}function h(S){var k=S-c,C=S-d;return c===void 0||k>=t||k<0||f&&C>=i}function y(){var S=wp();if(h(S))return g(S);o=setTimeout(y,j(S))}function g(S){return o=void 0,p&&r?x(S):(r=s=void 0,l)}function b(){o!==void 0&&clearTimeout(o),d=0,r=c=s=o=void 0}function N(){return o===void 0?l:g(wp())}function v(){var S=wp(),k=h(S);if(r=arguments,s=this,c=S,k){if(o===void 0)return m(c);if(f)return clearTimeout(o),o=setTimeout(y,t),x(c)}return o===void 0&&(o=setTimeout(y,t)),l}return v.cancel=b,v.flush=N,v}var ZF=JF,eU=ZF,tU=da,nU="Expected a function";function rU(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(nU);return tU(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),eU(e,t,{leading:r,maxWait:t,trailing:s})}var aU=rU;const uk=Le(aU);function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(n),!0).forEach(function(r){sU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sU(e,t,n){return t=iU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iU(e){var t=lU(e,"string");return Vl(t)=="symbol"?t:t+""}function lU(e,t){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oU(e,t){return fU(e)||uU(e,t)||dU(e,t)||cU()}function cU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(e,t){if(e){if(typeof e=="string")return hb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(e,t)}}function hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function fU(e){if(Array.isArray(e))return e}var fk=w.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=e.width,l=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,p=e.maxHeight,x=e.children,m=e.debounce,j=m===void 0?0:m,h=e.id,y=e.className,g=e.onResize,b=e.style,N=b===void 0?{}:b,v=w.useRef(null),S=w.useRef();S.current=g,w.useImperativeHandle(t,function(){return Object.defineProperty(v.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),v.current},configurable:!0})});var k=w.useState({containerWidth:s.width,containerHeight:s.height}),C=oU(k,2),O=C[0],E=C[1],M=w.useCallback(function(I,D){E(function(F){var A=Math.round(I),L=Math.round(D);return F.containerWidth===A&&F.containerHeight===L?F:{containerWidth:A,containerHeight:L}})},[]);w.useEffect(function(){var I=function(P){var U,G=P[0].contentRect,q=G.width,z=G.height;M(q,z),(U=S.current)===null||U===void 0||U.call(S,q,z)};j>0&&(I=uk(I,j,{trailing:!0,leading:!1}));var D=new ResizeObserver(I),F=v.current.getBoundingClientRect(),A=F.width,L=F.height;return M(A,L),D.observe(v.current),function(){D.disconnect()}},[M,j]);var $=w.useMemo(function(){var I=O.containerWidth,D=O.containerHeight;if(I<0||D<0)return null;Ma(Oa(l)||Oa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),Ma(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Oa(l)?I:l,A=Oa(c)?D:c;n&&n>0&&(F?A=F/n:A&&(F=A*n),p&&A>p&&(A=p)),Ma(F>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,A,l,c,u,f,n);var L=!Array.isArray(x)&&vr(x.type).endsWith("Chart");return R.Children.map(x,function(_){return R.isValidElement(_)?w.cloneElement(_,dc({width:F,height:A},L?{style:dc({height:"100%",width:"100%",maxHeight:A,maxWidth:F},_.props.style)}:{})):_})},[n,x,c,p,f,u,O,l]);return R.createElement("div",{id:h?"".concat(h):void 0,className:ue("recharts-responsive-container",y),style:dc(dc({},N),{},{width:l,height:c,minWidth:u,minHeight:f,maxHeight:p}),ref:v},$)}),pk=function(t){return null};pk.displayName="Cell";function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(n),!0).forEach(function(r){pU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pU(e,t,n){return t=mU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mU(e){var t=hU(e,"string");return Wl(t)=="symbol"?t:t+""}function hU(e,t){if(Wl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var as={widthCache:{},cacheCount:0},xU=2e3,gU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gb="recharts_measurement_span";function yU(e){var t=ph({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var hl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mo.isSsr)return{width:0,height:0};var r=yU(n),s=JSON.stringify({text:t,copyStyle:r});if(as.widthCache[s])return as.widthCache[s];try{var i=document.getElementById(gb);i||(i=document.createElement("span"),i.setAttribute("id",gb),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=ph(ph({},gU),r);Object.assign(i.style,l),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return as.widthCache[s]=c,++as.cacheCount>xU&&(as.cacheCount=0,as.widthCache={}),c}catch{return{width:0,height:0}}},vU=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Pd(e,t){return NU(e)||wU(e,t)||jU(e,t)||bU()}function bU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jU(e,t){if(e){if(typeof e=="string")return yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yb(e,t)}}function yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function NU(e){if(Array.isArray(e))return e}function SU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CU(r.key),r)}}function kU(e,t,n){return t&&vb(e.prototype,t),n&&vb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CU(e){var t=OU(e,"string");return Hl(t)=="symbol"?t:t+""}function OU(e,t){if(Hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_U=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},AU=Object.keys(mk),vs="NaN";function EU(e,t){return e*mk[t]}var uc=function(){function e(t,n){SU(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!_U.test(n)&&(this.num=NaN,this.unit=""),AU.includes(n)&&(this.num=EU(t,n),this.unit="px")}return kU(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=PU.exec(n))!==null&&r!==void 0?r:[],i=Pd(s,3),l=i[1],o=i[2];return new e(parseFloat(l),o??"")}}])}();function hk(e){if(e.includes(vs))return vs;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=bb.exec(t))!==null&&n!==void 0?n:[],s=Pd(r,4),i=s[1],l=s[2],o=s[3],c=uc.parse(i??""),d=uc.parse(o??""),u=l==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return vs;t=t.replace(bb,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=jb.exec(t))!==null&&f!==void 0?f:[],x=Pd(p,4),m=x[1],j=x[2],h=x[3],y=uc.parse(m??""),g=uc.parse(h??""),b=j==="+"?y.add(g):y.subtract(g);if(b.isNaN())return vs;t=t.replace(jb,b.toString())}return t}var wb=/\(([^()]*)\)/;function TU(e){for(var t=e;t.includes("(");){var n=wb.exec(t),r=Pd(n,2),s=r[1];t=t.replace(wb,hk(s))}return t}function $U(e){var t=e.replace(/\s+/g,"");return t=TU(t),t=hk(t),t}function IU(e){try{return $U(e)}catch{return vs}}function Np(e){var t=IU(e.slice(5,-1));return t===vs?"":t}var MU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],DU=["dx","dy","angle","className","breakAll"];function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(this,arguments)}function Nb(e,t){if(e==null)return{};var n=RU(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RU(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sb(e,t){return FU(e)||BU(e,t)||zU(e,t)||LU()}function LU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zU(e,t){if(e){if(typeof e=="string")return kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kb(e,t)}}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function FU(e){if(Array.isArray(e))return e}var xk=/[ \f\n\r\t\v\u2028\u2029]+/,gk=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var i=[];_e(n)||(r?i=n.toString().split(""):i=n.toString().split(xk));var l=i.map(function(c){return{word:c,width:hl(c,s).width}}),o=r?0:hl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:o}}catch{return null}},UU=function(t,n,r,s,i){var l=t.maxLines,o=t.children,c=t.style,d=t.breakAll,u=ne(l),f=o,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(A,L){var _=L.word,P=L.width,U=A[A.length-1];if(U&&(s==null||i||U.width+P+r<Number(s)))U.words.push(_),U.width+=P+r;else{var G={words:[_],width:P};A.push(G)}return A},[])},x=p(n),m=function(F){return F.reduce(function(A,L){return A.width>L.width?A:L})};if(!u)return x;for(var j="",h=function(F){var A=f.slice(0,F),L=gk({breakAll:d,style:c,children:A+j}).wordsWithComputedWidth,_=p(L),P=_.length>l||m(_).width>Number(s);return[P,_]},y=0,g=f.length-1,b=0,N;y<=g&&b<=f.length-1;){var v=Math.floor((y+g)/2),S=v-1,k=h(S),C=Sb(k,2),O=C[0],E=C[1],M=h(v),$=Sb(M,1),I=$[0];if(!O&&!I&&(y=v+1),O&&I&&(g=v-1),!O&&I){N=E;break}b++}return N||x},Cb=function(t){var n=_e(t)?[]:t.toString().split(xk);return[{words:n}]},VU=function(t){var n=t.width,r=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,o=t.maxLines;if((n||r)&&!Mo.isSsr){var c,d,u=gk({breakAll:l,children:s,style:i});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;c=f,d=p}else return Cb(s);return UU({breakAll:l,children:s,maxLines:o,style:i},c,d,n,r)}return Cb(s)},Ob="#808080",Ad=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.lineHeight,o=l===void 0?"1em":l,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,x=p===void 0?"start":p,m=t.verticalAnchor,j=m===void 0?"end":m,h=t.fill,y=h===void 0?Ob:h,g=Nb(t,MU),b=w.useMemo(function(){return VU({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),N=g.dx,v=g.dy,S=g.angle,k=g.className,C=g.breakAll,O=Nb(g,DU);if(!ct(r)||!ct(i))return null;var E=r+(ne(N)?N:0),M=i+(ne(v)?v:0),$;switch(j){case"start":$=Np("calc(".concat(d,")"));break;case"middle":$=Np("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(d," / 2))"));break;default:$=Np("calc(".concat(b.length-1," * -").concat(o,")"));break}var I=[];if(f){var D=b[0].width,F=g.width;I.push("scale(".concat((ne(F)?F/D:1)/D,")"))}return S&&I.push("rotate(".concat(S,", ").concat(E,", ").concat(M,")")),I.length&&(O.transform=I.join(" ")),R.createElement("text",mh({},Ae(O,!0),{x:E,y:M,className:ue("recharts-text",k),textAnchor:x,fill:y.includes("url")?Ob:y}),b.map(function(A,L){var _=A.words.join(C?"":" ");return R.createElement("tspan",{x:E,dy:L===0?$:o,key:"".concat(_,"-").concat(L)},_)}))};function na(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function W0(e){let t,n,r;e.length!==2?(t=na,n=(o,c)=>na(e(o),c),r=(o,c)=>e(o)-c):(t=e===na||e===WU?e:HU,n=e,r=e);function s(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(o[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(o[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function l(o,c,d=0,u=o.length){const f=s(o,c,d,u-1);return f>d&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:s,center:l,right:i}}function HU(){return 0}function yk(e){return e===null?NaN:+e}function*qU(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const GU=W0(na),Do=GU.right;W0(yk).center;class _b extends Map{constructor(t,n=YU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(Pb(this,t))}has(t){return super.has(Pb(this,t))}set(t,n){return super.set(KU(this,t),n)}delete(t){return super.delete(XU(this,t))}}function Pb({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function KU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function XU({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function YU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function QU(e=na){if(e===na)return vk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function vk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const JU=Math.sqrt(50),ZU=Math.sqrt(10),e7=Math.sqrt(2);function Ed(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),l=i>=JU?10:i>=ZU?5:i>=e7?2:1;let o,c,d;return s<0?(d=Math.pow(10,-s)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=n&&n<2?Ed(e,t,n*2):[o,c,d]}function hh(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,l]=r?Ed(t,e,n):Ed(e,t,n);if(!(i>=s))return[];const o=i-s+1,c=new Array(o);if(r)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(s+d)/-l;else for(let d=0;d<o;++d)c[d]=(s+d)*l;return c}function xh(e,t,n){return t=+t,e=+e,n=+n,Ed(e,t,n)[2]}function gh(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?xh(t,e,n):xh(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function Ab(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Eb(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bk(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?vk:QU(s);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),x=Math.max(n,Math.floor(t-d*f/c+p)),m=Math.min(r,Math.floor(t+(c-d)*f/c+p));bk(e,t,x,m,s)}const i=e[t];let l=n,o=r;for(qi(e,n,t),s(e[r],i)>0&&qi(e,n,r);l<o;){for(qi(e,l,o),++l,--o;s(e[l],i)<0;)++l;for(;s(e[o],i)>0;)--o}s(e[n],i)===0?qi(e,n,o):(++o,qi(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function qi(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function t7(e,t,n){if(e=Float64Array.from(qU(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Eb(e);if(t>=1)return Ab(e);var r,s=(r-1)*t,i=Math.floor(s),l=Ab(bk(e,i).subarray(0,i+1)),o=Eb(e.subarray(i+1));return l+(o-l)*(s-i)}}function n7(e,t,n=yk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,i=Math.floor(s),l=+n(e[i],i,e),o=+n(e[i+1],i+1,e);return l+(o-l)*(s-i)}}function r7(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function _n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ir(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yh=Symbol("implicit");function H0(){var e=new _b,t=[],n=[],r=yh;function s(i){let l=e.get(i);if(l===void 0){if(r!==yh)return r;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new _b;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return H0(t,n).unknown(r)},_n.apply(s,arguments),s}function ql(){var e=H0().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,x=s<r,m=x?s:r,j=x?r:s;i=(j-m)/Math.max(1,p-c+d*2),o&&(i=Math.floor(i)),m+=(j-m-i*(p-c))*u,l=i*(1-c),o&&(m=Math.round(m),l=Math.round(l));var h=r7(p).map(function(y){return m+i*y});return n(x?h.reverse():h)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,s]=p,r=+r,s=+s,f()):[r,s]},e.rangeRound=function(p){return[r,s]=p,r=+r,s=+s,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return ql(t(),[r,s]).round(o).paddingInner(c).paddingOuter(d).align(u)},_n.apply(f(),arguments)}function jk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jk(t())},e}function xl(){return jk(ql.apply(null,arguments).paddingInner(1))}function q0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ro(){}var Gl=.7,Td=1/Gl,Es="\\s*([+-]?\\d+)\\s*",Kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a7=/^#([0-9a-f]{3,8})$/,s7=new RegExp(`^rgb\\(${Es},${Es},${Es}\\)$`),i7=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),l7=new RegExp(`^rgba\\(${Es},${Es},${Es},${Kl}\\)$`),o7=new RegExp(`^rgba\\(${rr},${rr},${rr},${Kl}\\)$`),c7=new RegExp(`^hsl\\(${Kl},${rr},${rr}\\)$`),d7=new RegExp(`^hsla\\(${Kl},${rr},${rr},${Kl}\\)$`),Tb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q0(Ro,Xl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$b,formatHex:$b,formatHex8:u7,formatHsl:f7,formatRgb:Ib,toString:Ib});function $b(){return this.rgb().formatHex()}function u7(){return this.rgb().formatHex8()}function f7(){return Nk(this).formatHsl()}function Ib(){return this.rgb().formatRgb()}function Xl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=a7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Mb(t):n===3?new qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s7.exec(e))?new qt(t[1],t[2],t[3],1):(t=i7.exec(e))?new qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=l7.exec(e))?fc(t[1],t[2],t[3],t[4]):(t=o7.exec(e))?fc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=c7.exec(e))?Lb(t[1],t[2]/100,t[3]/100,1):(t=d7.exec(e))?Lb(t[1],t[2]/100,t[3]/100,t[4]):Tb.hasOwnProperty(e)?Mb(Tb[e]):e==="transparent"?new qt(NaN,NaN,NaN,0):null}function Mb(e){return new qt(e>>16&255,e>>8&255,e&255,1)}function fc(e,t,n,r){return r<=0&&(e=t=n=NaN),new qt(e,t,n,r)}function p7(e){return e instanceof Ro||(e=Xl(e)),e?(e=e.rgb(),new qt(e.r,e.g,e.b,e.opacity)):new qt}function vh(e,t,n,r){return arguments.length===1?p7(e):new qt(e,t,n,r??1)}function qt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}q0(qt,vh,wk(Ro,{brighter(e){return e=e==null?Td:Math.pow(Td,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gl:Math.pow(Gl,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qt(Da(this.r),Da(this.g),Da(this.b),$d(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Db,formatHex:Db,formatHex8:m7,formatRgb:Rb,toString:Rb}));function Db(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}`}function m7(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}${_a((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rb(){const e=$d(this.opacity);return`${e===1?"rgb(":"rgba("}${Da(this.r)}, ${Da(this.g)}, ${Da(this.b)}${e===1?")":`, ${e})`}`}function $d(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Da(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _a(e){return e=Da(e),(e<16?"0":"")+e.toString(16)}function Lb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dn(e,t,n,r)}function Nk(e){if(e instanceof Dn)return new Dn(e.h,e.s,e.l,e.opacity);if(e instanceof Ro||(e=Xl(e)),!e)return new Dn;if(e instanceof Dn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,o=i-s,c=(i+s)/2;return o?(t===i?l=(n-r)/o+(n<r)*6:n===i?l=(r-t)/o+2:l=(t-n)/o+4,o/=c<.5?i+s:2-i-s,l*=60):o=c>0&&c<1?0:l,new Dn(l,o,c,e.opacity)}function h7(e,t,n,r){return arguments.length===1?Nk(e):new Dn(e,t,n,r??1)}function Dn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}q0(Dn,h7,wk(Ro,{brighter(e){return e=e==null?Td:Math.pow(Td,e),new Dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gl:Math.pow(Gl,e),new Dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new qt(Sp(e>=240?e-240:e+120,s,r),Sp(e,s,r),Sp(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Dn(zb(this.h),pc(this.s),pc(this.l),$d(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$d(this.opacity);return`${e===1?"hsl(":"hsla("}${zb(this.h)}, ${pc(this.s)*100}%, ${pc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zb(e){return e=(e||0)%360,e<0?e+360:e}function pc(e){return Math.max(0,Math.min(1,e||0))}function Sp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const G0=e=>()=>e;function x7(e,t){return function(n){return e+n*t}}function g7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function y7(e){return(e=+e)==1?Sk:function(t,n){return n-t?g7(t,n,e):G0(isNaN(t)?n:t)}}function Sk(e,t){var n=t-e;return n?x7(e,n):G0(isNaN(e)?t:e)}const Bb=function e(t){var n=y7(t);function r(s,i){var l=n((s=vh(s)).r,(i=vh(i)).r),o=n(s.g,i.g),c=n(s.b,i.b),d=Sk(s.opacity,i.opacity);return function(u){return s.r=l(u),s.g=o(u),s.b=c(u),s.opacity=d(u),s+""}}return r.gamma=e,r}(1);function v7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function b7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function j7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),l;for(l=0;l<r;++l)s[l]=_i(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(o){for(l=0;l<r;++l)i[l]=s[l](o);return i}}function w7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Id(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function N7(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=_i(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var bh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kp=new RegExp(bh.source,"g");function S7(e){return function(){return e}}function k7(e){return function(t){return e(t)+""}}function C7(e,t){var n=bh.lastIndex=kp.lastIndex=0,r,s,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(r=bh.exec(e))&&(s=kp.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),o[l]?o[l]+=i:o[++l]=i),(r=r[0])===(s=s[0])?o[l]?o[l]+=s:o[++l]=s:(o[++l]=null,c.push({i:l,x:Id(r,s)})),n=kp.lastIndex;return n<t.length&&(i=t.slice(n),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?k7(c[0].x):S7(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)o[(f=c[u]).i]=f.x(d);return o.join("")})}function _i(e,t){var n=typeof t,r;return t==null||n==="boolean"?G0(t):(n==="number"?Id:n==="string"?(r=Xl(t))?(t=r,Bb):C7:t instanceof Xl?Bb:t instanceof Date?w7:b7(t)?v7:Array.isArray(t)?j7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?N7:Id)(e,t)}function K0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function O7(e,t){t===void 0&&(t=e,e=_i);for(var n=0,r=t.length-1,s=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(s,s=t[++n]);return function(l){var o=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return i[o](l-o)}}function _7(e){return function(){return e}}function Md(e){return+e}var Fb=[0,1];function Mt(e){return e}function jh(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:_7(isNaN(t)?NaN:.5)}function P7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function A7(e,t,n){var r=e[0],s=e[1],i=t[0],l=t[1];return s<r?(r=jh(s,r),i=n(l,i)):(r=jh(r,s),i=n(i,l)),function(o){return i(r(o))}}function E7(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)s[l]=jh(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(o){var c=Do(e,o,1,r)-1;return i[c](s[c](o))}}function Lo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mf(){var e=Fb,t=Fb,n=_i,r,s,i,l=Mt,o,c,d;function u(){var p=Math.min(e.length,t.length);return l!==Mt&&(l=P7(e[0],e[p-1])),o=p>2?E7:A7,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=o(e.map(r),t,n)))(r(l(p)))}return f.invert=function(p){return l(s((d||(d=o(t,e.map(r),Id)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Md),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=K0,u()},f.clamp=function(p){return arguments.length?(l=p?!0:Mt,u()):l!==Mt},f.interpolate=function(p){return arguments.length?(n=p,u()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,x){return r=p,s=x,u()}}function X0(){return mf()(Mt,Mt)}function T7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Dd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ks(e){return e=Dd(Math.abs(e)),e?e[1]:NaN}function $7(e,t){return function(n,r){for(var s=n.length,i=[],l=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),i.push(n.substring(s-=o,s+o)),!((c+=o+1)>r));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function I7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var M7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yl(e){if(!(t=M7.exec(e)))throw new Error("invalid format: "+e);var t;return new Y0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yl.prototype=Y0.prototype;function Y0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Y0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D7(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var kk;function R7(e,t){var n=Dd(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(kk=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=r.length;return i===l?r:i>l?r+new Array(i-l+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Dd(e,Math.max(0,t+i-1))[0]}function Ub(e,t){var n=Dd(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Vb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:T7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ub(e*100,t),r:Ub,s:R7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wb(e){return e}var Hb=Array.prototype.map,qb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function L7(e){var t=e.grouping===void 0||e.thousands===void 0?Wb:$7(Hb.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Wb:I7(Hb.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Yl(f);var p=f.fill,x=f.align,m=f.sign,j=f.symbol,h=f.zero,y=f.width,g=f.comma,b=f.precision,N=f.trim,v=f.type;v==="n"?(g=!0,v="g"):Vb[v]||(b===void 0&&(b=12),N=!0,v="g"),(h||p==="0"&&x==="=")&&(h=!0,p="0",x="=");var S=j==="$"?n:j==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k=j==="$"?r:/[%p]/.test(v)?l:"",C=Vb[v],O=/[defgprs%]/.test(v);b=b===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(M){var $=S,I=k,D,F,A;if(v==="c")I=C(M)+I,M="";else{M=+M;var L=M<0||1/M<0;if(M=isNaN(M)?c:C(Math.abs(M),b),N&&(M=D7(M)),L&&+M==0&&m!=="+"&&(L=!1),$=(L?m==="("?m:o:m==="-"||m==="("?"":m)+$,I=(v==="s"?qb[8+kk/3]:"")+I+(L&&m==="("?")":""),O){for(D=-1,F=M.length;++D<F;)if(A=M.charCodeAt(D),48>A||A>57){I=(A===46?s+M.slice(D+1):M.slice(D))+I,M=M.slice(0,D);break}}}g&&!h&&(M=t(M,1/0));var _=$.length+M.length+I.length,P=_<y?new Array(y-_+1).join(p):"";switch(g&&h&&(M=t(P+M,P.length?y-I.length:1/0),P=""),x){case"<":M=$+M+I+P;break;case"=":M=$+P+M+I;break;case"^":M=P.slice(0,_=P.length>>1)+$+M+I+P.slice(_);break;default:M=P+$+M+I;break}return i(M)}return E.toString=function(){return f+""},E}function u(f,p){var x=d((f=Yl(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ks(p)/3)))*3,j=Math.pow(10,-m),h=qb[8+m/3];return function(y){return x(j*y)+h}}return{format:d,formatPrefix:u}}var mc,Q0,Ck;z7({thousands:",",grouping:[3],currency:["$",""]});function z7(e){return mc=L7(e),Q0=mc.format,Ck=mc.formatPrefix,mc}function B7(e){return Math.max(0,-Ks(Math.abs(e)))}function F7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ks(t)/3)))*3-Ks(Math.abs(e)))}function U7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ks(t)-Ks(e))+1}function Ok(e,t,n,r){var s=gh(e,t,n),i;switch(r=Yl(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=F7(s,l))&&(r.precision=i),Ck(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=U7(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=B7(s))&&(r.precision=i-(r.type==="%")*2);break}}return Q0(r)}function ua(e){var t=e.domain;return e.ticks=function(n){var r=t();return hh(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return Ok(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,l=r[s],o=r[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=s,s=i,i=d);u-- >0;){if(d=xh(l,o,n),d===c)return r[s]=l,r[i]=o,t(r);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function Rd(){var e=X0();return e.copy=function(){return Lo(e,Rd())},_n.apply(e,arguments),ua(e)}function _k(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Md),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return _k(e).unknown(t)},e=arguments.length?Array.from(e,Md):[0,1],ua(n)}function Pk(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],l;return i<s&&(l=n,n=r,r=l,l=s,s=i,i=l),e[n]=t.floor(s),e[r]=t.ceil(i),e}function Gb(e){return Math.log(e)}function Kb(e){return Math.exp(e)}function V7(e){return-Math.log(-e)}function W7(e){return-Math.exp(-e)}function H7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function q7(e){return e===10?H7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function G7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Xb(e){return(t,n)=>-e(-t,n)}function J0(e){const t=e(Gb,Kb),n=t.domain;let r=10,s,i;function l(){return s=G7(r),i=q7(r),n()[0]<0?(s=Xb(s),i=Xb(i),e(V7,W7)):e(Gb,Kb),t}return t.base=function(o){return arguments.length?(r=+o,l()):r},t.domain=function(o){return arguments.length?(n(o),l()):n()},t.ticks=o=>{const c=n();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=s(d),x=s(u),m,j;const h=o==null?10:+o;let y=[];if(!(r%1)&&x-p<h){if(p=Math.floor(p),x=Math.ceil(x),d>0){for(;p<=x;++p)for(m=1;m<r;++m)if(j=p<0?m/i(-p):m*i(p),!(j<d)){if(j>u)break;y.push(j)}}else for(;p<=x;++p)for(m=r-1;m>=1;--m)if(j=p>0?m/i(-p):m*i(p),!(j<d)){if(j>u)break;y.push(j)}y.length*2<h&&(y=hh(d,u,h))}else y=hh(p,x,Math.min(x-p,h)).map(i);return f?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Yl(c)).precision==null&&(c.trim=!0),c=Q0(c)),o===1/0)return c;const d=Math.max(1,r*o/t.ticks().length);return u=>{let f=u/i(Math.round(s(u)));return f*r<r-.5&&(f*=r),f<=d?c(u):""}},t.nice=()=>n(Pk(n(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function Ak(){const e=J0(mf()).domain([1,10]);return e.copy=()=>Lo(e,Ak()).base(e.base()),_n.apply(e,arguments),e}function Yb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Qb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Z0(e){var t=1,n=e(Yb(t),Qb(t));return n.constant=function(r){return arguments.length?e(Yb(t=+r),Qb(t)):t},ua(n)}function Ek(){var e=Z0(mf());return e.copy=function(){return Lo(e,Ek()).constant(e.constant())},_n.apply(e,arguments)}function Jb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function K7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function X7(e){return e<0?-e*e:e*e}function eg(e){var t=e(Mt,Mt),n=1;function r(){return n===1?e(Mt,Mt):n===.5?e(K7,X7):e(Jb(n),Jb(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},ua(t)}function tg(){var e=eg(mf());return e.copy=function(){return Lo(e,tg()).exponent(e.exponent())},_n.apply(e,arguments),e}function Y7(){return tg.apply(null,arguments).exponent(.5)}function Zb(e){return Math.sign(e)*e*e}function Q7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Tk(){var e=X0(),t=[0,1],n=!1,r;function s(i){var l=Q7(e(i));return isNaN(l)?r:n?Math.round(l):l}return s.invert=function(i){return e.invert(Zb(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Md)).map(Zb)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Tk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},_n.apply(s,arguments),ua(s)}function $k(){var e=[],t=[],n=[],r;function s(){var l=0,o=Math.max(1,t.length);for(n=new Array(o-1);++l<o;)n[l-1]=n7(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?r:t[Do(n,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(na),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return $k().domain(e).range(t).unknown(r)},_n.apply(i,arguments)}function Ik(){var e=0,t=1,n=1,r=[.5],s=[0,1],i;function l(c){return c!=null&&c<=c?s[Do(r,c,0,n)]:i}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,o()):s.slice()},l.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Ik().domain([e,t]).range(s).unknown(i)},_n.apply(ua(l),arguments)}function Mk(){var e=[.5],t=[0,1],n,r=1;function s(i){return i!=null&&i<=i?t[Do(e,i,0,r)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Mk().domain(e).range(t).unknown(n)},_n.apply(s,arguments)}const Cp=new Date,Op=new Date;function dt(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),o=s.ceil(i);return i-l<o-i?l:o},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,o)=>{const c=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},s.filter=i=>dt(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),n&&(s.count=(i,l)=>(Cp.setTime(+i),Op.setTime(+l),e(Cp),e(Op),Math.floor(n(Cp,Op))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?l=>r(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const Ld=dt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ld.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?dt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ld);Ld.range;const hr=1e3,vn=hr*60,xr=vn*60,Or=xr*24,ng=Or*7,e1=Or*30,_p=Or*365,Pa=dt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCSeconds());Pa.range;const rg=dt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hr)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getMinutes());rg.range;const ag=dt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getUTCMinutes());ag.range;const sg=dt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hr-e.getMinutes()*vn)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getHours());sg.range;const ig=dt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getUTCHours());ig.range;const zo=dt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vn)/Or,e=>e.getDate()-1);zo.range;const hf=dt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Or,e=>e.getUTCDate()-1);hf.range;const Dk=dt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Or,e=>Math.floor(e/Or));Dk.range;function Za(e){return dt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*vn)/ng)}const xf=Za(0),zd=Za(1),J7=Za(2),Z7=Za(3),Xs=Za(4),e9=Za(5),t9=Za(6);xf.range;zd.range;J7.range;Z7.range;Xs.range;e9.range;t9.range;function es(e){return dt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ng)}const gf=es(0),Bd=es(1),n9=es(2),r9=es(3),Ys=es(4),a9=es(5),s9=es(6);gf.range;Bd.range;n9.range;r9.range;Ys.range;a9.range;s9.range;const lg=dt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lg.range;const og=dt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());og.range;const _r=dt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_r.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});_r.range;const Pr=dt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Pr.range;function Rk(e,t,n,r,s,i){const l=[[Pa,1,hr],[Pa,5,5*hr],[Pa,15,15*hr],[Pa,30,30*hr],[i,1,vn],[i,5,5*vn],[i,15,15*vn],[i,30,30*vn],[s,1,xr],[s,3,3*xr],[s,6,6*xr],[s,12,12*xr],[r,1,Or],[r,2,2*Or],[n,1,ng],[t,1,e1],[t,3,3*e1],[e,1,_p]];function o(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const x=f&&typeof f.range=="function"?f:c(d,u,f),m=x?x.range(d,+u+1):[];return p?m.reverse():m}function c(d,u,f){const p=Math.abs(u-d)/f,x=W0(([,,h])=>h).right(l,p);if(x===l.length)return e.every(gh(d/_p,u/_p,f));if(x===0)return Ld.every(Math.max(gh(d,u,f),1));const[m,j]=l[p/l[x-1][2]<l[x][2]/p?x-1:x];return m.every(j)}return[o,c]}const[i9,l9]=Rk(Pr,og,gf,Dk,ig,ag),[o9,c9]=Rk(_r,lg,xf,zo,sg,rg);function Pp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ap(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function d9(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=Ki(s),u=Xi(s),f=Ki(i),p=Xi(i),x=Ki(l),m=Xi(l),j=Ki(o),h=Xi(o),y=Ki(c),g=Xi(c),b={a:L,A:_,b:P,B:U,c:null,d:i1,e:i1,f:$9,g:V9,G:H9,H:A9,I:E9,j:T9,L:Lk,m:I9,M:M9,p:G,q,Q:c1,s:d1,S:D9,u:R9,U:L9,V:z9,w:B9,W:F9,x:null,X:null,y:U9,Y:W9,Z:q9,"%":o1},N={a:z,A:ee,b:ae,B:ge,c:null,d:l1,e:l1,f:Y9,g:iV,G:oV,H:G9,I:K9,j:X9,L:Bk,m:Q9,M:J9,p:Q,q:se,Q:c1,s:d1,S:Z9,u:eV,U:tV,V:nV,w:rV,W:aV,x:null,X:null,y:sV,Y:lV,Z:cV,"%":o1},v={a:E,A:M,b:$,B:I,c:D,d:a1,e:a1,f:C9,g:r1,G:n1,H:s1,I:s1,j:w9,L:k9,m:j9,M:N9,p:O,q:b9,Q:_9,s:P9,S:S9,u:h9,U:x9,V:g9,w:m9,W:y9,x:F,X:A,y:r1,Y:n1,Z:v9,"%":O9};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(Y,te){return function(ie){var H=[],ce=-1,X=0,de=Y.length,pe,ve,be;for(ie instanceof Date||(ie=new Date(+ie));++ce<de;)Y.charCodeAt(ce)===37&&(H.push(Y.slice(X,ce)),(ve=t1[pe=Y.charAt(++ce)])!=null?pe=Y.charAt(++ce):ve=pe==="e"?" ":"0",(be=te[pe])&&(pe=be(ie,ve)),H.push(pe),X=ce+1);return H.push(Y.slice(X,ce)),H.join("")}}function k(Y,te){return function(ie){var H=Gi(1900,void 0,1),ce=C(H,Y,ie+="",0),X,de;if(ce!=ie.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(te&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(X=Ap(Gi(H.y,0,1)),de=X.getUTCDay(),X=de>4||de===0?Bd.ceil(X):Bd(X),X=hf.offset(X,(H.V-1)*7),H.y=X.getUTCFullYear(),H.m=X.getUTCMonth(),H.d=X.getUTCDate()+(H.w+6)%7):(X=Pp(Gi(H.y,0,1)),de=X.getDay(),X=de>4||de===0?zd.ceil(X):zd(X),X=zo.offset(X,(H.V-1)*7),H.y=X.getFullYear(),H.m=X.getMonth(),H.d=X.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),de="Z"in H?Ap(Gi(H.y,0,1)).getUTCDay():Pp(Gi(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(de+5)%7:H.w+H.U*7-(de+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Ap(H)):Pp(H)}}function C(Y,te,ie,H){for(var ce=0,X=te.length,de=ie.length,pe,ve;ce<X;){if(H>=de)return-1;if(pe=te.charCodeAt(ce++),pe===37){if(pe=te.charAt(ce++),ve=v[pe in t1?te.charAt(ce++):pe],!ve||(H=ve(Y,ie,H))<0)return-1}else if(pe!=ie.charCodeAt(H++))return-1}return H}function O(Y,te,ie){var H=d.exec(te.slice(ie));return H?(Y.p=u.get(H[0].toLowerCase()),ie+H[0].length):-1}function E(Y,te,ie){var H=x.exec(te.slice(ie));return H?(Y.w=m.get(H[0].toLowerCase()),ie+H[0].length):-1}function M(Y,te,ie){var H=f.exec(te.slice(ie));return H?(Y.w=p.get(H[0].toLowerCase()),ie+H[0].length):-1}function $(Y,te,ie){var H=y.exec(te.slice(ie));return H?(Y.m=g.get(H[0].toLowerCase()),ie+H[0].length):-1}function I(Y,te,ie){var H=j.exec(te.slice(ie));return H?(Y.m=h.get(H[0].toLowerCase()),ie+H[0].length):-1}function D(Y,te,ie){return C(Y,t,te,ie)}function F(Y,te,ie){return C(Y,n,te,ie)}function A(Y,te,ie){return C(Y,r,te,ie)}function L(Y){return l[Y.getDay()]}function _(Y){return i[Y.getDay()]}function P(Y){return c[Y.getMonth()]}function U(Y){return o[Y.getMonth()]}function G(Y){return s[+(Y.getHours()>=12)]}function q(Y){return 1+~~(Y.getMonth()/3)}function z(Y){return l[Y.getUTCDay()]}function ee(Y){return i[Y.getUTCDay()]}function ae(Y){return c[Y.getUTCMonth()]}function ge(Y){return o[Y.getUTCMonth()]}function Q(Y){return s[+(Y.getUTCHours()>=12)]}function se(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var te=S(Y+="",b);return te.toString=function(){return Y},te},parse:function(Y){var te=k(Y+="",!1);return te.toString=function(){return Y},te},utcFormat:function(Y){var te=S(Y+="",N);return te.toString=function(){return Y},te},utcParse:function(Y){var te=k(Y+="",!0);return te.toString=function(){return Y},te}}}var t1={"-":"",_:" ",0:"0"},xt=/^\s*\d+/,u9=/^%/,f9=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function p9(e){return e.replace(f9,"\\$&")}function Ki(e){return new RegExp("^(?:"+e.map(p9).join("|")+")","i")}function Xi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function m9(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function h9(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function x9(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function g9(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function y9(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function n1(e,t,n){var r=xt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function r1(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function v9(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function b9(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function j9(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function a1(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function w9(e,t,n){var r=xt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function s1(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function N9(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function S9(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function k9(e,t,n){var r=xt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function C9(e,t,n){var r=xt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function O9(e,t,n){var r=u9.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _9(e,t,n){var r=xt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function P9(e,t,n){var r=xt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function i1(e,t){return Oe(e.getDate(),t,2)}function A9(e,t){return Oe(e.getHours(),t,2)}function E9(e,t){return Oe(e.getHours()%12||12,t,2)}function T9(e,t){return Oe(1+zo.count(_r(e),e),t,3)}function Lk(e,t){return Oe(e.getMilliseconds(),t,3)}function $9(e,t){return Lk(e,t)+"000"}function I9(e,t){return Oe(e.getMonth()+1,t,2)}function M9(e,t){return Oe(e.getMinutes(),t,2)}function D9(e,t){return Oe(e.getSeconds(),t,2)}function R9(e){var t=e.getDay();return t===0?7:t}function L9(e,t){return Oe(xf.count(_r(e)-1,e),t,2)}function zk(e){var t=e.getDay();return t>=4||t===0?Xs(e):Xs.ceil(e)}function z9(e,t){return e=zk(e),Oe(Xs.count(_r(e),e)+(_r(e).getDay()===4),t,2)}function B9(e){return e.getDay()}function F9(e,t){return Oe(zd.count(_r(e)-1,e),t,2)}function U9(e,t){return Oe(e.getFullYear()%100,t,2)}function V9(e,t){return e=zk(e),Oe(e.getFullYear()%100,t,2)}function W9(e,t){return Oe(e.getFullYear()%1e4,t,4)}function H9(e,t){var n=e.getDay();return e=n>=4||n===0?Xs(e):Xs.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function q9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function l1(e,t){return Oe(e.getUTCDate(),t,2)}function G9(e,t){return Oe(e.getUTCHours(),t,2)}function K9(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function X9(e,t){return Oe(1+hf.count(Pr(e),e),t,3)}function Bk(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function Y9(e,t){return Bk(e,t)+"000"}function Q9(e,t){return Oe(e.getUTCMonth()+1,t,2)}function J9(e,t){return Oe(e.getUTCMinutes(),t,2)}function Z9(e,t){return Oe(e.getUTCSeconds(),t,2)}function eV(e){var t=e.getUTCDay();return t===0?7:t}function tV(e,t){return Oe(gf.count(Pr(e)-1,e),t,2)}function Fk(e){var t=e.getUTCDay();return t>=4||t===0?Ys(e):Ys.ceil(e)}function nV(e,t){return e=Fk(e),Oe(Ys.count(Pr(e),e)+(Pr(e).getUTCDay()===4),t,2)}function rV(e){return e.getUTCDay()}function aV(e,t){return Oe(Bd.count(Pr(e)-1,e),t,2)}function sV(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function iV(e,t){return e=Fk(e),Oe(e.getUTCFullYear()%100,t,2)}function lV(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function oV(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ys(e):Ys.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function cV(){return"+0000"}function o1(){return"%"}function c1(e){return+e}function d1(e){return Math.floor(+e/1e3)}var ss,Uk,Vk;dV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dV(e){return ss=d9(e),Uk=ss.format,ss.parse,Vk=ss.utcFormat,ss.utcParse,ss}function uV(e){return new Date(e)}function fV(e){return e instanceof Date?+e:+new Date(+e)}function cg(e,t,n,r,s,i,l,o,c,d){var u=X0(),f=u.invert,p=u.domain,x=d(".%L"),m=d(":%S"),j=d("%I:%M"),h=d("%I %p"),y=d("%a %d"),g=d("%b %d"),b=d("%B"),N=d("%Y");function v(S){return(c(S)<S?x:o(S)<S?m:l(S)<S?j:i(S)<S?h:r(S)<S?s(S)<S?y:g:n(S)<S?b:N)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?p(Array.from(S,fV)):p().map(uV)},u.ticks=function(S){var k=p();return e(k[0],k[k.length-1],S??10)},u.tickFormat=function(S,k){return k==null?v:d(k)},u.nice=function(S){var k=p();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?p(Pk(k,S)):u},u.copy=function(){return Lo(u,cg(e,t,n,r,s,i,l,o,c,d))},u}function pV(){return _n.apply(cg(o9,c9,_r,lg,xf,zo,sg,rg,Pa,Uk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mV(){return _n.apply(cg(i9,l9,Pr,og,gf,hf,ig,ag,Pa,Vk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yf(){var e=0,t=1,n,r,s,i,l=Mt,o=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(s===0?.5:(f=(i(f)-n)*s,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function u(f){return function(p){var x,m;return arguments.length?([x,m]=p,l=f(x,m),d):[l(0),l(1)]}}return d.range=u(_i),d.rangeRound=u(K0),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),d}}function fa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Wk(){var e=ua(yf()(Mt));return e.copy=function(){return fa(e,Wk())},Ir.apply(e,arguments)}function Hk(){var e=J0(yf()).domain([1,10]);return e.copy=function(){return fa(e,Hk()).base(e.base())},Ir.apply(e,arguments)}function qk(){var e=Z0(yf());return e.copy=function(){return fa(e,qk()).constant(e.constant())},Ir.apply(e,arguments)}function dg(){var e=eg(yf());return e.copy=function(){return fa(e,dg()).exponent(e.exponent())},Ir.apply(e,arguments)}function hV(){return dg.apply(null,arguments).exponent(.5)}function Gk(){var e=[],t=Mt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Do(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(na),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>t7(e,i/r))},n.copy=function(){return Gk(t).domain(e)},Ir.apply(n,arguments)}function vf(){var e=0,t=.5,n=1,r=1,s,i,l,o,c,d=Mt,u,f=!1,p;function x(j){return isNaN(j=+j)?p:(j=.5+((j=+u(j))-i)*(r*j<r*i?o:c),d(f?Math.max(0,Math.min(1,j)):j))}x.domain=function(j){return arguments.length?([e,t,n]=j,s=u(e=+e),i=u(t=+t),l=u(n=+n),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),r=i<s?-1:1,x):[e,t,n]},x.clamp=function(j){return arguments.length?(f=!!j,x):f},x.interpolator=function(j){return arguments.length?(d=j,x):d};function m(j){return function(h){var y,g,b;return arguments.length?([y,g,b]=h,d=O7(j,[y,g,b]),x):[d(0),d(.5),d(1)]}}return x.range=m(_i),x.rangeRound=m(K0),x.unknown=function(j){return arguments.length?(p=j,x):p},function(j){return u=j,s=j(e),i=j(t),l=j(n),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),r=i<s?-1:1,x}}function Kk(){var e=ua(vf()(Mt));return e.copy=function(){return fa(e,Kk())},Ir.apply(e,arguments)}function Xk(){var e=J0(vf()).domain([.1,1,10]);return e.copy=function(){return fa(e,Xk()).base(e.base())},Ir.apply(e,arguments)}function Yk(){var e=Z0(vf());return e.copy=function(){return fa(e,Yk()).constant(e.constant())},Ir.apply(e,arguments)}function ug(){var e=eg(vf());return e.copy=function(){return fa(e,ug()).exponent(e.exponent())},Ir.apply(e,arguments)}function xV(){return ug.apply(null,arguments).exponent(.5)}const u1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ql,scaleDiverging:Kk,scaleDivergingLog:Xk,scaleDivergingPow:ug,scaleDivergingSqrt:xV,scaleDivergingSymlog:Yk,scaleIdentity:_k,scaleImplicit:yh,scaleLinear:Rd,scaleLog:Ak,scaleOrdinal:H0,scalePoint:xl,scalePow:tg,scaleQuantile:$k,scaleQuantize:Ik,scaleRadial:Tk,scaleSequential:Wk,scaleSequentialLog:Hk,scaleSequentialPow:dg,scaleSequentialQuantile:Gk,scaleSequentialSqrt:hV,scaleSequentialSymlog:qk,scaleSqrt:Y7,scaleSymlog:Ek,scaleThreshold:Mk,scaleTime:pV,scaleUtc:mV,tickFormat:Ok},Symbol.toStringTag,{value:"Module"}));var gV=vi;function yV(e,t,n){for(var r=-1,s=e.length;++r<s;){var i=e[r],l=t(i);if(l!=null&&(o===void 0?l===l&&!gV(l):n(l,o)))var o=l,c=i}return c}var Qk=yV;function vV(e,t){return e>t}var bV=vV,jV=Qk,wV=bV,NV=Ci;function SV(e){return e&&e.length?jV(e,NV,wV):void 0}var kV=SV;const bf=Le(kV);function CV(e,t){return e<t}var OV=CV,_V=Qk,PV=OV,AV=Ci;function EV(e){return e&&e.length?_V(e,AV,PV):void 0}var TV=EV;const jf=Le(TV);var $V=S0,IV=Oi,MV=ak,DV=Zt;function RV(e,t){var n=DV(e)?$V:MV;return n(e,IV(t))}var LV=RV,zV=nk,BV=LV;function FV(e,t){return zV(BV(e,t),1)}var UV=FV;const VV=Le(UV);var WV=B0;function HV(e,t){return WV(e,t)}var qV=HV;const fg=Le(qV);var Pi=1e9,GV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mg,He=!0,Cn="[DecimalError] ",Ra=Cn+"Invalid argument: ",pg=Cn+"Exponent out of range: ",Ai=Math.floor,ja=Math.pow,KV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an,ut=1e7,Ue=7,Jk=9007199254740991,Fd=Ai(Jk/Ue),oe={};oe.absoluteValue=oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};oe.comparedTo=oe.cmp=function(e){var t,n,r,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ue;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(e){return br(this,new this.constructor(e))};oe.dividedToIntegerBy=oe.idiv=function(e){var t=this,n=t.constructor;return Me(br(t,new n(e),0,1),n.precision)};oe.equals=oe.eq=function(e){return!this.cmp(e)};oe.exponent=function(){return rt(this)};oe.greaterThan=oe.gt=function(e){return this.cmp(e)>0};oe.greaterThanOrEqualTo=oe.gte=function(e){return this.cmp(e)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(e){return this.cmp(e)<0};oe.lessThanOrEqualTo=oe.lte=function(e){return this.cmp(e)<1};oe.logarithm=oe.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(an))throw Error(Cn+"NaN");if(n.s<1)throw Error(Cn+(n.s?"NaN":"-Infinity"));return n.eq(an)?new r(0):(He=!1,t=br(Ql(n,i),Ql(e,i),i),He=!0,Me(t,s))};oe.minus=oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t5(t,e):Zk(t,(e.s=-e.s,e))};oe.modulo=oe.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Cn+"NaN");return n.s?(He=!1,t=br(n,e,0,1).times(e),He=!0,n.minus(t)):Me(new r(n),s)};oe.naturalExponential=oe.exp=function(){return e5(this)};oe.naturalLogarithm=oe.ln=function(){return Ql(this)};oe.negated=oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};oe.plus=oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zk(t,e):t5(t,(e.s=-e.s,e))};oe.precision=oe.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ra+e);if(t=rt(s)+1,r=s.d.length-1,n=r*Ue+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};oe.squareRoot=oe.sqrt=function(){var e,t,n,r,s,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Cn+"NaN")}for(e=rt(o),He=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=Zn(o.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Ai((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=l=n+3;;)if(i=r,r=i.plus(br(o,i,l+2)).times(.5),Zn(i.d).slice(0,l)===(t=Zn(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Me(i,n+1,0),i.times(i).eq(o)){r=i;break}}else if(t!="9999")break;l+=4}return He=!0,Me(r,n)};oe.times=oe.mul=function(e){var t,n,r,s,i,l,o,c,d,u=this,f=u.constructor,p=u.d,x=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,c=p.length,d=x.length,c<d&&(i=p,p=x,x=i,l=c,c=d,d=l),i=[],l=c+d,r=l;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,s=c+r;s>r;)o=i[s]+x[r]*p[s-r-1]+t,i[s--]=o%ut|0,t=o/ut|0;i[s]=(i[s]+t)%ut|0}for(;!i[--l];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,He?Me(e,f.precision):e};oe.toDecimalPlaces=oe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ir(e,0,Pi),t===void 0?t=r.rounding:ir(t,0,8),Me(n,e+rt(n)+1,t))};oe.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Ga(r,!0):(ir(e,0,Pi),t===void 0?t=s.rounding:ir(t,0,8),r=Me(new s(r),e+1,t),n=Ga(r,!0,e+1)),n};oe.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?Ga(s):(ir(e,0,Pi),t===void 0?t=i.rounding:ir(t,0,8),r=Me(new i(s),e+rt(s)+1,t),n=Ga(r.abs(),!1,e+rt(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var e=this,t=e.constructor;return Me(new t(e),rt(e)+1,t.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(e){var t,n,r,s,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(an);if(o=new c(o),!o.s){if(e.s<1)throw Error(Cn+"Infinity");return o}if(o.eq(an))return o;if(r=c.precision,e.eq(an))return Me(o,r);if(t=e.e,n=e.d.length-1,l=t>=n,i=o.s,l){if((n=u<0?-u:u)<=Jk){for(s=new c(an),t=Math.ceil(r/Ue+4),He=!1;n%2&&(s=s.times(o),p1(s.d,t)),n=Ai(n/2),n!==0;)o=o.times(o),p1(o.d,t);return He=!0,e.s<0?new c(an).div(s):Me(s,r)}}else if(i<0)throw Error(Cn+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,He=!1,s=e.times(Ql(o,r+d)),He=!0,s=e5(s),s.s=i,s};oe.toPrecision=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?(n=rt(s),r=Ga(s,n<=i.toExpNeg||n>=i.toExpPos)):(ir(e,1,Pi),t===void 0?t=i.rounding:ir(t,0,8),s=Me(new i(s),e,t),n=rt(s),r=Ga(s,e<=n||n<=i.toExpNeg,e)),r};oe.toSignificantDigits=oe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ir(e,1,Pi),t===void 0?t=r.rounding:ir(t,0,8)),Me(new r(n),e,t)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rt(e),n=e.constructor;return Ga(e,t<=n.toExpNeg||t>=n.toExpPos)};function Zk(e,t){var n,r,s,i,l,o,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),He?Me(t,f):t;if(c=e.d,d=t.d,l=e.e,s=t.e,c=c.slice(),i=l-s,i){for(i<0?(r=c,i=-i,o=d.length):(r=d,s=l,o=c.length),l=Math.ceil(f/Ue),o=l>o?l+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/ut|0,c[i]%=ut;for(n&&(c.unshift(n),++s),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=s,He?Me(t,f):t}function ir(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ra+e)}function Zn(e){var t,n,r,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)r=e[t]+"",n=Ue-r.length,n&&(i+=Lr(n)),i+=r;l=e[t],r=l+"",n=Ue-r.length,n&&(i+=Lr(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var br=function(){function e(r,s){var i,l=0,o=r.length;for(r=r.slice();o--;)i=r[o]*s+l,r[o]=i%ut|0,l=i/ut|0;return l&&r.unshift(l),r}function t(r,s,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(r[o]!=s[o]){c=r[o]>s[o]?1:-1;break}return c}function n(r,s,i){for(var l=0;i--;)r[i]-=l,l=r[i]<s[i]?1:0,r[i]=l*ut+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,l){var o,c,d,u,f,p,x,m,j,h,y,g,b,N,v,S,k,C,O=r.constructor,E=r.s==s.s?1:-1,M=r.d,$=s.d;if(!r.s)return new O(r);if(!s.s)throw Error(Cn+"Division by zero");for(c=r.e-s.e,k=$.length,v=M.length,x=new O(E),m=x.d=[],d=0;$[d]==(M[d]||0);)++d;if($[d]>(M[d]||0)&&--c,i==null?g=i=O.precision:l?g=i+(rt(r)-rt(s))+1:g=i,g<0)return new O(0);if(g=g/Ue+2|0,d=0,k==1)for(u=0,$=$[0],g++;(d<v||u)&&g--;d++)b=u*ut+(M[d]||0),m[d]=b/$|0,u=b%$|0;else{for(u=ut/($[0]+1)|0,u>1&&($=e($,u),M=e(M,u),k=$.length,v=M.length),N=k,j=M.slice(0,k),h=j.length;h<k;)j[h++]=0;C=$.slice(),C.unshift(0),S=$[0],$[1]>=ut/2&&++S;do u=0,o=t($,j,k,h),o<0?(y=j[0],k!=h&&(y=y*ut+(j[1]||0)),u=y/S|0,u>1?(u>=ut&&(u=ut-1),f=e($,u),p=f.length,h=j.length,o=t(f,j,p,h),o==1&&(u--,n(f,k<p?C:$,p))):(u==0&&(o=u=1),f=$.slice()),p=f.length,p<h&&f.unshift(0),n(j,f,h),o==-1&&(h=j.length,o=t($,j,k,h),o<1&&(u++,n(j,k<h?C:$,h))),h=j.length):o===0&&(u++,j=[0]),m[d++]=u,o&&j[0]?j[h++]=M[N]||0:(j=[M[N]],h=1);while((N++<v||j[0]!==void 0)&&g--)}return m[0]||m.shift(),x.e=c,Me(x,l?i+rt(x)+1:i)}}();function e5(e,t){var n,r,s,i,l,o,c=0,d=0,u=e.constructor,f=u.precision;if(rt(e)>16)throw Error(pg+rt(e));if(!e.s)return new u(an);for(He=!1,o=f,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(ja(2,d))/Math.LN10*2+5|0,o+=r,n=s=i=new u(an),u.precision=o;;){if(s=Me(s.times(e),o),n=n.times(++c),l=i.plus(br(s,n,o)),Zn(l.d).slice(0,o)===Zn(i.d).slice(0,o)){for(;d--;)i=Me(i.times(i),o);return u.precision=f,t==null?(He=!0,Me(i,f)):i}i=l}}function rt(e){for(var t=e.e*Ue,n=e.d[0];n>=10;n/=10)t++;return t}function Ep(e,t,n){if(t>e.LN10.sd())throw He=!0,n&&(e.precision=n),Error(Cn+"LN10 precision limit exceeded");return Me(new e(e.LN10),t)}function Lr(e){for(var t="";e--;)t+="0";return t}function Ql(e,t){var n,r,s,i,l,o,c,d,u,f=1,p=10,x=e,m=x.d,j=x.constructor,h=j.precision;if(x.s<1)throw Error(Cn+(x.s?"NaN":"-Infinity"));if(x.eq(an))return new j(0);if(t==null?(He=!1,d=h):d=t,x.eq(10))return t==null&&(He=!0),Ep(j,d);if(d+=p,j.precision=d,n=Zn(m),r=n.charAt(0),i=rt(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=Zn(x.d),r=n.charAt(0),f++;i=rt(x),r>1?(x=new j("0."+n),i++):x=new j(r+"."+n.slice(1))}else return c=Ep(j,d+2,h).times(i+""),x=Ql(new j(r+"."+n.slice(1)),d-p).plus(c),j.precision=h,t==null?(He=!0,Me(x,h)):x;for(o=l=x=br(x.minus(an),x.plus(an),d),u=Me(x.times(x),d),s=3;;){if(l=Me(l.times(u),d),c=o.plus(br(l,new j(s),d)),Zn(c.d).slice(0,d)===Zn(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(Ep(j,d+2,h).times(i+""))),o=br(o,new j(f),d),j.precision=h,t==null?(He=!0,Me(o,h)):o;o=c,s+=2}}function f1(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Ai(n/Ue),e.d=[],r=(n+1)%Ue,n<0&&(r+=Ue),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Ue;r<s;)e.d.push(+t.slice(r,r+=Ue));t=t.slice(r),r=Ue-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),He&&(e.e>Fd||e.e<-Fd))throw Error(pg+n)}else e.s=0,e.e=0,e.d=[0];return e}function Me(e,t,n){var r,s,i,l,o,c,d,u,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(r=t-l,r<0)r+=Ue,s=t,d=f[u=0];else{if(u=Math.ceil((r+1)/Ue),i=f.length,u>=i)return e;for(d=i=f[u],l=1;i>=10;i/=10)l++;r%=Ue,s=r-Ue+l}if(n!==void 0&&(i=ja(10,l-s-1),o=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=n<4?(o||c)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?s>0?d/ja(10,l-s):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(i=rt(e),f.length=1,t=t-i-1,f[0]=ja(10,(Ue-t%Ue)%Ue),e.e=Ai(-t/Ue)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,i=1,u--):(f.length=u+1,i=ja(10,Ue-r),f[u]=s>0?(d/ja(10,l-s)%ja(10,s)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==ut&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=ut)break;f[u--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(He&&(e.e>Fd||e.e<-Fd))throw Error(pg+rt(e));return e}function t5(e,t){var n,r,s,i,l,o,c,d,u,f,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),He?Me(t,x):t;if(c=e.d,f=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(u=l<0,u?(n=c,l=-l,o=f.length):(n=f,r=d,o=c.length),s=Math.max(Math.ceil(x/Ue),o)+2,l>s&&(l=s,n.length=1),n.reverse(),s=l;s--;)n.push(0);n.reverse()}else{for(s=c.length,o=f.length,u=s<o,u&&(o=s),s=0;s<o;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}l=0}for(u&&(n=c,c=f,f=n,t.s=-t.s),o=c.length,s=f.length-o;s>0;--s)c[o++]=0;for(s=f.length;s>l;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=ut-1;--c[i],c[s]+=ut}c[s]-=f[s]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,He?Me(t,x):t):new p(0)}function Ga(e,t,n){var r,s=rt(e),i=Zn(e.d),l=i.length;return t?(n&&(r=n-l)>0?i=i.charAt(0)+"."+i.slice(1)+Lr(r):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Lr(-s-1)+i,n&&(r=n-l)>0&&(i+=Lr(r))):s>=l?(i+=Lr(s+1-l),n&&(r=n-s-1)>0&&(i=i+"."+Lr(r))):((r=s+1)<l&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-l)>0&&(s+1===l&&(i+="."),i+=Lr(r))),e.s<0?"-"+i:i}function p1(e,t){if(e.length>t)return e.length=t,!0}function n5(e){var t,n,r;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ra+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return f1(l,i.toString())}else if(typeof i!="string")throw Error(Ra+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,KV.test(i))f1(l,i);else throw Error(Ra+i)}if(s.prototype=oe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=n5,s.config=s.set=XV,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function XV(e){if(!e||typeof e!="object")throw Error(Cn+"Object expected");var t,n,r,s=["precision",1,Pi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Ai(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Ra+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ra+n+": "+r);return this}var mg=n5(GV);an=new mg(1);const Ie=mg;function YV(e){return eW(e)||ZV(e)||JV(e)||QV()}function QV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JV(e,t){if(e){if(typeof e=="string")return wh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wh(e,t)}}function ZV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eW(e){if(Array.isArray(e))return wh(e)}function wh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tW=function(t){return t},r5={},a5=function(t){return t===r5},m1=function(t){return function n(){return arguments.length===0||arguments.length===1&&a5(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},nW=function e(t,n){return t===1?n:m1(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var l=s.filter(function(o){return o!==r5}).length;return l>=t?n.apply(void 0,s):e(t-l,m1(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var u=s.map(function(f){return a5(f)?c.shift():f});return n.apply(void 0,YV(u).concat(c))}))})},wf=function(t){return nW(t.length,t)},Nh=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},rW=wf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),aW=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return tW;var s=n.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},Sh=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},s5=function(t){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return n&&i.every(function(o,c){return o===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function sW(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function iW(e,t,n){for(var r=new Ie(e),s=0,i=[];r.lt(t)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var lW=wf(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),oW=wf(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),cW=wf(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Nf={rangeStep:iW,getDigitCount:sW,interpolateNumber:lW,uninterpolateNumber:oW,uninterpolateTruncation:cW};function kh(e){return fW(e)||uW(e)||i5(e)||dW()}function dW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fW(e){if(Array.isArray(e))return Ch(e)}function Jl(e,t){return hW(e)||mW(e,t)||i5(e,t)||pW()}function pW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5(e,t){if(e){if(typeof e=="string")return Ch(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ch(e,t)}}function Ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),o;!(r=(o=l.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&l.return!=null&&l.return()}finally{if(s)throw i}}return n}}function hW(e){if(Array.isArray(e))return e}function l5(e){var t=Jl(e,2),n=t[0],r=t[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function o5(e,t,n){if(e.lte(0))return new Ie(0);var r=Nf.getDigitCount(e.toNumber()),s=new Ie(10).pow(r),i=e.div(s),l=r!==1?.05:.1,o=new Ie(Math.ceil(i.div(l).toNumber())).add(n).mul(l),c=o.mul(s);return t?c:new Ie(Math.ceil(c))}function xW(e,t,n){var r=1,s=new Ie(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(r=new Ie(10).pow(Nf.getDigitCount(e)-1),s=new Ie(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new Ie(Math.floor(e)))}else e===0?s=new Ie(Math.floor((t-1)/2)):n||(s=new Ie(Math.floor(e)));var l=Math.floor((t-1)/2),o=aW(rW(function(c){return s.add(new Ie(c-l).mul(r)).toNumber()}),Nh);return o(0,t)}function c5(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var i=o5(new Ie(t).sub(e).div(n-1),r,s),l;e<=0&&t>=0?l=new Ie(0):(l=new Ie(e).add(t).div(2),l=l.sub(new Ie(l).mod(i)));var o=Math.ceil(l.sub(e).div(i).toNumber()),c=Math.ceil(new Ie(t).sub(l).div(i).toNumber()),d=o+c+1;return d>n?c5(e,t,n,r,s+1):(d<n&&(c=t>0?c+(n-d):c,o=t>0?o:o+(n-d)),{step:i,tickMin:l.sub(new Ie(o).mul(i)),tickMax:l.add(new Ie(c).mul(i))})}function gW(e){var t=Jl(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),o=l5([n,r]),c=Jl(o,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(kh(Nh(0,s-1).map(function(){return 1/0}))):[].concat(kh(Nh(0,s-1).map(function(){return-1/0})),[u]);return n>r?Sh(f):f}if(d===u)return xW(d,s,i);var p=c5(d,u,l,i),x=p.step,m=p.tickMin,j=p.tickMax,h=Nf.rangeStep(m,j.add(new Ie(.1).mul(x)),x);return n>r?Sh(h):h}function yW(e,t){var n=Jl(e,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=l5([r,s]),o=Jl(l,2),c=o[0],d=o[1];if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var u=Math.max(t,2),f=o5(new Ie(d).sub(c).div(u-1),i,0),p=[].concat(kh(Nf.rangeStep(new Ie(c),new Ie(d).sub(new Ie(.99).mul(f)),f)),[d]);return r>s?Sh(p):p}var vW=s5(gW),bW=s5(yW),jW="Invariant failed";function Ka(e,t){throw new Error(jW)}var wW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(this,arguments)}function NW(e,t){return OW(e)||CW(e,t)||kW(e,t)||SW()}function SW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kW(e,t){if(e){if(typeof e=="string")return h1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h1(e,t)}}function h1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function OW(e){if(Array.isArray(e))return e}function _W(e,t){if(e==null)return{};var n=PW(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function AW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f5(r.key),r)}}function TW(e,t,n){return t&&EW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $W(e,t,n){return t=Vd(t),IW(e,d5()?Reflect.construct(t,n||[],Vd(e).constructor):t.apply(e,n))}function IW(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MW(e)}function MW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(e)}function DW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oh(e,t)}function Oh(e,t){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Oh(e,t)}function u5(e,t,n){return t=f5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f5(e){var t=RW(e,"string");return Qs(t)=="symbol"?t:t+""}function RW(e,t){if(Qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sf=function(e){function t(){return AW(this,t),$W(this,t,arguments)}return DW(t,e),TW(t,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,l=r.width,o=r.dataKey,c=r.data,d=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,p=_W(r,wW),x=Ae(p,!1);this.props.direction==="x"&&u.type!=="number"&&Ka();var m=c.map(function(j){var h=d(j,o),y=h.x,g=h.y,b=h.value,N=h.errorVal;if(!N)return null;var v=[],S,k;if(Array.isArray(N)){var C=NW(N,2);S=C[0],k=C[1]}else S=k=N;if(i==="vertical"){var O=u.scale,E=g+s,M=E+l,$=E-l,I=O(b-S),D=O(b+k);v.push({x1:D,y1:M,x2:D,y2:$}),v.push({x1:I,y1:E,x2:D,y2:E}),v.push({x1:I,y1:M,x2:I,y2:$})}else if(i==="horizontal"){var F=f.scale,A=y+s,L=A-l,_=A+l,P=F(b-S),U=F(b+k);v.push({x1:L,y1:U,x2:_,y2:U}),v.push({x1:A,y1:P,x2:A,y2:U}),v.push({x1:L,y1:P,x2:_,y2:P})}return R.createElement(pt,Ud({className:"recharts-errorBar",key:"bar-".concat(v.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},x),v.map(function(G){return R.createElement("line",Ud({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return R.createElement(pt,{className:"recharts-errorBars"},m)}}])}(R.Component);u5(Sf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});u5(Sf,"displayName","ErrorBar");function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function x1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(n),!0).forEach(function(r){LW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LW(e,t,n){return t=zW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zW(e){var t=BW(e,"string");return Zl(t)=="symbol"?t:t+""}function BW(e,t){if(Zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p5=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=rn(n,As);if(!l)return null;var o=As.defaultProps,c=o!==void 0?xa(xa({},o),l.props):{},d;return l.props&&l.props.payload?d=l.props&&l.props.payload:i==="children"?d=(r||[]).reduce(function(u,f){var p=f.item,x=f.props,m=x.sectors||x.data||[];return u.concat(m.map(function(j){return{type:l.props.iconType||p.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):d=(r||[]).map(function(u){var f=u.item,p=f.type.defaultProps,x=p!==void 0?xa(xa({},p),f.props):{},m=x.dataKey,j=x.name,h=x.legendType,y=x.hide;return{inactive:y,dataKey:m,type:c.iconType||h||"square",color:hg(f),value:j||m,payload:x}}),xa(xa(xa({},c),As.getWithHeight(l,s)),{},{payload:d,item:l})};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function g1(e){return WW(e)||VW(e)||UW(e)||FW()}function FW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UW(e,t){if(e){if(typeof e=="string")return _h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _h(e,t)}}function VW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WW(e){if(Array.isArray(e))return _h(e)}function _h(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(n),!0).forEach(function(r){Ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ts(e,t,n){return t=HW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=qW(e,"string");return eo(t)=="symbol"?t:t+""}function qW(e,t){if(eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lr(e,t,n){return _e(e)||_e(t)?n:ct(t)?Nn(e,t,n):Ne(t)?t(e):n}function gl(e,t,n,r){var s=VV(e,function(o){return lr(o,t)});if(n==="number"){var i=s.filter(function(o){return ne(o)||parseFloat(o)});return i.length?[jf(i),bf(i)]:[1/0,-1/0]}var l=r?s.filter(function(o){return!_e(o)}):s;return l.map(function(o){return ct(o)||o instanceof Date?o:""})}var GW=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<o;d++){var u=d>0?s[d-1].coordinate:s[o-1].coordinate,f=s[d].coordinate,p=d>=o-1?s[0].coordinate:s[d+1].coordinate,x=void 0;if(Rn(f-u)!==Rn(p-f)){var m=[];if(Rn(p-f)===Rn(c[1]-c[0])){x=p;var j=f+c[1]-c[0];m[0]=Math.min(j,(j+u)/2),m[1]=Math.max(j,(j+u)/2)}else{x=u;var h=p+c[1]-c[0];m[0]=Math.min(f,(h+f)/2),m[1]=Math.max(f,(h+f)/2)}var y=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){l=s[d].index;break}}else{var g=Math.min(u,p),b=Math.max(u,p);if(t>(g+f)/2&&t<=(b+f)/2){l=s[d].index;break}}}else for(var N=0;N<o;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<o-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===o-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){l=r[N].index;break}return l},hg=function(t){var n,r=t,s=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Je(Je({},t.type.defaultProps),t.props):t.props,l=i.stroke,o=i.fill,c;switch(s){case"Line":c=l;break;case"Area":case"Radar":c=l&&l!=="none"?l:o;break;default:c=o;break}return c},KW=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},o=Object.keys(i),c=0,d=o.length;c<d;c++)for(var u=i[o[c]].stackGroups,f=Object.keys(u),p=0,x=f.length;p<x;p++){var m=u[f[p]],j=m.items,h=m.cateAxisId,y=j.filter(function(k){return vr(k.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?Je(Je({},g),y[0].props):y[0].props,N=b.barSize,v=b[h];l[v]||(l[v]=[]);var S=_e(N)?n:N;l[v].push({item:y[0],stackList:y.slice(1),barSize:_e(S)?void 0:qa(S,r,0)})}}return l},XW=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,o=t.maxBarSize,c=l.length;if(c<1)return null;var d=qa(n,s,0,!0),u,f=[];if(l[0].barSize===+l[0].barSize){var p=!1,x=s/c,m=l.reduce(function(N,v){return N+v.barSize||0},0);m+=(c-1)*d,m>=s&&(m-=(c-1)*d,d=0),m>=s&&x>0&&(p=!0,x*=.9,m=c*x);var j=(s-m)/2>>0,h={offset:j-d,size:0};u=l.reduce(function(N,v){var S={item:v.item,position:{offset:h.offset+h.size+d,size:p?x:v.barSize}},k=[].concat(g1(N),[S]);return h=k[k.length-1].position,v.stackList&&v.stackList.length&&v.stackList.forEach(function(C){k.push({item:C,position:h})}),k},f)}else{var y=qa(r,s,0,!0);s-2*y-(c-1)*d<=0&&(d=0);var g=(s-2*y-(c-1)*d)/c;g>1&&(g>>=0);var b=o===+o?Math.min(g,o):g;u=l.reduce(function(N,v,S){var k=[].concat(g1(N),[{item:v.item,position:{offset:y+(g+d)*S+(g-b)/2,size:b}}]);return v.stackList&&v.stackList.length&&v.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},f)}return u},YW=function(t,n,r,s){var i=r.children,l=r.width,o=r.margin,c=l-(o.left||0)-(o.right||0),d=p5({children:i,legendWidth:c});if(d){var u=s||{},f=u.width,p=u.height,x=d.align,m=d.verticalAlign,j=d.layout;if((j==="vertical"||j==="horizontal"&&m==="middle")&&x!=="center"&&ne(t[x]))return Je(Je({},t),{},Ts({},x,t[x]+(f||0)));if((j==="horizontal"||j==="vertical"&&x==="center")&&m!=="middle"&&ne(t[m]))return Je(Je({},t),{},Ts({},m,t[m]+(p||0)))}return t},QW=function(t,n,r){return _e(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},m5=function(t,n,r,s,i){var l=n.props.children,o=Bn(l,Sf).filter(function(d){return QW(s,i,d.props.direction)});if(o&&o.length){var c=o.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=lr(u,r);if(_e(f))return d;var p=Array.isArray(f)?[jf(f),bf(f)]:[f,f],x=c.reduce(function(m,j){var h=lr(u,j,0),y=p[0]-Math.abs(Array.isArray(h)?h[0]:h),g=p[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},JW=function(t,n,r,s,i){var l=n.map(function(o){return m5(t,o,r,i,s)}).filter(function(o){return!_e(o)});return l&&l.length?l.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},h5=function(t,n,r,s,i){var l=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&m5(t,c,d,s)||gl(t,d,r,i)});if(r==="number")return l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var o={};return l.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)o[d[u]]||(o[d[u]]=!0,c.push(d[u]));return c},[])},x5=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Aa=function(t,n,r){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,o=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||r)&&l==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Rn(o[0]-o[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:s(p)+d,value:f,offset:d}});return u.filter(function(f){return!Io(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:s(f)+d,value:f,index:p,offset:d}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,p){return{coordinate:s(f)+d,value:i?i[f]:f,index:p,offset:d}})},Tp=new WeakMap,hc=function(t,n){if(typeof n!="function")return t;Tp.has(t)||Tp.set(t,new WeakMap);var r=Tp.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},ZW=function(t,n,r){var s=t.scale,i=t.type,l=t.layout,o=t.axisType;if(s==="auto")return l==="radial"&&o==="radiusAxis"?{scale:ql(),realScaleType:"band"}:l==="radial"&&o==="angleAxis"?{scale:Rd(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xl(),realScaleType:"point"}:i==="category"?{scale:ql(),realScaleType:"band"}:{scale:Rd(),realScaleType:"linear"};if(Ha(s)){var c="scale".concat(lf(s));return{scale:(u1[c]||xl)(),realScaleType:u1[c]?c:"point"}}return Ne(s)?{scale:s}:{scale:xl(),realScaleType:"point"}},v1=1e-4,eH=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),i=Math.min(s[0],s[1])-v1,l=Math.max(s[0],s[1])+v1,o=t(n[0]),c=t(n[r-1]);(o<i||o>l||c<i||c>l)&&t.domain([n[0],n[r-1]])}},tH=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},nH=function(t,n){if(!n||n.length!==2||!ne(n[0])||!ne(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!ne(t[0])||t[0]<r)&&(i[0]=r),(!ne(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},rH=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,l=0,o=0;o<n;++o){var c=Io(t[o][r][1])?t[o][r][0]:t[o][r][1];c>=0?(t[o][r][0]=i,t[o][r][1]=i+c,i=t[o][r][1]):(t[o][r][0]=l,t[o][r][1]=l+c,l=t[o][r][1])}},aH=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,l=0;l<n;++l){var o=Io(t[l][r][1])?t[l][r][0]:t[l][r][1];o>=0?(t[l][r][0]=i,t[l][r][1]=i+o,i=t[l][r][1]):(t[l][r][0]=0,t[l][r][1]=0)}},sH={sign:rH,expand:vI,none:Vs,silhouette:bI,wiggle:jI,positive:aH},iH=function(t,n,r){var s=n.map(function(o){return o.props.dataKey}),i=sH[r],l=yI().keys(s).value(function(o,c){return+lr(o,c,0)}).order(Zm).offset(i);return l(t)},lH=function(t,n,r,s,i,l){if(!t)return null;var o=l?n.reverse():n,c={},d=o.reduce(function(f,p){var x,m=(x=p.type)!==null&&x!==void 0&&x.defaultProps?Je(Je({},p.type.defaultProps),p.props):p.props,j=m.stackId,h=m.hide;if(h)return f;var y=m[r],g=f[y]||{hasStack:!1,stackGroups:{}};if(ct(j)){var b=g.stackGroups[j]||{numericAxisId:r,cateAxisId:s,items:[]};b.items.push(p),g.hasStack=!0,g.stackGroups[j]=b}else g.stackGroups[sf("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[p]};return Je(Je({},f),{},Ts({},y,g))},c),u={};return Object.keys(d).reduce(function(f,p){var x=d[p];if(x.hasStack){var m={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(j,h){var y=x.stackGroups[h];return Je(Je({},j),{},Ts({},h,{numericAxisId:r,cateAxisId:s,items:y.items,stackedData:iH(t,y.items,i)}))},m)}return Je(Je({},f),{},Ts({},p,x))},u)},oH=function(t,n){var r=n.realScaleType,s=n.type,i=n.tickCount,l=n.originalDomain,o=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=vW(d,i,o);return t.domain([jf(u),bf(u)]),{niceTicks:u}}if(i&&s==="number"){var f=t.domain(),p=bW(f,i,o);return{niceTicks:p}}return null},b1=function(t){var n=t.axis,r=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,o=t.index;if(n.type==="category")return r[o]?r[o].coordinate+s:null;var c=lr(l,n.dataKey,n.domain[o]);return _e(c)?null:n.scale(c)-i/2+s},cH=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},dH=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Je(Je({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(ct(i)){var l=n[i];if(l){var o=l.items.indexOf(t);return o>=0?l.stackedData[o]:null}}return null},uH=function(t){return t.reduce(function(n,r){return[jf(r.concat([n[0]]).filter(ne)),bf(r.concat([n[1]]).filter(ne))]},[1/0,-1/0])},g5=function(t,n,r){return Object.keys(t).reduce(function(s,i){var l=t[i],o=l.stackedData,c=o.reduce(function(d,u){var f=uH(u.slice(n,r+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},j1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ph=function(t,n,r){if(Ne(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(ne(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(j1.test(t[0])){var i=+j1.exec(t[0])[1];s[0]=n[0]-i}else Ne(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(ne(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(w1.test(t[1])){var l=+w1.exec(t[1])[1];s[1]=n[1]+l}else Ne(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Wd=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var i=U0(n,function(f){return f.coordinate}),l=1/0,o=1,c=i.length;o<c;o++){var d=i[o],u=i[o-1];l=Math.min((d.coordinate||0)-(u.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},N1=function(t,n,r){return!t||!t.length||fg(t,Nn(r,"type.defaultProps.domain"))?n:t},y5=function(t,n){var r=t.type.defaultProps?Je(Je({},t.type.defaultProps),t.props):t.props,s=r.dataKey,i=r.name,l=r.unit,o=r.formatter,c=r.tooltipType,d=r.chartType,u=r.hide;return Je(Je({},Ae(t,!1)),{},{dataKey:s,unit:l,formatter:o,name:i||s,color:hg(t),value:lr(n,s),type:c,payload:n,chartType:d,hide:u})};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function S1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function k1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(n),!0).forEach(function(r){fH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fH(e,t,n){return t=pH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=mH(e,"string");return to(t)=="symbol"?t:t+""}function mH(e,t){if(to(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hd=Math.PI/180,hH=function(t){return t*180/Math.PI},vt=function(t,n,r,s){return{x:t+Math.cos(-Hd*s)*r,y:n+Math.sin(-Hd*s)*r}},xH=function(t,n){var r=t.x,s=t.y,i=n.x,l=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-l,2))},gH=function(t,n){var r=t.x,s=t.y,i=n.cx,l=n.cy,o=xH({x:r,y:s},{x:i,y:l});if(o<=0)return{radius:o};var c=(r-i)/o,d=Math.acos(c);return s>l&&(d=2*Math.PI-d),{radius:o,angle:hH(d),angleInRadian:d}},yH=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),l=Math.min(s,i);return{startAngle:n-l*360,endAngle:r-l*360}},vH=function(t,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),l=Math.floor(s/360),o=Math.min(i,l);return t+o*360},C1=function(t,n){var r=t.x,s=t.y,i=gH({x:r,y:s},n),l=i.radius,o=i.angle,c=n.innerRadius,d=n.outerRadius;if(l<c||l>d)return!1;if(l===0)return!0;var u=yH(n),f=u.startAngle,p=u.endAngle,x=o,m;if(f<=p){for(;x>p;)x-=360;for(;x<f;)x+=360;m=x>=f&&x<=p}else{for(;x>f;)x-=360;for(;x<p;)x+=360;m=x>=p&&x<=f}return m?k1(k1({},n),{},{radius:l,angle:vH(x,n)}):null};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}var bH=["offset"];function jH(e){return kH(e)||SH(e)||NH(e)||wH()}function wH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NH(e,t){if(e){if(typeof e=="string")return Ah(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ah(e,t)}}function SH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kH(e){if(Array.isArray(e))return Ah(e)}function Ah(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CH(e,t){if(e==null)return{};var n=OH(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OH(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function O1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(n),!0).forEach(function(r){_H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _H(e,t,n){return t=PH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=AH(e,"string");return no(t)=="symbol"?t:t+""}function AH(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(this,arguments)}var EH=function(t){var n=t.value,r=t.formatter,s=_e(t.children)?n:t.children;return Ne(r)?r(s):s},TH=function(t,n){var r=Rn(n-t),s=Math.min(Math.abs(n-t),360);return r*s},$H=function(t,n,r){var s=t.position,i=t.viewBox,l=t.offset,o=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,p=c.outerRadius,x=c.startAngle,m=c.endAngle,j=c.clockWise,h=(f+p)/2,y=TH(x,m),g=y>=0?1:-1,b,N;s==="insideStart"?(b=x+g*l,N=j):s==="insideEnd"?(b=m-g*l,N=!j):s==="end"&&(b=m+g*l,N=j),N=y<=0?N:!N;var v=vt(d,u,h,b),S=vt(d,u,h,b+(N?1:-1)*359),k="M".concat(v.x,",").concat(v.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),C=_e(t.id)?sf("recharts-radial-line-"):t.id;return R.createElement("text",ro({},r,{dominantBaseline:"central",className:ue("recharts-radial-bar-label",o)}),R.createElement("defs",null,R.createElement("path",{id:C,d:k})),R.createElement("textPath",{xlinkHref:"#".concat(C)},n))},IH=function(t){var n=t.viewBox,r=t.offset,s=t.position,i=n,l=i.cx,o=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,p=(u+f)/2;if(s==="outside"){var x=vt(l,o,d+r,p),m=x.x,j=x.y;return{x:m,y:j,textAnchor:m>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=(c+d)/2,y=vt(l,o,h,p),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},MH=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,i=t.position,l=n,o=l.x,c=l.y,d=l.width,u=l.height,f=u>=0?1:-1,p=f*s,x=f>0?"end":"start",m=f>0?"start":"end",j=d>=0?1:-1,h=j*s,y=j>0?"end":"start",g=j>0?"start":"end";if(i==="top"){var b={x:o+d/2,y:c-f*s,textAnchor:"middle",verticalAnchor:x};return it(it({},b),r?{height:Math.max(c-r.y,0),width:d}:{})}if(i==="bottom"){var N={x:o+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:m};return it(it({},N),r?{height:Math.max(r.y+r.height-(c+u),0),width:d}:{})}if(i==="left"){var v={x:o-h,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return it(it({},v),r?{width:Math.max(v.x-r.x,0),height:u}:{})}if(i==="right"){var S={x:o+d+h,y:c+u/2,textAnchor:g,verticalAnchor:"middle"};return it(it({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var k=r?{width:d,height:u}:{};return i==="insideLeft"?it({x:o+h,y:c+u/2,textAnchor:g,verticalAnchor:"middle"},k):i==="insideRight"?it({x:o+d-h,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideTop"?it({x:o+d/2,y:c+p,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?it({x:o+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:x},k):i==="insideTopLeft"?it({x:o+h,y:c+p,textAnchor:g,verticalAnchor:m},k):i==="insideTopRight"?it({x:o+d-h,y:c+p,textAnchor:y,verticalAnchor:m},k):i==="insideBottomLeft"?it({x:o+h,y:c+u-p,textAnchor:g,verticalAnchor:x},k):i==="insideBottomRight"?it({x:o+d-h,y:c+u-p,textAnchor:y,verticalAnchor:x},k):bi(i)&&(ne(i.x)||Oa(i.x))&&(ne(i.y)||Oa(i.y))?it({x:o+qa(i.x,d),y:c+qa(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):it({x:o+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},DH=function(t){return"cx"in t&&ne(t.cx)};function Pt(e){var t=e.offset,n=t===void 0?5:t,r=CH(e,bH),s=it({offset:n},r),i=s.viewBox,l=s.position,o=s.value,c=s.children,d=s.content,u=s.className,f=u===void 0?"":u,p=s.textBreakAll;if(!i||_e(o)&&_e(c)&&!w.isValidElement(d)&&!Ne(d))return null;if(w.isValidElement(d))return w.cloneElement(d,s);var x;if(Ne(d)){if(x=w.createElement(d,s),w.isValidElement(x))return x}else x=EH(s);var m=DH(i),j=Ae(s,!0);if(m&&(l==="insideStart"||l==="insideEnd"||l==="end"))return $H(s,x,j);var h=m?IH(s):MH(s);return R.createElement(Ad,ro({className:ue("recharts-label",f)},j,h,{breakAll:p}),x)}Pt.displayName="Label";var v5=function(t){var n=t.cx,r=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,o=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,x=t.top,m=t.left,j=t.width,h=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(ne(j)&&ne(h)){if(ne(f)&&ne(p))return{x:f,y:p,width:j,height:h};if(ne(x)&&ne(m))return{x,y:m,width:j,height:h}}return ne(f)&&ne(p)?{x:f,y:p,width:0,height:0}:ne(n)&&ne(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:l||s||0,innerRadius:d||0,outerRadius:u||c||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},RH=function(t,n){return t?t===!0?R.createElement(Pt,{key:"label-implicit",viewBox:n}):ct(t)?R.createElement(Pt,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===Pt?w.cloneElement(t,{key:"label-implicit",viewBox:n}):R.createElement(Pt,{key:"label-implicit",content:t,viewBox:n}):Ne(t)?R.createElement(Pt,{key:"label-implicit",content:t,viewBox:n}):bi(t)?R.createElement(Pt,ro({viewBox:n},t,{key:"label-implicit"})):null:null},LH=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,i=v5(t),l=Bn(s,Pt).map(function(c,d){return w.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!r)return l;var o=RH(t.label,n||i);return[o].concat(jH(l))};Pt.parseViewBox=v5;Pt.renderCallByParent=LH;function zH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var BH=zH;const FH=Le(BH);function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}var UH=["valueAccessor"],VH=["data","dataKey","clockWise","id","textBreakAll"];function WH(e){return KH(e)||GH(e)||qH(e)||HH()}function HH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qH(e,t){if(e){if(typeof e=="string")return Eh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eh(e,t)}}function GH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KH(e){if(Array.isArray(e))return Eh(e)}function Eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qd.apply(this,arguments)}function _1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(n),!0).forEach(function(r){XH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XH(e,t,n){return t=YH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YH(e){var t=QH(e,"string");return ao(t)=="symbol"?t:t+""}function QH(e,t){if(ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A1(e,t){if(e==null)return{};var n=JH(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JH(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ZH=function(t){return Array.isArray(t.value)?FH(t.value):t.value};function La(e){var t=e.valueAccessor,n=t===void 0?ZH:t,r=A1(e,UH),s=r.data,i=r.dataKey,l=r.clockWise,o=r.id,c=r.textBreakAll,d=A1(r,VH);return!s||!s.length?null:R.createElement(pt,{className:"recharts-label-list"},s.map(function(u,f){var p=_e(i)?n(u,f):lr(u&&u.payload,i),x=_e(o)?{}:{id:"".concat(o,"-").concat(f)};return R.createElement(Pt,qd({},Ae(u,!0),d,x,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:Pt.parseViewBox(_e(l)?u:P1(P1({},u),{},{clockWise:l})),key:"label-".concat(f),index:f}))}))}La.displayName="LabelList";function eq(e,t){return e?e===!0?R.createElement(La,{key:"labelList-implicit",data:t}):R.isValidElement(e)||Ne(e)?R.createElement(La,{key:"labelList-implicit",data:t,content:e}):bi(e)?R.createElement(La,qd({data:t},e,{key:"labelList-implicit"})):null:null}function tq(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=Bn(r,La).map(function(l,o){return w.cloneElement(l,{data:t,key:"labelList-".concat(o)})});if(!n)return s;var i=eq(e.label,t);return[i].concat(WH(s))}La.renderCallByParent=tq;function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Th.apply(this,arguments)}function E1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function T1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E1(Object(n),!0).forEach(function(r){nq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nq(e,t,n){return t=rq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(e){var t=aq(e,"string");return so(t)=="symbol"?t:t+""}function aq(e,t){if(so(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sq=function(t,n){var r=Rn(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},xc=function(t){var n=t.cx,r=t.cy,s=t.radius,i=t.angle,l=t.sign,o=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(o?1:-1)+s,f=Math.asin(c/u)/Hd,p=d?i:i+l*f,x=vt(n,r,u,p),m=vt(n,r,s,p),j=d?i-l*f:i,h=vt(n,r,u*Math.cos(f*Hd),j);return{center:x,circleTangency:m,lineTangency:h,theta:f}},b5=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,o=t.endAngle,c=sq(l,o),d=l+c,u=vt(n,r,i,l),f=vt(n,r,i,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var x=vt(n,r,s,l),m=vt(n,r,s,d);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},iq=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=Rn(u-d),p=xc({cx:n,cy:r,radius:i,angle:d,sign:f,cornerRadius:l,cornerIsExternal:c}),x=p.circleTangency,m=p.lineTangency,j=p.theta,h=xc({cx:n,cy:r,radius:i,angle:u,sign:-f,cornerRadius:l,cornerIsExternal:c}),y=h.circleTangency,g=h.lineTangency,b=h.theta,N=c?Math.abs(d-u):Math.abs(d-u)-j-b;if(N<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):b5({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var v="M ".concat(m.x,",").concat(m.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var S=xc({cx:n,cy:r,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),k=S.circleTangency,C=S.lineTangency,O=S.theta,E=xc({cx:n,cy:r,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),M=E.circleTangency,$=E.lineTangency,I=E.theta,D=c?Math.abs(d-u):Math.abs(d-u)-O-I;if(D<0&&l===0)return"".concat(v,"L").concat(n,",").concat(r,"Z");v+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else v+="L".concat(n,",").concat(r,"Z");return v},lq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},j5=function(t){var n=T1(T1({},lq),t),r=n.cx,s=n.cy,i=n.innerRadius,l=n.outerRadius,o=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,p=n.className;if(l<i||u===f)return null;var x=ue("recharts-sector",p),m=l-i,j=qa(o,m,0,!0),h;return j>0&&Math.abs(u-f)<360?h=iq({cx:r,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(j,m/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):h=b5({cx:r,cy:s,innerRadius:i,outerRadius:l,startAngle:u,endAngle:f}),R.createElement("path",Th({},Ae(n,!0),{className:x,d:h,role:"img"}))};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(this,arguments)}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function I1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(r){oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oq(e,t,n){return t=cq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cq(e){var t=dq(e,"string");return io(t)=="symbol"?t:t+""}function dq(e,t){if(io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M1={curveBasisClosed:lI,curveBasisOpen:oI,curveBasis:iI,curveBumpX:q3,curveBumpY:G3,curveLinearClosed:cI,curveLinear:cf,curveMonotoneX:dI,curveMonotoneY:uI,curveNatural:fI,curveStep:pI,curveStepAfter:hI,curveStepBefore:mI},gc=function(t){return t.x===+t.x&&t.y===+t.y},Yi=function(t){return t.x},Qi=function(t){return t.y},uq=function(t,n){if(Ne(t))return t;var r="curve".concat(lf(t));return(r==="curveMonotone"||r==="curveBump")&&n?M1["".concat(r).concat(n==="vertical"?"Y":"X")]:M1[r]||cf},fq=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,l=t.baseLine,o=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=uq(r,o),f=d?i.filter(function(j){return gc(j)}):i,p;if(Array.isArray(l)){var x=d?l.filter(function(j){return gc(j)}):l,m=f.map(function(j,h){return I1(I1({},j),{},{base:x[h]})});return o==="vertical"?p=lc().y(Qi).x1(Yi).x0(function(j){return j.base.x}):p=lc().x(Yi).y1(Qi).y0(function(j){return j.base.y}),p.defined(gc).curve(u),p(m)}return o==="vertical"&&ne(l)?p=lc().y(Qi).x1(Yi).x0(l):ne(l)?p=lc().x(Yi).y1(Qi).y0(l):p=wS().x(Yi).y(Qi),p.defined(gc).curve(u),p(f)},D1=function(t){var n=t.className,r=t.points,s=t.path,i=t.pathRef;if((!r||!r.length)&&!s)return null;var l=r&&r.length?fq(t):s;return w.createElement("path",$h({},Ae(t,!1),hd(t),{className:ue("recharts-curve",n),d:l,ref:i}))},w5={exports:{}},pq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mq=pq,hq=mq;function N5(){}function S5(){}S5.resetWarningCache=N5;var xq=function(){function e(r,s,i,l,o,c){if(c!==hq){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:S5,resetWarningCache:N5};return n.PropTypes=n,n};w5.exports=xq();var gq=w5.exports;const Pe=Le(gq),{getOwnPropertyNames:yq,getOwnPropertySymbols:vq}=Object,{hasOwnProperty:bq}=Object.prototype;function $p(e,t){return function(r,s,i){return e(r,s,i)&&t(r,s,i)}}function yc(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);const{cache:i}=s,l=i.get(n),o=i.get(r);if(l&&o)return l===r&&o===n;i.set(n,r),i.set(r,n);const c=e(n,r,s);return i.delete(n),i.delete(r),c}}function jq(e){return e!=null?e[Symbol.toStringTag]:void 0}function R1(e){return yq(e).concat(vq(e))}const wq=Object.hasOwn||((e,t)=>bq.call(e,t));function ts(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Nq="__v",Sq="__o",kq="_owner",{getOwnPropertyDescriptor:L1,keys:z1}=Object;function Cq(e,t){return e.byteLength===t.byteLength&&Gd(new Uint8Array(e),new Uint8Array(t))}function Oq(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function _q(e,t){return e.byteLength===t.byteLength&&Gd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Pq(e,t){return ts(e.getTime(),t.getTime())}function Aq(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Eq(e,t){return e===t}function B1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const s=new Array(r),i=e.entries();let l,o,c=0;for(;(l=i.next())&&!l.done;){const d=t.entries();let u=!1,f=0;for(;(o=d.next())&&!o.done;){if(s[f]){f++;continue}const p=l.value,x=o.value;if(n.equals(p[0],x[0],c,f,e,t,n)&&n.equals(p[1],x[1],p[0],x[0],e,t,n)){u=s[f]=!0;break}f++}if(!u)return!1;c++}return!0}const Tq=ts;function $q(e,t,n){const r=z1(e);let s=r.length;if(z1(t).length!==s)return!1;for(;s-- >0;)if(!k5(e,t,n,r[s]))return!1;return!0}function Ji(e,t,n){const r=R1(e);let s=r.length;if(R1(t).length!==s)return!1;let i,l,o;for(;s-- >0;)if(i=r[s],!k5(e,t,n,i)||(l=L1(e,i),o=L1(t,i),(l||o)&&(!l||!o||l.configurable!==o.configurable||l.enumerable!==o.enumerable||l.writable!==o.writable)))return!1;return!0}function Iq(e,t){return ts(e.valueOf(),t.valueOf())}function Mq(e,t){return e.source===t.source&&e.flags===t.flags}function F1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const s=new Array(r),i=e.values();let l,o;for(;(l=i.next())&&!l.done;){const c=t.values();let d=!1,u=0;for(;(o=c.next())&&!o.done;){if(!s[u]&&n.equals(l.value,o.value,l.value,o.value,e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function Gd(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Dq(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function k5(e,t,n,r){return(r===kq||r===Sq||r===Nq)&&(e.$$typeof||t.$$typeof)?!0:wq(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const Rq="[object ArrayBuffer]",Lq="[object Arguments]",zq="[object Boolean]",Bq="[object DataView]",Fq="[object Date]",Uq="[object Error]",Vq="[object Map]",Wq="[object Number]",Hq="[object Object]",qq="[object RegExp]",Gq="[object Set]",Kq="[object String]",Xq={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Yq="[object URL]",Qq=Object.prototype.toString;function Jq({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:x,unknownTagComparators:m}){return function(h,y,g){if(h===y)return!0;if(h==null||y==null)return!1;const b=typeof h;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?o(h,y,g):b==="function"?i(h,y,g):!1;const N=h.constructor;if(N!==y.constructor)return!1;if(N===Object)return c(h,y,g);if(Array.isArray(h))return t(h,y,g);if(N===Date)return r(h,y,g);if(N===RegExp)return u(h,y,g);if(N===Map)return l(h,y,g);if(N===Set)return f(h,y,g);const v=Qq.call(h);if(v===Fq)return r(h,y,g);if(v===qq)return u(h,y,g);if(v===Vq)return l(h,y,g);if(v===Gq)return f(h,y,g);if(v===Hq)return typeof h.then!="function"&&typeof y.then!="function"&&c(h,y,g);if(v===Yq)return x(h,y,g);if(v===Uq)return s(h,y,g);if(v===Lq)return c(h,y,g);if(Xq[v])return p(h,y,g);if(v===Rq)return e(h,y,g);if(v===Bq)return n(h,y,g);if(v===zq||v===Wq||v===Kq)return d(h,y,g);if(m){let S=m[v];if(!S){const k=jq(h);k&&(S=m[k])}if(S)return S(h,y,g)}return!1}}function Zq({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:Cq,areArraysEqual:n?Ji:Oq,areDataViewsEqual:_q,areDatesEqual:Pq,areErrorsEqual:Aq,areFunctionsEqual:Eq,areMapsEqual:n?$p(B1,Ji):B1,areNumbersEqual:Tq,areObjectsEqual:n?Ji:$q,arePrimitiveWrappersEqual:Iq,areRegExpsEqual:Mq,areSetsEqual:n?$p(F1,Ji):F1,areTypedArraysEqual:n?$p(Gd,Ji):Gd,areUrlsEqual:Dq,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const s=yc(r.areArraysEqual),i=yc(r.areMapsEqual),l=yc(r.areObjectsEqual),o=yc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:o})}return r}function eG(e){return function(t,n,r,s,i,l,o){return e(t,n,o)}}function tG({circular:e,comparator:t,createState:n,equals:r,strict:s}){if(n)return function(o,c){const{cache:d=e?new WeakMap:void 0,meta:u}=n();return t(o,c,{cache:d,equals:r,meta:u,strict:s})};if(e)return function(o,c){return t(o,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(o,c){return t(o,c,i)}}const nG=pa();pa({strict:!0});pa({circular:!0});pa({circular:!0,strict:!0});pa({createInternalComparator:()=>ts});pa({strict:!0,createInternalComparator:()=>ts});pa({circular:!0,createInternalComparator:()=>ts});pa({circular:!0,createInternalComparator:()=>ts,strict:!0});function pa(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:s=!1}=e,i=Zq(e),l=Jq(i),o=n?n(l):eG(l);return tG({circular:t,comparator:l,createState:r,equals:o,strict:s})}function rG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function U1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):rG(s)};requestAnimationFrame(r)}function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function aG(e){return oG(e)||lG(e)||iG(e)||sG()}function sG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(e,t){if(e){if(typeof e=="string")return V1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V1(e,t)}}function V1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oG(e){if(Array.isArray(e))return e}function cG(){var e={},t=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,o=aG(l),c=o[0],d=o.slice(1);if(typeof c=="number"){U1(s.bind(null,d),c);return}s(c),U1(s.bind(null,d));return}Ih(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function W1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function H1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(n),!0).forEach(function(r){C5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C5(e,t,n){return t=dG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dG(e){var t=uG(e,"string");return lo(t)==="symbol"?t:String(t)}function uG(e,t){if(lo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fG=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},pG=function(t){return t},mG=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},yl=function(t,n){return Object.keys(n).reduce(function(r,s){return H1(H1({},r),{},C5({},s,t(s,n[s])))},{})},q1=function(t,n,r){return t.map(function(s){return"".concat(mG(s)," ").concat(n,"ms ").concat(r)}).join(",")};function hG(e,t){return yG(e)||gG(e,t)||O5(e,t)||xG()}function xG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function yG(e){if(Array.isArray(e))return e}function vG(e){return wG(e)||jG(e)||O5(e)||bG()}function bG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5(e,t){if(e){if(typeof e=="string")return Mh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mh(e,t)}}function jG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wG(e){if(Array.isArray(e))return Mh(e)}function Mh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kd=1e-4,_5=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},P5=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},G1=function(t,n){return function(r){var s=_5(t,n);return P5(s,r)}},NG=function(t,n){return function(r){var s=_5(t,n),i=[].concat(vG(s.map(function(l,o){return l*o}).slice(1)),[0]);return P5(i,r)}},K1=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],i=n[1],l=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,l=1,o=1;break;case"ease":s=.25,i=.1,l=.25,o=1;break;case"ease-in":s=.42,i=0,l=1,o=1;break;case"ease-out":s=.42,i=0,l=.58,o=1;break;case"ease-in-out":s=0,i=0,l=.58,o=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),u=hG(d,4);s=u[0],i=u[1],l=u[2],o=u[3]}}}var f=G1(s,l),p=G1(i,o),x=NG(s,l),m=function(y){return y>1?1:y<0?0:y},j=function(y){for(var g=y>1?1:y,b=g,N=0;N<8;++N){var v=f(b)-g,S=x(b);if(Math.abs(v-g)<Kd||S<Kd)return p(b);b=m(b-v/S)}return p(b)};return j.isStepper=!1,j},SG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,l=t.dt,o=l===void 0?17:l,c=function(u,f,p){var x=-(u-f)*r,m=p*i,j=p+(x-m)*o/1e3,h=p*o/1e3+u;return Math.abs(h-f)<Kd&&Math.abs(j)<Kd?[f,0]:[h,j]};return c.isStepper=!0,c.dt=o,c},kG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return K1(s);case"spring":return SG();default:if(s.split("(")[0]==="cubic-bezier")return K1(s)}return typeof s=="function"?s:null};function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function X1(e){return _G(e)||OG(e)||A5(e)||CG()}function CG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _G(e){if(Array.isArray(e))return Rh(e)}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){Dh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dh(e,t,n){return t=PG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PG(e){var t=AG(e,"string");return oo(t)==="symbol"?t:String(t)}function AG(e,t){if(oo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EG(e,t){return IG(e)||$G(e,t)||A5(e,t)||TG()}function TG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5(e,t){if(e){if(typeof e=="string")return Rh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rh(e,t)}}function Rh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $G(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function IG(e){if(Array.isArray(e))return e}var Xd=function(t,n,r){return t+(n-t)*r},Lh=function(t){var n=t.from,r=t.to;return n!==r},MG=function e(t,n,r){var s=yl(function(i,l){if(Lh(l)){var o=t(l.from,l.to,l.velocity),c=EG(o,2),d=c[0],u=c[1];return gt(gt({},l),{},{from:d,velocity:u})}return l},n);return r<1?yl(function(i,l){return Lh(l)?gt(gt({},l),{},{velocity:Xd(l.velocity,s[i].velocity,r),from:Xd(l.from,s[i].from,r)}):l},n):e(t,s,r-1)};const DG=function(e,t,n,r,s){var i=fG(e,t),l=i.reduce(function(h,y){return gt(gt({},h),{},Dh({},y,[e[y],t[y]]))},{}),o=i.reduce(function(h,y){return gt(gt({},h),{},Dh({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,f=function(){return null},p=function(){return yl(function(y,g){return g.from},o)},x=function(){return!Object.values(o).filter(Lh).length},m=function(y){d||(d=y);var g=y-d,b=g/n.dt;o=MG(n,o,b),s(gt(gt(gt({},e),t),p())),d=y,x()||(c=requestAnimationFrame(f))},j=function(y){u||(u=y);var g=(y-u)/r,b=yl(function(v,S){return Xd.apply(void 0,X1(S).concat([n(g)]))},l);if(s(gt(gt(gt({},e),t),b)),g<1)c=requestAnimationFrame(f);else{var N=yl(function(v,S){return Xd.apply(void 0,X1(S).concat([n(1)]))},l);s(gt(gt(gt({},e),t),N))}};return f=n.isStepper?m:j,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}var RG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function LG(e,t){if(e==null)return{};var n=zG(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zG(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ip(e){return VG(e)||UG(e)||FG(e)||BG()}function BG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FG(e,t){if(e){if(typeof e=="string")return zh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zh(e,t)}}function UG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VG(e){if(Array.isArray(e))return zh(e)}function zh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){sl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sl(e,t,n){return t=E5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E5(r.key),r)}}function qG(e,t,n){return t&&HG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E5(e){var t=GG(e,"string");return Js(t)==="symbol"?t:String(t)}function GG(e,t){if(Js(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Js(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bh(e,t)}function Bh(e,t){return Bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Bh(e,t)}function XG(e){var t=YG();return function(){var r=Yd(e),s;if(t){var i=Yd(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return Fh(this,s)}}function Fh(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uh(e)}function Uh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(e)}var ia=function(e){KG(n,e);var t=XG(n);function n(r,s){var i;WG(this,n),i=t.call(this,r,s);var l=i.props,o=l.isActive,c=l.attributeName,d=l.from,u=l.to,f=l.steps,p=l.children,x=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Uh(i)),i.changeStyle=i.changeStyle.bind(Uh(i)),!o||x<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:u}),Fh(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof p=="function")return i.state={style:d},Fh(i);i.state={style:c?sl({},c,d):d}}else i.state={style:{}};return i}return qG(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,o=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,p=this.state.style;if(o){if(!l){var x={style:c?sl({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(x);return}if(!(nG(s.to,u)&&s.canBegin&&s.isActive)){var m=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=m||d?f:s.to;if(this.state&&p){var h={style:c?sl({},c,j):j};(c&&p[c]!==j||!c&&p!==j)&&this.setState(h)}this.runAnimation(An(An({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,o=s.to,c=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,p=s.onAnimationStart,x=DG(l,o,kG(d),c,this.changeStyle),m=function(){i.stopJSAnimation=x()};this.manager.start([p,u,m,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,o=s.begin,c=s.onAnimationStart,d=l[0],u=d.style,f=d.duration,p=f===void 0?0:f,x=function(j,h,y){if(y===0)return j;var g=h.duration,b=h.easing,N=b===void 0?"ease":b,v=h.style,S=h.properties,k=h.onAnimationEnd,C=y>0?l[y-1]:h,O=S||Object.keys(v);if(typeof N=="function"||N==="spring")return[].concat(Ip(j),[i.runJSAnimation.bind(i,{from:C.style,to:v,duration:g,easing:N}),g]);var E=q1(O,g,N),M=An(An(An({},C.style),v),{},{transition:E});return[].concat(Ip(j),[M,g,k]).filter(pG)};return this.manager.start([c].concat(Ip(l.reduce(x,[u,Math.max(p,o)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=cG());var i=s.begin,l=s.duration,o=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,p=s.steps,x=s.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var j=o?sl({},o,c):c,h=q1(Object.keys(j),l,d);m.start([u,i,An(An({},j),{},{transition:h}),l,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var o=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=LG(s,RG),d=w.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||d===0||l<=0)return i;var f=function(x){var m=x.props,j=m.style,h=j===void 0?{}:j,y=m.className,g=w.cloneElement(x,An(An({},c),{},{style:An(An({},h),u),className:y}));return g};return d===1?f(w.Children.only(i)):R.createElement("div",null,w.Children.map(i,function(p){return f(p)}))}}]),n}(w.PureComponent);ia.displayName="Animate";ia.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ia.propTypes={from:Pe.oneOfType([Pe.object,Pe.string]),to:Pe.oneOfType([Pe.object,Pe.string]),attributeName:Pe.string,duration:Pe.number,begin:Pe.number,easing:Pe.oneOfType([Pe.string,Pe.func]),steps:Pe.arrayOf(Pe.shape({duration:Pe.number.isRequired,style:Pe.object.isRequired,easing:Pe.oneOfType([Pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pe.func]),properties:Pe.arrayOf("string"),onAnimationEnd:Pe.func})),children:Pe.oneOfType([Pe.node,Pe.func]),isActive:Pe.bool,canBegin:Pe.bool,onAnimationEnd:Pe.func,shouldReAnimate:Pe.bool,onAnimationStart:Pe.func,onAnimationReStart:Pe.func};function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(this,arguments)}function QG(e,t){return tK(e)||eK(e,t)||ZG(e,t)||JG()}function JG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(e,t){if(e){if(typeof e=="string")return J1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J1(e,t)}}function J1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function tK(e){if(Array.isArray(e))return e}function Z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ej(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(n),!0).forEach(function(r){nK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nK(e,t,n){return t=rK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rK(e){var t=aK(e,"string");return co(t)=="symbol"?t:t+""}function aK(e,t){if(co(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(co(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tj=function(t,n,r,s,i){var l=Math.min(Math.abs(r)/2,Math.abs(s)/2),o=s>=0?1:-1,c=r>=0?1:-1,d=s>=0&&r>=0||s<0&&r<0?1:0,u;if(l>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,x=4;p<x;p++)f[p]=i[p]>l?l:i[p];u="M".concat(t,",").concat(n+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(n)),u+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+o*f[1])),u+="L ".concat(t+r,",").concat(n+s-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+r-c*f[2],",").concat(n+s)),u+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+s-o*f[3])),u+="Z"}else if(l>0&&i===+i&&i>0){var m=Math.min(l,i);u="M ".concat(t,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+c*m,",").concat(n,`
            L `).concat(t+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+r,",").concat(n+o*m,`
            L `).concat(t+r,",").concat(n+s-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+r-c*m,",").concat(n+s,`
            L `).concat(t+c*m,",").concat(n+s,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t,",").concat(n+s-o*m," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return u},sK=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,i=n.x,l=n.y,o=n.width,c=n.height;if(Math.abs(o)>0&&Math.abs(c)>0){var d=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(l,l+c),p=Math.max(l,l+c);return r>=d&&r<=u&&s>=f&&s<=p}return!1},iK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xg=function(t){var n=ej(ej({},iK),t),r=w.useRef(),s=w.useState(-1),i=QG(s,2),l=i[0],o=i[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&o(N)}catch{}},[]);var c=n.x,d=n.y,u=n.width,f=n.height,p=n.radius,x=n.className,m=n.animationEasing,j=n.animationDuration,h=n.animationBegin,y=n.isAnimationActive,g=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var b=ue("recharts-rectangle",x);return g?R.createElement(ia,{canBegin:l>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:j,animationEasing:m,isActive:g},function(N){var v=N.width,S=N.height,k=N.x,C=N.y;return R.createElement(ia,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:j,isActive:y,easing:m},R.createElement("path",Qd({},Ae(n,!0),{className:b,d:tj(k,C,v,S,p),ref:r})))}):R.createElement("path",Qd({},Ae(n,!0),{className:b,d:tj(c,d,u,f,p)}))};function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(this,arguments)}var T5=function(t){var n=t.cx,r=t.cy,s=t.r,i=t.className,l=ue("recharts-dot",i);return n===+n&&r===+r&&s===+s?w.createElement("circle",Vh({},Ae(t,!1),hd(t),{className:l,cx:n,cy:r,r:s})):null};function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}var lK=["x","y","top","left","width","height","className"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh.apply(this,arguments)}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function oK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){cK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cK(e,t,n){return t=dK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=uK(e,"string");return uo(t)=="symbol"?t:t+""}function uK(e,t){if(uo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fK(e,t){if(e==null)return{};var n=pK(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var mK=function(t,n,r,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(n,"h").concat(r)},hK=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.top,o=l===void 0?0:l,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,p=t.height,x=p===void 0?0:p,m=t.className,j=fK(t,lK),h=oK({x:r,y:i,top:o,left:d,width:f,height:x},j);return!ne(r)||!ne(i)||!ne(f)||!ne(x)||!ne(o)||!ne(d)?null:R.createElement("path",Wh({},Ae(h,!0),{className:ue("recharts-cross",m),d:mK(r,i,f,x,o,d)}))},xK=qS,gK=xK(Object.getPrototypeOf,Object),yK=gK,vK=Tr,bK=yK,jK=$r,wK="[object Object]",NK=Function.prototype,SK=Object.prototype,$5=NK.toString,kK=SK.hasOwnProperty,CK=$5.call(Object);function OK(e){if(!jK(e)||vK(e)!=wK)return!1;var t=bK(e);if(t===null)return!0;var n=kK.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&$5.call(n)==CK}var _K=OK;const PK=Le(_K);var AK=Tr,EK=$r,TK="[object Boolean]";function $K(e){return e===!0||e===!1||EK(e)&&AK(e)==TK}var IK=$K;const MK=Le(IK);function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(this,arguments)}function DK(e,t){return BK(e)||zK(e,t)||LK(e,t)||RK()}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LK(e,t){if(e){if(typeof e=="string")return rj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rj(e,t)}}function rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function BK(e){if(Array.isArray(e))return e}function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){FK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FK(e,t,n){return t=UK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UK(e){var t=VK(e,"string");return fo(t)=="symbol"?t:t+""}function VK(e,t){if(fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ij=function(t,n,r,s,i){var l=r-s,o;return o="M ".concat(t,",").concat(n),o+="L ".concat(t+r,",").concat(n),o+="L ".concat(t+r-l/2,",").concat(n+i),o+="L ".concat(t+r-l/2-s,",").concat(n+i),o+="L ".concat(t,",").concat(n," Z"),o},WK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HK=function(t){var n=sj(sj({},WK),t),r=w.useRef(),s=w.useState(-1),i=DK(s,2),l=i[0],o=i[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&o(b)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,f=n.lowerWidth,p=n.height,x=n.className,m=n.animationEasing,j=n.animationDuration,h=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var g=ue("recharts-trapezoid",x);return y?R.createElement(ia,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:p,x:c,y:d},duration:j,animationEasing:m,isActive:y},function(b){var N=b.upperWidth,v=b.lowerWidth,S=b.height,k=b.x,C=b.y;return R.createElement(ia,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:j,easing:m},R.createElement("path",Jd({},Ae(n,!0),{className:g,d:ij(k,C,N,v,S),ref:r})))}):R.createElement("g",null,R.createElement("path",Jd({},Ae(n,!0),{className:g,d:ij(c,d,u,f,p)})))},qK=["option","shapeType","propTransformer","activeClassName","isActive"];function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function GK(e,t){if(e==null)return{};var n=KK(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){XK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XK(e,t,n){return t=YK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YK(e){var t=QK(e,"string");return po(t)=="symbol"?t:t+""}function QK(e,t){if(po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JK(e,t){return Zd(Zd({},t),e)}function ZK(e,t){return e==="symbols"}function oj(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return R.createElement(xg,n);case"trapezoid":return R.createElement(HK,n);case"sector":return R.createElement(j5,n);case"symbols":if(ZK(t))return R.createElement($0,n);break;default:return null}}function eX(e){return w.isValidElement(e)?e.props:e}function tX(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?JK:r,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,o=e.isActive,c=GK(e,qK),d;if(w.isValidElement(t))d=w.cloneElement(t,Zd(Zd({},c),eX(t)));else if(Ne(t))d=t(c);else if(PK(t)&&!MK(t)){var u=s(t,c);d=R.createElement(oj,{shapeType:n,elementProps:u})}else{var f=c;d=R.createElement(oj,{shapeType:n,elementProps:f})}return o?R.createElement(pt,{className:l},d):d}function kf(e,t){return t!=null&&"trapezoids"in e.props}function Cf(e,t){return t!=null&&"sectors"in e.props}function mo(e,t){return t!=null&&"points"in e.props}function nX(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&i}function rX(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function aX(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function sX(e,t){var n;return kf(e,t)?n=nX:Cf(e,t)?n=rX:mo(e,t)&&(n=aX),n}function iX(e,t){var n;return kf(e,t)?n="trapezoids":Cf(e,t)?n="sectors":mo(e,t)&&(n="points"),n}function lX(e,t){if(kf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Cf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return mo(e,t)?t.payload:{}}function oX(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=iX(n,t),i=lX(n,t),l=r.filter(function(c,d){var u=fg(i,c),f=n.props[s].filter(function(m){var j=sX(n,t);return j(m,t)}),p=n.props[s].indexOf(f[f.length-1]),x=d===p;return u&&x}),o=r.indexOf(l[l.length-1]);return o}var cX=Math.ceil,dX=Math.max;function uX(e,t,n,r){for(var s=-1,i=dX(cX((t-e)/(n||1)),0),l=Array(i);i--;)l[r?i:++s]=e,e+=n;return l}var fX=uX,pX=dk,cj=1/0,mX=17976931348623157e292;function hX(e){if(!e)return e===0?e:0;if(e=pX(e),e===cj||e===-cj){var t=e<0?-1:1;return t*mX}return e===e?e:0}var xX=hX,gX=fX,yX=pf,Mp=xX;function vX(e){return function(t,n,r){return r&&typeof r!="number"&&yX(t,n,r)&&(n=r=void 0),t=Mp(t),n===void 0?(n=t,t=0):n=Mp(n),r=r===void 0?t<n?1:-1:Mp(r),gX(t,n,r,e)}}var bX=vX,jX=bX,wX=jX(),NX=wX;const eu=Le(NX);function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function uj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){I5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I5(e,t,n){return t=SX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=kX(e,"string");return ho(t)=="symbol"?t:t+""}function kX(e,t){if(ho(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=["Webkit","Moz","O","ms"],OX=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=CX.reduce(function(i,l){return uj(uj({},i),{},I5({},l+r,n))},{});return s[t]=n,s};function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(this,arguments)}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){tn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D5(r.key),r)}}function PX(e,t,n){return t&&pj(e.prototype,t),n&&pj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AX(e,t,n){return t=nu(t),EX(e,M5()?Reflect.construct(t,n||[],nu(e).constructor):t.apply(e,n))}function EX(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TX(e)}function TX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M5=function(){return!!e})()}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nu(e)}function $X(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hh(e,t)}function Hh(e,t){return Hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Hh(e,t)}function tn(e,t,n){return t=D5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D5(e){var t=IX(e,"string");return Zs(t)=="symbol"?t:t+""}function IX(e,t){if(Zs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MX=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,i=t.x,l=t.width,o=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=xl().domain(eu(0,c)).range([i,i+l-o]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(s),scale:d,scaleValues:u}},mj=function(t){return t.changedTouches&&!!t.changedTouches.length},ei=function(e){function t(n){var r;return _X(this,t),r=AX(this,t,[n]),tn(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),tn(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),tn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,l=s.onDragEnd,o=s.startIndex;l==null||l({endIndex:i,startIndex:o})}),r.detachDragEndListener()}),tn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),tn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),tn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),tn(r,"handleSlideDragStart",function(s){var i=mj(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $X(t,e),PX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,l=this.state.scaleValues,o=this.props,c=o.gap,d=o.data,u=d.length-1,f=Math.min(s,i),p=Math.max(s,i),x=t.getIndexInRange(l,f),m=t.getIndexInRange(l,p);return{startIndex:x-x%c,endIndex:m===u?u:m-m%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,l=s.tickFormatter,o=s.dataKey,c=lr(i[r],o,r);return Ne(l)?l(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,l=s.startX,o=s.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,p=c.startIndex,x=c.endIndex,m=c.onChange,j=r.pageX-i;j>0?j=Math.min(j,d+u-f-o,d+u-f-l):j<0&&(j=Math.max(j,d-l,d-o));var h=this.getIndex({startX:l+j,endX:o+j});(h.startIndex!==p||h.endIndex!==x)&&m&&m(h),this.setState({startX:l+j,endX:o+j,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=mj(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,o=s.endX,c=s.startX,d=this.state[l],u=this.props,f=u.x,p=u.width,x=u.travellerWidth,m=u.onChange,j=u.gap,h=u.data,y={startX:this.state.startX,endX:this.state.endX},g=r.pageX-i;g>0?g=Math.min(g,f+p-x-d):g<0&&(g=Math.max(g,f-d)),y[l]=d+g;var b=this.getIndex(y),N=b.startIndex,v=b.endIndex,S=function(){var C=h.length-1;return l==="startX"&&(o>c?N%j===0:v%j===0)||o<c&&v===C||l==="endX"&&(o>c?v%j===0:N%j===0)||o>c&&v===C};this.setState(tn(tn({},l,d+g),"brushMoveStartX",r.pageX),function(){m&&S()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,l=this.state,o=l.scaleValues,c=l.startX,d=l.endX,u=this.state[s],f=o.indexOf(u);if(f!==-1){var p=f+r;if(!(p===-1||p>=o.length)){var x=o[p];s==="startX"&&x>=d||s==="endX"&&x<=c||this.setState(tn({},s,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,o=r.height,c=r.fill,d=r.stroke;return R.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:l,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,o=r.height,c=r.data,d=r.children,u=r.padding,f=w.Children.only(d);return f?R.cloneElement(f,{x:s,y:i,width:l,height:o,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,l,o=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,p=c.traveller,x=c.ariaLabel,m=c.data,j=c.startIndex,h=c.endIndex,y=Math.max(r,this.props.x),g=Dp(Dp({},Ae(this.props,!1)),{},{x:y,y:d,width:u,height:f}),b=x||"Min value: ".concat((i=m[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=m[h])===null||l===void 0?void 0:l.name);return R.createElement(pt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(v){["ArrowLeft","ArrowRight"].includes(v.key)&&(v.preventDefault(),v.stopPropagation(),o.handleTravellerMoveKeyboard(v.key==="ArrowRight"?1:-1,s))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,g))}},{key:"renderSlide",value:function(r,s){var i=this.props,l=i.y,o=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(r,s)+d,f=Math.max(Math.abs(s-r)-d,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:l,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,l=r.y,o=r.height,c=r.travellerWidth,d=r.stroke,u=this.state,f=u.startX,p=u.endX,x=5,m={pointerEvents:"none",fill:d};return R.createElement(pt,{className:"recharts-brush-texts"},R.createElement(Ad,tu({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-x,y:l+o/2},m),this.getTextOfTick(s)),R.createElement(Ad,tu({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+x,y:l+o/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,l=r.children,o=r.x,c=r.y,d=r.width,u=r.height,f=r.alwaysShowText,p=this.state,x=p.startX,m=p.endX,j=p.isTextActive,h=p.isSlideMoving,y=p.isTravellerMoving,g=p.isTravellerFocused;if(!s||!s.length||!ne(o)||!ne(c)||!ne(d)||!ne(u)||d<=0||u<=0)return null;var b=ue("recharts-brush",i),N=R.Children.count(l)===1,v=OX("userSelect","none");return R.createElement(pt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(x,m),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(m,"endX"),(j||h||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,l=r.width,o=r.height,c=r.stroke,d=Math.floor(i+o/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:s,y:i,width:l,height:o,fill:c,stroke:"none"}),R.createElement("line",{x1:s+1,y1:d,x2:s+l-1,y2:d,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:s+1,y1:d+2,x2:s+l-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return R.isValidElement(r)?i=R.cloneElement(r,s):Ne(r)?i=r(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,l=r.width,o=r.x,c=r.travellerWidth,d=r.updateId,u=r.startIndex,f=r.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return Dp({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:l},i&&i.length?MX({data:i,width:l,x:o,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||o!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([o,o+l-c]);var p=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:l,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,l=0,o=i-1;o-l>1;){var c=Math.floor((l+o)/2);r[c]>s?o=c:l=c}return s>=r[o]?o:l}}])}(w.PureComponent);tn(ei,"displayName","Brush");tn(ei,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var DX=F0;function RX(e,t){var n;return DX(e,function(r,s,i){return n=t(r,s,i),!n}),!!n}var LX=RX,zX=LS,BX=Oi,FX=LX,UX=Zt,VX=pf;function WX(e,t,n){var r=UX(e)?zX:FX;return n&&VX(e,t,n)&&(t=void 0),r(e,BX(t))}var HX=WX;const qX=Le(HX);var ar=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},hj=sk;function GX(e,t,n){t=="__proto__"&&hj?hj(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var KX=GX,XX=KX,YX=rk,QX=Oi;function JX(e,t){var n={};return t=QX(t),YX(e,function(r,s,i){XX(n,s,t(r,s,i))}),n}var ZX=JX;const eY=Le(ZX);function tY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var nY=tY,rY=F0;function aY(e,t){var n=!0;return rY(e,function(r,s,i){return n=!!t(r,s,i),n}),n}var sY=aY,iY=nY,lY=sY,oY=Oi,cY=Zt,dY=pf;function uY(e,t,n){var r=cY(e)?iY:lY;return n&&dY(e,t,n)&&(t=void 0),r(e,oY(t))}var fY=uY;const pY=Le(fY);var mY=["x","y"];function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(this,arguments)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(r){hY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hY(e,t,n){return t=xY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xY(e){var t=gY(e,"string");return xo(t)=="symbol"?t:t+""}function gY(e,t){if(xo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yY(e,t){if(e==null)return{};var n=vY(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bY(e,t){var n=e.x,r=e.y,s=yY(e,mY),i="".concat(n),l=parseInt(i,10),o="".concat(r),c=parseInt(o,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),p=parseInt(f,10);return Zi(Zi(Zi(Zi(Zi({},t),s),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function gj(e){return R.createElement(tX,qh({shapeType:"rectangle",propTransformer:bY,activeClassName:"recharts-active-bar"},e))}var jY=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var i=ne(r)||T$(r);return i?t(r,s):(i||Ka(),n)}},wY=["value","background"],R5;function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function NY(e,t){if(e==null)return{};var n=SY(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(this,arguments)}function yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(n),!0).forEach(function(r){Wr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z5(r.key),r)}}function CY(e,t,n){return t&&vj(e.prototype,t),n&&vj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OY(e,t,n){return t=au(t),_Y(e,L5()?Reflect.construct(t,n||[],au(e).constructor):t.apply(e,n))}function _Y(e,t){if(t&&(ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PY(e)}function PY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!e})()}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},au(e)}function AY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gh(e,t)}function Gh(e,t){return Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Gh(e,t)}function Wr(e,t,n){return t=z5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z5(e){var t=EY(e,"string");return ti(t)=="symbol"?t:t+""}function EY(e,t){if(ti(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ti(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ma=function(e){function t(){var n;kY(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=OY(this,t,[].concat(s)),Wr(n,"state",{isAnimationFinished:!1}),Wr(n,"id",sf("recharts-bar-")),Wr(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Wr(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return AY(t,e),CY(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,l=i.shape,o=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Ae(this.props,!1);return r&&r.map(function(f,p){var x=p===c,m=x?d:l,j=tt(tt(tt({},u),f),{},{isActive:x,option:m,index:p,dataKey:o,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return R.createElement(pt,ru({className:"recharts-bar-rectangle"},xd(s.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),R.createElement(gj,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,l=s.layout,o=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,p=this.state.prevData;return R.createElement(ia,{begin:c,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var m=x.t,j=i.map(function(h,y){var g=p&&p[y];if(g){var b=rs(g.x,h.x),N=rs(g.y,h.y),v=rs(g.width,h.width),S=rs(g.height,h.height);return tt(tt({},h),{},{x:b(m),y:N(m),width:v(m),height:S(m)})}if(l==="horizontal"){var k=rs(0,h.height),C=k(m);return tt(tt({},h),{},{y:h.y+h.height-C,height:C})}var O=rs(0,h.width),E=O(m);return tt(tt({},h),{},{width:E})});return R.createElement(pt,null,r.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!fg(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,l=s.dataKey,o=s.activeIndex,c=Ae(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,p=NY(d,wY);if(!f)return null;var x=tt(tt(tt(tt(tt({},p),{},{fill:"#eee"},f),c),xd(r.props,d,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:u,className:"recharts-bar-background-rectangle"});return R.createElement(gj,ru({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},x))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,o=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Bn(u,Sf);if(!f)return null;var p=d==="vertical"?l[0].height/2:l[0].width/2,x=function(h,y){var g=Array.isArray(h.value)?h.value[1]:h.value;return{x:h.x,y:h.y,value:g,errorVal:lr(h,y)}},m={clipPath:r?"url(#clipPath-".concat(s,")"):null};return R.createElement(pt,m,f.map(function(j){return R.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:l,xAxis:o,yAxis:c,layout:d,offset:p,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,l=r.className,o=r.xAxis,c=r.yAxis,d=r.left,u=r.top,f=r.width,p=r.height,x=r.isAnimationActive,m=r.background,j=r.id;if(s||!i||!i.length)return null;var h=this.state.isAnimationFinished,y=ue("recharts-bar",l),g=o&&o.allowDataOverflow,b=c&&c.allowDataOverflow,N=g||b,v=_e(j)?this.id:j;return R.createElement(pt,{className:y},g||b?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(v)},R.createElement("rect",{x:g?d:d-f/2,y:b?u:u-p/2,width:g?f:f*2,height:b?p:p*2}))):null,R.createElement(pt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(v,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,v),(!x||h)&&La.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(w.PureComponent);R5=ma;Wr(ma,"displayName","Bar");Wr(ma,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wr(ma,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,x=tH(r,n);if(!x)return null;var m=t.layout,j=n.type.defaultProps,h=j!==void 0?tt(tt({},j),n.props):n.props,y=h.dataKey,g=h.children,b=h.minPointSize,N=m==="horizontal"?l:i,v=d?N.scale.domain():null,S=cH({numericAxis:N}),k=Bn(g,pk),C=f.map(function(O,E){var M,$,I,D,F,A;d?M=nH(d[u+E],v):(M=lr(O,y),Array.isArray(M)||(M=[S,M]));var L=jY(b,R5.defaultProps.minPointSize)(M[1],E);if(m==="horizontal"){var _,P=[l.scale(M[0]),l.scale(M[1])],U=P[0],G=P[1];$=b1({axis:i,ticks:o,bandSize:s,offset:x.offset,entry:O,index:E}),I=(_=G??U)!==null&&_!==void 0?_:void 0,D=x.size;var q=U-G;if(F=Number.isNaN(q)?0:q,A={x:$,y:l.y,width:D,height:l.height},Math.abs(L)>0&&Math.abs(F)<Math.abs(L)){var z=Rn(F||L)*(Math.abs(L)-Math.abs(F));I-=z,F+=z}}else{var ee=[i.scale(M[0]),i.scale(M[1])],ae=ee[0],ge=ee[1];if($=ae,I=b1({axis:l,ticks:c,bandSize:s,offset:x.offset,entry:O,index:E}),D=ge-ae,F=x.size,A={x:i.x,y:I,width:i.width,height:F},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var Q=Rn(D||L)*(Math.abs(L)-Math.abs(D));D+=Q}}return tt(tt(tt({},O),{},{x:$,y:I,width:D,height:F,value:d?M:M[1],payload:O,background:A},k&&k[E]&&k[E].props),{},{tooltipPayload:[y5(n,O)],tooltipPosition:{x:$+D/2,y:I+F/2}})});return tt({data:C,layout:m},p)});function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function TY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B5(r.key),r)}}function $Y(e,t,n){return t&&bj(e.prototype,t),n&&bj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(n),!0).forEach(function(r){Of(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Of(e,t,n){return t=B5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B5(e){var t=IY(e,"string");return go(t)=="symbol"?t:t+""}function IY(e,t){if(go(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MY=function(t,n,r,s,i){var l=t.width,o=t.height,c=t.layout,d=t.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},p=!!rn(d,ma);return u.reduce(function(x,m){var j=n[m],h=j.orientation,y=j.domain,g=j.padding,b=g===void 0?{}:g,N=j.mirror,v=j.reversed,S="".concat(h).concat(N?"Mirror":""),k,C,O,E,M;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var $=y[1]-y[0],I=1/0,D=j.categoricalDomain.sort(M$);if(D.forEach(function(ee,ae){ae>0&&(I=Math.min((ee||0)-(D[ae-1]||0),I))}),Number.isFinite(I)){var F=I/$,A=j.layout==="vertical"?r.height:r.width;if(j.padding==="gap"&&(k=F*A/2),j.padding==="no-gap"){var L=qa(t.barCategoryGap,F*A),_=F*A/2;k=_-L-(_-L)/A*L}}}s==="xAxis"?C=[r.left+(b.left||0)+(k||0),r.left+r.width-(b.right||0)-(k||0)]:s==="yAxis"?C=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(k||0),r.top+r.height-(b.bottom||0)-(k||0)]:C=j.range,v&&(C=[C[1],C[0]]);var P=ZW(j,i,p),U=P.scale,G=P.realScaleType;U.domain(y).range(C),eH(U);var q=oH(U,In(In({},j),{},{realScaleType:G}));s==="xAxis"?(M=h==="top"&&!N||h==="bottom"&&N,O=r.left,E=f[S]-M*j.height):s==="yAxis"&&(M=h==="left"&&!N||h==="right"&&N,O=f[S]-M*j.width,E=r.top);var z=In(In(In({},j),q),{},{realScaleType:G,x:O,y:E,scale:U,width:s==="xAxis"?r.width:j.width,height:s==="yAxis"?r.height:j.height});return z.bandSize=Wd(z,q),!j.hide&&s==="xAxis"?f[S]+=(M?-1:1)*z.height:j.hide||(f[S]+=(M?-1:1)*z.width),In(In({},x),{},Of({},m,z))},{})},F5=function(t,n){var r=t.x,s=t.y,i=n.x,l=n.y;return{x:Math.min(r,i),y:Math.min(s,l),width:Math.abs(i-r),height:Math.abs(l-s)}},DY=function(t){var n=t.x1,r=t.y1,s=t.x2,i=t.y2;return F5({x:n,y:r},{x:s,y:i})},U5=function(){function e(t){TY(this,e),this.scale=t}return $Y(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();Of(U5,"EPS",1e-4);var gg=function(t){var n=Object.keys(t).reduce(function(r,s){return In(In({},r),{},Of({},s,U5.create(t[s])))},{});return In(In({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,o=i.position;return eY(s,function(c,d){return n[d].apply(c,{bandAware:l,position:o})})},isInRange:function(s){return pY(s,function(i,l){return n[l].isInRange(i)})}})};function RY(e){return(e%180+180)%180}var LY=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=RY(s),l=i*Math.PI/180,o=Math.atan(r/n),c=l>o&&l<Math.PI-o?r/Math.sin(l):n/Math.cos(l);return Math.abs(c)},zY=L6(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),V5=w.createContext(void 0),W5=w.createContext(void 0),H5=w.createContext(void 0),BY=w.createContext({}),q5=w.createContext(void 0),G5=w.createContext(0),K5=w.createContext(0),wj=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,l=t.clipPathId,o=t.children,c=t.width,d=t.height,u=zY(i);return R.createElement(V5.Provider,{value:r},R.createElement(W5.Provider,{value:s},R.createElement(BY.Provider,{value:i},R.createElement(H5.Provider,{value:u},R.createElement(q5.Provider,{value:l},R.createElement(G5.Provider,{value:d},R.createElement(K5.Provider,{value:c},o)))))))},FY=function(){return w.useContext(q5)},X5=function(t){var n=w.useContext(V5);n==null&&Ka();var r=n[t];return r==null&&Ka(),r},Y5=function(t){var n=w.useContext(W5);n==null&&Ka();var r=n[t];return r==null&&Ka(),r},UY=function(){var t=w.useContext(H5);return t},Q5=function(){return w.useContext(K5)},J5=function(){return w.useContext(G5)};function ni(e){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(e)}function VY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e4(r.key),r)}}function HY(e,t,n){return t&&WY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qY(e,t,n){return t=su(t),GY(e,Z5()?Reflect.construct(t,n||[],su(e).constructor):t.apply(e,n))}function GY(e,t){if(t&&(ni(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KY(e)}function KY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z5=function(){return!!e})()}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},su(e)}function XY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kh(e,t)}function Kh(e,t){return Kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Kh(e,t)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){yg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yg(e,t,n){return t=e4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e4(e){var t=YY(e,"string");return ni(t)=="symbol"?t:t+""}function YY(e,t){if(ni(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ni(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QY(e,t){return tQ(e)||eQ(e,t)||ZY(e,t)||JY()}function JY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(e,t){if(e){if(typeof e=="string")return kj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kj(e,t)}}function kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function tQ(e){if(Array.isArray(e))return e}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xh.apply(this,arguments)}var nQ=function(t,n){var r;return R.isValidElement(t)?r=R.cloneElement(t,n):Ne(t)?r=t(n):r=R.createElement("line",Xh({},n,{className:"recharts-reference-line-line"})),r},rQ=function(t,n,r,s,i,l,o,c,d){var u=i.x,f=i.y,p=i.width,x=i.height;if(r){var m=d.y,j=t.y.apply(m,{position:l});if(ar(d,"discard")&&!t.y.isInRange(j))return null;var h=[{x:u+p,y:j},{x:u,y:j}];return c==="left"?h.reverse():h}if(n){var y=d.x,g=t.x.apply(y,{position:l});if(ar(d,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:f+x},{x:g,y:f}];return o==="top"?b.reverse():b}if(s){var N=d.segment,v=N.map(function(S){return t.apply(S,{position:l})});return ar(d,"discard")&&qX(v,function(S){return!t.isInRange(S)})?null:v}return null};function aQ(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,o=e.className,c=e.alwaysShow,d=FY(),u=X5(s),f=Y5(i),p=UY();if(!d||!p)return null;Ma(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=gg({x:u.scale,y:f.scale}),m=ct(t),j=ct(n),h=r&&r.length===2,y=rQ(x,m,j,h,p,e.position,u.orientation,f.orientation,e);if(!y)return null;var g=QY(y,2),b=g[0],N=b.x,v=b.y,S=g[1],k=S.x,C=S.y,O=ar(e,"hidden")?"url(#".concat(d,")"):void 0,E=Sj(Sj({clipPath:O},Ae(e,!0)),{},{x1:N,y1:v,x2:k,y2:C});return R.createElement(pt,{className:ue("recharts-reference-line",o)},nQ(l,E),Pt.renderCallByParent(e,DY({x1:N,y1:v,x2:k,y2:C})))}var vg=function(e){function t(){return VY(this,t),qY(this,t,arguments)}return XY(t,e),HY(t,[{key:"render",value:function(){return R.createElement(aQ,this.props)}}])}(R.Component);yg(vg,"displayName","ReferenceLine");yg(vg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(this,arguments)}function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){_f(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n4(r.key),r)}}function lQ(e,t,n){return t&&iQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oQ(e,t,n){return t=iu(t),cQ(e,t4()?Reflect.construct(t,n||[],iu(e).constructor):t.apply(e,n))}function cQ(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dQ(e)}function dQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!e})()}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iu(e)}function uQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qh(e,t)}function Qh(e,t){return Qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Qh(e,t)}function _f(e,t,n){return t=n4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n4(e){var t=fQ(e,"string");return ri(t)=="symbol"?t:t+""}function fQ(e,t){if(ri(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pQ=function(t){var n=t.x,r=t.y,s=t.xAxis,i=t.yAxis,l=gg({x:s.scale,y:i.scale}),o=l.apply({x:n,y:r},{bandAware:!0});return ar(t,"discard")&&!l.isInRange(o)?null:o},Pf=function(e){function t(){return sQ(this,t),oQ(this,t,arguments)}return uQ(t,e),lQ(t,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,l=r.r,o=r.alwaysShow,c=r.clipPathId,d=ct(s),u=ct(i);if(Ma(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=pQ(this.props);if(!f)return null;var p=f.x,x=f.y,m=this.props,j=m.shape,h=m.className,y=ar(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=Oj(Oj({clipPath:y},Ae(this.props,!0)),{},{cx:p,cy:x});return R.createElement(pt,{className:ue("recharts-reference-dot",h)},t.renderDot(j,g),Pt.renderCallByParent(this.props,{x:p-l,y:x-l,width:2*l,height:2*l}))}}])}(R.Component);_f(Pf,"displayName","ReferenceDot");_f(Pf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_f(Pf,"renderDot",function(e,t){var n;return R.isValidElement(e)?n=R.cloneElement(e,t):Ne(e)?n=e(t):n=R.createElement(T5,Yh({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jh.apply(this,arguments)}function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Pj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(n),!0).forEach(function(r){Af(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a4(r.key),r)}}function xQ(e,t,n){return t&&hQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gQ(e,t,n){return t=lu(t),yQ(e,r4()?Reflect.construct(t,n||[],lu(e).constructor):t.apply(e,n))}function yQ(e,t){if(t&&(ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vQ(e)}function vQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!e})()}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lu(e)}function bQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zh(e,t)}function Zh(e,t){return Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Zh(e,t)}function Af(e,t,n){return t=a4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a4(e){var t=jQ(e,"string");return ai(t)=="symbol"?t:t+""}function jQ(e,t){if(ai(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ai(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wQ=function(t,n,r,s,i){var l=i.x1,o=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var p=gg({x:u.scale,y:f.scale}),x={x:t?p.x.apply(l,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},m={x:n?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return ar(i,"discard")&&(!p.isInRange(x)||!p.isInRange(m))?null:F5(x,m)},Ef=function(e){function t(){return mQ(this,t),gQ(this,t,arguments)}return bQ(t,e),xQ(t,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,l=r.y1,o=r.y2,c=r.className,d=r.alwaysShow,u=r.clipPathId;Ma(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ct(s),p=ct(i),x=ct(l),m=ct(o),j=this.props.shape;if(!f&&!p&&!x&&!m&&!j)return null;var h=wQ(f,p,x,m,this.props);if(!h&&!j)return null;var y=ar(this.props,"hidden")?"url(#".concat(u,")"):void 0;return R.createElement(pt,{className:ue("recharts-reference-area",c)},t.renderRect(j,Pj(Pj({clipPath:y},Ae(this.props,!0)),h)),Pt.renderCallByParent(this.props,h))}}])}(R.Component);Af(Ef,"displayName","ReferenceArea");Af(Ef,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Af(Ef,"renderRect",function(e,t){var n;return R.isValidElement(e)?n=R.cloneElement(e,t):Ne(e)?n=e(t):n=R.createElement(xg,Jh({},t,{className:"recharts-reference-area-rect"})),n});function s4(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function NQ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return LY(r,n)}function SQ(e,t,n){var r=n==="width",s=e.x,i=e.y,l=e.width,o=e.height;return t===1?{start:r?s:i,end:r?s+l:i+o}:{start:r?s+l:i+o,end:r?s:i}}function ou(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-s)<=0}function kQ(e,t){return s4(e,t+1)}function CQ(e,t,n,r,s){for(var i=(r||[]).slice(),l=t.start,o=t.end,c=0,d=1,u=l,f=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:s4(r,d)};var j=c,h,y=function(){return h===void 0&&(h=n(m,j)),h},g=m.coordinate,b=c===0||ou(e,g,y,u,o);b||(c=0,u=l,d+=1),b&&(u=g+e*(y()/2+s),c+=d)},p;d<=i.length;)if(p=f(),p)return p.v;return[]}function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(n),!0).forEach(function(r){OQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OQ(e,t,n){return t=_Q(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=PQ(e,"string");return yo(t)=="symbol"?t:t+""}function PQ(e,t){if(yo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AQ(e,t,n,r,s){for(var i=(r||[]).slice(),l=i.length,o=t.start,c=t.end,d=function(p){var x=i[p],m,j=function(){return m===void 0&&(m=n(x,p)),m};if(p===l-1){var h=e*(x.coordinate+e*j()/2-c);i[p]=x=Ot(Ot({},x),{},{tickCoord:h>0?x.coordinate-h*e:x.coordinate})}else i[p]=x=Ot(Ot({},x),{},{tickCoord:x.coordinate});var y=ou(e,x.tickCoord,j,o,c);y&&(c=x.tickCoord-e*(j()/2+s),i[p]=Ot(Ot({},x),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function EQ(e,t,n,r,s,i){var l=(r||[]).slice(),o=l.length,c=t.start,d=t.end;if(i){var u=r[o-1],f=n(u,o-1),p=e*(u.coordinate+e*f/2-d);l[o-1]=u=Ot(Ot({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var x=ou(e,u.tickCoord,function(){return f},c,d);x&&(d=u.tickCoord-e*(f/2+s),l[o-1]=Ot(Ot({},u),{},{isShow:!0}))}for(var m=i?o-1:o,j=function(g){var b=l[g],N,v=function(){return N===void 0&&(N=n(b,g)),N};if(g===0){var S=e*(b.coordinate-e*v()/2-c);l[g]=b=Ot(Ot({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else l[g]=b=Ot(Ot({},b),{},{tickCoord:b.coordinate});var k=ou(e,b.tickCoord,v,c,d);k&&(c=b.tickCoord+e*(v()/2+s),l[g]=Ot(Ot({},b),{},{isShow:!0}))},h=0;h<m;h++)j(h);return l}function TQ(e,t,n){var r=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,o=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!r)return[];if(ne(c)||Mo.isSsr)return kQ(s,typeof c=="number"&&ne(c)?c:0);var p=[],x=o==="top"||o==="bottom"?"width":"height",m=u&&x==="width"?hl(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=function(b,N){var v=Ne(d)?d(b.value,N):b.value;return x==="width"?NQ(hl(v,{fontSize:t,letterSpacing:n}),m,f):hl(v,{fontSize:t,letterSpacing:n})[x]},h=s.length>=2?Rn(s[1].coordinate-s[0].coordinate):1,y=SQ(i,h,x);return c==="equidistantPreserveStart"?CQ(h,y,j,s,l):(c==="preserveStart"||c==="preserveStartEnd"?p=EQ(h,y,j,s,l,c==="preserveStartEnd"):p=AQ(h,y,j,s,l),p.filter(function(g){return g.isShow}))}var $Q=["viewBox"],IQ=["viewBox"],MQ=["ticks"];function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(this,arguments)}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){bg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rp(e,t){if(e==null)return{};var n=DQ(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DQ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l4(r.key),r)}}function LQ(e,t,n){return t&&Tj(e.prototype,t),n&&Tj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zQ(e,t,n){return t=cu(t),BQ(e,i4()?Reflect.construct(t,n||[],cu(e).constructor):t.apply(e,n))}function BQ(e,t){if(t&&(si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FQ(e)}function FQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!e})()}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cu(e)}function UQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ex(e,t)}function bg(e,t,n){return t=l4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l4(e){var t=VQ(e,"string");return si(t)=="symbol"?t:t+""}function VQ(e,t){if(si(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(si(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tf=function(e){function t(n){var r;return RQ(this,t),r=zQ(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return UQ(t,e),LQ(t,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,l=Rp(r,$Q),o=this.props,c=o.viewBox,d=Rp(o,IQ);return!Ps(i,c)||!Ps(l,d)||!Ps(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,l=s.y,o=s.width,c=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,p=s.tickMargin,x,m,j,h,y,g,b=f?-1:1,N=r.tickSize||u,v=ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":x=m=r.coordinate,h=l+ +!f*c,j=h-b*N,g=j-b*p,y=v;break;case"left":j=h=r.coordinate,m=i+ +!f*o,x=m-b*N,y=x-b*p,g=v;break;case"right":j=h=r.coordinate,m=i+ +f*o,x=m+b*N,y=x+b*p,g=v;break;default:x=m=r.coordinate,h=l+ +f*c,j=h+b*N,g=j+b*p,y=v;break}return{line:{x1:x,y1:j,x2:m,y2:h},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,o=r.height,c=r.orientation,d=r.mirror,u=r.axisLine,f=st(st(st({},Ae(this.props,!1)),Ae(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);f=st(st({},f),{},{x1:s,y1:i+p*o,x2:s+l,y2:i+p*o})}else{var x=+(c==="left"&&!d||c==="right"&&d);f=st(st({},f),{},{x1:s+x*l,y1:i,x2:s+x*l,y2:i+o})}return R.createElement("line",bs({},f,{className:ue("recharts-cartesian-axis-line",Nn(u,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var l=this,o=this.props,c=o.tickLine,d=o.stroke,u=o.tick,f=o.tickFormatter,p=o.unit,x=TQ(st(st({},this.props),{},{ticks:r}),s,i),m=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),h=Ae(this.props,!1),y=Ae(u,!1),g=st(st({},h),{},{fill:"none"},Ae(c,!1)),b=x.map(function(N,v){var S=l.getTickLineCoord(N),k=S.line,C=S.tick,O=st(st(st(st({textAnchor:m,verticalAnchor:j},h),{},{stroke:"none",fill:d},y),C),{},{index:v,payload:N,visibleTicksCount:x.length,tickFormatter:f});return R.createElement(pt,bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},xd(l.props,N,v)),c&&R.createElement("line",bs({},g,k,{className:ue("recharts-cartesian-axis-tick-line",Nn(c,"className"))})),u&&t.renderTickItem(u,O,"".concat(Ne(f)?f(N.value,v):N.value).concat(p||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,l=s.width,o=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,p=f.ticks,x=Rp(f,MQ),m=p;return Ne(c)&&(m=p&&p.length>0?c(this.props):c(x)),l<=0||o<=0||!m||!m.length?null:R.createElement(pt,{className:ue("recharts-cartesian-axis",d),ref:function(h){r.layerReference=h}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Pt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var l,o=ue(s.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(r)?l=R.cloneElement(r,st(st({},s),{},{className:o})):Ne(r)?l=r(st(st({},s),{},{className:o})):l=R.createElement(Ad,bs({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])}(w.Component);bg(Tf,"displayName","CartesianAxis");bg(Tf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function ii(e){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(e)}function WQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d4(r.key),r)}}function qQ(e,t,n){return t&&HQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GQ(e,t,n){return t=du(t),KQ(e,o4()?Reflect.construct(t,n||[],du(e).constructor):t.apply(e,n))}function KQ(e,t){if(t&&(ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XQ(e)}function XQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o4=function(){return!!e})()}function du(e){return du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},du(e)}function YQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tx(e,t)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},tx(e,t)}function c4(e,t,n){return t=d4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d4(e){var t=QQ(e,"string");return ii(t)=="symbol"?t:t+""}function QQ(e,t){if(ii(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ii(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nx.apply(this,arguments)}function JQ(e){var t=e.xAxisId,n=Q5(),r=J5(),s=X5(t);return s==null?null:w.createElement(Tf,nx({},s,{className:ue("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return Aa(l,!0)}}))}var Bo=function(e){function t(){return WQ(this,t),GQ(this,t,arguments)}return YQ(t,e),qQ(t,[{key:"render",value:function(){return w.createElement(JQ,this.props)}}])}(w.Component);c4(Bo,"displayName","XAxis");c4(Bo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function li(e){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(e)}function ZQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p4(r.key),r)}}function tJ(e,t,n){return t&&eJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nJ(e,t,n){return t=uu(t),rJ(e,u4()?Reflect.construct(t,n||[],uu(e).constructor):t.apply(e,n))}function rJ(e,t){if(t&&(li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aJ(e)}function aJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!e})()}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uu(e)}function sJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rx(e,t)}function f4(e,t,n){return t=p4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p4(e){var t=iJ(e,"string");return li(t)=="symbol"?t:t+""}function iJ(e,t){if(li(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ax.apply(this,arguments)}var lJ=function(t){var n=t.yAxisId,r=Q5(),s=J5(),i=Y5(n);return i==null?null:w.createElement(Tf,ax({},i,{className:ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Aa(o,!0)}}))},Fo=function(e){function t(){return ZQ(this,t),nJ(this,t,arguments)}return sJ(t,e),tJ(t,[{key:"render",value:function(){return w.createElement(lJ,this.props)}}])}(w.Component);f4(Fo,"displayName","YAxis");f4(Fo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $j(e){return uJ(e)||dJ(e)||cJ(e)||oJ()}function oJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cJ(e,t){if(e){if(typeof e=="string")return sx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sx(e,t)}}function dJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uJ(e){if(Array.isArray(e))return sx(e)}function sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ix=function(t,n,r,s,i){var l=Bn(t,vg),o=Bn(t,Pf),c=[].concat($j(l),$j(o)),d=Bn(t,Ef),u="".concat(s,"Id"),f=s[0],p=n;if(c.length&&(p=c.reduce(function(j,h){if(h.props[u]===r&&ar(h.props,"extendDomain")&&ne(h.props[f])){var y=h.props[f];return[Math.min(j[0],y),Math.max(j[1],y)]}return j},p)),d.length){var x="".concat(f,"1"),m="".concat(f,"2");p=d.reduce(function(j,h){if(h.props[u]===r&&ar(h.props,"extendDomain")&&ne(h.props[x])&&ne(h.props[m])){var y=h.props[x],g=h.props[m];return[Math.min(j[0],y,g),Math.max(j[1],y,g)]}return j},p)}return i&&i.length&&(p=i.reduce(function(j,h){return ne(h)?[Math.min(j[0],h),Math.max(j[1],h)]:j},p)),p},m4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var x=new s(u,f||c,p),m=n?n+d:d;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],x]:c._events[m].push(x):(c._events[m]=x,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=n?n+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,x=f.length,m=new Array(x);p<x;p++)m[p]=f[p].fn;return m},o.prototype.listenerCount=function(d){var u=n?n+d:d,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,u,f,p,x,m){var j=n?n+d:d;if(!this._events[j])return!1;var h=this._events[j],y=arguments.length,g,b;if(h.fn){switch(h.once&&this.removeListener(d,h.fn,void 0,!0),y){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,u),!0;case 3:return h.fn.call(h.context,u,f),!0;case 4:return h.fn.call(h.context,u,f,p),!0;case 5:return h.fn.call(h.context,u,f,p,x),!0;case 6:return h.fn.call(h.context,u,f,p,x,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];h.fn.apply(h.context,g)}else{var N=h.length,v;for(b=0;b<N;b++)switch(h[b].once&&this.removeListener(d,h[b].fn,void 0,!0),y){case 1:h[b].fn.call(h[b].context);break;case 2:h[b].fn.call(h[b].context,u);break;case 3:h[b].fn.call(h[b].context,u,f);break;case 4:h[b].fn.call(h[b].context,u,f,p);break;default:if(!g)for(v=1,g=new Array(y-1);v<y;v++)g[v-1]=arguments[v];h[b].fn.apply(h[b].context,g)}}return!0},o.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},o.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},o.prototype.removeListener=function(d,u,f,p){var x=n?n+d:d;if(!this._events[x])return this;if(!u)return l(this,x),this;var m=this._events[x];if(m.fn)m.fn===u&&(!p||m.once)&&(!f||m.context===f)&&l(this,x);else{for(var j=0,h=[],y=m.length;j<y;j++)(m[j].fn!==u||p&&!m[j].once||f&&m[j].context!==f)&&h.push(m[j]);h.length?this._events[x]=h.length===1?h[0]:h:l(this,x)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&l(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(m4);var fJ=m4.exports;const pJ=Le(fJ);var Lp=new pJ,zp="recharts.syncMouseEvents";function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function mJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h4(r.key),r)}}function xJ(e,t,n){return t&&hJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bp(e,t,n){return t=h4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h4(e){var t=gJ(e,"string");return vo(t)=="symbol"?t:t+""}function gJ(e,t){if(vo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yJ=function(){function e(){mJ(this,e),Bp(this,"activeIndex",0),Bp(this,"coordinateList",[]),Bp(this,"layout","horizontal")}return xJ(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,l=n.container,o=l===void 0?null:l,c=n.layout,d=c===void 0?null:c,u=n.offset,f=u===void 0?null:u,p=n.mouseHandlerCallback,x=p===void 0?null:p;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,o=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+d,p=l+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function vJ(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&ne(r)&&ne(s))return!0}return!1}function bJ(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function x4(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,i=e.endAngle,l=vt(t,n,r,s),o=vt(t,n,r,i);return{points:[l,o],cx:t,cy:n,radius:r,startAngle:s,endAngle:i}}function jJ(e,t,n){var r,s,i,l;if(e==="horizontal")r=t.x,i=r,s=n.top,l=n.top+n.height;else if(e==="vertical")s=t.y,l=s,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,p=vt(o,c,d,f),x=vt(o,c,u,f);r=p.x,s=p.y,i=x.x,l=x.y}else return x4(t);return[{x:r,y:s},{x:i,y:l}]}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(n),!0).forEach(function(r){wJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wJ(e,t,n){return t=NJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NJ(e){var t=SJ(e,"string");return bo(t)=="symbol"?t:t+""}function SJ(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kJ(e){var t,n,r=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,o=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,x=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!l||p!=="ScatterChart"&&s!=="axis")return null;var m,j=D1;if(p==="ScatterChart")m=l,j=hK;else if(p==="BarChart")m=bJ(f,l,c,u),j=xg;else if(f==="radial"){var h=x4(l),y=h.cx,g=h.cy,b=h.radius,N=h.startAngle,v=h.endAngle;m={cx:y,cy:g,startAngle:N,endAngle:v,innerRadius:b,outerRadius:b},j=j5}else m={points:jJ(f,l,c)},j=D1;var S=vc(vc(vc(vc({stroke:"#ccc",pointerEvents:"none"},c),m),Ae(x,!1)),{},{payload:o,payloadIndex:d,className:ue("recharts-tooltip-cursor",x.className)});return w.isValidElement(x)?w.cloneElement(x,S):w.createElement(j,S)}var CJ=["item"],OJ=["children","className","width","height","style","compact","title","desc"];function oi(e){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js.apply(this,arguments)}function Mj(e,t){return AJ(e)||PJ(e,t)||y4(e,t)||_J()}function _J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function AJ(e){if(Array.isArray(e))return e}function Dj(e,t){if(e==null)return{};var n=EJ(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EJ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function TJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v4(r.key),r)}}function IJ(e,t,n){return t&&$J(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MJ(e,t,n){return t=fu(t),DJ(e,g4()?Reflect.construct(t,n||[],fu(e).constructor):t.apply(e,n))}function DJ(e,t){if(t&&(oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RJ(e)}function RJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!e})()}function fu(e){return fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fu(e)}function LJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lx(e,t)}function lx(e,t){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lx(e,t)}function ci(e){return FJ(e)||BJ(e)||y4(e)||zJ()}function zJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4(e,t){if(e){if(typeof e=="string")return ox(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ox(e,t)}}function BJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FJ(e){if(Array.isArray(e))return ox(e)}function ox(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){he(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function he(e,t,n){return t=v4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v4(e){var t=UJ(e,"string");return oi(t)=="symbol"?t:t+""}function UJ(e,t){if(oi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VJ={xAxis:["bottom","top"],yAxis:["left","right"]},WJ={width:"100%",height:"100%"},b4={x:0,y:0};function bc(e){return e}var HJ=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},qJ=function(t,n,r,s){var i=n.find(function(u){return u&&u.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,o=s.radius;return K(K(K({},s),vt(s.cx,s.cy,o,l)),{},{angle:l,radius:o})}var c=i.coordinate,d=s.angle;return K(K(K({},s),vt(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return b4},$f=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,l=(r??[]).reduce(function(o,c){var d=c.props.data;return d&&d.length?[].concat(ci(o),ci(d)):o},[]);return l.length>0?l:t&&t.length&&ne(s)&&ne(i)?t.slice(s,i+1):[]};function j4(e){return e==="number"?[0,"auto"]:void 0}var cx=function(t,n,r,s){var i=t.graphicalItems,l=t.tooltipAxis,o=$f(n,t);return r<0||!i||!i.length||r>=o.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(l.dataKey&&!l.allowDuplicatedCategory){var x=f===void 0?o:f;p=Um(x,l.dataKey,s)}else p=f&&f[r]||o[r];return p?[].concat(ci(c),[y5(d,p)]):c},[])},Lj=function(t,n,r,s){var i=s||{x:t.chartX,y:t.chartY},l=HJ(i,r),o=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=GW(l,o,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,p=cx(t,n,u,f),x=qJ(r,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:x}}return null},GJ=function(t,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,l=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,x=x5(u,i);return r.reduce(function(m,j){var h,y=j.type.defaultProps!==void 0?K(K({},j.type.defaultProps),j.props):j.props,g=y.type,b=y.dataKey,N=y.allowDataOverflow,v=y.allowDuplicatedCategory,S=y.scale,k=y.ticks,C=y.includeHidden,O=y[l];if(m[O])return m;var E=$f(t.data,{graphicalItems:s.filter(function(q){var z,ee=l in q.props?q.props[l]:(z=q.type.defaultProps)===null||z===void 0?void 0:z[l];return ee===O}),dataStartIndex:c,dataEndIndex:d}),M=E.length,$,I,D;vJ(y.domain,N,g)&&($=Ph(y.domain,null,N),x&&(g==="number"||S!=="auto")&&(D=gl(E,b,"category")));var F=j4(g);if(!$||$.length===0){var A,L=(A=y.domain)!==null&&A!==void 0?A:F;if(b){if($=gl(E,b,g),g==="category"&&x){var _=I$($);v&&_?(I=$,$=eu(0,M)):v||($=N1(L,$,j).reduce(function(q,z){return q.indexOf(z)>=0?q:[].concat(ci(q),[z])},[]))}else if(g==="category")v?$=$.filter(function(q){return q!==""&&!_e(q)}):$=N1(L,$,j).reduce(function(q,z){return q.indexOf(z)>=0||z===""||_e(z)?q:[].concat(ci(q),[z])},[]);else if(g==="number"){var P=JW(E,s.filter(function(q){var z,ee,ae=l in q.props?q.props[l]:(z=q.type.defaultProps)===null||z===void 0?void 0:z[l],ge="hide"in q.props?q.props.hide:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ae===O&&(C||!ge)}),b,i,u);P&&($=P)}x&&(g==="number"||S!=="auto")&&(D=gl(E,b,"category"))}else x?$=eu(0,M):o&&o[O]&&o[O].hasStack&&g==="number"?$=p==="expand"?[0,1]:g5(o[O].stackGroups,c,d):$=h5(E,s.filter(function(q){var z=l in q.props?q.props[l]:q.type.defaultProps[l],ee="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return z===O&&(C||!ee)}),g,u,!0);if(g==="number")$=ix(f,$,O,i,k),L&&($=Ph(L,$,N));else if(g==="category"&&L){var U=L,G=$.every(function(q){return U.indexOf(q)>=0});G&&($=U)}}return K(K({},m),{},he({},O,K(K({},y),{},{axisType:i,domain:$,categoricalDomain:D,duplicateDomain:I,originalDomain:(h=y.domain)!==null&&h!==void 0?h:F,isCategorical:x,layout:u})))},{})},KJ=function(t,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,l=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=$f(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),x=p.length,m=x5(u,i),j=-1;return r.reduce(function(h,y){var g=y.type.defaultProps!==void 0?K(K({},y.type.defaultProps),y.props):y.props,b=g[l],N=j4("number");if(!h[b]){j++;var v;return m?v=eu(0,x):o&&o[b]&&o[b].hasStack?(v=g5(o[b].stackGroups,c,d),v=ix(f,v,b,i)):(v=Ph(N,h5(p,r.filter(function(S){var k,C,O=l in S.props?S.props[l]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[l],E="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return O===b&&!E}),"number",u),s.defaultProps.allowDataOverflow),v=ix(f,v,b,i)),K(K({},h),{},he({},b,K(K({axisType:i},s.defaultProps),{},{hide:!0,orientation:Nn(VJ,"".concat(i,".").concat(j%2),null),domain:v,originalDomain:N,isCategorical:m,layout:u})))}return h},{})},XJ=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,l=n.graphicalItems,o=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,f="".concat(s,"Id"),p=Bn(u,i),x={};return p&&p.length?x=GJ(t,{axes:p,graphicalItems:l,axisType:s,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:d}):l&&l.length&&(x=KJ(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:d})),x},YJ=function(t){var n=is(t),r=Aa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:U0(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wd(n,r)}},zj=function(t){var n=t.children,r=t.defaultShowTooltip,s=rn(n,ei),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},QJ=function(t){return!t||!t.length?!1:t.some(function(n){var r=vr(n&&n.type);return r&&r.indexOf("Bar")>=0})},Bj=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JJ=function(t,n){var r=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,d=r.width,u=r.height,f=r.children,p=r.margin||{},x=rn(f,ei),m=rn(f,As),j=Object.keys(c).reduce(function(v,S){var k=c[S],C=k.orientation;return!k.mirror&&!k.hide?K(K({},v),{},he({},C,v[C]+k.width)):v},{left:p.left||0,right:p.right||0}),h=Object.keys(l).reduce(function(v,S){var k=l[S],C=k.orientation;return!k.mirror&&!k.hide?K(K({},v),{},he({},C,Nn(v,"".concat(C))+k.height)):v},{top:p.top||0,bottom:p.bottom||0}),y=K(K({},h),j),g=y.bottom;x&&(y.bottom+=x.props.height||ei.defaultProps.height),m&&n&&(y=YW(y,s,r,n));var b=d-y.left-y.right,N=u-y.top-y.bottom;return K(K({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(N,0)})},ZJ=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},eZ=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,o=l===void 0?["axis"]:l,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(y,g){var b=g.graphicalItems,N=g.stackGroups,v=g.offset,S=g.updateId,k=g.dataStartIndex,C=g.dataEndIndex,O=y.barSize,E=y.layout,M=y.barGap,$=y.barCategoryGap,I=y.maxBarSize,D=Bj(E),F=D.numericAxisName,A=D.cateAxisName,L=QJ(b),_=[];return b.forEach(function(P,U){var G=$f(y.data,{graphicalItems:[P],dataStartIndex:k,dataEndIndex:C}),q=P.type.defaultProps!==void 0?K(K({},P.type.defaultProps),P.props):P.props,z=q.dataKey,ee=q.maxBarSize,ae=q["".concat(F,"Id")],ge=q["".concat(A,"Id")],Q={},se=c.reduce(function(Ut,en){var T=g["".concat(en.axisType,"Map")],J=q["".concat(en.axisType,"Id")];T&&T[J]||en.axisType==="zAxis"||Ka();var me=T[J];return K(K({},Ut),{},he(he({},en.axisType,me),"".concat(en.axisType,"Ticks"),Aa(me)))},Q),Y=se[A],te=se["".concat(A,"Ticks")],ie=N&&N[ae]&&N[ae].hasStack&&dH(P,N[ae].stackGroups),H=vr(P.type).indexOf("Bar")>=0,ce=Wd(Y,te),X=[],de=L&&KW({barSize:O,stackGroups:N,totalSize:ZJ(se,A)});if(H){var pe,ve,be=_e(ee)?I:ee,ze=(pe=(ve=Wd(Y,te,!0))!==null&&ve!==void 0?ve:be)!==null&&pe!==void 0?pe:0;X=XW({barGap:M,barCategoryGap:$,bandSize:ze!==ce?ze:ce,sizeList:de[ge],maxBarSize:be}),ze!==ce&&(X=X.map(function(Ut){return K(K({},Ut),{},{position:K(K({},Ut.position),{},{offset:Ut.position.offset-ze/2})})}))}var Gn=P&&P.type&&P.type.getComposedData;Gn&&_.push({props:K(K({},Gn(K(K({},se),{},{displayedData:G,props:y,dataKey:z,item:P,bandSize:ce,barPosition:X,offset:v,stackedData:ie,layout:E,dataStartIndex:k,dataEndIndex:C}))),{},he(he(he({key:P.key||"item-".concat(U)},F,se[F]),A,se[A]),"animationId",S)),childIndex:q$(P,y.children),item:P})}),_},x=function(y,g){var b=y.props,N=y.dataStartIndex,v=y.dataEndIndex,S=y.updateId;if(!gv({props:b}))return null;var k=b.children,C=b.layout,O=b.stackOffset,E=b.data,M=b.reverseStackOrder,$=Bj(C),I=$.numericAxisName,D=$.cateAxisName,F=Bn(k,r),A=lH(E,F,"".concat(I,"Id"),"".concat(D,"Id"),O,M),L=c.reduce(function(q,z){var ee="".concat(z.axisType,"Map");return K(K({},q),{},he({},ee,XJ(b,K(K({},z),{},{graphicalItems:F,stackGroups:z.axisType===I&&A,dataStartIndex:N,dataEndIndex:v}))))},{}),_=JJ(K(K({},L),{},{props:b,graphicalItems:F}),g==null?void 0:g.legendBBox);Object.keys(L).forEach(function(q){L[q]=u(b,L[q],_,q.replace("Map",""),n)});var P=L["".concat(D,"Map")],U=YJ(P),G=p(b,K(K({},L),{},{dataStartIndex:N,dataEndIndex:v,updateId:S,graphicalItems:F,stackGroups:A,offset:_}));return K(K({formattedGraphicalItems:G,graphicalItems:F,offset:_,stackGroups:A},U),L)},m=function(h){function y(g){var b,N,v;return TJ(this,y),v=MJ(this,y,[g]),he(v,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(v,"accessibilityManager",new yJ),he(v,"handleLegendBBoxUpdate",function(S){if(S){var k=v.state,C=k.dataStartIndex,O=k.dataEndIndex,E=k.updateId;v.setState(K({legendBBox:S},x({props:v.props,dataStartIndex:C,dataEndIndex:O,updateId:E},K(K({},v.state),{},{legendBBox:S}))))}}),he(v,"handleReceiveSyncEvent",function(S,k,C){if(v.props.syncId===S){if(C===v.eventEmitterSymbol&&typeof v.props.syncMethod!="function")return;v.applySyncEvent(k)}}),he(v,"handleBrushChange",function(S){var k=S.startIndex,C=S.endIndex;if(k!==v.state.dataStartIndex||C!==v.state.dataEndIndex){var O=v.state.updateId;v.setState(function(){return K({dataStartIndex:k,dataEndIndex:C},x({props:v.props,dataStartIndex:k,dataEndIndex:C,updateId:O},v.state))}),v.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),he(v,"handleMouseEnter",function(S){var k=v.getMouseInfo(S);if(k){var C=K(K({},k),{},{isTooltipActive:!0});v.setState(C),v.triggerSyncEvent(C);var O=v.props.onMouseEnter;Ne(O)&&O(C,S)}}),he(v,"triggeredAfterMouseMove",function(S){var k=v.getMouseInfo(S),C=k?K(K({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};v.setState(C),v.triggerSyncEvent(C);var O=v.props.onMouseMove;Ne(O)&&O(C,S)}),he(v,"handleItemMouseEnter",function(S){v.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),he(v,"handleItemMouseLeave",function(){v.setState(function(){return{isTooltipActive:!1}})}),he(v,"handleMouseMove",function(S){S.persist(),v.throttleTriggeredAfterMouseMove(S)}),he(v,"handleMouseLeave",function(S){v.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};v.setState(k),v.triggerSyncEvent(k);var C=v.props.onMouseLeave;Ne(C)&&C(k,S)}),he(v,"handleOuterEvent",function(S){var k=H$(S),C=Nn(v.props,"".concat(k));if(k&&Ne(C)){var O,E;/.*touch.*/i.test(k)?E=v.getMouseInfo(S.changedTouches[0]):E=v.getMouseInfo(S),C((O=E)!==null&&O!==void 0?O:{},S)}}),he(v,"handleClick",function(S){var k=v.getMouseInfo(S);if(k){var C=K(K({},k),{},{isTooltipActive:!0});v.setState(C),v.triggerSyncEvent(C);var O=v.props.onClick;Ne(O)&&O(C,S)}}),he(v,"handleMouseDown",function(S){var k=v.props.onMouseDown;if(Ne(k)){var C=v.getMouseInfo(S);k(C,S)}}),he(v,"handleMouseUp",function(S){var k=v.props.onMouseUp;if(Ne(k)){var C=v.getMouseInfo(S);k(C,S)}}),he(v,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),he(v,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.handleMouseDown(S.changedTouches[0])}),he(v,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.handleMouseUp(S.changedTouches[0])}),he(v,"handleDoubleClick",function(S){var k=v.props.onDoubleClick;if(Ne(k)){var C=v.getMouseInfo(S);k(C,S)}}),he(v,"handleContextMenu",function(S){var k=v.props.onContextMenu;if(Ne(k)){var C=v.getMouseInfo(S);k(C,S)}}),he(v,"triggerSyncEvent",function(S){v.props.syncId!==void 0&&Lp.emit(zp,v.props.syncId,S,v.eventEmitterSymbol)}),he(v,"applySyncEvent",function(S){var k=v.props,C=k.layout,O=k.syncMethod,E=v.state.updateId,M=S.dataStartIndex,$=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)v.setState(K({dataStartIndex:M,dataEndIndex:$},x({props:v.props,dataStartIndex:M,dataEndIndex:$,updateId:E},v.state)));else if(S.activeTooltipIndex!==void 0){var I=S.chartX,D=S.chartY,F=S.activeTooltipIndex,A=v.state,L=A.offset,_=A.tooltipTicks;if(!L)return;if(typeof O=="function")F=O(_,S);else if(O==="value"){F=-1;for(var P=0;P<_.length;P++)if(_[P].value===S.activeLabel){F=P;break}}var U=K(K({},L),{},{x:L.left,y:L.top}),G=Math.min(I,U.x+U.width),q=Math.min(D,U.y+U.height),z=_[F]&&_[F].value,ee=cx(v.state,v.props.data,F),ae=_[F]?{x:C==="horizontal"?_[F].coordinate:G,y:C==="horizontal"?q:_[F].coordinate}:b4;v.setState(K(K({},S),{},{activeLabel:z,activeCoordinate:ae,activePayload:ee,activeTooltipIndex:F}))}else v.setState(S)}),he(v,"renderCursor",function(S){var k,C=v.state,O=C.isTooltipActive,E=C.activeCoordinate,M=C.activePayload,$=C.offset,I=C.activeTooltipIndex,D=C.tooltipAxisBandSize,F=v.getTooltipEventType(),A=(k=S.props.active)!==null&&k!==void 0?k:O,L=v.props.layout,_=S.key||"_recharts-cursor";return R.createElement(kJ,{key:_,activeCoordinate:E,activePayload:M,activeTooltipIndex:I,chartName:n,element:S,isActive:A,layout:L,offset:$,tooltipAxisBandSize:D,tooltipEventType:F})}),he(v,"renderPolarAxis",function(S,k,C){var O=Nn(S,"type.axisType"),E=Nn(v.state,"".concat(O,"Map")),M=S.type.defaultProps,$=M!==void 0?K(K({},M),S.props):S.props,I=E&&E[$["".concat(O,"Id")]];return w.cloneElement(S,K(K({},I),{},{className:ue(O,I.className),key:S.key||"".concat(k,"-").concat(C),ticks:Aa(I,!0)}))}),he(v,"renderPolarGrid",function(S){var k=S.props,C=k.radialLines,O=k.polarAngles,E=k.polarRadius,M=v.state,$=M.radiusAxisMap,I=M.angleAxisMap,D=is($),F=is(I),A=F.cx,L=F.cy,_=F.innerRadius,P=F.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(O)?O:Aa(F,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(E)?E:Aa(D,!0).map(function(U){return U.coordinate}),cx:A,cy:L,innerRadius:_,outerRadius:P,key:S.key||"polar-grid",radialLines:C})}),he(v,"renderLegend",function(){var S=v.state.formattedGraphicalItems,k=v.props,C=k.children,O=k.width,E=k.height,M=v.props.margin||{},$=O-(M.left||0)-(M.right||0),I=p5({children:C,formattedGraphicalItems:S,legendWidth:$,legendContent:d});if(!I)return null;var D=I.item,F=Dj(I,CJ);return w.cloneElement(D,K(K({},F),{},{chartWidth:O,chartHeight:E,margin:M,onBBoxUpdate:v.handleLegendBBoxUpdate}))}),he(v,"renderTooltip",function(){var S,k=v.props,C=k.children,O=k.accessibilityLayer,E=rn(C,$n);if(!E)return null;var M=v.state,$=M.isTooltipActive,I=M.activeCoordinate,D=M.activePayload,F=M.activeLabel,A=M.offset,L=(S=E.props.active)!==null&&S!==void 0?S:$;return w.cloneElement(E,{viewBox:K(K({},A),{},{x:A.left,y:A.top}),active:L,label:F,payload:L?D:[],coordinate:I,accessibilityLayer:O})}),he(v,"renderBrush",function(S){var k=v.props,C=k.margin,O=k.data,E=v.state,M=E.offset,$=E.dataStartIndex,I=E.dataEndIndex,D=E.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:hc(v.handleBrushChange,S.props.onChange),data:O,x:ne(S.props.x)?S.props.x:M.left,y:ne(S.props.y)?S.props.y:M.top+M.height+M.brushBottom-(C.bottom||0),width:ne(S.props.width)?S.props.width:M.width,startIndex:$,endIndex:I,updateId:"brush-".concat(D)})}),he(v,"renderReferenceElement",function(S,k,C){if(!S)return null;var O=v,E=O.clipPathId,M=v.state,$=M.xAxisMap,I=M.yAxisMap,D=M.offset,F=S.type.defaultProps||{},A=S.props,L=A.xAxisId,_=L===void 0?F.xAxisId:L,P=A.yAxisId,U=P===void 0?F.yAxisId:P;return w.cloneElement(S,{key:S.key||"".concat(k,"-").concat(C),xAxis:$[_],yAxis:I[U],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:E})}),he(v,"renderActivePoints",function(S){var k=S.item,C=S.activePoint,O=S.basePoint,E=S.childIndex,M=S.isRange,$=[],I=k.props.key,D=k.item.type.defaultProps!==void 0?K(K({},k.item.type.defaultProps),k.item.props):k.item.props,F=D.activeDot,A=D.dataKey,L=K(K({index:E,dataKey:A,cx:C.x,cy:C.y,r:4,fill:hg(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ae(F,!1)),hd(F));return $.push(y.renderActiveDot(F,L,"".concat(I,"-activePoint-").concat(E))),O?$.push(y.renderActiveDot(F,K(K({},L),{},{cx:O.x,cy:O.y}),"".concat(I,"-basePoint-").concat(E))):M&&$.push(null),$}),he(v,"renderGraphicChild",function(S,k,C){var O=v.filterFormatItem(S,k,C);if(!O)return null;var E=v.getTooltipEventType(),M=v.state,$=M.isTooltipActive,I=M.tooltipAxis,D=M.activeTooltipIndex,F=M.activeLabel,A=v.props.children,L=rn(A,$n),_=O.props,P=_.points,U=_.isRange,G=_.baseLine,q=O.item.type.defaultProps!==void 0?K(K({},O.item.type.defaultProps),O.item.props):O.item.props,z=q.activeDot,ee=q.hide,ae=q.activeBar,ge=q.activeShape,Q=!!(!ee&&$&&L&&(z||ae||ge)),se={};E!=="axis"&&L&&L.props.trigger==="click"?se={onClick:hc(v.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(se={onMouseLeave:hc(v.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:hc(v.handleItemMouseEnter,S.props.onMouseEnter)});var Y=w.cloneElement(S,K(K({},O.props),se));function te(en){return typeof I.dataKey=="function"?I.dataKey(en.payload):null}if(Q)if(D>=0){var ie,H;if(I.dataKey&&!I.allowDuplicatedCategory){var ce=typeof I.dataKey=="function"?te:"payload.".concat(I.dataKey.toString());ie=Um(P,ce,F),H=U&&G&&Um(G,ce,F)}else ie=P==null?void 0:P[D],H=U&&G&&G[D];if(ge||ae){var X=S.props.activeIndex!==void 0?S.props.activeIndex:D;return[w.cloneElement(S,K(K(K({},O.props),se),{},{activeIndex:X})),null,null]}if(!_e(ie))return[Y].concat(ci(v.renderActivePoints({item:O,activePoint:ie,basePoint:H,childIndex:D,isRange:U})))}else{var de,pe=(de=v.getItemByXY(v.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:Y},ve=pe.graphicalItem,be=ve.item,ze=be===void 0?S:be,Gn=ve.childIndex,Ut=K(K(K({},O.props),se),{},{activeIndex:Gn});return[w.cloneElement(ze,Ut),null,null]}return U?[Y,null,null]:[Y,null]}),he(v,"renderCustomized",function(S,k,C){return w.cloneElement(S,K(K({key:"recharts-customized-".concat(C)},v.props),v.state))}),he(v,"renderMap",{CartesianGrid:{handler:bc,once:!0},ReferenceArea:{handler:v.renderReferenceElement},ReferenceLine:{handler:bc},ReferenceDot:{handler:v.renderReferenceElement},XAxis:{handler:bc},YAxis:{handler:bc},Brush:{handler:v.renderBrush,once:!0},Bar:{handler:v.renderGraphicChild},Line:{handler:v.renderGraphicChild},Area:{handler:v.renderGraphicChild},Radar:{handler:v.renderGraphicChild},RadialBar:{handler:v.renderGraphicChild},Scatter:{handler:v.renderGraphicChild},Pie:{handler:v.renderGraphicChild},Funnel:{handler:v.renderGraphicChild},Tooltip:{handler:v.renderCursor,once:!0},PolarGrid:{handler:v.renderPolarGrid,once:!0},PolarAngleAxis:{handler:v.renderPolarAxis},PolarRadiusAxis:{handler:v.renderPolarAxis},Customized:{handler:v.renderCustomized}}),v.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:sf("recharts"),"-clip"),v.throttleTriggeredAfterMouseMove=uk(v.triggeredAfterMouseMove,(N=g.throttleDelay)!==null&&N!==void 0?N:1e3/60),v.state={},v}return LJ(y,h),IJ(y,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,v=b.data,S=b.height,k=b.layout,C=rn(N,$n);if(C){var O=C.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,M=cx(this.state,v,O,E),$=this.state.tooltipTicks[O].coordinate,I=(this.state.offset.top+S)/2,D=k==="horizontal",F=D?{x:$,y:I}:{y:$,x:I},A=this.state.formattedGraphicalItems.find(function(_){var P=_.item;return P.type.name==="Scatter"});A&&(F=K(K({},F),A.props.points[O].tooltipPosition),M=A.props.points[O].tooltipPayload);var L={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:E,activePayload:M,activeCoordinate:F};this.setState(L),this.renderCursor(C),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var v,S;this.accessibilityManager.setDetails({offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){Wm([rn(b.children,$n)],[rn(this.props.children,$n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=rn(this.props.children,$n);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return o.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,v=N.getBoundingClientRect(),S=vU(v),k={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},C=v.width/N.offsetWidth||1,O=this.inRange(k.chartX,k.chartY,C);if(!O)return null;var E=this.state,M=E.xAxisMap,$=E.yAxisMap,I=this.getTooltipEventType(),D=Lj(this.state,this.props.data,this.props.layout,O);if(I!=="axis"&&M&&$){var F=is(M).scale,A=is($).scale,L=F&&F.invert?F.invert(k.chartX):null,_=A&&A.invert?A.invert(k.chartY):null;return K(K({},k),{},{xValue:L,yValue:_},D)}return D?K(K({},k),D):null}},{key:"inRange",value:function(b,N){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=b/v,C=N/v;if(S==="horizontal"||S==="vertical"){var O=this.state.offset,E=k>=O.left&&k<=O.left+O.width&&C>=O.top&&C<=O.top+O.height;return E?{x:k,y:C}:null}var M=this.state,$=M.angleAxisMap,I=M.radiusAxisMap;if($&&I){var D=is($);return C1({x:k,y:C},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),v=rn(b,$n),S={};v&&N==="axis"&&(v.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=hd(this.props,this.handleOuterEvent);return K(K({},k),S)}},{key:"addListener",value:function(){Lp.on(zp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lp.removeListener(zp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,v){for(var S=this.state.formattedGraphicalItems,k=0,C=S.length;k<C;k++){var O=S[k];if(O.item===b||O.props.key===b.key||N===vr(O.item.type)&&v===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,v=N.left,S=N.top,k=N.height,C=N.width;return R.createElement("defs",null,R.createElement("clipPath",{id:b},R.createElement("rect",{x:v,y:S,height:k,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,v){var S=Mj(v,2),k=S[0],C=S[1];return K(K({},N),{},he({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,v){var S=Mj(v,2),k=S[0],C=S[1];return K(K({},N),{},he({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,v=N.formattedGraphicalItems,S=N.activeItem;if(v&&v.length)for(var k=0,C=v.length;k<C;k++){var O=v[k],E=O.props,M=O.item,$=M.type.defaultProps!==void 0?K(K({},M.type.defaultProps),M.props):M.props,I=vr(M.type);if(I==="Bar"){var D=(E.data||[]).find(function(_){return sK(b,_)});if(D)return{graphicalItem:O,payload:D}}else if(I==="RadialBar"){var F=(E.data||[]).find(function(_){return C1(b,_)});if(F)return{graphicalItem:O,payload:F}}else if(kf(O,S)||Cf(O,S)||mo(O,S)){var A=oX({graphicalItem:O,activeTooltipItem:S,itemData:$.data}),L=$.activeIndex===void 0?A:$.activeIndex;return{graphicalItem:K(K({},O),{},{childIndex:L}),payload:mo(O,S)?$.data[A]:O.props.data[A]}}}return null}},{key:"render",value:function(){var b=this;if(!gv(this))return null;var N=this.props,v=N.children,S=N.className,k=N.width,C=N.height,O=N.style,E=N.compact,M=N.title,$=N.desc,I=Dj(N,OJ),D=Ae(I,!1);if(E)return R.createElement(wj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(qm,js({},D,{width:k,height:C,title:M,desc:$}),this.renderClipPath(),vv(v,this.renderMap)));if(this.props.accessibilityLayer){var F,A;D.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,D.role=(A=this.props.role)!==null&&A!==void 0?A:"application",D.onKeyDown=function(_){b.accessibilityManager.keyboardEvent(_)},D.onFocus=function(){b.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return R.createElement(wj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",js({className:ue("recharts-wrapper",S),style:K({position:"relative",cursor:"default",width:k,height:C},O)},L,{ref:function(P){b.container=P}}),R.createElement(qm,js({},D,{width:k,height:C,title:M,desc:$,style:WJ}),this.renderClipPath(),vv(v,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);he(m,"displayName",n),he(m,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),he(m,"getDerivedStateFromProps",function(h,y){var g=h.dataKey,b=h.data,N=h.children,v=h.width,S=h.height,k=h.layout,C=h.stackOffset,O=h.margin,E=y.dataStartIndex,M=y.dataEndIndex;if(y.updateId===void 0){var $=zj(h);return K(K(K({},$),{},{updateId:0},x(K(K({props:h},$),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:v,prevHeight:S,prevLayout:k,prevStackOffset:C,prevMargin:O,prevChildren:N})}if(g!==y.prevDataKey||b!==y.prevData||v!==y.prevWidth||S!==y.prevHeight||k!==y.prevLayout||C!==y.prevStackOffset||!Ps(O,y.prevMargin)){var I=zj(h),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},F=K(K({},Lj(y,b,k)),{},{updateId:y.updateId+1}),A=K(K(K({},I),D),F);return K(K(K({},A),x(K({props:h},A),y)),{},{prevDataKey:g,prevData:b,prevWidth:v,prevHeight:S,prevLayout:k,prevStackOffset:C,prevMargin:O,prevChildren:N})}if(!Wm(N,y.prevChildren)){var L,_,P,U,G=rn(N,ei),q=G&&(L=(_=G.props)===null||_===void 0?void 0:_.startIndex)!==null&&L!==void 0?L:E,z=G&&(P=(U=G.props)===null||U===void 0?void 0:U.endIndex)!==null&&P!==void 0?P:M,ee=q!==E||z!==M,ae=!_e(b),ge=ae&&!ee?y.updateId:y.updateId+1;return K(K({updateId:ge},x(K(K({props:h},y),{},{updateId:ge,dataStartIndex:q,dataEndIndex:z}),y)),{},{prevChildren:N,dataStartIndex:q,dataEndIndex:z})}return null}),he(m,"renderActiveDot",function(h,y,g){var b;return w.isValidElement(h)?b=w.cloneElement(h,y):Ne(h)?b=h(y):b=R.createElement(T5,y),R.createElement(pt,{className:"recharts-active-dot",key:g},b)});var j=w.forwardRef(function(y,g){return R.createElement(m,js({},y,{ref:g}))});return j.displayName=m.displayName,j},w4=eZ({chartName:"BarChart",GraphicalChild:ma,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Bo},{axisType:"yAxis",AxisComp:Fo}],formatAxisMap:MY});const jg=({value:e,onOwnerChange:t})=>{const[n,r]=w.useState([]);w.useEffect(()=>{(async()=>{try{const l=await B.get("/api/admin/owners");r(l.data||[])}catch(l){console.error("Failed to fetch owners",l)}})()},[]);const s=i=>{t(i.target.value)};return a.jsxs("div",{className:"flex items-center gap-3 bg-white px-4 py-2 rounded-xl shadow-sm border border-slate-100 min-w-[240px]",children:[a.jsx("div",{className:"text-indigo-500",children:a.jsx(zt,{size:18})}),a.jsxs("select",{value:e,onChange:s,className:"bg-transparent border-none outline-none text-slate-700 font-bold text-sm cursor-pointer w-full appearance-none",children:[a.jsx("option",{value:"",children:"All Owners / Global View"}),n.map(i=>a.jsx("option",{value:i.id,children:i.companyName||i.name||`Owner #${i.id}`},i.id))]}),a.jsx("div",{className:"text-slate-400 pointer-events-none text-[10px]",children:""})]})},tZ=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(""),l=async(y="")=>{try{r(!0);const g=y?`/api/admin/dashboard/stats?ownerId=${y}`:"/api/admin/dashboard/stats",b=await B.get(g);t(b.data)}catch(g){console.error("Failed to fetch dashboard stats",g),t(null)}finally{r(!1)}};w.useEffect(()=>{l(s)},[s]);const o=e||{totalProperties:0,totalUnits:0,occupancy:{occupied:0,vacant:0},monthlyRevenue:0,projectedRevenue:0,actualRevenue:0,insuranceAlerts:{expired:0,expiringSoon:0},recentActivity:[]},{totalProperties:c,totalUnits:d,occupancy:u,monthlyRevenue:f,projectedRevenue:p,actualRevenue:x,insuranceAlerts:m,recentActivity:j}=o,h=[{month:"Jan",revenue:12e3},{month:"Feb",revenue:14500},{month:"Mar",revenue:13200},{month:"Apr",revenue:15800},{month:"May",revenue:f}];return a.jsx(Ce,{title:"Dashboard Overview",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsx("section",{className:"flex justify-end sticky top-0 z-10 py-2 bg-slate-50/80 backdrop-blur-sm -mx-4 px-4",children:a.jsx(jg,{value:s,onOwnerChange:y=>i(y)})}),n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-6",children:[a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Total Properties"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:c})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Total Units"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:d})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Occupancy"}),a.jsxs("p",{className:"mt-2 text-gray-700",children:[a.jsx("strong",{children:"Occupied:"})," ",u.occupied," ",a.jsx("br",{}),a.jsx("strong",{children:"Vacant:"})," ",u.vacant]})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-indigo-500",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Projected Revenue"}),a.jsxs("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:["$",(p||f||0).toLocaleString()]})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-emerald-500",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Actual Revenue (YTD)"}),a.jsxs("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:["$",(x||0).toLocaleString()]})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-red-500 cursor-pointer",onClick:()=>window.location.href="/insurance-alerts",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide font-medium",children:"Insurance Alerts"}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-bold text-red-600 uppercase tracking-tight",children:"Expired"}),a.jsx("span",{className:"text-lg font-black text-red-700",children:m.expired})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-bold text-amber-600 uppercase tracking-tight",children:"Expiring Soon"}),a.jsx("span",{className:"text-lg font-black text-amber-700",children:m.expiringSoon})]})]})]})]}),a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(360px,1fr))] gap-6",children:[a.jsx(xe,{title:"Recent Activity",className:"p-6 rounded-[20px] bg-white shadow-[0_18px_35px_rgba(0,0,0,0.07)]",children:a.jsxs("ul",{className:"pl-4 text-gray-700 space-y-2 list-disc marker:text-gray-400",children:[j.map((y,g)=>a.jsx("li",{children:y},g)),j.length===0&&a.jsx("li",{className:"list-none text-gray-400 italic",children:"No recent activity for this owner"})]})}),a.jsx(xe,{title:"Revenue Trends",className:"p-6 rounded-[20px] bg-white shadow-[0_18px_35px_rgba(0,0,0,0.07)]",children:a.jsx(fk,{width:"100%",height:260,children:a.jsxs(w4,{data:h,children:[a.jsx(Bo,{dataKey:"month",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Fo,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:y=>`$${y}`}),a.jsx($n,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f1f5f9"}}),a.jsx(ma,{dataKey:"revenue",radius:[6,6,0,0],fill:"#6366f1",barSize:32})]})})})]})]})]})})},nZ=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(!1),[s,i]=w.useState({total:0,vacant:0,occupied:0,vacancyByBuilding:[]}),l=async(o="")=>{try{r(!0);const c=o?`/api/admin/analytics/vacancy?ownerId=${o}`:"/api/admin/analytics/vacancy",d=await B.get(c);i(d.data)}catch(c){console.error("Vacancy Fetch Error:",c),i({total:0,vacant:0,occupied:0,vacancyByBuilding:[]})}finally{r(!1)}};return w.useEffect(()=>{l(e)},[e]),a.jsx(Ce,{title:"Vacancy Dashboard",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsx("section",{className:"flex justify-end sticky top-0 z-10 py-2 bg-slate-50/80 backdrop-blur-sm -mx-4 px-4",children:a.jsx(jg,{value:e,onOwnerChange:o=>t(o)})}),n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-6",children:[a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Total Units"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:s.total}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Across all buildings"})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-red-500",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Vacant Units"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:s.vacant}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Needs attention"})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-emerald-500",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Occupied Units"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:s.occupied}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Generating revenue"})]})]}),a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(320px,1fr))] gap-6",children:[a.jsx(xe,{title:"Vacancy by Building",className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)]",children:a.jsxs("ul",{className:"p-0 list-none",children:[s.vacancyByBuilding.map((o,c)=>a.jsxs("li",{className:"flex justify-between py-2 border-b border-dashed border-gray-200",children:[a.jsx("span",{children:o.name}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${o.vacant>0?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-800"}`,children:o.vacant>0?`${o.vacant} Vacant`:"Fully Occupied"})]},c)),s.vacancyByBuilding.length===0&&a.jsx("li",{className:"text-gray-400 italic",children:"No buildings for this owner"})]})}),a.jsx(xe,{title:"Unit vs Bedroom Rental Mode",className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)]",children:a.jsx("div",{className:"flex gap-4 mt-4",children:a.jsxs("div",{className:"flex-1 p-5 rounded-xl text-center transition-transform duration-300 hover:scale-105 bg-blue-50",children:[a.jsx("h4",{className:"font-semibold text-slate-900",children:"Full Unit Rental"}),a.jsxs("p",{className:"text-slate-600",children:[s.total," Units"]})]})})})]})]})]})})},rZ=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(!1),[s,i]=w.useState({actualRevenue:0,projectedRevenue:0,totalRevenue:0,monthlyRevenue:[],revenueByProperty:[]}),l=async(o="")=>{try{r(!0);const c=o?`/api/admin/analytics/revenue?ownerId=${o}`:"/api/admin/analytics/revenue",d=await B.get(c);i(d.data)}catch(c){console.error("Revenue Fetch Error:",c),i({actualRevenue:0,projectedRevenue:0,totalRevenue:0,monthlyRevenue:[],revenueByProperty:[]})}finally{r(!1)}};return w.useEffect(()=>{l(e)},[e]),a.jsx(Ce,{title:"Revenue Dashboard",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsx("section",{className:"flex justify-end sticky top-0 z-10 py-2 bg-slate-50/80 backdrop-blur-sm -mx-4 px-4",children:a.jsx(jg,{value:e,onOwnerChange:o=>t(o)})}),n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-6",children:[a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-emerald-500",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Actual Revenue (Paid)"}),a.jsxs("h2",{className:"text-[2.1rem] font-bold mt-2 leading-tight",children:["$",(s.actualRevenue||s.totalRevenue||0).toLocaleString("en-CA")]}),a.jsx("p",{className:"mt-2 text-gray-700",children:"YTD Collected"})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-indigo-500",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Projected Revenue"}),a.jsxs("h2",{className:"text-[2.1rem] font-bold mt-2 leading-tight",children:["$",(s.projectedRevenue||0).toLocaleString("en-CA")]}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Active Lease Rent"})]})]}),a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(360px,1fr))] gap-6",children:[a.jsx(xe,{title:"Revenue Trends (Monthly)",className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)]",children:a.jsx(fk,{width:"100%",height:260,children:a.jsxs(w4,{data:s.monthlyRevenue,children:[a.jsx(Bo,{dataKey:"month",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Fo,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:o=>`$${o}`}),a.jsx($n,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f1f5f9"}}),a.jsx(ma,{dataKey:"amount",radius:[6,6,0,0],fill:"#3b82f6",barSize:32})]})})}),a.jsx(xe,{title:"Revenue by Property",className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)]",children:a.jsxs("ul",{className:"p-0 list-none",children:[s.revenueByProperty.map((o,c)=>a.jsxs("li",{className:"flex justify-between py-2.5 border-b border-dashed border-gray-200 font-medium",children:[a.jsx("span",{children:o.name}),a.jsxs("strong",{children:["$",o.amount.toLocaleString("en-CA")]})]},c)),s.revenueByProperty.length===0&&a.jsx("li",{className:"text-gray-400 italic",children:"No revenue data for this owner"})]})})]})]})]})})},pu=({children:e,title:t})=>{const[n,r]=w.useState(!1),s=()=>r(!n),i=()=>r(!1);return a.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[a.jsx(Y2,{isOpen:n,onClose:i}),a.jsxs("main",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out ml-0",children:[a.jsx(Q2,{title:t,onMenuClick:s}),a.jsx("div",{className:"p-4 lg:p-8 flex-1 w-full max-w-[1400px] mx-auto",children:e})]})]})},wg=({columns:e=[],data:t=[]})=>e.length?a.jsx("div",{className:"w-full overflow-x-auto bg-white rounded-xl border border-slate-200/60 shadow-card",children:a.jsxs("table",{className:"w-full border-collapse text-left",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:e.map(n=>a.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider whitespace-nowrap first:pl-6 last:pr-6",children:n.label},n.key))})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:e.length,className:"p-12 text-center text-slate-400 text-sm",children:a.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center text-slate-400",children:a.jsx("span",{className:"text-xl",children:""})}),a.jsx("p",{children:"No data available"})]})})}):t.map((n,r)=>a.jsx("tr",{className:"hover:bg-slate-50/80 transition-colors duration-200 group",children:e.map(s=>a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 align-middle first:pl-6 last:pr-6 group-hover:text-slate-900",children:n[s.key]},s.key))},r))})]})}):a.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No columns defined"}),aZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{try{const i=await B.get("/api/admin/properties");t(i.data)}catch(i){console.error("Failed to fetch properties",i)}finally{r(!1)}})()},[]),n?a.jsx(pu,{title:"Properties",children:a.jsx("div",{className:"p-8",children:"Loading properties..."})}):a.jsxs(pu,{title:"Properties",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("p",{className:"text-slate-500 text-sm",children:"Manage your real estate portfolio, units, and listings."}),a.jsx(V,{size:"md",icon:jt,children:"Add Property"})]}),a.jsx(wg,{headers:["Property Name","Units","Occupancy","Status","Actions"],data:e,renderRow:s=>a.jsxs(a.Fragment,{children:[a.jsx("td",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-md text-slate-600 flex items-center justify-center",children:a.jsx(sa,{size:18})}),a.jsx("div",{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx(Jn,{to:`/properties/${s.id}`,className:"font-medium text-slate-900 hover:text-blue-600 transition-colors",children:s.name}),a.jsx("div",{className:"text-slate-500 text-xs mt-0.5",children:s.address})]})})]})}),a.jsxs("td",{className:"text-slate-700",children:[s.units," Units"]}),a.jsx("td",{children:a.jsx("span",{className:`font-medium ${parseInt(s.occupancy)>=90?"text-green-600":"text-amber-600"}`,children:s.occupancy})}),a.jsx("td",{children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${s.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:s.status})}),a.jsx("td",{children:a.jsx(V,{variant:"ghost",size:"sm",className:"text-slate-400 p-1 h-auto hover:text-slate-900",children:a.jsx(KA,{size:16})})})]})})]})},sZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(1),[l,o]=w.useState(10),[c,d]=w.useState(1),[u,f]=w.useState(0),[p,x]=w.useState(!1),[m,j]=w.useState(!1),[h,y]=w.useState(!1),[g,b]=w.useState(null),[N,v]=w.useState([]);w.useEffect(()=>{k(s,n),S()},[s,l]),w.useEffect(()=>{const A=setTimeout(()=>{i(1),k(1,n)},500);return()=>clearTimeout(A)},[n]);const S=async()=>{try{const A=await B.get("/api/admin/owners");v(A.data)}catch(A){console.error("Error fetching owners:",A)}},k=async(A=1,L="")=>{try{const _=await B.get(`/api/admin/properties?page=${A}&limit=${l}&search=${L}`);if(_.data.data&&_.data.meta)t(_.data.data||[]),d(_.data.meta.totalPages||1),f(_.data.meta.total||0);else{const P=Array.isArray(_.data)?_.data:[];t(P),f(P.length),d(Math.ceil(P.length/l)||1)}}catch(_){console.error("Error fetching buildings:",_)}},C=e.length>l?e.slice((s-1)*l,s*l):e,O=async A=>{A.preventDefault();const L=A.target,_={name:L.name.value,units:parseInt(L.units.value),status:L.status.value,civicNumber:L.civicNumber.value,street:L.street.value,city:L.city.value,province:L.province.value,postalCode:L.postalCode.value};try{const P=await B.post("/api/admin/properties",_);k(s,n),x(!1),L.reset()}catch(P){console.error("Error adding building:",P),alert("Error adding building")}},E=async A=>{if(window.confirm("Are you sure you want to delete this building?"))try{await B.delete(`/api/admin/properties/${A}`),k(s,n)}catch(L){console.error("Error deleting building:",L),alert("Error deleting building")}},M=A=>{b(A),j(!0)},$=A=>{b(A),y(!0)},I=async A=>{A.preventDefault();const L=A.target,_={name:L.name.value,units:parseInt(L.units.value),status:L.status.value,civicNumber:L.civicNumber.value,street:L.street.value,city:L.city.value,province:L.province.value,postalCode:L.postalCode.value};try{const P=await B.put(`/api/admin/properties/${g.id}`,_);k(s,n),y(!1),L.reset()}catch(P){console.error("Error updating building:",P),alert("Error updating building")}},D=e.reduce((A,L)=>A+(parseInt(L.units)||0),0),F=e.filter(A=>A.status==="Active").length;return a.jsx(Ce,{title:"Buildings",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-6 mb-4",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-6 flex items-center gap-4 shadow-[0_10px_30px_rgba(102,126,234,0.2)] bg-gradient-to-br from-[#667eea] to-[#764ba2] text-white transition-all duration-300 hover:-translate-y-1 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(0,0,0,0.2)] animate-in slide-in-from-bottom-5 fade-in duration-500",children:[a.jsx("div",{className:"w-[60px] h-[60px] bg-white/20 rounded-xl flex items-center justify-center text-white backdrop-blur-sm",children:a.jsx(sa,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[2rem] font-bold leading-none",children:u||e.length}),a.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Total Buildings"})]})]}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-6 flex items-center gap-4 shadow-[0_10px_30px_rgba(240,147,251,0.2)] bg-gradient-to-br from-[#f093fb] to-[#f5576c] text-white transition-all duration-300 hover:-translate-y-1 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(0,0,0,0.2)] animate-in slide-in-from-bottom-5 fade-in duration-500 delay-100 fill-mode-forwards",children:[a.jsx("div",{className:"w-[60px] h-[60px] bg-white/20 rounded-xl flex items-center justify-center text-white backdrop-blur-sm",children:a.jsx(ea,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[2rem] font-bold leading-none",children:D}),a.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Total Units"})]})]}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-6 flex items-center gap-4 shadow-[0_10px_30px_rgba(79,172,254,0.2)] bg-gradient-to-br from-[#4facfe] to-[#00f2fe] text-white transition-all duration-300 hover:-translate-y-1 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(0,0,0,0.2)] animate-in slide-in-from-bottom-5 fade-in duration-500 delay-200 fill-mode-forwards",children:[a.jsx("div",{className:"w-[60px] h-[60px] bg-white/20 rounded-xl flex items-center justify-center text-white backdrop-blur-sm",children:a.jsx("div",{className:"w-5 h-5 bg-emerald-400 rounded-full animate-pulse shadow-[0_0_15px_rgba(52,211,153,0.6)]"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[2rem] font-bold leading-none",children:F}),a.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Active Buildings"})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-stretch md:items-center bg-white p-4 md:px-6 rounded-xl shadow-[0_5px_15px_rgba(0,0,0,0.08)] gap-4",children:[a.jsx("div",{className:"flex gap-4 items-center flex-1",children:a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-[#667eea] focus-within:ring-4 focus-within:ring-[#667eea]/10 transition-all w-full md:w-auto md:min-w-[280px]",children:[a.jsx(Jt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search buildings...",value:n,onChange:A=>r(A.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm"})]})}),a.jsxs(V,{variant:"primary",onClick:()=>x(!0),className:"whitespace-nowrap",children:[a.jsx(jt,{size:18}),"Add Building"]})]}),a.jsxs(xe,{className:"bg-white rounded-2xl shadow-[0_10px_30px_rgba(0,0,0,0.1)] overflow-hidden animate-in fade-in zoom-in-95 duration-500 flex flex-col h-full",children:[a.jsxs("div",{className:"w-full overflow-x-auto flex-1",children:[a.jsxs("div",{className:"hidden md:grid grid-cols-9 min-w-[1200px] bg-gradient-to-r from-slate-50 to-slate-100 px-6 py-4 border-b-2 border-slate-200",children:[a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide col-span-2",children:"Building Details"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Street"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"City"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Province"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Postal Code"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Total Units"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Status"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Actions"})]}),a.jsx("div",{className:"bg-white",children:C.length===0?a.jsx("div",{className:"p-8 text-center text-slate-500",children:"No buildings found."}):C.map((A,L)=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-9 min-w-[1200px] px-6 py-4 border-b border-slate-100 transition-all duration-300 hover:bg-gradient-to-r hover:from-slate-50 hover:to-white hover:scale-[1.002] hover:shadow-md items-center gap-4 md:gap-0",style:{animationDelay:`${L*.05}s`},children:[a.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#667eea] to-[#764ba2] rounded-lg flex items-center justify-center text-white shrink-0 shadow-sm",children:a.jsx(sa,{size:20})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"font-bold text-slate-800 text-sm",children:[A.name," - ",A.civicNumber]}),a.jsxs("span",{className:"text-xs text-[#667eea] font-medium",children:["B-",A.id]})]})]}),a.jsx("div",{className:"text-slate-600 text-sm truncate",title:A.street,children:A.street||"-"}),a.jsx("div",{className:"text-slate-600 text-sm",children:A.city||"-"}),a.jsx("div",{className:"text-slate-600 text-sm",children:A.province||"-"}),a.jsx("div",{className:"text-slate-600 text-sm",children:A.postalCode||"-"}),a.jsx("div",{className:"flex justify-between md:block md:w-auto w-full",children:a.jsx("span",{className:"text-[1rem] font-semibold text-[#667eea]",children:A.units})}),a.jsx("div",{className:"flex justify-between md:block md:w-auto w-full",children:a.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold w-fit ${A.status==="Active"?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${A.status==="Active"?"bg-emerald-500":"bg-red-500"}`}),A.status]})}),a.jsxs("div",{className:"flex gap-2 justify-end md:justify-start",children:[a.jsx("button",{className:"w-8 h-8 border-none rounded-lg flex items-center justify-center cursor-pointer transition-all duration-300 bg-sky-50 text-sky-600 hover:-translate-y-1 hover:shadow-[0_5px_15px_rgba(2,132,199,0.2)] hover:scale-110 group relative",title:"View Details",onClick:()=>M(A),children:a.jsx(Tt,{size:14})}),a.jsx("button",{className:"w-8 h-8 border-none rounded-lg flex items-center justify-center cursor-pointer transition-all duration-300 bg-emerald-50 text-emerald-600 hover:-translate-y-1 hover:shadow-[0_5px_15px_rgba(22,163,74,0.2)] hover:scale-110 group relative",title:"Edit Building",onClick:()=>$(A),children:a.jsx(Eo,{size:14})}),a.jsx("button",{className:"w-8 h-8 border-none rounded-lg flex items-center justify-center cursor-pointer transition-all duration-300 bg-red-50 text-red-600 hover:-translate-y-1 hover:shadow-[0_5px_15px_rgba(220,38,38,0.2)] hover:scale-110 group relative",title:"Delete Building",onClick:()=>E(A.id),children:a.jsx($t,{size:14})})]})]},A.id))})]}),c>1&&a.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-100 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",(s-1)*l+1," to ",Math.min(s*l,u)," of ",u," entries"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(V,{variant:"secondary",disabled:s===1,onClick:()=>i(A=>Math.max(A-1,1)),className:s===1?"opacity-50 cursor-not-allowed":"",children:"Previous"}),Array.from({length:c},(A,L)=>L+1).map(A=>a.jsx("button",{onClick:()=>i(A),className:`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-medium transition-all ${s===A?"bg-[#667eea] text-white shadow-md scale-105":"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:A},A)),a.jsx(V,{variant:"secondary",disabled:s===c,onClick:()=>i(A=>Math.min(A+1,c)),className:s===c?"opacity-50 cursor-not-allowed":"",children:"Next"})]})]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 overflow-y-auto py-8",children:a.jsxs("form",{className:"bg-white rounded-3xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 my-auto",onSubmit:O,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"m-0 text-slate-800 text-2xl font-bold",children:"Add New Building"}),a.jsx("button",{type:"button",className:"bg-transparent border-none cursor-pointer text-slate-400 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:bg-slate-100 hover:text-slate-700",onClick:()=>x(!1),children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"name",className:"block mb-2 font-medium text-slate-600",children:"Building Name"}),a.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Enter building name",required:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"civicNumber",className:"block mb-2 font-medium text-slate-600",children:"Civic Number"}),a.jsx("input",{type:"text",id:"civicNumber",name:"civicNumber",placeholder:"e.g., 82",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"street",className:"block mb-2 font-medium text-slate-600",children:"Street"}),a.jsx("input",{type:"text",id:"street",name:"street",placeholder:"e.g., Alle Marthe-Rivard",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block mb-2 font-medium text-slate-600",children:"City"}),a.jsx("input",{type:"text",id:"city",name:"city",placeholder:"e.g., Mont-Tremblant",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"province",className:"block mb-2 font-medium text-slate-600",children:"Province"}),a.jsxs("select",{id:"province",name:"province",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10 appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Select Province"}),a.jsx("option",{value:"Alberta",children:"Alberta"}),a.jsx("option",{value:"British Columbia",children:"British Columbia"}),a.jsx("option",{value:"Manitoba",children:"Manitoba"}),a.jsx("option",{value:"New Brunswick",children:"New Brunswick"}),a.jsx("option",{value:"Newfoundland and Labrador",children:"Newfoundland and Labrador"}),a.jsx("option",{value:"Nova Scotia",children:"Nova Scotia"}),a.jsx("option",{value:"Ontario",children:"Ontario"}),a.jsx("option",{value:"Prince Edward Island",children:"Prince Edward Island"}),a.jsx("option",{value:"Quebec",children:"Quebec"}),a.jsx("option",{value:"Saskatchewan",children:"Saskatchewan"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"postalCode",className:"block mb-2 font-medium text-slate-600",children:"Postal Code"}),a.jsx("input",{type:"text",id:"postalCode",name:"postalCode",placeholder:"e.g., J8E 2G5",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"units",className:"block mb-2 font-medium text-slate-600",children:"Total Units"}),a.jsx("input",{type:"number",id:"units",name:"units",placeholder:"Enter total units",min:"0",defaultValue:"0",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block mb-2 font-medium text-slate-600",children:"Status"}),a.jsxs("select",{id:"status",name:"status",required:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10 appearance-none bg-white",children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>x(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",children:"Add Building"})]})]})}),m&&g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"m-0 text-slate-800 text-2xl font-bold",children:"Building Details"}),a.jsx("button",{className:"bg-transparent border-none cursor-pointer text-slate-400 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:bg-slate-100 hover:text-slate-700",onClick:()=>j(!1),children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"mb-8 space-y-4",children:[a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Building Name:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:g.name})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Civic Number:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:g.civicNumber||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Street:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:g.street||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"City:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:g.city||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Province:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:g.province||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Postal Code:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:g.postalCode||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Total Units:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:g.units})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Status:"}),a.jsx("span",{className:"flex-1",children:a.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold ${g.status==="Active"?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"}`,children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${g.status==="Active"?"bg-emerald-500":"bg-red-500"}`}),g.status]})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(V,{variant:"primary",onClick:()=>{j(!1),$(g)},children:"Edit Building"}),a.jsx(V,{variant:"secondary",onClick:()=>j(!1),children:"Close"})]})]})}),h&&g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 overflow-y-auto py-8",children:a.jsxs("form",{className:"bg-white rounded-3xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 my-auto",onSubmit:I,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"m-0 text-slate-800 text-2xl font-bold",children:"Edit Building"}),a.jsx("button",{type:"button",className:"bg-transparent border-none cursor-pointer text-slate-400 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:bg-slate-100 hover:text-slate-700",onClick:()=>y(!1),children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"edit-name",className:"block mb-2 font-medium text-slate-600",children:"Building Name"}),a.jsx("input",{type:"text",id:"edit-name",name:"name",defaultValue:g.name,required:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-civicNumber",className:"block mb-2 font-medium text-slate-600",children:"Civic Number"}),a.jsx("input",{type:"text",id:"edit-civicNumber",name:"civicNumber",defaultValue:g.civicNumber||"",placeholder:"e.g., 82",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-street",className:"block mb-2 font-medium text-slate-600",children:"Street"}),a.jsx("input",{type:"text",id:"edit-street",name:"street",defaultValue:g.street||"",placeholder:"e.g., Alle Marthe-Rivard",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-city",className:"block mb-2 font-medium text-slate-600",children:"City"}),a.jsx("input",{type:"text",id:"edit-city",name:"city",defaultValue:g.city||"",placeholder:"e.g., Mont-Tremblant",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-province",className:"block mb-2 font-medium text-slate-600",children:"Province"}),a.jsxs("select",{id:"edit-province",name:"province",defaultValue:g.province||"",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10 appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Select Province"}),a.jsx("option",{value:"Alberta",children:"Alberta"}),a.jsx("option",{value:"British Columbia",children:"British Columbia"}),a.jsx("option",{value:"Manitoba",children:"Manitoba"}),a.jsx("option",{value:"New Brunswick",children:"New Brunswick"}),a.jsx("option",{value:"Newfoundland and Labrador",children:"Newfoundland and Labrador"}),a.jsx("option",{value:"Nova Scotia",children:"Nova Scotia"}),a.jsx("option",{value:"Ontario",children:"Ontario"}),a.jsx("option",{value:"Prince Edward Island",children:"Prince Edward Island"}),a.jsx("option",{value:"Quebec",children:"Quebec"}),a.jsx("option",{value:"Saskatchewan",children:"Saskatchewan"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"edit-postalCode",className:"block mb-2 font-medium text-slate-600",children:"Postal Code"}),a.jsx("input",{type:"text",id:"edit-postalCode",name:"postalCode",defaultValue:g.postalCode||"",placeholder:"e.g., J8E 2G5",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-units",className:"block mb-2 font-medium text-slate-600",children:"Total Units"}),a.jsx("input",{type:"number",id:"edit-units",name:"units",defaultValue:g.units,min:"0",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-status",className:"block mb-2 font-medium text-slate-600",children:"Status"}),a.jsxs("select",{id:"edit-status",name:"status",defaultValue:g.status,required:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10 appearance-none bg-white",children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>y(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",children:"Update Building"})]})]})})]})})},iZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState(""),[l,o]=w.useState(!1),[c,d]=w.useState(null),[u,f]=w.useState(null),[p,x]=w.useState(null),[m,j]=w.useState(!0),[h,y]=w.useState(!1),[g,b]=w.useState(null),[N,v]=w.useState({page:1,limit:10,total:0,totalPages:0}),[S,k]=w.useState([]),[C,O]=w.useState(!1),[E,M]=w.useState({propertyId:"",unitNumber:"",unitType:"",floor:"",rentalMode:"FULL_UNIT",bedrooms:"1",status:"Vacant",bedroomIdentifiers:["Unit-1"]}),[$,I]=w.useState("");w.useEffect(()=>{A(N.page)},[N.page]),w.useEffect(()=>(l||u||c||p?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l,u,c,p]),w.useEffect(()=>{if(g){const Q=setTimeout(()=>b(null),3e3);return()=>clearTimeout(Q)}},[g]);const D=(Q,se="success")=>{b({message:Q,type:se})},F=async()=>{try{const Q=await B.get("/api/admin/units/types");Q.data&&Q.data.unitTypes&&k(Q.data.unitTypes)}catch(Q){console.error("Error fetching unit types:",Q)}},A=async(Q=1)=>{j(!0);try{const[se,Y]=await Promise.all([B.get(`/api/admin/units?page=${Q}&limit=${N.limit}`),B.get("/api/admin/properties"),F()]);se.data&&(t(se.data.data||[]),v(te=>{var ie,H,ce;return{...te,total:((ie=se.data.pagination)==null?void 0:ie.total)||0,totalPages:((H=se.data.pagination)==null?void 0:H.totalPages)||0,page:((ce=se.data.pagination)==null?void 0:ce.page)||1}})),Y.data&&r(Y.data)}catch(se){console.error("Error fetching data:",se),D("Error loading data","error")}finally{j(!1)}},L=()=>{M({propertyId:"",unitNumber:"",unitType:"",floor:"",rentalMode:"FULL_UNIT",bedrooms:"1",status:"Vacant",bedroomIdentifiers:["Unit-1"]})},_=async()=>{L(),d(null),o(!0);try{const Q=await B.get("/api/admin/properties");r(Q.data)}catch(Q){console.error("Error refreshing buildings:",Q)}},P=async Q=>{var se,Y,te,ie;try{const ce=(await B.get(`/api/admin/units/${Q.id}`)).data;M({propertyId:((se=ce.propertyId)==null?void 0:se.toString())||"",unitNumber:ce.unitNumber||"",unitType:ce.unitType||"",floor:((Y=ce.floor)==null?void 0:Y.toString())||"",rentalMode:ce.rentalMode||"FULL_UNIT",bedrooms:((te=ce.bedrooms)==null?void 0:te.toString())||"1",status:ce.status||"Vacant",bedroomIdentifiers:((ie=ce.bedroomsList)==null?void 0:ie.map(X=>X.bedroomNumber))||[]}),d(ce),o(!0)}catch(H){console.error(H),D("Error loading unit details","error")}},U=()=>{o(!1),d(null),L()},G=Q=>{const{name:se,value:Y}=Q.target;M(te=>{const ie={...te,[se]:Y};if(se==="bedrooms"||se==="unitNumber"){const H=parseInt(se==="bedrooms"?Y:te.bedrooms)||0,ce=se==="unitNumber"?Y:te.unitNumber;let X=[...te.bedroomIdentifiers||[]];if(X.length<H)for(let de=X.length;de<H;de++)X.push(`${ce||"Unit"}-${de+1}`);else X.length>H&&(X=X.slice(0,H));X=X.map((de,pe)=>{const ve=`Unit-${pe+1}`,be=`${te.unitNumber||"Unit"}-${pe+1}`;return!de||de===ve||de===be?`${ce||"Unit"}-${pe+1}`:de}),ie.bedroomIdentifiers=X}return ie})},q=(Q,se)=>{const Y=[...E.bedroomIdentifiers];Y[Q]=se,M(te=>({...te,bedroomIdentifiers:Y}))},z=async Q=>{var se,Y;Q.preventDefault(),y(!0);try{const te=n.find(H=>H.id===parseInt(E.propertyId)),ie={unitNumber:E.unitNumber,unit:E.unitNumber,unitType:E.unitType||null,floor:E.floor?parseInt(E.floor):null,bedrooms:parseInt(E.bedrooms)||1,propertyId:E.propertyId,building:te?te.name:"Unknown",rentalMode:E.rentalMode,status:E.status,bedroomIdentifiers:E.bedroomIdentifiers};if(c){const ce=(await B.put(`/api/admin/units/${c.id}`,ie)).data;t(X=>X.map(de=>de.id===c.id?ce:de)),D("Unit updated successfully")}else{const H=await B.post("/api/admin/units",ie);t(ce=>[H.data,...ce]),D("Unit created successfully")}U()}catch(te){console.error("Error saving unit:",te),D(((Y=(se=te.response)==null?void 0:se.data)==null?void 0:Y.message)||"Error saving unit","error")}finally{y(!1)}},ee=async Q=>{var se,Y;y(!0);try{await B.delete(`/api/admin/units/${Q.id}`),t(te=>te.filter(ie=>ie.id!==Q.id)),x(null),D("Unit deleted successfully")}catch(te){console.error("Error deleting unit:",te),D(((Y=(se=te.response)==null?void 0:se.data)==null?void 0:Y.message)||"Error deleting unit","error")}finally{y(!1)}},ae=e.filter(Q=>{var te,ie,H;const se=((te=Q.unitNumber)==null?void 0:te.toLowerCase().includes(s.toLowerCase()))||((ie=Q.building)==null?void 0:ie.toLowerCase().includes(s.toLowerCase()))||((H=Q.unitType)==null?void 0:H.toLowerCase().includes(s.toLowerCase())),Y=!$||Q.unitType===$;return se&&Y}),ge=()=>{const Q=Math.max(1,N.totalPages||1),se=N.page,Y=1,te=[],ie=[];for(let ce=1;ce<=Q;ce++)(ce===1||ce===Q||ce>=se-Y&&ce<=se+Y)&&te.push(ce);let H;for(let ce of te)H&&(ce-H===2?ie.push(H+1):ce-H!==1&&ie.push("...")),ie.push(ce),H=ce;return ie};return a.jsx(Ce,{title:"Units",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[g&&a.jsxs("div",{className:`fixed top-4 right-4 z-[10000] flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg transition-all duration-300 ${g.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[g.type==="success"?a.jsx(yn,{size:18}):a.jsx(Rt,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:g.message})]}),a.jsxs("section",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white py-2.5 px-3.5 rounded-xl shadow-sm border border-slate-200",children:[a.jsx(Ao,{size:16,className:"text-slate-400"}),a.jsxs("select",{value:$,onChange:Q=>I(Q.target.value),className:"border-none outline-none text-sm bg-transparent text-slate-700 min-w-[120px] font-medium cursor-pointer",children:[a.jsx("option",{value:"",children:"All Types"}),S.map(Q=>a.jsx("option",{value:Q.name,children:Q.name},Q.name))]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white py-2.5 px-3.5 rounded-xl shadow-sm border border-slate-200",children:[a.jsx(Jt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by unit or building",value:s,onChange:Q=>i(Q.target.value),className:"border-none outline-none text-sm w-48 text-slate-700 placeholder:text-slate-400"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(V,{variant:"secondary",onClick:()=>O(!0),children:[a.jsx(q2,{size:18}),"Manage Types"]}),a.jsxs(V,{variant:"primary",onClick:_,children:[a.jsx(jt,{size:18}),"Add Unit"]})]})]}),a.jsx("section",{className:"bg-white rounded-2xl shadow-[0_15px_30px_rgba(0,0,0,0.08)] overflow-hidden",children:m?a.jsxs("div",{className:"flex items-center justify-center py-20",children:[a.jsx(Ia,{size:32,className:"animate-spin text-indigo-500"}),a.jsx("span",{className:"ml-3 text-slate-500",children:"Loading units..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("div",{className:"grid grid-cols-7 min-w-[800px] p-3.5 px-5 font-semibold bg-slate-50 text-slate-500 text-sm border-b border-slate-100 uppercase tracking-wide",children:[a.jsx("span",{children:"Unit Identifier"}),a.jsx("span",{children:"Building Name"}),a.jsx("span",{children:"Unit Type"}),a.jsx("span",{children:"Floor"}),a.jsx("span",{children:"Bedrooms"}),a.jsx("span",{children:"Status"}),a.jsx("span",{children:"Actions"})]}),ae.length===0?a.jsx("div",{className:"text-center py-12 text-slate-500",children:'No units found. Click "Add Unit" to create one.'}):ae.map(Q=>a.jsxs("div",{className:"grid grid-cols-7 min-w-[800px] p-3.5 px-5 transition-all duration-300 hover:bg-slate-50 bg-white border-b border-slate-50 last:border-0 text-sm items-center",children:[a.jsx(Jn,{to:`/units/${Q.id}`,className:"font-medium text-indigo-600 hover:text-indigo-800 hover:underline transition-all",children:Q.unitNumber}),a.jsx("span",{className:"font-bold text-indigo-600",children:Q.buildingName||Q.civicNumber}),a.jsx("span",{className:"text-slate-600",children:Q.unitType||"-"}),a.jsx("span",{className:"text-slate-600",children:Q.floor||"-"}),a.jsx("span",{className:"text-slate-600",children:Q.bedrooms||"-"}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold w-fit ${Q.status==="Occupied"?"bg-blue-50 text-blue-700 border border-blue-100":Q.status==="Fully Booked"?"bg-indigo-50 text-indigo-700 border border-indigo-100":"bg-emerald-50 text-emerald-700 border border-emerald-100"}`,children:Q.status}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jn,{to:`/units/${Q.id}`,children:a.jsx(Tt,{size:16,className:"text-slate-400 hover:text-indigo-600 transition-colors"})}),a.jsx(ta,{size:16,className:"cursor-pointer text-slate-400 hover:text-blue-600 transition-colors",onClick:()=>P(Q)}),a.jsx($t,{size:16,className:"cursor-pointer text-slate-400 hover:text-red-600 transition-colors",onClick:()=>x(Q)})]})]},Q.id))]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 bg-slate-50 border-t border-slate-100 gap-4",children:[a.jsxs("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:["Showing ",ae.length," of ",N.total," units"]}),a.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap justify-center",children:[a.jsx(V,{variant:"secondary",size:"sm",disabled:N.page<=1,onClick:()=>v(Q=>({...Q,page:Q.page-1})),className:"!px-2",children:"Prev"}),ge().map((Q,se)=>Q==="..."?a.jsx("span",{className:"px-2 text-slate-400 text-sm",children:"..."},`dots-${se}`):a.jsx("button",{onClick:()=>v(Y=>({...Y,page:Q})),className:`min-w-[32px] h-8 flex items-center justify-center rounded-lg text-sm font-medium transition-all ${N.page===Q?"bg-indigo-600 text-white shadow-md shadow-indigo-600/20":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-indigo-600 hover:border-indigo-200"}`,children:Q},Q)),a.jsx(V,{variant:"secondary",size:"sm",disabled:N.page>=(N.totalPages||1),onClick:()=>v(Q=>({...Q,page:Q.page+1})),className:"!px-2",children:"Next"})]})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl max-h-[95vh] flex flex-col animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 flex-shrink-0 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-t-2xl",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:c?"Edit Unit":"Add New Unit"}),a.jsx("button",{type:"button",onClick:U,className:"text-white/80 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-lg",children:a.jsx(je,{size:22})})]}),a.jsx("div",{className:"overflow-y-auto flex-1 p-6",children:a.jsxs("form",{id:"unitForm",onSubmit:z,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Building Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"propertyId",value:E.propertyId,onChange:G,required:!0,className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 bg-white text-sm appearance-none pr-10 transition-all",children:[a.jsx("option",{value:"",disabled:!0,children:"Select Building"}),n.filter(Q=>Q.status==="Active").map(Q=>a.jsxs("option",{value:Q.id,children:[Q.name," - ",Q.civicNumber]},Q.id))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx(mt,{size:18,className:"text-slate-400"})})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Unit Identifier ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"unitNumber",value:E.unitNumber,onChange:G,placeholder:"e.g., 82-101",required:!0,className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 text-sm transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Unit Type"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"unitType",value:E.unitType,onChange:G,className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 bg-white text-sm appearance-none pr-10 transition-all font-medium",children:[a.jsx("option",{value:"",children:"Select Type"}),S.map(Q=>a.jsx("option",{value:Q.name,children:Q.name},Q.name))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx(mt,{size:18,className:"text-slate-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Floor"}),a.jsx("input",{name:"floor",type:"number",value:E.floor,onChange:G,placeholder:"e.g., 1",min:"1",className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 text-sm transition-all"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Number of Bedrooms"}),a.jsx("input",{name:"bedrooms",type:"number",value:E.bedrooms,onChange:G,placeholder:"e.g., 3",min:"0",className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 text-sm transition-all"}),parseInt(E.bedrooms)>0&&a.jsxs("div",{className:"mt-4 space-y-3 pl-4 border-l-2 border-slate-100",children:[a.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Bedroom Identifiers"}),Array.from({length:parseInt(E.bedrooms)}).map((Q,se)=>a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("label",{className:"text-xs text-slate-500",children:["Bedroom ",se+1]}),a.jsx("input",{value:E.bedroomIdentifiers[se]||"",onChange:Y=>q(se,Y.target.value),placeholder:`e.g., ${E.unitNumber||"82-101"}-${se+1}`,className:"w-full p-2.5 rounded-lg border border-slate-200 text-sm focus:border-indigo-500 outline-none"})]},se))]})]}),c&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"status",value:E.status,onChange:G,className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 bg-white text-sm appearance-none pr-10 transition-all",children:[a.jsx("option",{value:"Vacant",children:"Vacant"}),a.jsx("option",{value:"Occupied",children:"Occupied"})]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx(mt,{size:18,className:"text-slate-400"})})]})]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-slate-200 flex-shrink-0 bg-slate-50 rounded-b-2xl",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:U,disabled:h,children:"Cancel"}),a.jsx(V,{type:"submit",form:"unitForm",variant:"primary",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Ia,{size:16,className:"animate-spin"}),c?"Updating...":"Saving..."]}):c?"Update Unit":"Save Unit"})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 flex-shrink-0",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Unit Details"}),a.jsx("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-slate-600 transition-colors p-1 hover:bg-slate-100 rounded-lg",children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"overflow-y-auto flex-1 p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Unit Identifier"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:u.unitNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Unit Type"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:u.unitType||"-"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Building Name"}),a.jsx("p",{className:"text-sm font-bold text-indigo-600",children:u.building||u.civicNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Floor"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:u.floor||"-"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Bedrooms"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:u.bedrooms||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Status"}),a.jsx("span",{className:`inline-block px-2.5 py-1 rounded-full text-xs font-semibold ${u.status==="Occupied"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 border-t border-slate-200 flex-shrink-0 bg-slate-50 rounded-b-2xl",children:[a.jsx(V,{variant:"secondary",onClick:()=>f(null),children:"Close"}),a.jsxs(V,{variant:"primary",onClick:()=>{f(null),P(u)},children:[a.jsx(ta,{size:16}),"Edit"]})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:a.jsx("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx($t,{size:24,className:"text-red-600"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Unit"}),a.jsxs("p",{className:"text-slate-500 text-sm mb-6",children:["Are you sure you want to delete unit ",a.jsx("strong",{children:p.unitNumber}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx(V,{variant:"secondary",onClick:()=>x(null),disabled:h,children:"Cancel"}),a.jsx("button",{onClick:()=>ee(p),disabled:h,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium text-sm transition-colors disabled:opacity-50 flex items-center gap-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Ia,{size:16,className:"animate-spin"}),"Deleting..."]}):"Delete"})]})]})})}),C&&a.jsx(lZ,{types:S,onClose:()=>O(!1),onRefresh:F})]})})},lZ=({types:e,onClose:t,onRefresh:n})=>{const[r,s]=w.useState(""),[i,l]=w.useState(!1),o=async d=>{var u,f;if(d.preventDefault(),!!r.trim()){l(!0);try{await B.post("/api/admin/units/types",{name:r.trim()}),await n(),s("")}catch(p){alert(((f=(u=p.response)==null?void 0:u.data)==null?void 0:f.message)||"Error adding type")}finally{l(!1)}}},c=async d=>{if(window.confirm("Are you sure you want to delete this unit type?")){l(!0);try{await B.delete(`/api/admin/units/types/${d}`),await n()}catch{alert("Error deleting type")}finally{l(!1)}}};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-slate-50 rounded-t-2xl",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Manage Unit Types"}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("form",{onSubmit:o,className:"flex gap-2 mb-6",children:[a.jsx("input",{value:r,onChange:d=>s(d.target.value),placeholder:"Enter new type (e.g. Duplex)",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/10",autoFocus:!0}),a.jsxs(V,{variant:"primary",disabled:i||!r.trim(),children:[a.jsx(jt,{size:18}),"Add"]})]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:e.length===0?a.jsx("p",{className:"text-center text-slate-400 py-4",children:"No unit types found."}):e.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg group",children:[a.jsx("span",{className:"font-medium text-slate-700",children:d.name}),d.id&&a.jsx("button",{onClick:()=>c(d.id),className:"text-slate-300 hover:text-red-500 transition-colors p-1",title:"Delete Type",children:a.jsx($t,{size:16})})]},d.id||d.name))})]})]})})},oZ=()=>{const{id:e}=Iu(),[t,n]=w.useState(null),[r,s]=w.useState([]);return w.useEffect(()=>{const i=async()=>{try{const o=await B.get(`/api/admin/properties/${e}`);n(o.data)}catch(o){console.error(o)}},l=async()=>{try{const c=(await B.get("/api/admin/documents")).data.filter(d=>d.propertyId===parseInt(e));s(c)}catch(o){console.error("Failed to fetch documents",o)}};e&&(i(),l())},[e]),t?a.jsxs(pu,{title:"Property Details",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(Jn,{to:"/properties/buildings",className:"inline-flex items-center gap-2 text-slate-500 no-underline text-sm mb-2 hover:text-blue-600 transition-colors",children:[a.jsx(Us,{size:16})," Back to Properties"]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold mt-2 text-slate-900",children:t.name}),a.jsx(V,{size:"sm",children:"Edit Property"})]})]}),a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(200px,1fr))] gap-4 mb-6",children:[a.jsxs(xe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"Total Units"}),a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:t.totalUnits})]}),a.jsxs(xe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"Occupancy"}),a.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[t.occupancyRate,"%"]})]}),a.jsxs(xe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"Revenue (YTD)"}),a.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:["$ ",t.revenue.toLocaleString("en-CA")]})]})]}),a.jsx(xe,{title:`Documents (${r.length})`,className:"mb-6",children:r.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left border-b border-slate-100",children:[a.jsx("th",{className:"pb-3 px-4 text-xs font-semibold text-slate-500 uppercase",children:"Document Name"}),a.jsx("th",{className:"pb-3 px-4 text-xs font-semibold text-slate-500 uppercase",children:"Type"}),a.jsx("th",{className:"pb-3 px-4 text-xs font-semibold text-slate-500 uppercase",children:"Date"}),a.jsx("th",{className:"pb-3 px-4 text-xs font-semibold text-slate-500 uppercase text-right",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(i=>a.jsxs("tr",{className:"border-b border-slate-50 last:border-0 hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600",children:a.jsx(Ee,{size:16})}),a.jsx("span",{className:"font-medium text-slate-700",children:i.name})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-slate-100 text-slate-600 uppercase",children:i.type})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-500",children:new Date(i.createdAt).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx("a",{href:`${B.defaults.baseURL}/api/admin/documents/${i.id}/download`,target:"_blank",rel:"noreferrer",className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"Download/View",children:a.jsx(wn,{size:16})})})})]},i.id))})]})}):a.jsx("div",{className:"py-8 text-center text-slate-400 text-sm",children:"No documents linked to this property."})}),a.jsx(xe,{title:"Units",className:"mt-6",children:a.jsx(wg,{headers:["Unit","Type","Rental Mode","Status","Tenant","Actions"],data:t.units,renderRow:i=>a.jsxs(a.Fragment,{children:[a.jsx("td",{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded bg-slate-100 flex items-center justify-center text-slate-500",children:a.jsx(ea,{size:16})}),a.jsx("span",{className:"font-medium text-slate-900",children:i.name})]})}),a.jsx("td",{className:"text-slate-700",children:i.type}),a.jsx("td",{children:a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium border ${i.mode==="Full Unit"?"bg-blue-50 border-blue-200 text-blue-700":"bg-purple-50 border-purple-200 text-purple-700"}`,children:i.mode})}),a.jsx("td",{children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${i.status==="Occupied"?"bg-emerald-100 text-emerald-700":i.status==="Vacant"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:i.status})}),a.jsx("td",{className:"text-slate-700",children:i.tenant}),a.jsx("td",{children:a.jsx(Jn,{to:`/units/${i.id}`,children:a.jsx(V,{variant:"outline",size:"sm",children:"Manage"})})})]})})})]}):a.jsx("div",{children:"Loading..."})},cZ=()=>{const{id:e}=Iu(),t=un(),[n,r]=w.useState(null),[s,i]=w.useState([]),[l,o]=w.useState(!0),[c,d]=w.useState(null);w.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{const f=await B.get(`/api/admin/units/${e}`);r(f.data);const x=(await B.get("/api/admin/documents")).data.filter(m=>m.unitId===parseInt(e));i(x)}catch(f){console.error("Error fetching unit:",f),d("Failed to load unit details")}finally{o(!1)}};return l?a.jsx(Ce,{title:"Unit Details",children:a.jsxs("div",{className:"flex items-center justify-center py-20",children:[a.jsx(Ia,{size:32,className:"animate-spin text-indigo-500"}),a.jsx("span",{className:"ml-3 text-slate-500",children:"Loading unit details..."})]})}):c||!n?a.jsx(Ce,{title:"Unit Details",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[a.jsx("p",{className:"text-red-500 mb-4",children:c||"Unit not found"}),a.jsxs(V,{variant:"secondary",onClick:()=>t("/units"),children:[a.jsx(Us,{size:16}),"Back to Units"]})]})}):a.jsx(Ce,{title:`Unit ${n.unitNumber}`,children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx("div",{children:a.jsxs(V,{variant:"secondary",onClick:()=>t("/units"),children:[a.jsx(Us,{size:16}),"Back to Units"]})}),a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(150px,1fr))] gap-4",children:[a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Unit Number"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:n.unitNumber})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Unit Type"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:n.unitType||"-"})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Civic Number"}),a.jsx("div",{className:"text-lg font-bold text-indigo-600",children:n.civicNumber||n.building})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Floor"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:n.floor||"-"})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Bedrooms"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:n.bedrooms||1})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Status"}),a.jsx("div",{className:`text-lg font-bold ${n.status==="Occupied"?"text-green-600":"text-red-600"}`,children:n.status})]})]}),a.jsx("section",{className:"flex gap-4 items-center py-4 border-b border-dashed border-slate-200",children:a.jsxs(V,{variant:"primary",onClick:()=>t("/units"),children:[a.jsx(ta,{size:16}),"Edit Unit"]})}),a.jsx("section",{className:"grid grid-cols-1 gap-6",children:a.jsxs(xe,{title:`Linked Documents (${s.length})`,className:"min-h-[300px]",children:[a.jsx("p",{className:"text-slate-500 text-sm mb-6 -mt-2",children:"Access all files and documents linked specifically to this unit."}),s.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-100 rounded-2xl bg-slate-50/50 hover:bg-slate-50 transition-all hover:shadow-md group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-white shadow-sm flex items-center justify-center text-indigo-600 border border-slate-100",children:a.jsx(Ee,{size:20})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-bold text-slate-800",children:f.name}),a.jsxs("span",{className:"text-[11px] text-slate-500 font-medium uppercase tracking-wider",children:[f.type,"  ",new Date(f.createdAt).toLocaleDateString()]})]})]}),a.jsx("a",{href:`${B.defaults.baseURL}/api/admin/documents/${f.id}/download`,target:"_blank",rel:"noreferrer",className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-indigo-600 hover:bg-white rounded-xl transition-all border border-transparent hover:border-indigo-100 shadow-none hover:shadow-sm",title:"Download",children:a.jsx(wn,{size:18})})]},f.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4 text-slate-300",children:a.jsx(Ee,{size:32})}),a.jsx("p",{className:"text-slate-400 italic",children:"No documents currently linked to this unit."}),a.jsx("p",{className:"text-slate-300 text-xs mt-1",children:"Upload documents via the Document Library to see them here."})]})]})})]})})},dZ=()=>a.jsx(Ce,{title:"Bedroom Setup",children:a.jsxs("div",{className:"flex flex-col gap-6 max-w-[1000px] mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-indigo-50 border border-indigo-100 rounded-md text-indigo-800 text-sm",children:[a.jsx(Rt,{size:20,className:"text-indigo-600"}),a.jsxs("p",{children:[a.jsx("strong",{children:"Note:"})," Bedrooms must be defined even for Full Unit rentals to ensure accurate inventory tracking."]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Bedroom Inventory"}),a.jsxs(V,{variant:"primary",children:[a.jsx(jt,{size:16})," Add Bedroom"]})]}),a.jsxs(xe,{className:"p-0 overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[2fr_1fr_3fr_80px] p-4 px-6 bg-slate-50 border-b border-slate-200 font-semibold text-xs uppercase text-slate-500 hidden md:grid",children:[a.jsx("div",{className:"col-name",children:"Bedroom Label"}),a.jsx("div",{className:"col-status",children:"Status"}),a.jsx("div",{className:"col-notes",children:"Notes"}),a.jsx("div",{className:"col-actions",children:"Actions"})]}),a.jsx("div",{className:"flex flex-col",children:[1,2,3].map(e=>a.jsxs("div",{className:"grid grid-cols-[1fr_1fr] md:grid-cols-[2fr_1fr_3fr_80px] p-4 px-6 border-b border-slate-100 items-center gap-2",children:[a.jsx("div",{className:"col-name",children:a.jsx("div",{className:"h-4 bg-slate-100 rounded w-32 animate-pulse"})}),a.jsx("div",{className:"col-status",children:a.jsx("div",{className:"h-6 bg-slate-100 rounded-full w-20 animate-pulse"})}),a.jsx("div",{className:"col-notes hidden md:block",children:a.jsx("div",{className:"h-4 bg-slate-100 rounded w-48 animate-pulse"})}),a.jsx("div",{className:"col-actions hidden md:block",children:a.jsx("div",{className:"h-8 bg-slate-200 rounded w-8 animate-pulse"})})]},e))}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"w-full p-4 border-2 border-dashed border-slate-200 rounded-md text-center text-slate-400 font-medium cursor-pointer transition-colors hover:bg-slate-50",children:"+ Add another bedroom"})})]})]})}),uZ=()=>a.jsx(Ce,{title:"Switch Rental Mode",children:a.jsxs("div",{className:"max-w-[800px] mx-auto flex flex-col gap-6",children:[a.jsxs(xe,{className:"bg-slate-50 border border-slate-200",children:[a.jsx("div",{className:"text-xs uppercase text-slate-500 font-bold mb-2 tracking-wide",children:"Current Configuration"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-700",children:"Full Unit"}),a.jsx("span",{className:"text-slate-500 text-sm ml-2",children:"Allows 1 active lease for the entire unit."})]})]}),a.jsx(xe,{title:"Select New Configuration",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4 p-4 border border-blue-500 bg-blue-50 rounded-lg cursor-pointer transition-all ring-1 ring-blue-500 shadow-sm",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-blue-600 bg-blue-600 shadow-[inset_0_0_0_4px_white] mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900",children:"Full Unit Rental"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Single lease for the entire property."})]})]}),a.jsxs("div",{className:"flex items-start gap-4 p-4 border border-slate-200 rounded-lg cursor-pointer transition-all hover:border-blue-300 hover:bg-slate-50",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-300 mt-0.5 shrink-0 bg-white"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900",children:"Bedroom-by-Bedroom"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Individual leases per room. Shared common areas."})]})]})]})}),a.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-300 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Fu,{size:18,className:"text-amber-500"}),a.jsx("span",{className:"font-bold text-amber-800",children:"Prerequisites for Switching"})]}),a.jsxs("ul",{className:"list-none p-0 m-0 flex flex-col gap-2",children:[a.jsxs("li",{className:"flex items-center gap-2 text-sm font-medium text-emerald-600",children:[a.jsx(yn,{size:16,className:"text-success"})," No Active Leases"]}),a.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 rounded-full"})," No Pending Invoices"]}),a.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 rounded-full"})," No Open Maintenance Requests"]})]}),a.jsx("p",{className:"text-xs text-amber-700/80 mt-3 font-medium",children:"System prevents switching if these conditions are not met to ensure accounting integrity."})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-2",children:[a.jsx(V,{variant:"ghost",icon:Us,children:"Cancel"}),a.jsx(V,{variant:"primary",disabled:!0,children:"Confirm Switch"})]})]})}),Fj=()=>{const{id:e}=Iu(),t=un(),[n,r]=w.useState([]),[s,i]=w.useState(!0),[l,o]=w.useState(""),[c,d]=w.useState(!1),[u,f]=w.useState(null),[p,x]=w.useState(null),[m,j]=w.useState(!1),[h,y]=w.useState(!1),[g,b]=w.useState({}),[N,v]=w.useState([]),[S,k]=w.useState([]),[C,O]=w.useState([]),[E,M]=w.useState([]),[$,I]=w.useState([]),[D,F]=w.useState(""),[A,L]=w.useState("Individual"),[_,P]=w.useState([]),[U,G]=w.useState([{name:"",email:"",phone:"",role:""}]),[q,z]=w.useState(""),[ee,ae]=w.useState(""),[ge,Q]=w.useState(!1),[se,Y]=w.useState(1),[te,ie]=w.useState([]),[H,ce]=w.useState("");w.useEffect(()=>{X()},[]);const X=async()=>{try{const T=await B.get("/api/admin/tenants");r(T.data)}catch(T){console.error("Failed to fetch tenants",T)}finally{i(!1)}},de=async()=>{var T;try{const J=await B.get("/api/admin/properties"),me=((T=J.data)==null?void 0:T.data)||J.data||[];v(me)}catch(J){console.error("Failed to fetch dropdown data",J),v([])}};w.useEffect(()=>{de()},[]),w.useEffect(()=>{(async()=>{var J;if(D)try{const me=await B.get(`/api/admin/units?building_id=${D}&limit=1000`),Ye=(((J=me.data)==null?void 0:J.data)||me.data||[]).filter(Nt=>Nt.status!=="Fully Booked");O(Ye),u&&u.unitId&&Ye.find(at=>at.id===parseInt(u.unitId))&&z(u.unitId.toString())}catch(me){console.error("Failed to fetch units",me),O([])}else O([])})()},[D,u]),w.useEffect(()=>{if(q){const T=C.find(J=>J.id===parseInt(q));Q((T==null?void 0:T.rentalMode)==="BEDROOM_WISE")}else Q(!1)},[q,C]),w.useEffect(()=>{(async()=>{if(q&&ge)try{const J=await B.get(`/api/admin/units/bedrooms/vacant?unitId=${q}`);I(J.data||[])}catch(J){console.error("Failed to fetch bedrooms",J)}else I([])})()},[q,ge]),w.useEffect(()=>{if(e){const T=parseInt(e),J=n.find(me=>me.id===T);J?(x(J),j(!1)):(x(null),j(!0))}else x(null),j(!1)},[e,n]),w.useEffect(()=>{const T=n.filter(J=>J.type!=="RESIDENT"&&J.type!=="Resident");ie(T)},[n]),w.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[c]);const pe=n.filter(T=>{var J;return T.name.toLowerCase().includes(l.toLowerCase())||T.companyName&&T.companyName.toLowerCase().includes(l.toLowerCase())||T.property.toLowerCase().includes(l.toLowerCase())||T.unit.toLowerCase().includes(l.toLowerCase())||((J=T.email)==null?void 0:J.toLowerCase().includes(l.toLowerCase()))}),ve=async T=>{var Ei,Ti,$i,Ii,Vt;T.preventDefault(),console.log("handleSaveTenant called");const J=T.target;let Se=J.phone.value.replace(/[\s-()]/g,"");if(Se.length===10&&/^\d+$/.test(Se)?Se="+1"+Se:Se.length===11&&Se.startsWith("1")&&(Se="+"+Se),!/^\+1\d{10}$/.test(Se)){alert(`Invalid Phone Number.

Please enter a valid Canadian/US number.
Example: 514-321-6767 or +15143216767`);return}const Nt=new FormData(J),at=St=>Nt.get(St)||"",ha={firstName:at("firstName"),lastName:at("lastName"),type:A,email:at("email"),phone:Se,parentId:A==="Resident"?H:null,propertyId:D||null,unitId:q||null,bedroomId:ee||null,companyName:A==="Company"?at("companyName"):null,companyDetails:A==="Company"?at("companyDetails"):null,street:A==="Company"?at("street"):null,street2:A==="Company"?at("street2"):null,city:A==="Company"?at("city"):null,state:A==="Company"?at("state"):null,postalCode:A==="Company"?at("postalCode"):null,country:A==="Company"?at("country"):null,companyContacts:A==="Company"?U:[],residents:_};y(!0),b({});try{let St;u?St=await B.put(`/api/admin/tenants/${u.id}`,ha):St=await B.post("/api/admin/tenants",ha),(Ei=St.data)!=null&&Ei.smsResult?St.data.smsResult.skipped?alert(A==="Resident"?"Resident added successfully!":"Tenant added successfully!"):St.data.smsResult.success?alert(`Tenant added successfully! 
SMS Credentials sent.`):alert(`Tenant added, BUT SMS Failed. 
Error: ${St.data.smsResult.error||"Unknown Error"}`):u||alert(A==="Resident"?"Resident added successfully!":"Tenant added successfully!"),await X(),await de(),d(!1),f(null),be()}catch(St){console.error(St);const Mf=($i=(Ti=St.response)==null?void 0:Ti.data)==null?void 0:$i.errors,k4=(Vt=(Ii=St.response)==null?void 0:Ii.data)==null?void 0:Vt.message;Mf&&Object.keys(Mf).length>0?b(Mf):alert(k4||(u?"Failed to update tenant":"Failed to create tenant"))}finally{y(!1)}},be=()=>{F(""),z(""),ae(""),ce(""),L("Individual"),P([]),G([{name:"",email:"",phone:"",role:""}]),Q(!1),Y(1)},ze=async T=>{if(window.confirm("Are you sure you want to delete this tenant?"))try{await B.delete(`/api/admin/tenants/${T}`),r(n.filter(J=>J.id!==T))}catch{alert("Failed to delete tenant")}},Gn=T=>{var J;f(T),T.propertyId&&F(T.propertyId.toString()),T.unitId&&z(T.unitId.toString()),T.bedroomId&&ae(T.bedroomId.toString()),T.type&&L(T.type==="INDIVIDUAL"?"Individual":T.type==="COMPANY"?"Company":T.type==="RESIDENT"?"Resident":T.type),T.parentId&&ce(T.parentId.toString()),P(T.residents||[]),G(((J=T.companyContacts)==null?void 0:J.length)>0?T.companyContacts:[{name:"",email:"",phone:"",role:""}]),Y(2),d(!0)},Ut=T=>{t(`/tenants/${T.id}`)},en=()=>{t("/tenants")};return m?a.jsx(Ce,{title:"Tenant Not Found",children:a.jsxs("div",{className:"flex flex-col items-center justify-center p-20 bg-white rounded-3xl shadow-sm border border-slate-100 text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center text-rose-500",children:a.jsx(Rt,{size:40})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Tenant Record Not Found"}),a.jsx("p",{className:"text-slate-500 font-medium mt-2 max-w-sm",children:"The tenant profile you are looking for might have been moved or deleted."})]}),a.jsxs(V,{variant:"secondary",onClick:en,className:"gap-2",children:[a.jsx(Us,{size:18}),"Back to Tenants"]})]})}):p?a.jsx(fZ,{tenant:p,onBack:en}):a.jsx(Ce,{title:"Tenants",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-[0_5px_15px_rgba(0,0,0,0.06)] gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-indigo-500 focus-within:ring-4 focus-within:ring-indigo-500/10 transition-all w-full md:w-auto md:min-w-[320px]",children:[a.jsx(Jt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search tenants, email, building",value:l,onChange:T=>o(T.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm font-medium"})]}),a.jsxs(V,{variant:"primary",onClick:()=>{f(null),d(!0)},children:[a.jsx(jt,{size:18}),"Add Tenant"]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.08)] overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_1fr_0.8fr_1fr_1fr_1fr_0.8fr] bg-slate-50 border-b border-slate-200 px-6 py-4",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tenant"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Email"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Type"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Company Name"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Property / Unit"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Lease Status"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider text-center",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:pe.map((T,J)=>{var Se;const me=(Se=T.insurance)==null?void 0:Se.some(Ye=>{const Nt=new Date(Ye.endDate),at=new Date,ha=Math.ceil((Nt-at)/(1e3*60*60*24));return Nt<at||ha<=30});return a.jsxs("div",{className:"grid grid-cols-[1fr_1fr_0.8fr_1fr_1fr_1fr_0.8fr] px-6 py-4 items-center hover:bg-slate-50/80 transition-all duration-200",style:{animationDelay:`${J*.05}s`},children:[a.jsxs("span",{className:"flex items-center gap-3 font-medium text-slate-700 overflow-hidden",children:[a.jsx("div",{className:"min-w-[32px] w-8 h-8 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:a.jsx(zt,{size:16})}),a.jsx("button",{onClick:()=>Ut(T),className:"hover:text-indigo-600 hover:underline transition-all text-left truncate",children:T.name}),me&&a.jsx("div",{className:"text-amber-500 min-w-[14px]",title:"Insurance Expired or Expiring Soon",children:a.jsx(Rt,{size:14})})]}),a.jsx("span",{className:"text-sm text-slate-600 truncate",children:T.email}),a.jsx("span",{className:"w-fit",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border ${T.type==="Company"||T.type==="COMPANY"?"bg-purple-50 text-purple-700 border-purple-100":T.type==="Resident"||T.type==="RESIDENT"?"bg-amber-50 text-amber-700 border-amber-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:T.type==="COMPANY"||T.type==="Company"?"Company":T.type==="RESIDENT"||T.type==="Resident"?"Resident":"Individual"})}),a.jsx("span",{className:"text-sm text-slate-600 truncate",children:(T.type==="COMPANY"||T.type==="Company")&&T.companyName||"-"}),a.jsxs("span",{className:"text-sm text-slate-600",children:[a.jsx("div",{className:"font-medium text-slate-800",children:T.property}),a.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:T.unit})]}),a.jsx("span",{className:"w-fit",children:a.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold border ${T.leaseStatus==="Active"?"bg-emerald-50 text-emerald-700 border-emerald-100":T.leaseStatus==="DRAFT"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${T.leaseStatus==="Active"?"bg-emerald-500":T.leaseStatus==="DRAFT"?"bg-amber-500":"bg-red-500"}`}),T.leaseStatus==="DRAFT"?"Draft":T.leaseStatus]})}),a.jsxs("span",{className:"flex justify-center gap-1",children:[a.jsx("button",{onClick:()=>Ut(T),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-200",title:"View Details",children:a.jsx(Tt,{size:16})}),a.jsx("button",{onClick:()=>Gn(T),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200",title:"Edit Tenant",children:a.jsx(Eo,{size:16})}),a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-all duration-200",onClick:()=>ze(T.id),title:"Delete Tenant",children:a.jsx($t,{size:16})})]})]},T.id)})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center z-50 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-2xl shadow-2xl animate-in zoom-in-95 duration-400 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"px-10 py-8 border-b border-slate-100 flex justify-between items-center bg-white shrink-0",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u?"Edit Profile":se===1?"Select Tenant Type":A==="Individual"?"Individual Tenant Details":A==="Company"?"Company Tenant Details":A==="Resident"?"Resident Tenant Detail":"Tenant Details"}),a.jsx("p",{className:"text-slate-500 font-medium text-sm mt-1",children:u?`Updating ${u.name}`:se===1?"Step 1 of 2: Classification":"Step 2 of 2: Information"})]}),a.jsx("button",{type:"button",onClick:()=>{d(!1),f(null),be()},className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-50 text-slate-400 hover:bg-rose-50 hover:text-rose-500 transition-all duration-300",children:a.jsx(jt,{className:"rotate-45",size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-10 py-8 custom-scrollbar",children:se===1&&!u?a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>{L("Individual"),Y(2)},className:"group p-6 rounded-2xl border-2 border-slate-100 hover:border-indigo-500 hover:bg-indigo-50/30 text-left transition-all duration-300 flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300",children:a.jsx(zt,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Individual Tenant"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Single legal leaseholder. Receives credentials via SMS."})]})]}),a.jsxs("button",{type:"button",onClick:()=>{L("Company"),Y(2)},className:"group p-6 rounded-2xl border-2 border-slate-100 hover:border-purple-500 hover:bg-purple-50/30 text-left transition-all duration-300 flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-50 text-purple-600 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300",children:a.jsx(Cr,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Company Tenant"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Corporate leaseholder with occupants. Billing via primary contact."})]})]}),a.jsxs("button",{type:"button",onClick:()=>{L("Resident"),Y(2)},className:"group p-6 rounded-2xl border-2 border-slate-100 hover:border-amber-500 hover:bg-amber-50/30 text-left transition-all duration-300 flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300",children:a.jsx(Ee,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Resident (Occupant Only)"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Physical occupant only. Non-billable. Linked to a billable tenant."})]})]})]}):a.jsxs("form",{onSubmit:ve,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 mb-2",children:[a.jsx(zt,{size:18}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Personal Identification"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"First Name"}),a.jsx("input",{name:"firstName",placeholder:"John",defaultValue:(u==null?void 0:u.firstName)||"",required:!0,className:`px-5 py-3.5 rounded-2xl border ${g.firstName?"border-red-500 bg-red-50":"border-slate-200 bg-slate-50/50"} outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800`}),g.firstName&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:g.firstName})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Last Name"}),a.jsx("input",{name:"lastName",placeholder:"Doe",defaultValue:(u==null?void 0:u.lastName)||"",required:!0,className:`px-5 py-3.5 rounded-2xl border ${g.lastName?"border-red-500 bg-red-50":"border-slate-200 bg-slate-50/50"} outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800`}),g.lastName&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:g.lastName})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Email Adddress"}),a.jsx("input",{name:"email",type:"email",placeholder:"john@example.com",defaultValue:(u==null?void 0:u.email)||"",required:A!=="Resident",className:`px-5 py-3.5 rounded-2xl border ${g.email?"border-red-500 bg-red-50":"border-slate-200 bg-slate-50/50"} outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800`}),g.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:g.email})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Mobile Number"}),a.jsx("input",{name:"phone",type:"tel",placeholder:"(514) 123-4567",defaultValue:(u==null?void 0:u.phone)||"+1 ",required:!0,className:`px-5 py-3.5 rounded-2xl border ${g.phone?"border-red-500 bg-red-50":"border-slate-200 bg-slate-50/50"} outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800`}),g.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:g.phone}),a.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-1 italic",children:"Canadian/US format supported (e.g. 514-123-4567)"})]})]})]}),A==="Resident"&&a.jsxs("div",{className:"p-6 bg-amber-50/50 rounded-[24px] border border-amber-100 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-2",children:[a.jsx(Rt,{size:18}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Resident Linking"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Responsible Tenant (Billable)"}),a.jsxs("select",{value:H,onChange:T=>ce(T.target.value),required:A==="Resident",className:`px-5 py-3.5 rounded-2xl border ${g.parentId?"border-red-500 bg-red-50":"border-slate-200 bg-white"} outline-none focus:border-amber-500 focus:ring-4 focus:ring-amber-500/10 transition-all font-medium text-slate-800 appearance-none`,children:[a.jsx("option",{value:"",children:"Choose a billable tenant..."}),te.map(T=>a.jsxs("option",{value:T.id,children:[T.name," (",T.type==="COMPANY"||T.type==="Company"?"Company":T.type==="RESIDENT"||T.type==="Resident"?"Resident":"Individual",")"]},T.id))]}),g.parentId&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:g.parentId})]})]}),A==="Company"&&a.jsxs("div",{className:"p-6 bg-purple-50/30 rounded-[24px] border border-purple-100 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-2",children:[a.jsx(Cr,{size:18}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Company Information"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Company legal Name"}),a.jsx("input",{name:"companyName",placeholder:"LLC / Inc / Corp",defaultValue:(u==null?void 0:u.companyName)||"",required:!0,className:`px-5 py-3.5 rounded-2xl border ${g.companyName?"border-red-500 bg-red-50":"border-slate-200 bg-white"} outline-none focus:border-purple-500 transition-all font-medium`}),g.companyName&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:g.companyName})]}),a.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Street Address"}),a.jsx("input",{name:"street",placeholder:"123 Corporate Way",defaultValue:(u==null?void 0:u.street)||"",required:!0,className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white outline-none focus:border-purple-500 transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Address Line 2 (Optional)"}),a.jsx("input",{name:"street2",placeholder:"Building B, Suite 100",defaultValue:(u==null?void 0:u.street2)||"",className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white outline-none focus:border-purple-500 transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"City"}),a.jsx("input",{name:"city",placeholder:"Business City",defaultValue:(u==null?void 0:u.city)||"",required:!0,className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"State / Province"}),a.jsx("input",{name:"state",placeholder:"State",defaultValue:(u==null?void 0:u.state)||"",className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Postal Code"}),a.jsx("input",{name:"postalCode",placeholder:"H4F 3G1",defaultValue:(u==null?void 0:u.postalCode)||"",required:!0,className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Country"}),a.jsx("input",{name:"country",placeholder:"Canada",defaultValue:(u==null?void 0:u.country)||"",className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white transition-all font-medium"})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 -mx-10 -mb-8 px-10 py-6 border-t border-slate-200 sticky bottom-0",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>u?be():Y(1),children:u?"Reset":"Back to Selection"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>{d(!1),f(null),be()},children:"Cancel"}),a.jsx(V,{type:"submit",isLoading:h,children:u?"Save Changes":"Create Tenant"})]})]})]})})]})})]})})},fZ=({tenant:e,onBack:t})=>{var en;const[n,r]=w.useState("Details"),[s,i]=w.useState(!1),[l,o]=w.useState({...e,email:e.email||`${e.name.toLowerCase().replace(" ",".")}@example.com`,phone:e.phone||"+1 (555) 012-3456",leaseStatus:e.leaseStatus||"Active"}),[c,d]=w.useState(e.documents||[]),[u,f]=w.useState(e.insurance||[]),[p,x]=w.useState([]),[m,j]=w.useState([]),h=async()=>{var T,J,me,Se,Ye,Nt,at,ha,Ei,Ti,$i;try{i(!0);const Vt=(await B.get(`/api/admin/tenants/${e.id}`)).data;o({...Vt,name:Vt.name||`${Vt.firstName||""} ${Vt.lastName||""}`.trim(),leaseStatus:((J=(T=Vt.leases)==null?void 0:T.find(St=>St.status==="Active"))==null?void 0:J.status)||((Se=(me=Vt.leases)==null?void 0:me.find(St=>St.status==="DRAFT"))==null?void 0:Se.status)||"Inactive",property:((ha=(at=(Nt=(Ye=Vt.leases)==null?void 0:Ye[0])==null?void 0:Nt.unit)==null?void 0:at.property)==null?void 0:ha.name)||"No Property",unit:(($i=(Ti=(Ei=Vt.leases)==null?void 0:Ei[0])==null?void 0:Ti.unit)==null?void 0:$i.name)||"No Unit"}),d(Vt.documents||[]),f(Vt.insurances||[]),x(Vt.leases||[])}catch(Ii){console.error("Failed to fetch tenant data",Ii)}finally{i(!1)}};w.useEffect(()=>{e!=null&&e.id&&(h(),y())},[e==null?void 0:e.id]);const y=async()=>{try{const J=(await B.get(`/api/admin/tickets?userId=${e.id}`)).data.map(me=>({id:me.id,dbId:me.dbId,title:me.subject,category:me.category||"General",priority:me.priority,status:me.status,date:me.date}));j(J)}catch(T){console.error("Failed to fetch tickets",T)}},[g,b]=w.useState(!1),[N,v]=w.useState(!1),[S,k]=w.useState(!1),[C,O]=w.useState(!1),[E,M]=w.useState(!1),[$,I]=w.useState(!1),[D,F]=w.useState(null),[A,L]=w.useState(null),[_,P]=w.useState(null),[U,G]=w.useState(!1),[q,z]=w.useState(null),[ee,ae]=w.useState(""),[ge,Q]=w.useState(null),[se,Y]=w.useState(!1);w.useEffect(()=>{let T=null;return(async()=>{if(!_){Q(null);return}try{Y(!0);const me=await B.get(`/api/admin/documents/${_.id}/download`,{responseType:"blob"});T=URL.createObjectURL(me.data),Q(T)}catch(me){console.error("Failed to load preview",me)}finally{Y(!1)}})(),()=>{T&&URL.revokeObjectURL(T)}},[_]);const te=T=>{confirm("Are you sure you want to delete this document?")&&d(c.filter(J=>J.id!==T))},ie=T=>{confirm("Are you sure you want to delete this insurance policy?")&&f(u.filter(J=>J.id!==T))},H=T=>{const J=new Date(T),me=new Date;J.setHours(0,0,0,0),me.setHours(0,0,0,0);const Se=J-me,Ye=Math.ceil(Se/(1e3*60*60*24));return Ye<0?{label:"Expired",class:"bg-red-50 text-red-700 border-red-100",dot:"bg-red-500",helper:`Expired ${Math.abs(Ye)} days ago`,icon:!0}:Ye<=30?{label:"Expiring Soon",class:"bg-amber-50 text-amber-700 border-amber-100",dot:"bg-amber-500",helper:`Expires in ${Ye} days`,icon:!0}:{label:"Active",class:"bg-emerald-50 text-emerald-700 border-emerald-100",dot:"bg-emerald-500",helper:`Expires in ${Ye} days`,icon:!1}},ce=T=>{T.preventDefault();const J=T.target,me={id:D?D.id:Date.now(),provider:J.provider.value,policyNumber:J.policyNumber.value,startDate:J.startDate.value,endDate:J.endDate.value,document:"uploaded_policy.pdf"};f(D?u.map(Se=>Se.id===D.id?me:Se):[...u,me]),b(!1),F(null)},X=T=>{T.preventDefault();const J=T.target,me={id:Date.now(),name:J.docName.value||"New Document.pdf",type:J.docType.value,expiryDate:J.expiryDate.value,date:new Date().toISOString().split("T")[0]};d([...c,me]),v(!1)},de=async T=>{T.preventDefault();const J=T.target;try{const me={tenantId:e.id,subject:J.title.value,category:J.category.value,priority:J.priority.value,description:`Created via Admin Portal for ${e.name}`,propertyId:e.propertyId,unitId:e.unitId};await B.post("/api/admin/tickets",me),y(),k(!1)}catch(me){console.error("Failed to save ticket",me),alert("Error creating ticket")}},pe=T=>{T.preventDefault(),T.target,O(!1)},ve=async T=>{if(window.confirm("Are you sure you want to activate this lease?"))try{await B.post(`/api/admin/leases/${T}/activate`),alert("Lease activated successfully"),h()}catch(J){console.error(J),alert("Failed to activate lease")}},be=p.length>0?[...p].sort((T,J)=>J.id-T.id)[0]:null,ze=be&&(be.status==="DRAFT"||((en=be.status)==null?void 0:en.toLowerCase())==="expired"),Gn=async T=>{if(T.preventDefault(),!!q)try{await B.put(`/api/admin/leases/${q.id}`,{monthlyRent:ee}),alert("Rent updated successfully"),G(!1),h()}catch(J){console.error(J),alert("Failed to update rent")}},Ut=async T=>{T.preventDefault();const J=T.target;try{const me={firstName:J.name.value.split(" ")[0],lastName:J.name.value.split(" ").slice(1).join(" "),email:J.email.value,phone:J.phone.value,type:J.type.value};await B.put(`/api/admin/tenants/${e.id}`,me),alert("Tenant updated successfully"),M(!1),h()}catch(me){console.error(me),alert("Failed to update tenant")}};return a.jsx(Ce,{title:`Tenant: ${e.name}`,children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2.5 rounded-xl bg-slate-50 text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-all border border-slate-100",children:a.jsx(Us,{size:20})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 border border-indigo-100 font-bold text-lg",children:l.name.split(" ").map(T=>T[0]).join("")}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-sm text-slate-500 font-medium",children:l.property}),a.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),a.jsx("span",{className:"text-sm text-slate-500 font-medium",children:l.unit})]})]})]})]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsx(V,{variant:"secondary",className:"flex-1 md:flex-none",onClick:()=>M(!0),children:"Edit Tenant"}),a.jsx(V,{variant:"primary",className:"flex-1 md:flex-none",onClick:()=>I(!0),children:"Contact"})]})]}),a.jsx("div",{className:"flex border-b border-slate-200 gap-8 px-2 overflow-x-auto no-scrollbar",children:["Details","Leases","Documents","Insurance","Tickets"].map(T=>a.jsxs("button",{onClick:()=>r(T),className:ue("pb-4 px-2 text-sm font-semibold transition-all relative whitespace-nowrap",n===T?"text-indigo-600":"text-slate-400 hover:text-slate-600"),children:[T,n===T&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 rounded-full animate-in fade-in slide-in-from-bottom-1 duration-300"})]},T))}),a.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[n==="Details"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${l.leaseStatus==="Active"?"bg-emerald-500":"bg-red-500"}`}),a.jsx("span",{className:"font-semibold text-slate-700",children:l.leaseStatus})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Type"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold border ${l.type==="Company"?"bg-purple-50 text-purple-700 border-purple-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:l.type})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Tenant ID"}),a.jsxs("p",{className:"font-mono text-sm text-slate-600",children:["TEN-",l.id]})]}),a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Primary Email"}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:l.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Primary Phone"}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:l.phone})]})]})]}),l.type==="Company"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Company Address"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Street Address"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.street||"N/A"}),l.street2&&a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.street2})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"City"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.city||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"State / Province"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.state||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Postal Code"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.postalCode||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Country"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.country||"N/A"})]})]})]}),l.companyContacts&&l.companyContacts.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Company Contacts"}),a.jsx("div",{className:"space-y-3",children:l.companyContacts.map((T,J)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex justify-between items-center group",children:[a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-500 font-bold",children:T.name[0]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-800",children:T.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:T.role||"No Role specified"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700",children:T.email}),a.jsx("p",{className:"text-[11px] text-slate-400",children:T.phone||"No phone"})]})]},J))})]})]}),l.residents&&l.residents.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Linked Residents"}),a.jsx("div",{className:"space-y-3",children:l.residents.map((T,J)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsxs("div",{className:"w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center text-indigo-500 font-bold",children:[T.firstName[0],T.lastName[0]]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-slate-800",children:[T.firstName," ",T.lastName]}),a.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-500 bg-indigo-50 px-1.5 py-0.5 rounded",children:"Resident"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700",children:T.email||"No email"}),a.jsx("p",{className:"text-[11px] text-slate-400",children:T.phone||"No phone"})]})]},J))})]})]})]}),n==="Leases"&&a.jsxs("section",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Lease History"}),a.jsxs("div",{className:"flex gap-2",children:[ze&&a.jsx(V,{variant:"primary",size:"sm",onClick:()=>ve(be.id),children:"Activate Lease"}),a.jsx(V,{variant:"secondary",size:"sm",onClick:()=>O(!0),children:"Add Past Lease"})]})]}),p.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Unit / Bedroom"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Period"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Rent"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:p.map(T=>{var J,me;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all font-medium",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:((J=T.unit)==null?void 0:J.rentalMode)||"Full Unit"}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:((me=T.unit)==null?void 0:me.name)||"N/A"}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[T.startDate?new Date(T.startDate).toLocaleDateString():"TBD"," - ",T.endDate?new Date(T.endDate).toLocaleDateString():"TBD"]}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 font-bold",children:!T.monthlyRent||parseFloat(T.monthlyRent)===0?a.jsx("button",{onClick:()=>{z(T),ae(""),G(!0)},className:"text-[10px] text-indigo-600 hover:text-indigo-700 bg-indigo-50 px-2 py-1 rounded font-black uppercase",children:"[ Set Rent ]"}):a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsxs("span",{children:["$",T.monthlyRent]}),a.jsx("button",{onClick:()=>{z(T),ae(T.monthlyRent.toString()),G(!0)},className:"text-slate-400 hover:text-indigo-600 opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:a.jsx(Eo,{size:14})})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight ${T.status==="Active"?"bg-emerald-50 text-emerald-700 border-emerald-100":T.status==="DRAFT"?"bg-amber-50 text-amber-700 border-amber-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:T.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx("button",{onClick:async()=>{try{const Se=await B.get(`/api/admin/leases/${T.id}/download`,{responseType:"blob"}),Ye=window.URL.createObjectURL(new Blob([Se.data])),Nt=document.createElement("a");Nt.href=Ye,Nt.setAttribute("download",`lease-${T.id}.pdf`),document.body.appendChild(Nt),Nt.click(),Nt.remove()}catch{alert("Download failed")}},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"Download Lease PDF",children:a.jsx(wn,{size:18})})})})]},T.id)})})]})}):a.jsx("div",{className:"py-12 text-center",children:a.jsxs("div",{className:"max-w-xs mx-auto space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-50 border border-slate-100 rounded-2xl flex items-center justify-center mx-auto text-slate-300",children:a.jsx(Ee,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"No Lease History"}),a.jsx("p",{className:"text-sm text-slate-500",children:"The historical lease record for this tenant is currently being migrated."})]})]})})]}),n==="Documents"&&a.jsxs("section",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Tenant Documents"}),a.jsxs(V,{variant:"primary",size:"sm",className:"gap-2",onClick:()=>v(!0),children:[a.jsx(yr,{size:16}),"Upload Document"]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Document Name"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Expiry"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:c.map(T=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600 border border-indigo-100",children:a.jsx(Ee,{size:16})}),a.jsx("span",{className:"font-semibold text-slate-700",children:T.name})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-xs font-medium text-slate-500 bg-slate-100 px-2.5 py-1 rounded-lg",children:T.type})}),a.jsx("td",{className:"px-6 py-4",children:T.expiryDate?a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-700",children:T.expiryDate}),(()=>{const J=Math.ceil((new Date(T.expiryDate)-new Date)/864e5);return a.jsx("p",{className:ue("text-[10px] font-bold uppercase tracking-wider mt-1",J<0?"text-rose-500":J<=30?"text-amber-500":"text-emerald-500"),children:J<0?`Expired ${Math.abs(J)} days ago`:`Expires in ${J} days`})})()]}):a.jsx("span",{className:"text-sm text-slate-400 italic",children:"No Expiry"})}),a.jsx("td",{className:"px-6 py-4",children:T.expiryDate?(()=>{const J=H(T.expiryDate);return a.jsxs("span",{className:ue("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight w-fit",J.class),children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${J.dot}`}),J.label]})})():a.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-bold border bg-slate-50 text-slate-400 uppercase tracking-tight",children:"Permanent"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>P(T),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"View",children:a.jsx(Tt,{size:18})}),a.jsx("button",{onClick:()=>te(T.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:a.jsx($t,{size:18})})]})})]},T.id))})]}),c.length===0&&a.jsx("div",{className:"py-12 text-center text-slate-400 italic",children:"No documents uploaded yet."})]})]}),n==="Insurance"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Insurance Policies"}),a.jsx(V,{variant:"primary",size:"sm",onClick:()=>{F(null),b(!0)},children:"Add Insurance"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Provider"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Policy Number"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Period"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:u.map(T=>{const J=H(T.endDate);return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg ${J.class.split(" ")[0]} flex items-center justify-center ${J.class.split(" ")[1]} border ${J.class.split(" ")[2]}`,children:a.jsx(Cr,{size:16})}),a.jsx("span",{className:"font-semibold text-slate-700",children:T.provider})]})}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-slate-500",children:T.policyNumber}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-xs font-medium text-slate-600",children:[T.startDate," - ",T.endDate]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:ue("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight w-fit",J.class),children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${J.dot}`}),J.label]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>L(T),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"View",children:a.jsx(Tt,{size:18})}),a.jsx("button",{onClick:()=>{F(T),b(!0)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit",children:a.jsx(U2,{size:18})}),a.jsx("button",{onClick:()=>ie(T.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:a.jsx($t,{size:18})})]})})]},T.id)})})]}),u.length===0&&a.jsx("div",{className:"py-12 text-center text-slate-400 italic",children:"No insurance policies added."})]})]}),a.jsxs("div",{className:"bg-amber-50 rounded-2xl p-6 border border-amber-100 flex items-start gap-4",children:[a.jsx("div",{className:"p-2 rounded-xl bg-amber-100 text-amber-600",children:a.jsx(Rt,{size:20})}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-bold text-amber-900",children:"Compliance Requirement"}),a.jsx("p",{className:"text-sm text-amber-800 mt-1 opacity-80",children:"All tenants are required to maintain a valid Liability Insurance policy throughout their lease term. System will automatically notify the tenant 30 days before expiry."})]})]})]}),n==="Tickets"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Maintenance Tickets"}),a.jsx(V,{variant:"primary",size:"sm",onClick:()=>k(!0),children:"Create Ticket"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Ticket"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:m.map(T=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-700",children:T.title}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:["#",T.id]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-xs font-medium text-slate-500 bg-slate-100 px-2.5 py-1 rounded-lg",children:T.category})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight w-fit ${T.status==="Open"?"bg-blue-50 text-blue-700 border-blue-100":T.status==="In Progress"?"bg-amber-50 text-amber-700 border-amber-100":"bg-emerald-50 text-emerald-700 border-emerald-100"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${T.status==="Open"?"bg-blue-500":T.status==="In Progress"?"bg-amber-500":"bg-emerald-500"}`}),T.status]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 font-medium",children:T.date}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx("button",{className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:a.jsx(Jt,{size:16})})})})]},T.id))})]}),m.length===0&&a.jsx("div",{className:"py-12 text-center text-slate-400 italic",children:"No tickets found for this tenant."})]})]})})]}),g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:ce,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:[D?"Edit":"Add"," Insurance Policy"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Provider Name"}),a.jsx("input",{name:"provider",defaultValue:(D==null?void 0:D.provider)||"",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all font-medium text-slate-700",placeholder:"e.g. State Farm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Policy Number"}),a.jsx("input",{name:"policyNumber",defaultValue:(D==null?void 0:D.policyNumber)||"",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all font-medium text-slate-700 font-mono",placeholder:"e.g. POL-12345"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"startDate",type:"date",defaultValue:(D==null?void 0:D.startDate)||"",required:!0,className:"w-full pl-11 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all text-sm font-medium text-slate-700"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"endDate",type:"date",defaultValue:(D==null?void 0:D.endDate)||"",required:!0,className:"w-full pl-11 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all text-sm font-medium text-slate-700"})]})]})]}),a.jsxs("div",{className:"p-6 border-2 border-dashed border-slate-100 rounded-2xl flex flex-col items-center justify-center gap-2 hover:border-indigo-200 transition-all group cursor-pointer relative",children:[a.jsx(yr,{size:24,className:"text-slate-300 group-hover:text-indigo-400 transition-all"}),a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Upload Policy Document"}),a.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>b(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Policy"})]})]})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",onClick:()=>L(null),children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",onClick:T=>T.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Insurance Details"}),a.jsx("button",{onClick:()=>L(null),className:"text-slate-400 hover:text-slate-600 transition-all",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600",children:a.jsx(Cr,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider",children:"Provider"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:A.provider})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Policy Number"}),a.jsx("p",{className:"font-mono text-sm font-semibold text-slate-700",children:A.policyNumber})]}),a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Status"}),(()=>{const T=H(A.endDate);return a.jsx("span",{className:ue("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight w-fit",T.class),children:T.label})})()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Start Date"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:A.startDate})]}),a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"End Date"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:A.endDate})]})]}),a.jsxs("div",{className:"p-4 rounded-2xl border border-indigo-100 bg-indigo-50/30 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ee,{size:18,className:"text-indigo-600"}),a.jsx("span",{className:"text-sm font-medium text-indigo-900",children:A.document})]}),a.jsx("button",{onClick:async()=>{try{const T=A.uploadedDocumentId;if(!T)return alert("No document record found for this policy");const J=`/api/admin/documents/${T}/download`,me=await B.get(J,{responseType:"blob"}),Se=window.URL.createObjectURL(new Blob([me.data])),Ye=document.createElement("a");Ye.href=Se,Ye.setAttribute("download",`insurance-${A.id}.pdf`),document.body.appendChild(Ye),Ye.click(),Ye.remove()}catch{alert("Download failed")}},className:"text-indigo-600 hover:text-indigo-800 transition-all",children:a.jsx(wn,{size:18})})]})]}),a.jsx("div",{className:"mt-8",children:a.jsx(V,{variant:"secondary",className:"w-full",onClick:()=>L(null),children:"Close"})})]})}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:X,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Upload Document"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Document Name"}),a.jsx("input",{name:"docName",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all font-medium text-slate-700",placeholder:"e.g. ID Proof"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Document Type"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"docType",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all appearance-none bg-white font-medium text-slate-700",children:[a.jsx("option",{value:"Agreement",children:"Lease Agreement"}),a.jsx("option",{value:"ID",children:"Identity Proof"}),a.jsx("option",{value:"Income",children:"Income Proof"}),a.jsx("option",{value:"Other",children:"Other"})]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:""})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Expiry Date (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"expiryDate",type:"date",className:"w-full pl-11 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all text-sm font-medium text-slate-700"})]})]}),a.jsxs("div",{className:"p-6 border-2 border-dashed border-slate-100 rounded-2xl flex flex-col items-center justify-center gap-2 hover:border-indigo-200 transition-all group cursor-pointer relative",children:[a.jsx(yr,{size:24,className:"text-slate-300 group-hover:text-indigo-400 transition-all"}),a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Choose File"}),a.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>v(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Upload"})]})]})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",onClick:()=>P(null),children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-4xl max-h-[90vh] shadow-2xl animate-in zoom-in-95 duration-300 flex flex-col",onClick:T=>T.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:_.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:[_.type,"  Uploaded on ",_.date]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:"secondary",size:"sm",className:"gap-2",onClick:async()=>{try{const T=`/api/admin/documents/${_.id}/download`,J=await B.get(T,{responseType:"blob"}),me=window.URL.createObjectURL(new Blob([J.data])),Se=document.createElement("a");Se.href=me,Se.setAttribute("download",`${_.name}`),document.body.appendChild(Se),Se.click(),Se.remove()}catch{alert("Download failed")}},children:[a.jsx(wn,{size:16}),"Download"]}),a.jsx("button",{onClick:()=>P(null),className:"p-2 text-slate-400 hover:text-slate-600 transition-all",children:""})]})]}),a.jsx("div",{className:"flex-1 bg-slate-50 rounded-xl border border-slate-200 overflow-hidden relative min-h-[500px] flex flex-col",children:se?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 text-slate-400",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600/20 border-t-indigo-600 rounded-full animate-spin"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-[10px]",children:"Loading preview..."})]}):ge?_.name.toLowerCase().endsWith(".pdf")?a.jsx("iframe",{src:`${ge}#toolbar=0`,className:"w-full h-full border-none flex-1",title:"PDF Preview"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center p-8 flex-1",children:a.jsx("img",{src:ge,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg",alt:"Document Preview"})}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 text-slate-400",children:[a.jsx(Rt,{size:48,className:"opacity-20"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-[10px]",children:"Failed to load preview"})]})}),a.jsx("div",{className:"mt-8",children:a.jsx(V,{variant:"secondary",className:"w-full",onClick:()=>P(null),children:"Close Preview"})})]})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:de,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Create Maintenance Ticket"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5 opacity-60",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Tenant"}),a.jsx("input",{disabled:!0,value:e.name,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 font-medium"})]}),a.jsxs("div",{className:"space-y-1.5 opacity-60",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Unit"}),a.jsx("input",{disabled:!0,value:e.unit,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 font-medium"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Issue Title"}),a.jsx("input",{name:"title",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all font-medium text-slate-700",placeholder:"e.g. Broken Light Fixture"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Category"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"category",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all appearance-none bg-white font-medium text-slate-700",children:[a.jsx("option",{value:"Plumbing",children:"Plumbing"}),a.jsx("option",{value:"Electrical",children:"Electrical"}),a.jsx("option",{value:"HVAC",children:"HVAC"}),a.jsx("option",{value:"Appliance",children:"Appliance"}),a.jsx("option",{value:"Other",children:"Other"})]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:""})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Priority"}),a.jsx("div",{className:"flex gap-4",children:["Low","Medium","High"].map(T=>a.jsxs("label",{className:"flex-1",children:[a.jsx("input",{type:"radio",name:"priority",value:T,defaultChecked:T==="Medium",className:"sr-only peer"}),a.jsx("div",{className:"text-center py-2 rounded-xl border border-slate-200 peer-checked:border-indigo-500 peer-checked:bg-indigo-50 peer-checked:text-indigo-600 cursor-pointer transition-all text-sm font-bold opacity-60 peer-checked:opacity-100",children:T})]},T))})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>k(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Submit Ticket"})]})]})}),E&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:Ut,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Edit Tenant"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Name"}),a.jsx("input",{name:"name",defaultValue:l.name,required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all font-medium text-slate-700"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Email"}),a.jsx("input",{name:"email",type:"email",defaultValue:l.email,required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all font-medium text-slate-700"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Phone"}),a.jsx("input",{name:"phone",defaultValue:l.phone||"+1 ",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all font-medium text-slate-700"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Type"}),a.jsxs("select",{name:"type",defaultValue:l.type,required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all appearance-none bg-white font-medium text-slate-700",children:[a.jsx("option",{value:"Individual",children:"Individual"}),a.jsx("option",{value:"Company",children:"Company"})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>M(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Changes"})]})]})}),$&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",onClick:()=>I(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-sm shadow-2xl animate-in zoom-in-95 duration-300",onClick:T=>T.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Contact Tenant"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 rounded-2xl bg-indigo-50/50 border border-indigo-100",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Email Address"}),a.jsx("a",{href:`mailto:${l.email}`,className:"text-indigo-600 font-bold hover:underline break-all",children:l.email})]}),a.jsxs("div",{className:"p-4 rounded-2xl bg-indigo-50/50 border border-indigo-100",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Phone Number"}),a.jsx("a",{href:`tel:${l.phone}`,className:"text-indigo-600 font-bold hover:underline",children:l.phone})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Quick Note"}),a.jsx("textarea",{placeholder:"Type a message...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all text-sm h-24 resize-none"})]})]}),a.jsx("div",{className:"flex gap-3 mt-8",children:a.jsx(V,{variant:"secondary",className:"w-full",onClick:()=>I(!1),children:"Close"})})]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:pe,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Add Historical Lease"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Lease Type"}),a.jsxs("select",{name:"type",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none transition-all appearance-none bg-white font-medium text-slate-700",children:[a.jsx("option",{value:"Full Unit",children:"Full Unit"}),a.jsx("option",{value:"Bedroom",children:"Bedroom"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Unit / Room"}),a.jsx("input",{name:"unit",defaultValue:l.unit,required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none font-medium text-slate-700"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Start Date"}),a.jsx("input",{name:"startDate",type:"date",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none font-medium text-slate-700"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"End Date"}),a.jsx("input",{name:"endDate",type:"date",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none font-medium text-slate-700"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Monthly Rent"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),a.jsx("input",{name:"rent",type:"number",required:!0,placeholder:"0.00",className:"w-full pl-8 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none font-medium text-slate-700"})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>O(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Lease"})]})]})}),U&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:Gn,className:"bg-white rounded-2xl p-8 w-full max-w-sm shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Set Lease Rent"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Monthly Rent Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),a.jsx("input",{type:"number",step:"0.01",required:!0,min:"0.01",value:ee,onChange:T=>ae(T.target.value),className:"w-full pl-8 pr-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all font-bold text-slate-700 text-lg",placeholder:"0.00",autoFocus:!0})]})]})}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>G(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Rent"})]})]})})]})})},pZ=()=>{un();const[e,t]=w.useState(""),[n,r]=w.useState("All"),[s,i]=w.useState("All"),[l,o]=w.useState(null),[c,d]=w.useState([]),[u,f]=w.useState({active:0,expiring:0,expired:0,pending:0}),[p,x]=w.useState(""),[m,j]=w.useState(!1),h=async()=>{try{const[v,S]=await Promise.all([B.get("/api/admin/insurance/alerts"),B.get("/api/admin/insurance/stats")]);d(v.data),f(S.data)}catch(v){console.error(v)}};w.useEffect(()=>{h()},[]);const y=async v=>{if(window.confirm("Approve this insurance policy?"))try{await B.post(`/api/admin/insurance/${v}/approve`),o(null),h()}catch{alert("Approval failed")}},g=async v=>{if(!p)return alert("Please provide a reason");try{await B.post(`/api/admin/insurance/${v}/reject`,{reason:p}),o(null),j(!1),x(""),h()}catch{alert("Rejection failed")}},b=c.filter(v=>{const S=v.tenantName.toLowerCase().includes(e.toLowerCase())||v.policyNumber.toLowerCase().includes(e.toLowerCase()),k=n==="All"||v.status===n||n==="EXPIRING_SOON"&&v.expiry.label==="Expiring Soon",C=s==="All"||v.property===s;return S&&k&&C}),N=()=>{t(""),r("All"),i("All")};return a.jsx(Ce,{title:"Insurance Compliance",children:a.jsxs("div",{className:"flex flex-col gap-8 pb-10",children:[a.jsx("div",{className:"space-y-1",children:a.jsx("p",{className:"text-slate-500 font-medium",children:"Manage tenant insurance approvals and monitor portfolio compliance."})}),a.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(xe,{className:`p-6 rounded-[24px] cursor-pointer transition-all duration-300 hover:-translate-y-1 border-b-4 ${n==="PENDING_APPROVAL"?"border-amber-500 shadow-lg":"border-transparent shadow-sm bg-white"}`,onClick:()=>r("PENDING_APPROVAL"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-600",children:a.jsx(sr,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u.pending}),a.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest leading-none mt-1",children:"Pending Approval"})]})]})}),a.jsx(xe,{className:`p-6 rounded-[24px] cursor-pointer transition-all duration-300 hover:-translate-y-1 border-b-4 ${n==="EXPIRED"?"border-red-500 shadow-lg":"border-transparent shadow-sm bg-white"}`,onClick:()=>r("EXPIRED"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-xl flex items-center justify-center text-red-600",children:a.jsx(JA,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u.expired}),a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest leading-none mt-1",children:"Expired"})]})]})}),a.jsx(xe,{className:`p-6 rounded-[24px] cursor-pointer transition-all duration-300 hover:-translate-y-1 border-b-4 ${n==="EXPIRING_SOON"?"border-orange-500 shadow-lg":"border-transparent shadow-sm bg-white"}`,onClick:()=>r("EXPIRING_SOON"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center text-orange-600",children:a.jsx(Fu,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u.expiring}),a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest leading-none mt-1",children:"Expiring Soon"})]})]})}),a.jsx(xe,{className:`p-6 rounded-[24px] cursor-pointer transition-all duration-300 hover:-translate-y-1 border-b-4 ${n==="ACTIVE"?"border-emerald-500 shadow-lg":"border-transparent shadow-sm bg-white"}`,onClick:()=>r("ACTIVE"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-xl flex items-center justify-center text-emerald-600",children:a.jsx(kr,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u.active}),a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest leading-none mt-1",children:"Active (Compliant)"})]})]})})]}),a.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 min-w-[240px] relative",children:[a.jsx(Jt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search tenant or policy #...",value:e,onChange:v=>t(v.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-primary-500 focus:ring-4 focus:ring-primary-50 transition-all text-sm font-medium"})]}),a.jsxs("select",{value:n,onChange:v=>r(v.target.value),className:"px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-primary-500 text-sm font-medium bg-white",children:[a.jsx("option",{value:"All",children:"All Statuses"}),a.jsx("option",{value:"PENDING_APPROVAL",children:"Pending Approval"}),a.jsx("option",{value:"ACTIVE",children:"Active"}),a.jsx("option",{value:"EXPIRING_SOON",children:"Expiring Soon"}),a.jsx("option",{value:"EXPIRED",children:"Expired"}),a.jsx("option",{value:"REJECTED",children:"Rejected"})]}),a.jsxs("button",{onClick:N,className:"text-sm font-bold text-slate-400 hover:text-danger px-2 flex items-center gap-1",children:[a.jsx(je,{size:16})," Reset"]})]}),a.jsx("section",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Tenant Name"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Property / Unit"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Provider"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Policy #"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Expiry"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:b.length>0?b.map(v=>a.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"p-4 px-6",children:a.jsx("div",{className:"font-bold text-slate-800 tracking-tight text-sm",children:v.tenantName})}),a.jsxs("td",{className:"p-4 px-6 text-sm",children:[a.jsx("div",{className:"font-bold text-slate-600",children:v.property}),a.jsxs("div",{className:"text-[11px] text-slate-400 font-bold uppercase tracking-wide",children:["Unit ",v.unit]})]}),a.jsx("td",{className:"p-4 px-6 text-sm font-medium text-slate-500",children:v.provider}),a.jsx("td",{className:"p-4 px-6 text-[12px] font-mono text-slate-400",children:v.policyNumber}),a.jsx("td",{className:"p-4 px-6 text-center text-sm font-bold text-slate-600",children:new Date(v.endDate).toLocaleDateString()}),a.jsx("td",{className:"p-4 px-6 text-center",children:a.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${v.status==="ACTIVE"?"bg-emerald-50 text-emerald-600 border-emerald-100":v.status==="PENDING_APPROVAL"?"bg-amber-50 text-amber-600 border-amber-100":"bg-red-50 text-red-600 border-red-100"}`,children:v.status.replace("_"," ")})}),a.jsx("td",{className:"p-4 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end gap-1",children:[a.jsx("button",{onClick:()=>o(v),className:"p-2 text-slate-400 hover:text-primary-600 hover:bg-white rounded-xl transition-all shadow-none hover:shadow-sm border border-transparent hover:border-slate-100",children:a.jsx(Tt,{size:18})}),v.status==="PENDING_APPROVAL"&&a.jsx("button",{onClick:()=>y(v.id),className:"p-2 text-emerald-500 hover:bg-emerald-50 rounded-xl transition-all",title:"Approve Now",children:a.jsx(kr,{size:18})})]})})]},v.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center text-slate-300 font-bold",children:"No records found."})})})]})})}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden animate-in zoom-in-95",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Review Insurance"}),a.jsxs("p",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:[l.tenantName,"  Unit ",l.unit]})]}),a.jsx("button",{onClick:()=>{o(null),j(!1)},className:"p-2 text-slate-400 hover:text-slate-800 rounded-2xl",children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Provider"}),a.jsx("p",{className:"font-bold text-slate-700",children:l.provider})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Policy #"}),a.jsx("p",{className:"font-mono font-bold text-slate-500 text-sm",children:l.policyNumber})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Start Date"}),a.jsx("p",{className:"font-bold text-slate-700",children:l.startDate})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"End Date"}),a.jsx("p",{className:"font-bold text-slate-800",children:l.endDate})]})]}),a.jsxs("a",{href:l.documentUrl?`${B.defaults.baseURL.replace("/api","")}${l.documentUrl}`:"#",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between w-full p-5 rounded-2xl bg-slate-50 border border-slate-100 hover:border-primary-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Ee,{size:20,className:"text-slate-400 group-hover:text-primary-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-600 group-hover:text-primary-700",children:"View Document"})]}),a.jsx(m0,{size:18,className:"text-slate-300 group-hover:text-primary-500"})]}),l.status==="PENDING_APPROVAL"&&!m&&a.jsxs("div",{className:"pt-4 grid grid-cols-2 gap-4",children:[a.jsx(V,{variant:"secondary",className:"h-14",onClick:()=>j(!0),children:"Reject Policy"}),a.jsx(V,{variant:"primary",className:"h-14",onClick:()=>y(l.id),children:"Approve Policy"})]}),m&&a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rejection Reason"}),a.jsx("textarea",{value:p,onChange:v=>x(v.target.value),className:"w-full p-4 rounded-xl border border-slate-200 outline-none focus:border-red-500 min-h-[100px] text-sm font-medium",placeholder:"Explain why the policy was rejected..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(V,{variant:"secondary",onClick:()=>j(!1),children:"Cancel"}),a.jsx(V,{variant:"danger",disabled:!p,onClick:()=>g(l.id),children:"Confirm Reject"})]})]}),l.status==="REJECTED"&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl",children:[a.jsx("p",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest mb-1",children:"Rejection Reason"}),a.jsx("p",{className:"text-sm font-bold text-red-600",children:l.rejectionReason})]})]})]})})]})})},mZ=()=>{const[e,t]=w.useState("All"),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(!0),[c,d]=w.useState([]),[u,f]=w.useState(""),[p,x]=w.useState(null),[m,j]=w.useState("Other"),[h,y]=w.useState(""),[g,b]=w.useState(""),[N,v]=w.useState([]),[S,k]=w.useState({tenants:[],properties:[],units:[],leases:[]}),[C,O]=w.useState(""),[E,M]=w.useState("USER"),$=async()=>{try{o(!0);const P=await B.get("/api/admin/documents");d(P.data)}catch(P){console.error(P)}finally{o(!1)}},I=async P=>{if(window.confirm("Are you sure you want to delete this document? This action cannot be undone."))try{await B.delete(`/api/admin/documents/${P}`),$()}catch{alert("Delete failed")}},D=async()=>{try{const[P,U,G,q]=await Promise.all([B.get("/api/admin/tenants"),B.get("/api/admin/properties"),B.get("/api/admin/units?limit=1000"),B.get("/api/admin/leases")]);k({tenants:P.data,properties:U.data.data||U.data,units:G.data.data||G.data,leases:q.data})}catch(P){console.error(P)}},F=async P=>{if(P.preventDefault(),!p)return alert("Please select a file");try{i(!0);const U=new FormData;U.append("file",p),U.append("type",m),U.append("name",h),U.append("expiryDate",g),U.append("links",JSON.stringify(N.map(G=>({entityType:G.entityType,entityId:G.entityId})))),await B.post("/api/admin/documents/upload",U,{headers:{"Content-Type":"multipart/form-data"}}),alert("Document uploaded successfully"),r(!1),A(),$()}catch(U){console.error(U),alert("Upload failed")}finally{i(!1)}},A=()=>{x(null),j("Other"),y(""),b(""),v([])};w.useEffect(()=>{$(),D()},[]);const L=c.filter(P=>{var q,z,ee,ae;const U=P.name.toLowerCase().includes(u.toLowerCase())||((z=(q=P.user)==null?void 0:q.firstName)==null?void 0:z.toLowerCase().includes(u.toLowerCase()))||((ae=(ee=P.user)==null?void 0:ee.lastName)==null?void 0:ae.toLowerCase().includes(u.toLowerCase())),G=e==="All"||P.type===e;return U&&G}),_=P=>{switch(P){case"Insurance":return a.jsx(Cr,{className:"text-emerald-500",size:20});case"Lease":return a.jsx(Ee,{className:"text-indigo-500",size:20});case"Invoice":return a.jsx(Ee,{className:"text-amber-500",size:20});default:return a.jsx(Ee,{className:"text-slate-400",size:20})}};return a.jsx(Ce,{title:"Document Library",children:a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsx("p",{className:"text-slate-500 font-medium",children:"Access and manage all system-wide documents and tenant uploads."})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(V,{variant:"primary",className:"h-12 px-6 rounded-2xl shadow-lg shadow-indigo-100",onClick:()=>r(!0),children:[a.jsx(jt,{size:20,className:"mr-2"}),"Upload Document"]}),a.jsxs("div",{className:"px-5 py-3 bg-white rounded-2xl border border-slate-100 shadow-sm flex items-center gap-3",children:[a.jsx(Ee,{className:"text-indigo-600",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"Total Files"}),a.jsx("p",{className:"text-lg font-black text-slate-800 leading-none",children:c.length})]})]})]})]}),a.jsxs(xe,{className:"p-6 rounded-[24px] border border-slate-100 shadow-sm flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 relative w-full",children:[a.jsx(Jt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search by filename or tenant...",value:u,onChange:P=>f(P.target.value),className:"w-full pl-12 pr-5 py-3.5 rounded-[18px] border border-slate-200 outline-none focus:border-indigo-500 font-medium text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-inner"})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"flex items-center gap-2 px-4 py-3.5 rounded-[18px] border border-slate-200 bg-white font-bold text-slate-600 text-sm",children:[a.jsx(Ao,{size:16,className:"text-slate-400"}),a.jsxs("select",{value:e,onChange:P=>t(P.target.value),className:"outline-none bg-transparent cursor-pointer",children:[a.jsx("option",{value:"All",children:"All Types"}),a.jsx("option",{value:"Lease",children:"Leases"}),a.jsx("option",{value:"Insurance",children:"Insurance"}),a.jsx("option",{value:"Invoice",children:"Invoices"})]})]}),a.jsx(V,{variant:"secondary",className:"h-14 px-6 rounded-[18px]",onClick:()=>{f(""),t("All")},children:"Reset"})]})]}),a.jsx(xe,{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-slate-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Name"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Linked Entity"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:l?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Vn,{className:"animate-spin text-slate-400",size:24})})})}):L.length>0?L.map(P=>{let U="-";return P.user?U=`Tenant: ${P.user.firstName||""} ${P.user.lastName||""}`.trim():P.property?U=`Building: ${P.property.name}${P.property.civicNumber?` - ${P.property.civicNumber}`:""}`:P.unit?U=`Unit: ${P.unit.name||P.unit.unitNumber||"N/A"}`:P.lease?U=P.lease.tenant?`Lease: ${P.lease.tenant.name||`${P.lease.tenant.firstName} ${P.lease.tenant.lastName}`}`:`Lease #${P.lease.id}`:P.invoice&&(U=`Invoice: ${P.invoice.invoiceNo||P.invoice.id}`),a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center shrink-0",children:_(P.type)}),a.jsx("span",{className:"font-bold text-slate-800",children:P.name})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded-md text-xs font-bold text-slate-600 uppercase tracking-wider",children:P.type})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:U})}),a.jsx("td",{className:"px-6 py-4",children:P.expiryDate?a.jsx("span",{className:"text-sm font-medium text-slate-700",children:new Date(P.expiryDate).toLocaleDateString()}):a.jsx("span",{className:"text-sm text-slate-400",children:"-"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:async()=>{try{const G=localStorage.getItem("accessToken"),q=await fetch(`${B.defaults.baseURL}/api/admin/documents/${P.id}/download?disposition=inline`,{headers:{Authorization:`Bearer ${G}`}});if(!q.ok)throw new Error("Failed to open document");const z=await q.blob(),ee=window.URL.createObjectURL(z);window.open(ee,"_blank")}catch(G){console.error("Failed to open document",G),alert("Failed to open document")}},className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all",title:"Open",children:a.jsx(m0,{size:16})}),a.jsx("button",{onClick:async()=>{try{const G=localStorage.getItem("accessToken"),q=await fetch(`${B.defaults.baseURL}/api/admin/documents/${P.id}/download`,{headers:{Authorization:`Bearer ${G}`}});if(!q.ok)throw new Error("Download failed");const z=await q.blob(),ee=window.URL.createObjectURL(z),ae=document.createElement("a");ae.href=ee,ae.download=P.name,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),window.URL.revokeObjectURL(ee)}catch(G){console.error("Download failed",G),alert("Failed to download file")}},className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 transition-all",title:"Download",children:a.jsx(wn,{size:16})}),a.jsx("button",{onClick:()=>I(P.id),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-all",title:"Delete",children:a.jsx($t,{size:16})})]})})]},P.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-20 text-center",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[24px] flex items-center justify-center mx-auto text-slate-200",children:a.jsx(VA,{size:48})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-slate-400 font-bold text-xl",children:"No documents found matching your filters."}),a.jsx("p",{className:"text-slate-400/60 font-medium",children:"Try resetting filters or searching for something else."})]})]})})})})]})})}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Upload Document"}),a.jsx("p",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:"Add a new file and link it to entities"})]}),a.jsx("button",{onClick:()=>{r(!1),A()},className:"p-2 text-slate-400 hover:text-slate-800 rounded-2xl bg-white shadow-sm border border-slate-100",children:a.jsx(je,{size:20})})]}),a.jsxs("form",{onSubmit:F,className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Document Type"}),a.jsxs("select",{value:m,onChange:P=>j(P.target.value),className:"w-full px-4 py-3 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50",required:!0,children:[a.jsx("option",{value:"Lease",children:"Lease Agreement"}),a.jsx("option",{value:"Insurance",children:"Insurance Policy"}),a.jsx("option",{value:"Invoice",children:"Invoice"}),a.jsx("option",{value:"ID",children:"Identification"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Display Name (Optional)"}),a.jsx("input",{type:"text",placeholder:"Standard naming applied if blank",value:h,onChange:P=>y(P.target.value),className:"w-full px-4 py-3 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Expiry Date (Optional)"}),a.jsx("input",{type:"date",value:g,onChange:P=>b(P.target.value),className:"w-full px-4 py-3 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Select File"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",onChange:P=>x(P.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer z-10",required:!0}),a.jsxs("div",{className:"w-full px-4 py-3 rounded-2xl border border-slate-200 border-dashed bg-slate-50 flex items-center gap-3 text-slate-500 font-bold text-sm",children:[a.jsx(yr,{size:18,className:"text-indigo-500"}),p?p.name:"Choose PDF or Image..."]})]})]})]}),a.jsxs("div",{className:"p-6 bg-indigo-50/50 rounded-[32px] border border-indigo-100/50 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-[11px] font-black text-indigo-500 uppercase tracking-widest",children:"Multi-Entity Linking"}),a.jsxs("span",{className:"text-[10px] bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded-full font-bold",children:[N.length," Linked"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:E,onChange:P=>M(P.target.value),className:"px-3 py-2 rounded-xl bg-white border border-indigo-100 text-xs font-bold outline-none",children:[a.jsx("option",{value:"USER",children:"Tenant"}),a.jsx("option",{value:"PROPERTY",children:"Property"}),a.jsx("option",{value:"UNIT",children:"Unit"}),a.jsx("option",{value:"LEASE",children:"Lease"})]}),a.jsx("div",{className:"flex-1 relative",children:a.jsxs("select",{onChange:P=>{const U=P.target.value;if(!U)return;const G=P.target.options[P.target.selectedIndex].text;N.find(q=>q.entityId===U&&q.entityType===E)||v([...N,{entityType:E,entityId:U,label:G}])},className:"w-full px-3 py-2 rounded-xl bg-white border border-indigo-100 text-xs font-bold outline-none",children:[a.jsx("option",{value:"",children:"Search & Add..."}),E==="USER"&&S.tenants.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),E==="PROPERTY"&&S.properties.map(P=>a.jsxs("option",{value:P.id,children:[P.name," - ",P.civicNumber]},P.id)),E==="UNIT"&&S.units.map(P=>a.jsx("option",{value:P.id,children:P.unitNumber},P.id)),E==="LEASE"&&S.leases.map(P=>a.jsx("option",{value:P.id,children:P.tenant},P.id))]})})]}),N.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:N.map((P,U)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white rounded-full border border-indigo-100 text-[10px] font-bold text-slate-600 shadow-sm animate-in zoom-in-90",children:[a.jsx("span",{className:"text-[8px] bg-indigo-50 text-indigo-500 px-1.5 py-0.5 rounded-md uppercase",children:P.entityType}),P.label,a.jsx("button",{type:"button",onClick:()=>v(N.filter((G,q)=>q!==U)),className:"text-slate-300 hover:text-red-500",children:a.jsx(je,{size:14})})]},U))})]}),a.jsxs("div",{className:"pt-4 flex gap-4",children:[a.jsx(V,{variant:"secondary",className:"flex-1 h-14 rounded-2xl",type:"button",onClick:()=>{r(!1),A()},children:"Cancel"}),a.jsx(V,{variant:"primary",className:"flex-1 h-14 rounded-2xl shadow-xl shadow-indigo-100",type:"submit",disabled:s,children:s?"Uploading...":"Finish Upload"})]})]})]})})]})})},hZ=()=>{var g,b;const e=un(),[t,n]=w.useState([]),[r,s]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState(""),[d,u]=w.useState(null),[f,p]=w.useState({unitId:"",tenantId:"",coTenantIds:[],startDate:"",endDate:"",monthlyRent:"",securityDeposit:""});w.useEffect(()=>{x(),m()},[]);const x=async()=>{try{const N=await B.get("/api/admin/properties");n(N.data)}catch(N){console.error("Failed to fetch buildings",N)}},m=async()=>{try{const v=(await B.get("/api/admin/tenants")).data.filter(S=>S.leaseStatus!=="Active");l(v)}catch(N){console.error("Failed to fetch tenants",N)}},j=async N=>{const v=N.target.value;if(c(v),s([]),p({...f,unitId:"",tenantId:""}),v)try{const S=await B.get(`/api/admin/units?propertyId=${v}&limit=1000`),C=(Array.isArray(S.data.data)?S.data.data:Array.isArray(S.data)?S.data:[]).filter(O=>!(O.status==="Occupied"||O.status==="Fully Booked"));s(C)}catch(S){console.error("Failed to fetch units",S)}},h=async N=>{const v=N.target.value;if(p({...f,unitId:v,tenantId:""}),u(null),v){const S=r.find(k=>k.id===parseInt(v));u(S);try{const k=await B.get(`/api/admin/leases/active/${v}`);k.data&&k.data.tenantId&&p(C=>({...C,tenantId:k.data.tenantId.toString()}))}catch(k){console.error("Failed to fetch draft lease",k)}}},y=async()=>{var N,v;if(!f.unitId||!f.tenantId||!f.startDate||!f.endDate){alert("Please fill all required fields (Unit, Tenant, Start Date, End Date)");return}try{const S={unitId:parseInt(f.unitId),tenantId:parseInt(f.tenantId),coTenantIds:f.coTenantIds.map(O=>parseInt(O)),startDate:f.startDate,endDate:f.endDate,monthlyRent:parseFloat(f.monthlyRent)||0,securityDeposit:parseFloat(f.securityDeposit)||0},k=await B.post("/api/admin/leases",S);let C="Lease created successfully.";if(k.data.notifications){const{status:O,sms:E,email:M,message:$}=k.data.notifications;O==="Sent"?C+=`

Credentials sent via: ${E?"SMS ":""}${M?"Email":""}`:O==="Skipped"?C+=`

Onboarding: ${$}`:O==="Failed"&&(C+=`

Failed to send credentials (check SMS/Email settings)`)}alert(C),e("/leases")}catch(S){console.error("Failed to create lease",S),alert(((v=(N=S.response)==null?void 0:N.data)==null?void 0:v.message)||"Error creating lease")}};return a.jsx(Ce,{title:"Create New Lease",children:a.jsxs("div",{className:"max-w-[760px] mx-auto bg-white p-8 rounded-2xl shadow-lg border border-slate-100 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600",children:a.jsx(ea,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 m-0",children:"New Lease"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Create a full unit lease"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"BUILDING NAME"}),a.jsxs("div",{className:"relative",children:[a.jsx(ea,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{value:o,onChange:j,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none",children:[a.jsx("option",{value:"",children:"Choose a Building"}),t.map(N=>a.jsxs("option",{value:N.id,children:[N.name," - ",N.civicNumber]},N.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(mt,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Unit"}),a.jsxs("div",{className:"relative",children:[a.jsx(ea,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"unitId",value:f.unitId,onChange:h,disabled:!o,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Unit"}),r.map(N=>a.jsx("option",{value:N.id,children:N.unitIdentifier||N.unit_identifier||N.unitNumber||N.name},N.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(mt,{size:18})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Select Primary Tenant"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"tenantId",value:f.tenantId,onChange:N=>p({...f,tenantId:N.target.value}),disabled:!f.unitId,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Primary Tenant"}),i.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(mt,{size:18})})]}),f.tenantId&&((g=i.find(N=>N.id.toString()===f.tenantId.toString()))==null?void 0:g.type)==="RESIDENT"&&a.jsxs("p",{className:"text-xs font-semibold text-amber-600 mt-2 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100 flex items-center gap-2 w-fit",children:[a.jsx(Cr,{size:14}),"Resident of: ",((b=i.find(N=>N.id.toString()===f.tenantId.toString()))==null?void 0:b.parentName)||"Unknown Parent"]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Co-Applicants / Occupants (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-1 min-h-[30px]",children:f.coTenantIds.map(N=>{const v=i.find(S=>S.id.toString()===N.toString());return v?a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-indigo-50 border border-indigo-100 rounded-lg text-sm font-medium text-indigo-700",children:[v.name," ",v.type==="RESIDENT"&&v.parentName?`(Res. of ${v.parentName})`:"",a.jsx("button",{type:"button",onClick:()=>p(S=>({...S,coTenantIds:S.coTenantIds.filter(k=>k!==N)})),className:"hover:text-indigo-900",children:""})]},N):null})}),a.jsx(zt,{size:18,className:"absolute left-4 top-[50%] -translate-y-1/2 text-slate-400 mt-2"}),a.jsxs("select",{value:"",onChange:N=>{const v=N.target.value;v&&!f.coTenantIds.includes(v)&&p(S=>({...S,coTenantIds:[...S.coTenantIds,v]}))},disabled:!f.unitId||!f.tenantId,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Add Co-Tenant..."}),i.filter(N=>N.id.toString()!==f.tenantId&&!f.coTenantIds.includes(N.id.toString())).map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]}),a.jsx("div",{className:"absolute right-4 top-[50%] -translate-y-1/2 pointer-events-none text-slate-400 mt-2",children:a.jsx(mt,{size:18})})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select additional tenants for this lease."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",value:f.startDate,onChange:N=>p({...f,startDate:N.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",value:f.endDate,onChange:N=>p({...f,endDate:N.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Monthly Rent ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Uu,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{placeholder:"0.00",type:"number",value:f.monthlyRent,onChange:N=>p({...f,monthlyRent:N.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Security Deposit ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{placeholder:"0.00",type:"number",value:f.securityDeposit,onChange:N=>p({...f,securityDeposit:N.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-10 pt-6 border-t border-slate-100",children:[a.jsx(V,{variant:"secondary",onClick:()=>e("/leases"),children:"Cancel"}),a.jsx(V,{variant:"primary",onClick:y,className:"min-w-[140px] shadow-lg shadow-indigo-200",children:"Save Lease"})]})]})})},xZ=()=>{var b,N;const e=un(),[t,n]=w.useState([]),[r,s]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState(""),[f,p]=w.useState({unitId:"",bedroomId:"",tenantId:"",startDate:"",endDate:"",monthlyRent:"",securityDeposit:""});w.useEffect(()=>{x(),m()},[]);const x=async()=>{try{const v=await B.get("/api/admin/properties");n(v.data)}catch(v){console.error("Failed to fetch buildings",v)}},m=async()=>{try{const S=(await B.get("/api/admin/tenants")).data.filter(k=>k.leaseStatus!=="Active");c(S)}catch(v){console.error("Failed to fetch tenants",v)}},j=async v=>{const S=v.target.value;if(u(S),s([]),l([]),p({...f,unitId:"",bedroomId:"",tenantId:""}),S)try{const k=await B.get(`/api/admin/units?propertyId=${S}&limit=1000`),O=(Array.isArray(k.data.data)?k.data.data:Array.isArray(k.data)?k.data:[]).filter(E=>!(E.status==="Fully Booked"||(E.rentalMode==="FULL_UNIT"||!E.rentalMode)&&E.status==="Occupied"));s(O)}catch(k){console.error("Failed to fetch units",k)}},h=async v=>{const S=v.target.value;if(p({...f,unitId:S,bedroomId:"",tenantId:""}),l([]),S)try{const k=await B.get(`/api/admin/units/bedrooms/vacant?unitId=${S}`);l(k.data)}catch(k){console.error("Failed to fetch bedrooms",k)}},y=async()=>{var v,S;if(!f.unitId||!f.bedroomId||!f.tenantId||!f.startDate||!f.endDate){alert("Please fill all required fields (Unit, Bedroom, Tenant, Dates)");return}try{const k={...f,unitId:parseInt(f.unitId),bedroomId:parseInt(f.bedroomId),tenantId:parseInt(f.tenantId),monthlyRent:parseFloat(f.monthlyRent)||0,securityDeposit:parseFloat(f.securityDeposit)||0},C=await B.post("/api/admin/leases",k);let O="Bedroom Lease created successfully.";if(C.data.notifications){const{status:E,sms:M,email:$,message:I}=C.data.notifications;E==="Sent"?O+=`

Credentials sent via: ${M?"SMS ":""}${$?"Email":""}`:E==="Skipped"?O+=`

Onboarding: ${I}`:E==="Failed"&&(O+=`

Failed to send credentials (check SMS/Email settings)`)}alert(O),e("/leases")}catch(k){console.error("Failed to create lease",k),alert(((S=(v=k.response)==null?void 0:v.data)==null?void 0:S.message)||"Error creating lease")}},g=v=>{p({...f,[v.target.name]:v.target.value})};return a.jsx(Ce,{title:"Bedroom Lease",children:a.jsx("div",{className:"max-w-3xl mx-auto py-6",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl animate-in slide-in-from-bottom-4 duration-500 fade-in border border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600",children:a.jsx(zA,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 m-0",children:"New Bedroom Lease"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Create a lease for an individual bedroom"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"BUILDING NAME"}),a.jsxs("div",{className:"relative",children:[a.jsx(ea,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{value:d,onChange:j,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none",children:[a.jsx("option",{value:"",children:"Choose a Building"}),t.map(v=>a.jsxs("option",{value:v.id,children:[v.name," - ",v.civicNumber]},v.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(mt,{size:18})})]})]}),a.jsxs("div",{className:"md:col-span-1",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Unit"}),a.jsxs("div",{className:"relative",children:[a.jsx(ea,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"unitId",value:f.unitId,onChange:h,disabled:!d,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Unit"}),r.map(v=>a.jsxs("option",{value:v.id,children:[v.unitNumber||v.unit_identifier||v.name," (",v.status,")"]},v.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(mt,{size:18})})]})]}),a.jsxs("div",{className:"md:col-span-1",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Bedroom"}),a.jsxs("div",{className:"relative",children:[a.jsx(z2,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"bedroomId",value:f.bedroomId,onChange:g,disabled:!f.unitId,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Bedroom"}),i.map(v=>a.jsx("option",{value:v.id,children:v.bedroomNumber},v.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(mt,{size:18})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Select Tenant"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"tenantId",value:f.tenantId,onChange:g,disabled:!f.bedroomId,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Tenant"}),o.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(mt,{size:18})})]}),f.tenantId&&((b=o.find(v=>v.id.toString()===f.tenantId.toString()))==null?void 0:b.type)==="RESIDENT"&&a.jsxs("p",{className:"text-xs font-semibold text-amber-600 mt-2 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100 flex items-center gap-2 w-fit",children:[a.jsx(Cr,{size:14}),"Resident of: ",((N=o.find(v=>v.id.toString()===f.tenantId.toString()))==null?void 0:N.parentName)||"Unknown Parent"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Monthly Rent ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Uu,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"monthlyRent",placeholder:"0.00",type:"number",value:f.monthlyRent,onChange:g,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Security Deposit ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"securityDeposit",placeholder:"0.00",type:"number",value:f.securityDeposit,onChange:g,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",name:"startDate",value:f.startDate,onChange:g,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 placeholder-slate-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",name:"endDate",value:f.endDate,onChange:g,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 placeholder-slate-400"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-slate-100",children:[a.jsx(V,{variant:"secondary",onClick:()=>e("/leases"),children:"Cancel"}),a.jsxs(V,{variant:"primary",onClick:y,className:"min-w-[140px] shadow-lg shadow-indigo-200",children:[a.jsx(yn,{size:18}),"Save Lease"]})]})]})})})},gZ=()=>{const e=un(),[t,n]=w.useState([]),[r,s]=w.useState(null),[i,l]=w.useState(null);w.useEffect(()=>{(async()=>{try{const u=await B.get("/api/admin/leases");n(u.data)}catch(u){console.error("Failed to fetch leases",u)}})()},[]);const o=async d=>{if(window.confirm("Delete this lease?"))try{await B.delete(`/api/admin/leases/${d}`);const u=t.filter(f=>f.id!==d);n(u)}catch{alert("Failed to delete lease")}},c=async d=>{d.preventDefault();try{const u={monthlyRent:i.monthlyRent,startDate:i.startDate,endDate:i.endDate,firstName:i.tenantFirstName,lastName:i.tenantLastName};await B.put(`/api/admin/leases/${i.id}`,u);const f=await B.get("/api/admin/leases");n(f.data),l(null)}catch(u){console.error(u),alert("Failed to update lease")}};return a.jsx(Ce,{title:"Lease History",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-end gap-3 actions-bar",children:[a.jsxs(V,{variant:"secondary",onClick:()=>e("/leases/new-bedroom"),children:[a.jsx(z2,{size:18}),"Bedroom Lease"]}),a.jsxs(V,{variant:"primary",onClick:()=>e("/leases/new"),children:[a.jsx(Ee,{size:18}),"Full Unit Lease"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-slate-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Lease Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Building"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Bedroom"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tenant"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Term"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Monthly Rent"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((d,u)=>a.jsxs("tr",{className:"hover:bg-slate-50/80 transition-all duration-200 animate-in slide-in-from-left-2 fade-in fill-mode-forwards",style:{animationDelay:`${u*.05}s`},children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${d.leaseType==="Bedroom Lease"?"bg-amber-50 text-amber-700 border border-amber-100":"bg-blue-50 text-blue-700 border border-blue-100"}`,children:d.leaseType})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 font-medium",children:d.buildingName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"font-semibold text-slate-800",children:d.unit})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:d.bedroom}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-700",children:d.tenant}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 font-mono text-[13px]",children:d.term}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-700",children:["$",(d.monthlyRent||0).toLocaleString("en-CA")]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold border ${d.status.toLowerCase()==="active"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-slate-100 text-slate-600 border-slate-200"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${d.status.toLowerCase()==="active"?"bg-emerald-500":"bg-slate-400"}`}),d.status.charAt(0).toUpperCase()+d.status.slice(1).toLowerCase()]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-200",onClick:()=>s(d),title:"View Details",children:a.jsx(Tt,{size:16})}),a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 transition-all duration-200",onClick:()=>l({...d}),title:"Edit Lease",children:a.jsx(Eo,{size:16})}),a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-all duration-200",onClick:()=>o(d.id),title:"Delete Lease",children:a.jsx($t,{size:16})})]})})]},d.id))})]})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Lease Details"}),a.jsx("button",{onClick:()=>s(null),className:"w-8 h-8 rounded-full flex items-center justify-center text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors",children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Lease Type"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.leaseType})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Building"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.buildingName})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Unit"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.unit})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Bedroom"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.bedroom})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Tenant"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.tenant})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Term"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.term})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Monthly Rent"}),a.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["$",(r.monthlyRent||0).toLocaleString("en-CA")]})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold ${r.status.toLowerCase()==="active"?"bg-emerald-100 text-emerald-800":"bg-slate-100 text-slate-600"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1).toLowerCase()})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(V,{variant:"secondary",onClick:()=>s(null),children:"Close"})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:c,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Edit Lease"}),a.jsx("button",{type:"button",onClick:()=>l(null),className:"w-8 h-8 rounded-full flex items-center justify-center text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors",children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm",value:i.tenantFirstName||"",onChange:d=>l({...i,tenantFirstName:d.target.value}),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Last Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm",value:i.tenantLastName||"",onChange:d=>l({...i,tenantLastName:d.target.value}),required:!0})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm",value:i.startDate,onChange:d=>l({...i,startDate:d.target.value}),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm",value:i.endDate,onChange:d=>l({...i,endDate:d.target.value}),required:!0})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Monthly Rent"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm font-semibold",value:i.monthlyRent,onChange:d=>l({...i,monthlyRent:d.target.value}),required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>l(null),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",children:"Save Changes"})]})]})})]})})},yZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState(null),[l,o]=w.useState("idle"),[c,d]=w.useState(null),[u,f]=w.useState(!1),[p,x]=w.useState(!1),[m,j]=w.useState({}),[h,y]=w.useState([]),[g,b]=w.useState(""),[N,v]=w.useState([]),[S,k]=w.useState([]),[C,O]=w.useState({tenantId:"",unitId:"",tenant:"",unit:"",unitName:"",month:"",rent:"",serviceFees:"",category:"RENT",description:""});w.useEffect(()=>{M(),$(),E()},[]);const E=async()=>{try{const z=await B.get("/api/admin/settings");j(z.data.settings||{})}catch(z){console.error("Failed to fetch settings",z)}},M=async()=>{try{const z=await B.get("/api/admin/invoices");t(z.data)}catch(z){console.error(z)}},$=async()=>{try{const z=await B.get("/api/admin/properties");y(z.data)}catch(z){console.error("Failed to fetch buildings",z)}},I=async z=>{try{const ee=await B.get(`/api/admin/tenants?propertyId=${z}`);v(ee.data)}catch(ee){console.error("Failed to fetch tenants",ee)}},D=z=>{const ee=z.target.value;b(ee),v([]),k([]),O(ae=>({...ae,tenantId:"",tenant:"",unitId:"",unitName:"",month:""})),ee&&I(ee)},F=(z,ee)=>{if(!z||!ee)return[];const ae=new Date(z),ge=new Date(ee),Q=[];let se=new Date(ae.getFullYear(),ae.getMonth(),1);const Y=new Date(ge.getFullYear(),ge.getMonth(),1);for(;se<=Y;)Q.push(se.toLocaleString("default",{month:"long",year:"numeric"})),se.setMonth(se.getMonth()+1);return Q},A=z=>{const ee=z.target.value;if(!ee){k([]),O(ge=>({...ge,tenantId:"",tenant:"",unit:"",unitId:"",unitName:"",month:""}));return}const ae=N.find(ge=>ge.id===parseInt(ee));if(ae){const ge=F(ae.leaseStartDate,ae.leaseEndDate);k(ge);const Q=new Date().toLocaleString("default",{month:"long",year:"numeric"}),se=ge.includes(Q)?Q:ge[0]||"";O(Y=>({...Y,tenantId:ae.id,tenant:ae.name,unitId:ae.unitId,unit:ae.unit,unitName:ae.unit,month:se,rent:(ae.rentAmount||0).toString()}))}},L=async()=>{if(window.confirm("Run batch invoicing for all active leases for the current month?")){f(!0);try{const z=await B.post("/api/admin/invoices/batch");alert(`Batch complete! Created: ${z.data.createdCount}, Skipped: ${z.data.skippedCount}`),M()}catch(z){console.error(z),alert("Batch run failed")}finally{f(!1)}}},_=async z=>{try{await B.put(`/api/admin/invoices/${z}`,{status:"paid"}),M()}catch{alert("Error updating status")}},P=async z=>{try{await B.put(`/api/admin/invoices/${z}`,{status:"sent"}),M(),n&&n.id===z&&r({...n,status:"sent"})}catch{alert("Error updating status")}},U=async z=>{if(window.confirm("Delete this invoice?"))try{await B.delete(`/api/admin/invoices/${z}`),M()}catch{alert("Error deleting invoice")}},G=async z=>{z.preventDefault();try{c?await B.put(`/api/admin/invoices/${c.id}`,{month:C.month,rent:C.category==="RENT"?C.rent:0,serviceFees:C.category==="SERVICE"?C.serviceFees:0,category:C.category,description:C.description}):await B.post("/api/admin/invoices",{tenantId:C.tenantId,unitId:C.unitId,month:C.month,rent:C.category==="RENT"?C.rent:0,serviceFees:C.category==="SERVICE"?C.serviceFees:0,category:C.category,description:C.description}),M(),x(!1),d(null),O({tenantId:"",unitId:"",tenant:"",unit:"",unitName:"",month:"",rent:"",serviceFees:"",category:"RENT",description:""}),b(""),k([])}catch{alert("Failed to save invoice")}},q=z=>{d(z);const ee=F(z.leaseStartDate,z.leaseEndDate);k(ee),O({tenantId:z.tenantId||"",unitId:z.unitId||"",tenant:z.tenant,unit:z.unit,month:z.month,rent:(z.rent||0).toString(),serviceFees:(z.serviceFees||0).toString(),category:z.category||"RENT",description:z.description||""}),x(!0)};return a.jsx(Ce,{title:"Rent Invoices",children:a.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsxs(V,{variant:"secondary",onClick:L,disabled:u,className:"bg-white border-slate-200 text-slate-700 hover:bg-slate-50",children:[u?a.jsx(Ia,{size:18,className:"mr-1 animate-spin"}):a.jsx(jn,{size:18,className:"mr-1"}),"Run Batch Rent Invoicing"]}),a.jsxs(V,{variant:"secondary",onClick:()=>{d(null),O({tenant:"",unit:"",month:"",rent:"0",serviceFees:"",category:"SERVICE",description:""}),x(!0)},children:[a.jsx(jt,{size:18,className:"mr-1"}),"Create Service Fee Invoice"]}),a.jsxs(V,{variant:"primary",onClick:()=>{d(null),O({tenant:"",unit:"",month:"",rent:"",serviceFees:"0",category:"RENT",description:""}),x(!0)},children:[a.jsx(jt,{size:18,className:"mr-1"}),"Create Rent Invoice"]})]}),a.jsx("div",{className:"w-full bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-slate-100",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-gray-100",children:[a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Invoice No"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Tenant"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Unit"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Type"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Month"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Amount"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Status"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Action"})]})}),a.jsx("tbody",{children:e.map(z=>a.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors border-b border-gray-50 last:border-0",children:[a.jsx("td",{className:"p-4 text-sm text-slate-700 font-medium",children:z.invoiceNo}),a.jsx("td",{className:"p-4 text-sm text-slate-600",children:z.tenant}),a.jsx("td",{className:"p-4 text-sm text-slate-600",children:z.unit}),a.jsx("td",{className:"p-4 text-sm",children:a.jsx("span",{className:ue("px-2 py-0.5 rounded text-[10px] font-bold uppercase",z.category==="SERVICE"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"),children:z.category||"RENT"})}),a.jsx("td",{className:"p-4 text-sm text-slate-600",children:z.month}),a.jsxs("td",{className:"p-4 text-sm text-slate-900 font-bold font-mono",children:["$ ",z.amount.toLocaleString("en-CA")]}),a.jsx("td",{className:"p-4 text-sm",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] font-bold uppercase tracking-wider ${z.status==="paid"?"bg-emerald-100 text-emerald-700":z.status==="sent"?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-700"}`,children:z.status})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2 text-slate-400",children:[a.jsx("button",{onClick:()=>r(z),className:"hover:text-indigo-600 transition-colors bg-white border border-slate-200 p-1.5 rounded-lg shadow-sm",title:"View",children:a.jsx(Tt,{size:16})}),a.jsx("button",{onClick:()=>q(z),className:"hover:text-amber-600 transition-colors bg-white border border-slate-200 p-1.5 rounded-lg shadow-sm",title:"Edit",children:a.jsx(ta,{size:16})}),z.status==="sent"&&a.jsxs("button",{onClick:()=>{i(z),o("idle")},className:"hover:text-emerald-600 transition-colors bg-white border border-slate-200 px-2.5 py-1 rounded-lg shadow-sm flex items-center gap-1.5 text-[11px] font-bold text-emerald-600 uppercase",children:[a.jsx(jn,{size:14}),"Pay"]}),a.jsx("button",{onClick:()=>U(z.id),className:"hover:text-rose-600 transition-colors bg-white border border-slate-200 p-1.5 rounded-lg shadow-sm",title:"Delete",children:a.jsx($t,{size:16})})]})})]},z.id))})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 flex items-center justify-center z-[100] backdrop-blur-md animate-in fade-in duration-300 px-4",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl shadow-[0_20px_50px_rgba(0,0,0,0.2)] animate-in zoom-in-95 duration-300 flex flex-col max-h-[90vh] overflow-hidden border border-slate-200",children:[a.jsxs("div",{className:"px-8 py-4 bg-slate-50 border-b border-slate-100 flex items-center justify-between shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:ue("w-2 h-2 rounded-full",n.status==="paid"?"bg-emerald-500":n.status==="sent"?"bg-indigo-500":"bg-slate-400")}),a.jsxs("span",{className:"text-[11px] font-black uppercase text-slate-500 tracking-widest",children:["Invoice Status: ",n.status]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:async()=>{try{const z=await B.get(`/api/admin/invoices/${n.id}/download`,{responseType:"blob"}),ee=window.URL.createObjectURL(new Blob([z.data])),ae=document.createElement("a");ae.href=ee,ae.setAttribute("download",`invoice-${n.invoiceNo}.pdf`),document.body.appendChild(ae),ae.click(),ae.remove()}catch{alert("Download failed")}},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-200 transition-colors border border-slate-200 bg-white",children:[a.jsx(wn,{size:14}),"Download PDF"]}),a.jsx("button",{onClick:()=>r(null),className:"p-1.5 rounded-lg hover:bg-slate-200 transition-colors text-slate-400 border border-transparent",children:a.jsx(je,{size:20})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-12 bg-white",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-12",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-indigo-600",children:[m.company_logo?a.jsx("img",{src:m.company_logo,alt:"Logo",className:"w-10 h-10 object-contain"}):a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center font-black text-xl italic",children:"P"}),a.jsx("h2",{className:"text-xl font-black tracking-tighter text-slate-900 uppercase italic",children:m.company_name||"PropManage SaaS"})]}),a.jsx("div",{className:"text-[11px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed whitespace-pre-line",children:m.company_address||`123 Business Avenue, Suite 500
Toronto, ON M5V 2N8
+1 416-555-0123`})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic opacity-10",children:"INVOICE"}),a.jsxs("div",{className:"mt-4 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Invoice Number"}),a.jsx("p",{className:"font-mono text-lg font-bold text-slate-800",children:n.invoiceNo})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-12 pt-8 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Billed To"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-slate-800 italic",children:n.tenant||"Tenant"}),a.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Unit ",n.unit||"N/A"]}),a.jsx("p",{className:"text-sm text-slate-400",children:"Primary Resident"})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Date Issued"}),a.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[(n.month||"Jan 2026").split(" ")[0]," 01, ",(n.month||"Jan 2026").split(" ")[1]||""]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Due Date"}),a.jsxs("p",{className:"text-sm font-bold text-rose-600 underline underline-offset-4 decoration-2",children:[(n.month||"Jan 2026").split(" ")[0]," 10, ",(n.month||"Jan 2026").split(" ")[1]||""]})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-900 rounded-xl px-6 py-3 flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest",children:"Description"}),a.jsx("span",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest",children:"Amount"})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-slate-50 hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:"Monthly Rent Payment"}),a.jsxs("p",{className:"text-[11px] text-slate-400 font-medium uppercase tracking-widest mt-0.5",children:["Period: ",n.month]})]}),a.jsxs("span",{className:"font-bold text-slate-700 font-mono italic",children:["$ ",(n.rent||0).toLocaleString("en-CA")]})]}),(n.serviceFees||0)>0&&a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-slate-50 hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:"Common Area Service Fees"}),a.jsx("p",{className:"text-[11px] text-slate-400 font-medium uppercase tracking-widest mt-0.5",children:"Maintenance & Amenities"})]}),a.jsxs("span",{className:"font-bold text-slate-700 font-mono italic",children:["$ ",(n.serviceFees||0).toLocaleString("en-CA")]})]})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("div",{className:"w-64 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm px-2",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Subtotal"}),a.jsxs("span",{className:"font-bold text-slate-600 font-mono italic",children:["$ ",(n.amount||0).toLocaleString("en-CA")]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm px-2",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Taxes (0%)"}),a.jsx("span",{className:"font-bold text-slate-600 font-mono italic",children:"$ 0"})]}),a.jsxs("div",{className:"bg-indigo-600 rounded-2xl p-6 shadow-xl shadow-indigo-100 flex justify-between items-center text-white mt-4 relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:"Total Due"}),a.jsxs("p",{className:"text-2xl font-black tracking-tight mt-1 italic",children:["$ ",(n.amount||0).toLocaleString("en-CA")]})]}),a.jsx("div",{className:"absolute right-[-10%] top-[-20%] w-24 h-24 bg-white/5 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"})]})]})}),a.jsx("div",{className:"pt-12 text-center border-t border-slate-50",children:a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed italic",children:"Thank you for being a valued tenant. Please ensure payments are made before the due date to avoid late fees. Contact support@propmanagesaas.com for any billing inquiries."})})]})}),a.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 shrink-0",children:n.status==="draft"?a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(V,{onClick:()=>{const z=n;r(null),q(z)},variant:"secondary",className:"flex-1 rounded-2xl py-4 h-auto font-black shadow-none border-2 border-slate-200 hover:bg-white flex items-center justify-center gap-2 group",children:[a.jsx(ta,{size:18,className:"group-hover:rotate-12 transition-transform"}),"Edit Draft"]}),a.jsxs(V,{onClick:()=>P(n.id),className:"flex-[2] rounded-2xl py-4 h-auto font-black shadow-xl shadow-indigo-100 flex items-center justify-center gap-3 group relative overflow-hidden",children:[a.jsx("span",{className:"relative z-10",children:"Send to Tenant"}),a.jsx(To,{size:18,className:"relative z-10 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-violet-600 group-hover:scale-105 transition-transform duration-500"})]})]}):a.jsx(V,{onClick:()=>r(null),className:"w-full rounded-2xl py-4 h-auto font-black shadow-lg shadow-slate-100 bg-slate-900 hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:"Return to Invoices"})})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-[110] backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center border border-indigo-100",children:c?a.jsx(ta,{size:20}):a.jsx(jt,{size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:c?"Update Invoice":"Create New Invoice"}),a.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Fill in the details below"})]})]}),a.jsx("button",{onClick:()=>x(!1),className:"p-2 rounded-lg hover:bg-slate-200 transition-colors text-slate-400",children:a.jsx(je,{size:20})})]}),a.jsxs("form",{onSubmit:G,className:"p-6 space-y-5 overflow-y-auto flex-1 custom-scrollbar",children:[!c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Select Building"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:g,onChange:D,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-800 appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Choose Building"}),h.map(z=>a.jsxs("option",{value:z.id,children:[z.name,z.civicNumber?` - ${z.civicNumber}`:""]},z.id))]}),a.jsx(mt,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Tenant"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:C.tenantId||"",onChange:A,disabled:!g,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-800 appearance-none bg-white disabled:bg-slate-50 disabled:text-slate-400",children:[a.jsx("option",{value:"",children:"Select Tenant"}),N.filter(z=>z.type!=="RESIDENT"&&z.type!=="Resident").map(z=>a.jsx("option",{value:z.id,children:z.name},z.id))]}),a.jsx(mt,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Unit"}),a.jsx("input",{placeholder:"Unit",value:C.unitName||"",readOnly:!0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm bg-slate-50 font-medium text-slate-600 focus:outline-none"})]})]})]}),c&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Tenant Name"}),a.jsx("input",{value:C.tenant,readOnly:!0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm bg-slate-50 text-slate-600"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Unit Number"}),a.jsx("input",{value:C.unit,readOnly:!0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm bg-slate-50 text-slate-600"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Billing Month"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:C.month,onChange:z=>O({...C,month:z.target.value}),required:!0,disabled:S.length===0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-800 appearance-none bg-white disabled:bg-slate-50 disabled:text-slate-400",children:[a.jsx("option",{value:"",children:"Select Month"}),S.map(z=>a.jsx("option",{value:z,children:z},z))]}),a.jsx(mt,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Invoice Type"}),a.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-xl",children:[a.jsx("button",{type:"button",onClick:()=>O({...C,category:"RENT",serviceFees:"0",description:""}),className:ue("flex-1 py-2 text-xs font-bold rounded-lg transition-all",C.category==="RENT"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Rent Payment"}),a.jsx("button",{type:"button",onClick:()=>O({...C,category:"SERVICE",rent:"0"}),className:ue("flex-1 py-2 text-xs font-bold rounded-lg transition-all",C.category==="SERVICE"?"bg-white text-amber-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Service Fee"})]})]}),C.category==="SERVICE"&&a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Service Description"}),a.jsx("textarea",{placeholder:"e.g. Parking fee, Utility charges, Maintenance...",value:C.description,onChange:z=>O({...C,description:z.target.value}),required:C.category==="SERVICE",className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-800 bg-white min-h-[80px]"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-slate-50",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center px-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Base Rent ($)"}),parseFloat(C.serviceFees)>0&&a.jsx("span",{className:"text-[9px] text-amber-600 font-bold uppercase",children:"Disabled"})]}),a.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:C.rent,onChange:z=>{const ee=z.target.value;(ee===""||/^\d*\.?\d*$/.test(ee))&&O({...C,rent:ee,serviceFees:"0",category:"RENT"})},required:parseFloat(C.serviceFees)===0,disabled:parseFloat(C.serviceFees)>0,readOnly:!!C.tenantId&&!c,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-900 font-mono disabled:bg-slate-50 disabled:text-slate-400 read-only:bg-slate-50 read-only:text-indigo-600"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center px-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Service Fees ($)"}),parseFloat(C.rent)>0&&a.jsx("span",{className:"text-[9px] text-amber-600 font-bold uppercase",children:"Disabled"})]}),a.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:C.serviceFees,onChange:z=>{const ee=z.target.value;(ee===""||/^\d*\.?\d*$/.test(ee))&&O({...C,serviceFees:ee,rent:"0",category:"SERVICE"})},required:parseFloat(C.rent)===0,disabled:parseFloat(C.rent)>0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-900 font-mono disabled:bg-slate-50 disabled:text-slate-400"})]})]}),a.jsxs("div",{className:"bg-indigo-600 rounded-2xl p-5 text-white shadow-xl shadow-indigo-100 flex justify-between items-center",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.15em] opacity-80",children:"Total Calculation"}),a.jsx("p",{className:"text-xs font-semibold opacity-60",children:"Rent + Service Fees"})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-2xl font-black tracking-tighter",children:["$ ",((parseFloat(C.rent)||0)+(parseFloat(C.serviceFees)||0)).toLocaleString("en-CA")]})})]}),a.jsxs("div",{className:"flex gap-3 pt-2 pb-2",children:[a.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 py-3.5 rounded-xl border-none cursor-pointer bg-slate-100 text-slate-600 hover:bg-slate-200 font-bold text-sm transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 py-3.5 rounded-xl border-none cursor-pointer bg-indigo-600 text-white hover:bg-indigo-700 font-bold text-sm shadow-lg shadow-indigo-100 transition-all active:scale-95",children:c?"Update & Save":"Save as Draft"})]})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 flex items-center justify-center z-[120] backdrop-blur-md animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95",children:[l==="idle"&&a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Complete Payment"}),a.jsx("button",{onClick:()=>i(null),className:"p-2 rounded-xl hover:bg-slate-100 text-slate-400",children:a.jsx(je,{size:24})})]}),a.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 mb-8 text-white shadow-xl shadow-slate-200/50",children:[a.jsxs("div",{className:"flex justify-between items-end mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Due Amount"}),a.jsxs("p",{className:"text-3xl font-black tracking-tighter",children:["$ ",s.amount.toLocaleString("en-CA")]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.1em] text-slate-400 mb-1",children:"Invoice"}),a.jsx("p",{className:"font-bold text-xs",children:s.invoiceNo})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-800 flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500",children:s.month}),a.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest bg-slate-800 px-2.5 py-1 rounded-full",children:"Secure SSL"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 px-1",children:"Payment Method"}),a.jsxs("button",{onClick:()=>{o("processing"),setTimeout(()=>{o("success"),_(s.id)},2e3)},className:"w-full flex items-center gap-4 p-4 rounded-2xl border border-slate-100 hover:border-indigo-500 hover:bg-indigo-50/50 transition-all group active:scale-[0.98]",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center border border-indigo-100 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:a.jsx(jn,{size:24})}),a.jsxs("div",{className:"text-left flex-1",children:[a.jsx("p",{className:"font-bold text-slate-800 group-hover:text-indigo-900",children:"Card Payment"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Instant Verification"})]})]}),a.jsxs("button",{onClick:()=>{o("processing"),setTimeout(()=>{o("success"),_(s.id)},2e3)},className:"w-full flex items-center gap-4 p-4 rounded-2xl border border-slate-100 hover:border-emerald-500 hover:bg-emerald-50/50 transition-all group active:scale-[0.98]",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center border border-emerald-100 group-hover:bg-emerald-600 group-hover:text-white transition-all",children:a.jsx(G2,{size:24})}),a.jsxs("div",{className:"text-left flex-1",children:[a.jsx("p",{className:"font-bold text-slate-800 group-hover:text-emerald-900",children:"UPI / Net Banking"}),a.jsx("p",{className:"text-xs text-slate-500",children:"No Transaction Fees"})]})]})]})]}),l==="processing"&&a.jsxs("div",{className:"p-16 flex flex-col items-center justify-center text-center space-y-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-slate-100 border-t-indigo-600 animate-spin"}),a.jsx(Ia,{size:32,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-600 animate-pulse"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Authorizing..."}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Communicating with the bank securely"})]})]}),l==="success"&&a.jsxs("div",{className:"p-16 flex flex-col items-center justify-center text-center space-y-8 animate-in zoom-in-50 duration-500",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center border-4 border-emerald-100 shadow-xl shadow-emerald-50",children:a.jsx(yn,{size:48,className:"animate-bounce"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Payment Confirmed!"}),a.jsxs("p",{className:"text-slate-500 font-medium leading-relaxed",children:["Transaction ",a.jsx("span",{className:"text-slate-900 font-bold",children:"#RCP-982173"})," was successful. ",a.jsx("br",{}),"The invoice has been updated."]})]}),a.jsx(V,{variant:"primary",className:"w-full h-14 rounded-2xl py-0 font-bold shadow-xl shadow-indigo-100",onClick:()=>i(null),children:"Return to Dashboard"})]})]})})]})})},vZ=()=>{const[e,t]=w.useState([]);w.useEffect(()=>{n()},[]);const n=async()=>{try{const l=await B.get("/api/admin/payments");t(l.data)}catch(l){console.error("Error fetching payments:",l)}},r=async l=>{const o=window.prompt(`Enter reason for refunding ${l.id}:`,"Security Deposit Refund");if(o)try{await B.post("/api/admin/refunds",{type:"Refund",reason:o,tenantId:l.tenantId,unitId:l.unitId,amount:l.amount,status:"Completed",date:new Date}),alert("Refund recorded successfully")}catch(c){console.error("Refund failed:",c),alert("Failed to record refund")}},[s,i]=w.useState(null);return a.jsx(Ce,{title:"Payments Received",children:a.jsxs("div",{className:"p-0",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-gray-100",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Invoice"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Tenant"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Unit"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Amount"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Method"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Date"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Status"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Action"})]})}),a.jsx("tbody",{children:e.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700 font-mono",children:l.id}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:l.tenant}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:l.unit}),a.jsxs("td",{className:"p-4 border-b border-gray-100 text-sm font-medium font-mono",children:["$",l.amount.toLocaleString("en-CA")]}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:l.method}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:l.date}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold border bg-emerald-50 text-emerald-700 border-emerald-100",children:l.status})}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>i(l),className:"p-1.5 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(Tt,{size:16})}),a.jsx("button",{onClick:()=>r(l),title:"Refund",className:"p-1.5 text-slate-500 hover:text-orange-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(QA,{size:16})})]})})]},l.id))})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl w-[520px] shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b border-slate-100",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Payment Details"}),a.jsx("button",{onClick:()=>i(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:18})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Invoice No"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.id})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Tenant"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.tenant})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Unit"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.unit})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Lease Type"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.type})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Payment Method"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.method})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Paid On"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.date})]}),a.jsxs("div",{className:"col-span-2 mt-2 p-4 rounded-lg bg-emerald-50 text-center text-xl font-bold text-emerald-800 border border-emerald-100",children:["$",s.amount.toLocaleString("en-CA")]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{variant:"secondary",onClick:()=>i(null),children:"Close"}),a.jsx(V,{onClick:async()=>{try{const l=await B.get(`/api/admin/payments/${s.id}/download`,{responseType:"blob"}),o=window.URL.createObjectURL(new Blob([l.data])),c=document.createElement("a");c.href=o,c.setAttribute("download",`receipt-${s.id}.pdf`),document.body.appendChild(c),c.click(),c.remove()}catch{alert("Download failed")}},children:"Download Receipt"})]})]})})]})})},bZ=()=>{const[e,t]=w.useState([]);w.useEffect(()=>{n()},[]);const n=async()=>{try{const u=await B.get("/api/admin/outstanding-dues");t(u.data)}catch(u){console.error("Error fetching outstanding dues:",u)}},[r,s]=w.useState(null),[i,l]=w.useState(!1),[o,c]=w.useState({amount:"",paymentMethod:"Cash"}),d=async()=>{if(!r||!o.amount){alert("Please enter a valid amount");return}try{await B.post("/api/admin/payments",{invoiceId:r.id,amount:o.amount,paymentMethod:o.paymentMethod}),alert("Payment recorded successfully"),l(!1),c({amount:"",paymentMethod:"Cash"}),n()}catch(u){console.error("Error recording payment:",u),alert("Failed to record payment")}};return a.jsx(Ce,{title:"Outstanding Dues",children:a.jsxs("div",{className:"p-0",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-gray-100",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Invoice"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Tenant"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Unit"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Lease Type"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Amount"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Due Date"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Status"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Action"})]})}),a.jsx("tbody",{children:e.map(u=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700 font-mono",children:u.invoice}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:u.tenant}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:u.unit}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:u.leaseType}),a.jsxs("td",{className:"p-4 border-b border-gray-100 text-sm font-medium font-mono text-slate-700",children:["$",u.amount.toLocaleString("en-CA")]}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:u.dueDate}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border ${u.status==="Overdue"?"bg-red-50 text-red-700 border-red-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:[u.status,u.daysOverdue>0&&` (${u.daysOverdue} days)`]})}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>s(u),className:"p-1.5 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(Tt,{size:16})}),a.jsx("button",{onClick:()=>{s(u),c({amount:u.amount.toString(),paymentMethod:"Cash"}),l(!0)},title:"Record Payment",className:"p-1.5 text-slate-500 hover:text-emerald-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(jn,{size:16})})]})})]},u.invoice))})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl w-[520px] shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b border-slate-100",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Outstanding Invoice"}),a.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:18})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Invoice"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.invoice})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Tenant"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.tenant})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Unit"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.unit})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Lease Type"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.leaseType})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Due Date"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.dueDate})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Status"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.status})]}),a.jsxs("div",{className:"col-span-2 mt-2 p-4 rounded-lg bg-red-50 text-center text-xl font-bold text-red-800 border border-red-100",children:["$",r.amount.toLocaleString("en-CA")," Due"]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{variant:"secondary",onClick:()=>s(null),children:"Close"}),a.jsx(V,{onClick:()=>{c({amount:r.amount.toString(),paymentMethod:"Cash"}),l(!0)},children:"Record Payment"})]})]})}),i&&r&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl w-[420px] shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b border-slate-100",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Record Payment"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:18})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Invoice: ",a.jsx("span",{className:"font-mono font-semibold text-slate-900",children:r.invoice})]}),a.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Tenant: ",a.jsx("span",{className:"font-semibold text-slate-900",children:r.tenant})]}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Outstanding: ",a.jsxs("span",{className:"font-semibold text-red-600",children:["$",r.amount.toLocaleString("en-CA")]})]})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("label",{className:"flex flex-col gap-1.5",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Amount ($)"}),a.jsx("input",{type:"number",value:o.amount,onChange:u=>c({...o,amount:u.target.value}),placeholder:"0.00",className:"p-3 rounded-lg border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-50 transition-all font-medium text-slate-900"})]}),a.jsxs("label",{className:"flex flex-col gap-1.5",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Payment Method"}),a.jsxs("select",{value:o.paymentMethod,onChange:u=>c({...o,paymentMethod:u.target.value}),className:"p-3 rounded-lg border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-50 transition-all font-medium text-slate-900 bg-white",children:[a.jsx("option",{children:"Cash"}),a.jsx("option",{children:"Check"}),a.jsx("option",{children:"Bank Transfer"}),a.jsx("option",{children:"Credit Card"}),a.jsx("option",{children:"Debit Card"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{variant:"secondary",onClick:()=>l(!1),children:"Cancel"}),a.jsx(V,{onClick:d,children:"Confirm Payment"})]})]})})]})})},jZ=()=>{var E,M;const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState([]),[l,o]=w.useState(!0),[c,d]=w.useState(!1),[u,f]=w.useState(!1),[p,x]=w.useState(null),[m,j]=w.useState(null),[h,y]=w.useState(""),[g,b]=w.useState("");w.useEffect(()=>{N()},[]);const N=async()=>{o(!0),await Promise.all([v(),S(),k()]),o(!1)},v=async()=>{try{const $=await B.get("/api/admin/refunds");t($.data)}catch($){console.error("Error fetching refunds:",$)}},S=async()=>{try{const $=await B.get("/api/admin/tenants");r($.data)}catch($){console.error($)}},k=async()=>{try{const $=await B.get("/api/admin/units?limit=1000");i($.data.data||$.data)}catch($){console.error($)}},C=async $=>{$.preventDefault(),d(!0);const I=new FormData($.target),D=Object.fromEntries(I.entries());try{p?await B.put(`/api/admin/refunds/${p.id}`,D):await B.post("/api/admin/refunds",D),f(!1),x(null),await v()}catch(F){alert("Error saving refund"),console.error(F)}finally{d(!1)}},O=async $=>{if(window.confirm("Are you sure you want to delete this record?"))try{await B.delete(`/api/admin/refunds/${$}`),v()}catch(I){console.error(I)}};return a.jsx(Ce,{title:"Refunds & Adjustments",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(V,{variant:"primary",onClick:()=>{x(null),y(""),b(""),f(!0)},children:"+ Create Refund"})}),a.jsx("div",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-gray-100",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"ID"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Type"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Reason"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Tenant"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Unit"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Amount"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Date"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Status"}),a.jsx("th",{className:"p-4 bg-slate-50 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Action"})]})}),a.jsxs("tbody",{children:[l?a.jsx("tr",{children:a.jsxs("td",{colSpan:"9",className:"p-12 text-center text-slate-400",children:[a.jsx(Ia,{className:"animate-spin mx-auto mb-2"}),"Loading records..."]})}):e.map($=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700 font-mono",children:$.id}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border ${$.type.toLowerCase().includes("refund")?"bg-cyan-50 text-cyan-700 border-cyan-100":"bg-yellow-50 text-yellow-700 border-yellow-100"}`,children:$.type})}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:$.reason}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:$.tenant}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:$.unit}),a.jsxs("td",{className:`p-4 border-b border-gray-100 text-sm font-medium font-mono ${$.amount<0?"text-amber-700":"text-slate-700"}`,children:["$",Math.abs($.amount).toLocaleString("en-CA")]}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:$.date}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border ${$.status==="Completed"?"bg-emerald-50 text-emerald-700 border-emerald-100":$.status==="Applied"?"bg-yellow-50 text-yellow-700 border-yellow-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:$.status})}),a.jsxs("td",{className:"p-4 border-b border-gray-100 text-sm text-right flex justify-end gap-2 text-nowrap",children:[a.jsx("button",{onClick:()=>j($),className:"p-1.5 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(Tt,{size:16})}),a.jsx("button",{onClick:()=>{x($),f(!0)},className:"p-1.5 text-slate-500 hover:text-blue-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(U2,{size:16})}),a.jsx("button",{onClick:()=>O($.id),className:"p-1.5 text-slate-500 hover:text-red-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx($t,{size:16})})]})]},$.id)),!l&&e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-400 italic",children:"No refund records found."})})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsx("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl overflow-hidden animate-in zoom-in-95",children:a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:p?"Edit Refund":"Create Refund/Adjustment"}),a.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Type"}),a.jsxs("select",{name:"type",defaultValue:(p==null?void 0:p.type)||"Security Deposit",className:"px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"Security Deposit",children:"Security Deposit"}),a.jsx("option",{value:"Rent Refund",children:"Rent Refund"}),a.jsx("option",{value:"Adjustment",children:"Adjustment"}),a.jsx("option",{value:"Overcharge",children:"Overcharge"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Status"}),a.jsxs("select",{name:"status",defaultValue:(p==null?void 0:p.status)||"Completed",className:"px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Applied",children:"Applied"})]})]})]}),!p&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tenant"}),a.jsxs("select",{name:"tenantId",required:!0,value:h,onChange:$=>{const I=$.target.value;y(I);const D=n.find(F=>F.id===parseInt(I));D&&D.unitId?b(D.unitId):b("")},className:"px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"",children:"Select Tenant"}),n.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Unit"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Unit will auto-fill",value:((E=s.find($=>$.id===parseInt(g)))==null?void 0:E.unitNumber)||((M=s.find($=>$.id===parseInt(g)))==null?void 0:M.name)||"",readOnly:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 bg-slate-50 text-slate-600 font-semibold cursor-not-allowed"}),a.jsx("input",{type:"hidden",name:"unitId",value:g})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",defaultValue:(p==null?void 0:p.amount)||"",required:!0,className:"w-full pl-8 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Reason"}),a.jsx("textarea",{name:"reason",rows:"3",defaultValue:(p==null?void 0:p.reason)||"",required:!0,className:"px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium resize-none"})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 hover:bg-slate-100 text-slate-600 font-bold transition-all disabled:opacity-50",type:"button",onClick:()=>f(!1),disabled:c,children:"Cancel"}),a.jsx(V,{variant:"primary",type:"submit",disabled:c,children:c?"Processing...":"Save Changes"})]})]})})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl w-[520px] shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b border-slate-100",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[m.type," Details"]}),a.jsx("button",{onClick:()=>j(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:20})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 mb-6",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Request ID"}),a.jsx("span",{className:"text-md font-mono font-medium text-slate-900",children:m.id})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Status"}),a.jsx("span",{className:"w-fit mt-1",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${m.status==="Completed"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:m.status})})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Tenant"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:m.tenant})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Unit"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:m.unit})]}),a.jsxs("div",{className:"flex flex-col col-span-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Reason"}),a.jsx("span",{className:"text-sm text-slate-700 mt-1",children:m.reason})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Date"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:m.date})]}),a.jsxs("div",{className:`col-span-2 mt-2 p-4 rounded-xl text-center text-2xl font-black border ${m.amount<0?"bg-amber-50 text-amber-800 border-amber-100":"bg-cyan-50 text-cyan-800 border-cyan-100"}`,children:["$",Math.abs(m.amount).toLocaleString("en-CA")]})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(V,{variant:"secondary",onClick:()=>j(null),children:"Close"})})]})})]})})},wZ=()=>a.jsx(Ce,{title:"Record Payment",children:a.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-blue-50 border border-blue-100 text-blue-900 shadow-sm",children:[a.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg shrink-0",children:a.jsx(Lc,{size:20})}),a.jsxs("div",{className:"text-sm leading-relaxed pt-1",children:[a.jsx("strong",{children:"Accounting Rule:"})," All payments must be linked to a generated invoice for proper ledger tracking. This ensures that your financial reports remain accurate and audit-ready."]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-6",children:[a.jsx("div",{className:"flex flex-col gap-6",children:a.jsx(xe,{title:"Payment Details",className:"animate-in slide-in-from-bottom-4 duration-500 fade-in",children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Linked Invoice"}),a.jsx("div",{className:"h-11 px-4 rounded-lg bg-slate-50 border border-slate-200 flex items-center text-slate-500 font-medium text-sm select-none",children:"INV-2024-001  Oct Rent"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Payment Amount"}),a.jsxs("div",{className:"h-11 px-3 rounded-lg border border-slate-200 flex items-center gap-3 bg-white w-full animate-pulse",children:[a.jsx(Uu,{size:16,className:"text-slate-300"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Payment Date"}),a.jsxs("div",{className:"h-11 px-3 rounded-lg border border-slate-200 flex items-center justify-between bg-white w-full animate-pulse",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-28"}),a.jsx(Lt,{size:16,className:"text-slate-300"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Payment Method"}),a.jsxs("div",{className:"h-11 px-3 rounded-lg border border-slate-200 flex items-center justify-between bg-white w-full animate-pulse",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-32"}),a.jsx(jn,{size:16,className:"text-slate-300"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Reference / Notes"}),a.jsxs("div",{className:"h-24 px-3 py-3 rounded-lg border border-slate-200 bg-white w-full animate-pulse",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-full mb-2"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})]})]})]})})}),a.jsx("div",{className:"flex flex-col gap-6",children:a.jsxs(xe,{className:"animate-in slide-in-from-right-4 duration-500 fade-in delay-100 h-fit sticky top-6",children:[a.jsx("h4",{className:"text-xs font-bold uppercase text-slate-400 mb-6 tracking-wider border-b border-slate-100 pb-2",children:"Invoice Balance"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center group",children:[a.jsx("span",{className:"text-slate-600 font-medium text-sm group-hover:text-slate-900 transition-colors",children:"Total Due"}),a.jsx("div",{className:"h-5 w-20 bg-slate-200 rounded animate-pulse"})]}),a.jsxs("div",{className:"flex justify-between items-center group",children:[a.jsx("span",{className:"text-slate-600 font-medium text-sm group-hover:text-slate-900 transition-colors",children:"Remaining"}),a.jsx("div",{className:"h-5 w-20 bg-slate-200 rounded animate-pulse"})]}),a.jsx("div",{className:"p-4 bg-slate-50 rounded-lg text-xs text-slate-500 leading-relaxed border border-slate-100 my-4",children:"Partial payments are allowed. The remaining balance will stay open until fully settled."}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[a.jsx(V,{variant:"primary",className:"w-full justify-center",disabled:!0,children:"Record Transaction"}),a.jsx(V,{variant:"ghost",className:"w-full justify-center",children:"Cancel"})]})]})]})})]})]})}),NZ=({invoice:e,onClose:t,onSubmit:n})=>{var f;const[r,s]=w.useState(e.balance||0),[i,l]=w.useState("Bank Transfer"),[o,c]=w.useState(""),d=parseFloat(r)<parseFloat(e.balance),u=p=>{p.preventDefault(),n({amount:r,paymentMethod:i,note:o})};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-opacity",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 overflow-hidden transform transition-all animate-in fade-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Record Payment"}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-slate-100 rounded text-slate-500 transition-colors",children:a.jsx(je,{size:20})})]}),a.jsxs("form",{onSubmit:u,className:"p-6",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-md mb-6 border border-slate-200",children:[a.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Invoice For"}),a.jsx("div",{className:"font-medium text-slate-900 mt-1",children:e.description}),a.jsxs("div",{className:"flex justify-between mt-3 text-sm border-t border-slate-200 pt-3",children:[a.jsx("span",{className:"text-slate-600",children:"Total Due:"}),a.jsxs("span",{className:"font-bold text-slate-900",children:["$",(f=e.balance)==null?void 0:f.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Payment Amount ($)"}),a.jsx("input",{type:"number",step:"0.01",className:"h-10 w-full border border-slate-300 rounded-md px-3 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all",value:r,onChange:p=>s(p.target.value)}),d&&a.jsx("div",{className:"text-xs text-warning-600 font-medium flex items-center gap-1",children:" Partial Payment. Remaining balance will stay open."})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Payment Method"}),a.jsxs("select",{className:"h-10 w-full border border-slate-300 rounded-md px-3 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all",value:i,onChange:p=>l(p.target.value),children:[a.jsx("option",{children:"Bank Transfer"}),a.jsx("option",{children:"Check"}),a.jsx("option",{children:"Cash"}),a.jsx("option",{children:"Credit Card"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Notes (Optional)"}),a.jsx("textarea",{className:"w-full border border-slate-300 rounded-md p-3 text-sm h-24 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all resize-none",placeholder:"Reference numbers, dates, etc.",value:o,onChange:p=>c(p.target.value)})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[a.jsx(V,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),a.jsx(V,{variant:"primary",type:"submit",children:"Record Payment"})]})]})]})})},SZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null);R.useEffect(()=>{s()},[]);const s=async()=>{try{const c=await B.get("/api/admin/accounting/transactions");t(c.data)}catch(c){console.error(c)}},i=e.filter(c=>c.type==="Invoice").reduce((c,d)=>c+d.balance,0),l=e.filter(c=>c.type==="Payment").reduce((c,d)=>c+d.amount,0),o=e.filter(c=>c.type==="Expense").reduce((c,d)=>c+d.amount,0);return a.jsxs(pu,{title:"Accounting & Ledger",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(V,{variant:"outline",icon:Ao,children:"Filter"}),a.jsx(V,{variant:"outline",icon:wn,children:"Export QuickBooks"})]}),a.jsx(V,{icon:jt,onClick:async()=>{const c=prompt("Transaction Description:");if(!c)return;const d=parseFloat(prompt("Amount:")),u=prompt("Type (Invoice/Payment/Expense):","Expense");try{await B.post("/api/admin/accounting/transactions",{date:new Date,description:c,type:u,amount:d,status:"Paid"}),s()}catch{alert("Error")}},children:"Record Transaction"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs(xe,{className:"p-4 bg-slate-50 border-slate-200",children:[a.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Total Receivables"}),a.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:["$",i.toLocaleString("en-CA")]})]}),a.jsxs(xe,{className:"p-4 bg-slate-50 border-slate-200",children:[a.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"YTD Income"}),a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",l.toLocaleString("en-CA")]})]}),a.jsxs(xe,{className:"p-4 bg-slate-50 border-slate-200",children:[a.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Expenses"}),a.jsxs("div",{className:"text-2xl font-bold text-slate-700",children:["$",o.toLocaleString("en-CA")]})]})]}),a.jsx(xe,{title:"General Ledger",children:a.jsx(wg,{headers:["Date","Description","Type","Amount","Balance","Status","Actions"],data:e,renderRow:c=>a.jsxs(a.Fragment,{children:[a.jsx("td",{children:c.date}),a.jsx("td",{className:"font-medium text-slate-900",children:c.description}),a.jsx("td",{children:a.jsx("span",{className:`px-2.5 py-1 rounded text-xs font-medium ${c.type==="Invoice"?"bg-slate-100 text-slate-700":"bg-green-100 text-green-700"}`,children:c.type})}),a.jsx("td",{children:a.jsxs("span",{className:c.amount<0?"text-green-600 font-medium":"text-slate-900 font-medium",children:[c.amount<0?"-":"","$",Math.abs(c.amount).toFixed(2)]})}),a.jsxs("td",{className:"font-bold text-slate-900",children:["$",c.balance.toFixed(2)]}),a.jsx("td",{children:a.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium capitalize ${c.status==="Unpaid"?"bg-red-100 text-red-700":c.status==="Partial"?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:c.status})}),a.jsx("td",{children:c.balance>0&&c.type==="Invoice"&&a.jsx(V,{size:"sm",variant:"ghost",onClick:()=>r(c),children:"Pay"})})]})})}),n&&a.jsx(NZ,{invoice:n,onClose:()=>r(null),onSubmit:c=>{console.log("Processing payment:",c),r(null)}})]})};var N4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Uj=R.createContext&&R.createContext(N4),kZ=["attr","size","title"];function CZ(e,t){if(e==null)return{};var n=OZ(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OZ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(this,arguments)}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){_Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Z(e,t,n){return t=PZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S4(e){return e&&e.map((t,n)=>R.createElement(t.tag,hu({key:n},t.attr),S4(t.child)))}function If(e){return t=>R.createElement(EZ,mu({attr:hu({},e.attr)},t),S4(e.child))}function EZ(e){var t=n=>{var{attr:r,size:s,title:i}=e,l=CZ(e,kZ),o=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),R.createElement("svg",mu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:c,style:hu(hu({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&R.createElement("title",null,i),e.children)};return Uj!==void 0?R.createElement(Uj.Consumer,null,n=>t(n)):t(N4)}function TZ(e){return If({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function $Z(e){return If({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function IZ(e){return If({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function MZ(e){return If({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const DZ=()=>{const[e,t]=w.useState("All"),[n,r]=w.useState(!1),[s,i]=w.useState(null),[l,o]=w.useState({name:"",type:"Asset",balance:""}),[c,d]=w.useState([]);w.useEffect(()=>{u()},[]);const u=async()=>{try{const h=await B.get("/api/admin/accounts");d(h.data)}catch(h){console.error(h)}},f=()=>{i(null),o({name:"",type:"Asset",balance:""}),r(!0)},p=(h,y)=>{i(y),o(h),r(!0)},x=async()=>{if(!l.name||!l.balance){alert("Please fill all fields");return}try{const h={accountName:l.name,assetType:l.type,openingBalance:l.balance};if(s!==null){const y=c[s].id;await B.patch(`/api/admin/accounts/${y}`,h)}else await B.post("/api/admin/accounts",h);u(),r(!1)}catch{alert("Error saving account")}},m=async h=>{if(window.confirm("Are you sure you want to delete this account?"))try{await B.delete(`/api/admin/accounts/${h}`),u()}catch{alert("Error deleting account")}},j=e==="All"?c:c.filter(h=>h.assetType===e);return a.jsx(Ce,{title:"Company Chart of Accounts",children:a.jsxs("div",{className:"p-6 animate-[fadeIn_0.4s_ease-in-out]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("div",{className:"flex gap-2.5",children:["All","Asset","Income","Expense"].map(h=>a.jsx("button",{className:`py-2 px-3.5 rounded-lg border text-sm cursor-pointer transition-all duration-250 ${e===h?"bg-indigo-600 text-white border-indigo-600":"bg-white border-slate-200 hover:bg-slate-100 text-slate-700"}`,onClick:()=>t(h),children:h},h))}),a.jsxs("button",{className:"flex items-center gap-1.5 bg-green-600 text-white py-2.5 px-3.5 rounded-lg text-sm cursor-pointer border-none transition-all duration-250 hover:bg-green-700 hover:-translate-y-px",onClick:f,children:[a.jsx($Z,{})," Add New Account"]})]}),a.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(260px,1fr))] gap-4.5",children:j.map((h,y)=>a.jsxs("div",{className:`rounded-xl p-4.5 bg-white shadow-[0_6px_20px_rgba(0,0,0,0.06)] relative transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_14px_32px_rgba(0,0,0,0.08)] border-l-[5px] ${h.type==="Asset"?"border-l-blue-600":h.type==="Income"?"border-l-green-600":"border-l-red-600"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900",children:h.accountName}),a.jsxs("div",{className:"flex gap-1.5 items-center",children:[a.jsx("button",{className:"bg-none border-none cursor-pointer text-slate-500 text-base transition-colors duration-200 hover:text-indigo-600",onClick:()=>p({name:h.accountName,type:h.assetType,balance:h.openingBalance},y),children:a.jsx(TZ,{})}),a.jsx("button",{className:"bg-none border-none cursor-pointer text-slate-500 text-base transition-colors duration-200 hover:text-red-600",onClick:()=>m(h.id),children:a.jsx(IZ,{})})]})]}),a.jsx("p",{className:"text-[13px] text-slate-500 mt-1.5",children:h.assetType}),a.jsxs("h2",{className:"text-[22px] font-bold my-2.5 text-slate-900",children:["$ ",Number(h.openingBalance).toLocaleString("en-CA")]}),a.jsxs("div",{className:"flex gap-1 items-end h-[30px]",children:[a.jsx("span",{className:"w-1.5 bg-gradient-to-b from-indigo-600 to-indigo-400 rounded h-[10px] animate-[grow_1.2s_ease_infinite_alternate]"}),a.jsx("span",{className:"w-1.5 bg-gradient-to-b from-indigo-600 to-indigo-400 rounded h-[18px] animate-[grow_1.2s_ease_infinite_alternate_0.2s]"}),a.jsx("span",{className:"w-1.5 bg-gradient-to-b from-indigo-600 to-indigo-400 rounded h-[24px] animate-[grow_1.2s_ease_infinite_alternate_0.4s]"}),a.jsx("span",{className:"w-1.5 bg-gradient-to-b from-indigo-600 to-indigo-400 rounded h-[14px] animate-[grow_1.2s_ease_infinite_alternate_0.6s]"})]})]},y))}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[999] animate-[fadeIn_0.2s_ease]",children:a.jsxs("div",{className:"bg-white w-[420px] rounded-xl shadow-2xl animate-[scaleIn_0.25s_ease]",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900",children:s!==null?"Edit Account":"Add Account"}),a.jsx("button",{onClick:()=>r(!1),className:"bg-none border-none cursor-pointer text-lg text-slate-500 hover:text-slate-800",children:a.jsx(MZ,{})})]}),a.jsxs("div",{className:"p-5 flex flex-col gap-3.5",children:[a.jsx("input",{placeholder:"Account Name",value:l.name,onChange:h=>o({...l,name:h.target.value}),className:"p-2.5 rounded-lg border border-slate-300 text-sm focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"}),a.jsxs("select",{value:l.type,onChange:h=>o({...l,type:h.target.value}),className:"p-2.5 rounded-lg border border-slate-300 text-sm focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white",children:[a.jsx("option",{children:"Asset"}),a.jsx("option",{children:"Income"}),a.jsx("option",{children:"Expense"})]}),a.jsx("input",{type:"number",placeholder:"Opening Balance",value:l.balance,onChange:h=>o({...l,balance:h.target.value}),className:"p-2.5 rounded-lg border border-slate-300 text-sm focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"p-4 flex justify-end gap-2.5",children:[a.jsx("button",{onClick:()=>r(!1),className:"py-2 px-3.5 rounded-lg border-none cursor-pointer bg-slate-100 text-slate-700 hover:bg-slate-200 font-medium text-sm",children:"Cancel"}),a.jsx("button",{className:"py-2 px-3.5 rounded-lg border-none cursor-pointer bg-indigo-600 text-white hover:bg-indigo-700 font-medium text-sm",onClick:x,children:"Save Account"})]})]})})]})})},RZ=()=>{const[e,t]=w.useState([]);w.useEffect(()=>{(async()=>{try{const j=await B.get("/api/admin/taxes");t(j.data)}catch(j){console.error(j)}})()},[]);const[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState({name:"",rate:"",appliesTo:"Rent",status:"active"}),u=m=>{d({...c,[m.target.name]:m.target.value})},f=m=>{d({name:m.name,rate:m.rate,appliesTo:m.appliesTo,status:m.status}),o(m.id),i(!0),r(!0)},p=async()=>{if(!c.name||!c.rate){alert("Please fill all required fields");return}try{if(s){const m=await B.patch(`/api/admin/taxes/${l}`,c);t(e.map(j=>j.id===l?m.data:j))}else{const m=await B.post("/api/admin/taxes",c);t([...e,m.data])}d({name:"",rate:"",appliesTo:"Rent",status:"active"}),r(!1),i(!1),o(null)}catch{alert("Error saving tax")}},x=async m=>{if(window.confirm("Are you sure you want to delete this tax?"))try{await B.delete(`/api/admin/taxes/${m}`),t(e.filter(j=>j.id!==m))}catch{alert("Error deleting tax")}};return a.jsx(Ce,{title:"Tax Settings",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-5",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Total Taxes"}),a.jsx("p",{className:"text-xl font-bold mt-1.5 text-slate-900",children:e.length})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Active Taxes"}),a.jsx("p",{className:"text-xl font-bold mt-1.5 text-green-600",children:e.filter(m=>m.status==="active").length})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Avg Tax Rate"}),a.jsxs("p",{className:"text-xl font-bold mt-1.5 text-slate-900",children:[(e.reduce((m,j)=>m+Number(j.rate),0)/e.length).toFixed(1),"%"]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{className:"bg-indigo-600 text-white border-none py-2.5 px-4 rounded-lg cursor-pointer transition-colors hover:bg-indigo-700 font-medium text-sm",onClick:()=>{d({name:"",rate:"",appliesTo:"Rent",status:"active"}),i(!1),r(!0)},children:"+ Add New Tax"})}),a.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100",children:"Tax Name"}),a.jsx("th",{className:"text-left p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100",children:"Rate (%)"}),a.jsx("th",{className:"text-left p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100",children:"Applies To"}),a.jsx("th",{className:"text-left p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100",children:"Status"}),a.jsx("th",{className:"text-right p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{children:e.map((m,j)=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-3.5 border-t border-gray-100 text-sm text-slate-700",children:m.name}),a.jsxs("td",{className:"p-3.5 border-t border-gray-100 text-sm text-slate-700",children:[m.rate,"%"]}),a.jsx("td",{className:"p-3.5 border-t border-gray-100 text-sm text-slate-700",children:m.appliesTo}),a.jsx("td",{className:"p-3.5 border-t border-gray-100",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold capitalize ${m.status==="active"?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"}`,children:m.status})}),a.jsx("td",{className:"p-3.5 border-t border-gray-100 text-right",children:a.jsxs("div",{className:"flex justify-end gap-1",children:[a.jsx("button",{onClick:()=>f(m),className:"p-2 text-indigo-500 hover:bg-indigo-50 rounded-lg transition-colors border-none bg-transparent cursor-pointer",title:"Edit Tax",children:a.jsx(XA,{size:18})}),a.jsx("button",{onClick:()=>x(m.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors border-none bg-transparent cursor-pointer",title:"Delete Tax",children:a.jsx($t,{size:18})})]})})]},j))})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[999]",children:a.jsxs("div",{className:"bg-white w-[420px] rounded-2xl p-6 animate-[zoomIn_0.3s_ease]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-900",children:s?"Edit Tax":"Add New Tax"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("input",{name:"name",placeholder:"Tax Name",value:c.name,onChange:u,className:"p-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"}),a.jsx("input",{name:"rate",type:"number",placeholder:"Tax Rate (%)",value:c.rate,onChange:u,className:"p-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"}),a.jsxs("select",{name:"appliesTo",value:c.appliesTo,onChange:u,className:"p-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white",children:[a.jsx("option",{children:"Rent"}),a.jsx("option",{children:"Maintenance"}),a.jsx("option",{children:"Utilities"})]}),a.jsxs("select",{name:"status",value:c.status,onChange:u,className:"p-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2.5 mt-5",children:[a.jsx("button",{onClick:()=>r(!1),className:"py-2 px-3.5 rounded-lg border-none cursor-pointer bg-slate-100 text-slate-700 hover:bg-slate-200 text-sm font-medium",children:"Cancel"}),a.jsx("button",{className:"py-2 px-3.5 rounded-lg border-none cursor-pointer bg-indigo-600 text-white hover:bg-indigo-700 text-sm font-medium",onClick:p,children:"Save Tax"})]})]})})]})})},LZ=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[s,i]=w.useState("realtime"),[l,o]=w.useState([]),[c,d]=w.useState(""),[u,f]=w.useState({fullUnitRent:"",bedroomRent:"",securityDeposit:"",lateFees:""});w.useEffect(()=>{p()},[]),w.useEffect(()=>{c&&x(c)},[c]);const p=async()=>{try{const h=await B.get("/api/admin/owners");o(h.data),h.data.length>0&&d(h.data[0].id)}catch(h){console.error(h)}},x=async h=>{try{const g=(await B.get(`/api/admin/settings?userId=${h}`)).data.settings||{};t(g.qb_connected==="true"),r(g.qb_autoSync==="true"),g.qb_frequency&&i(g.qb_frequency),f({fullUnitRent:g.qb_account_fullUnitRent||"",bedroomRent:g.qb_account_bedroomRent||"",securityDeposit:g.qb_account_securityDeposit||"",lateFees:g.qb_account_lateFees||""})}catch(y){console.error(y)}},m=async()=>{try{await B.post("/api/admin/settings",{userId:c,qb_connected:String(e),qb_autoSync:String(n),qb_frequency:s,qb_account_fullUnitRent:u.fullUnitRent,qb_account_bedroomRent:u.bedroomRent,qb_account_securityDeposit:u.securityDeposit,qb_account_lateFees:u.lateFees}),alert("Settings Saved")}catch{alert("Error saving settings")}},j=!e||!u.fullUnitRent||!u.bedroomRent||!u.securityDeposit||!u.lateFees;return a.jsx(Ce,{title:"QuickBooks Integration",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-800",children:"Select Owner"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Configure QBO for specific owner"})]}),a.jsx("select",{className:"px-4 py-2 rounded-lg border border-slate-200 text-sm font-medium outline-none focus:border-indigo-500",value:c,onChange:h=>d(h.target.value),children:l.map(h=>a.jsxs("option",{value:h.id,children:[h.name," (",h.companyName||"No Company",")"]},h.id))})]}),a.jsx(xe,{title:"Connection Status",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl text-lg font-bold transition-all ${e?"bg-green-600 text-white":"bg-slate-100 text-slate-400"}`,children:"QB"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-slate-800",children:"QuickBooks Online"}),a.jsx("div",{className:"text-sm text-slate-500",children:e?"Connected":"Not Connected"})]})]}),a.jsx(V,{variant:e?"outline":"primary",icon:HA,onClick:()=>t(!e),children:e?"Disconnect":"Connect"})]})}),a.jsxs(xe,{title:"Sync Configuration",children:[a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"font-medium text-slate-800 block mb-1",children:"Enable Automatic Sync"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Automatically push invoices and payments to QuickBooks."})]}),a.jsx("div",{className:`w-11 h-[22px] rounded-full relative cursor-pointer transition-colors ${n?"bg-indigo-600":"bg-gray-200"}`,onClick:()=>r(!n),children:a.jsx("span",{className:`block w-[18px] h-[18px] bg-white rounded-full absolute top-[2px] transition-all shadow-sm ${n?"left-[24px]":"left-[2px]"}`})})]}),a.jsx("hr",{className:"my-5 border-slate-100"}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx("label",{className:"font-medium text-slate-800",children:"Sync Frequency"})}),a.jsxs("select",{className:"w-48 h-10 px-3 rounded-lg border border-slate-200 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-50 disabled:text-slate-400 transition-all font-medium text-slate-900",value:s,onChange:h=>i(h.target.value),disabled:!n,children:[a.jsx("option",{value:"realtime",children:"Real-time"}),a.jsx("option",{value:"hourly",children:"Hourly"}),a.jsx("option",{value:"daily",children:"Daily"})]})]})]}),a.jsxs(xe,{title:"Chart of Accounts Mapping",children:[a.jsx("p",{className:"text-sm text-slate-500 mb-6 font-medium",children:"Map your property management transactions to QuickBooks accounts."}),a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-2 border-b border-slate-100 text-xs font-semibold uppercase text-slate-400 tracking-wide",children:[a.jsx("span",{children:"Transaction Type"}),a.jsx("span",{children:"QuickBooks Account"})]}),a.jsx(jc,{label:"Full Unit Rent",value:u.fullUnitRent,onChange:h=>f({...u,fullUnitRent:h})}),a.jsx(jc,{label:"Bedroom Rent",value:u.bedroomRent,onChange:h=>f({...u,bedroomRent:h})}),a.jsx(jc,{label:"Security Deposits",value:u.securityDeposit,onChange:h=>f({...u,securityDeposit:h})}),a.jsx(jc,{label:"Late Fees",value:u.lateFees,onChange:h=>f({...u,lateFees:h})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(V,{variant:"ghost",children:"Cancel"}),a.jsx(V,{variant:"primary",icon:yn,disabled:j,onClick:m,children:"Save Settings"})]})]})})},jc=({label:e,value:t,onChange:n})=>a.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center p-2 rounded-lg hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:"text-sm font-medium text-slate-700",children:e}),a.jsxs("select",{className:"h-10 px-3 rounded-lg border border-slate-200 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white w-full transition-all text-slate-900",value:t,onChange:r=>n(r.target.value),children:[a.jsx("option",{value:"",children:"Select account"}),a.jsx("option",{value:"income",children:"Income Account"}),a.jsx("option",{value:"liability",children:"Liability Account"}),a.jsx("option",{value:"other",children:"Other Account"})]})]}),zZ=()=>{const[e,t]=w.useState({kpi:{totalRevenue:0,occupancyRate:0,activeLeases:0,outstandingDues:0},monthlyRevenue:[],leaseDistribution:{fullUnit:0,bedroom:0},topProperties:[]});w.useEffect(()=>{(async()=>{try{const u=await B.get("/api/admin/reports");t(u.data)}catch(u){console.error(u)}})()},[]);const{kpi:n,topProperties:r,leaseDistribution:s,monthlyRevenue:i}=e,l=s.fullUnit+s.bedroom,o=l>0?Math.round(s.fullUnit/l*100):0,c=l>0?Math.round(s.bedroom/l*100):0;return a.jsx(Ce,{title:"Reports & Analytics",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-5",children:[a.jsxs("div",{className:"p-5 rounded-xl bg-white shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-in slide-in-from-bottom-4 duration-600 fade-in",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Total Revenue"}),a.jsxs("p",{className:"text-[26px] font-bold my-1.5 font-sans",children:["$ ",n.totalRevenue.toLocaleString("en-CA")]}),a.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"+12% this month"})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-in slide-in-from-bottom-4 duration-600 fade-in delay-100",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Occupancy Rate"}),a.jsxs("p",{className:"text-[26px] font-bold my-1.5 font-sans",children:[n.occupancyRate,"%"]}),a.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"Stable"})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-in slide-in-from-bottom-4 duration-600 fade-in delay-200",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Active Leases"}),a.jsx("p",{className:"text-[26px] font-bold my-1.5 font-sans",children:n.activeLeases}),a.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"+5 new"})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-in slide-in-from-bottom-4 duration-600 fade-in delay-300",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Outstanding Dues"}),a.jsxs("p",{className:"text-[26px] font-bold my-1.5 font-sans",children:["$ ",n.outstandingDues.toLocaleString("en-CA")]}),a.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Needs Attention"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-6",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:"Monthly Revenue"}),a.jsx("div",{className:"flex items-end gap-3 h-[180px] mt-5",children:i.length>0?i.map((d,u)=>a.jsx("div",{className:"w-[30px] rounded-md bg-gradient-to-t from-indigo-500 to-indigo-300 transition-all duration-1000 ease-out",style:{height:`${Math.min(d.amount/15e3*100,100)}%`},title:d.month},u)):a.jsx("div",{className:"w-full text-center text-slate-400",children:"No revenue data yet"})})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:"Lease Type Distribution"}),a.jsxs("div",{className:"flex flex-col gap-3 mt-5",children:[a.jsxs("div",{className:"p-3 rounded-lg font-semibold bg-indigo-50 text-indigo-800 text-sm",children:["Full Unit ",o,"%"]}),a.jsxs("div",{className:"p-3 rounded-lg font-semibold bg-emerald-50 text-emerald-800 text-sm",children:["Bedroom ",c,"%"]})]})]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] overflow-hidden",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Top Performing Properties"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left text-sm font-semibold text-slate-500 border-b border-slate-200",children:"Property"}),a.jsx("th",{className:"p-3 text-left text-sm font-semibold text-slate-500 border-b border-slate-200",children:"Revenue"}),a.jsx("th",{className:"p-3 text-left text-sm font-semibold text-slate-500 border-b border-slate-200",children:"Occupancy"})]})}),a.jsx("tbody",{children:r.length>0?r.map((d,u)=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-3 text-sm text-slate-700 border-b border-slate-100",children:d.name}),a.jsxs("td",{className:"p-3 text-sm text-slate-700 border-b border-slate-100",children:["$ ",d.revenue.toLocaleString("en-CA")]}),a.jsxs("td",{className:"p-3 text-sm text-slate-700 border-b border-slate-100",children:[d.occupancy,"%"]})]},u)):a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"p-3 text-center text-slate-500",children:"No data available"})})})]})})]})]})})},BZ={Completed:"bg-emerald-50 text-emerald-700 border-emerald-100",Upcoming:"bg-amber-50 text-amber-700 border-amber-100",Overdue:"bg-red-50 text-red-700 border-red-100"},FZ={Completed:a.jsx(Un,{size:14,className:"text-emerald-500"}),Upcoming:a.jsx(sr,{size:14,className:"text-amber-500"}),Overdue:a.jsx(Rt,{size:14,className:"text-red-500"})},UZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(!1),[u,f]=w.useState(null);w.useEffect(()=>{p(),x()},[l]);const p=async()=>{try{const b=await B.get(`/api/admin/maintenance?propertyId=${l}`);t(b.data)}catch(b){console.error(b)}},x=async()=>{try{const b=await B.get("/api/admin/properties");r(b.data)}catch(b){console.error(b)}},m={total:e.length,upcoming:e.filter(b=>b.status==="Upcoming").length,overdue:e.filter(b=>b.status==="Overdue").length,completed:e.filter(b=>b.status==="Completed").length},j=e.filter(b=>b.name.toLowerCase().includes(s.toLowerCase())||b.building.toLowerCase().includes(s.toLowerCase())||b.vendor.toLowerCase().includes(s.toLowerCase())),h=async b=>{const N=e.find(v=>v.id===b);if(N)try{await B.put(`/api/admin/maintenance/${N.dbId}`,{status:"Completed"}),p()}catch{alert("Failed")}},y=async b=>{if(window.confirm("Delete this maintenance task?"))try{await B.delete(`/api/admin/maintenance/${b}`),p()}catch{alert("Failed to delete task")}},g=async b=>{b.preventDefault();const N=new FormData(b.target);try{const v={name:N.get("name"),buildingId:N.get("buildingId"),type:N.get("type"),frequency:N.get("frequency"),dueDate:N.get("dueDate"),vendor:N.get("vendor"),status:N.get("status")||"Upcoming",notes:N.get("notes")};u?await B.put(`/api/admin/maintenance/${u.dbId}`,v):await B.post("/api/admin/maintenance",v),p(),d(!1),f(null)}catch{alert("Failed to save task")}};return a.jsxs(Ce,{title:"Maintenance Management",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(wc,{label:"Total Tasks",value:m.total,icon:F2,color:"indigo"}),a.jsx(wc,{label:"Upcoming",value:m.upcoming,icon:sr,color:"amber"}),a.jsx(wc,{label:"Overdue",value:m.overdue,icon:Rt,color:"red"}),a.jsx(wc,{label:"Completed",value:m.completed,icon:Un,color:"emerald"})]}),a.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-100 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1 w-full",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-indigo-500 focus-within:ring-4 focus-within:ring-indigo-500/10 transition-all w-full md:w-auto md:min-w-[320px]",children:[a.jsx(Jt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search tasks, buildings, or vendors...",value:s,onChange:b=>i(b.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm font-medium"})]}),a.jsxs("div",{className:"relative min-w-[200px]",children:[a.jsx(pd,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{value:l,onChange:b=>o(b.target.value),className:"w-full pl-12 pr-10 py-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 bg-slate-50 text-sm font-medium appearance-none",children:[a.jsx("option",{value:"all",children:"All Buildings"}),n.map(b=>a.jsxs("option",{value:b.id,children:[b.name,b.civicNumber?` - ${b.civicNumber}`:""]},b.id))]}),a.jsx(mt,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(V,{variant:"secondary",size:"sm",children:[a.jsx(Ao,{size:16}),"Filters"]}),a.jsxs(V,{variant:"primary",size:"sm",onClick:()=>d(!0),children:[a.jsx(jt,{size:16}),"Add Task"]})]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[1.5fr_1fr_1fr_1fr_1fr_0.8fr_0.5fr] bg-slate-50 border-b border-slate-200 px-6 py-4",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Task Details"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Building"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Frequency"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Next Due Date"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Vendor"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Status"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest text-right",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100 text-sm",children:j.map(b=>a.jsxs("div",{className:"grid grid-cols-[1.5fr_1fr_1fr_1fr_1fr_0.8fr_0.5fr] px-6 py-4 items-center hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-indigo-600 mb-0.5",children:b.id}),a.jsx("span",{className:"font-semibold text-slate-700",children:b.name}),a.jsx("span",{className:"text-xs text-slate-400 line-clamp-1",children:b.notes})]}),a.jsxs("span",{className:"flex items-center gap-2 text-slate-600 font-medium",children:[a.jsx(pd,{size:14,className:"text-slate-400"}),b.building]}),a.jsx("span",{className:"text-slate-600 font-medium",children:b.frequency}),a.jsxs("span",{className:"flex items-center gap-2 text-slate-600 font-medium",children:[a.jsx(Lt,{size:14,className:"text-slate-400"}),b.dueDate]}),a.jsxs("span",{className:"flex items-center gap-2 text-slate-600 font-medium truncate",children:[a.jsx(zt,{size:14,className:"text-slate-400"}),b.vendor]}),a.jsx("div",{children:a.jsxs("span",{className:ue("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border w-fit",BZ[b.status]),children:[FZ[b.status],b.status]})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[b.status!=="Completed"&&a.jsx("button",{onClick:()=>h(b.id),className:"p-2 hover:bg-emerald-50 hover:text-emerald-600 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"Mark as Completed",children:a.jsx(Un,{size:16})}),a.jsx("button",{onClick:()=>{f(b),d(!0)},className:"p-2 hover:bg-amber-50 hover:text-amber-600 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"Edit Task",children:a.jsx(ta,{size:16})}),a.jsx("button",{onClick:()=>y(b.dbId),className:"p-2 hover:bg-rose-50 hover:text-rose-600 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"Delete Task",children:a.jsx($t,{size:16})})]})]},b.id))})]})]}),(c||u)&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u?"Edit Maintenance Task":"Add New Maintenance Task"}),a.jsx("button",{onClick:()=>{d(!1),f(null)},className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:24})})]}),a.jsxs("form",{onSubmit:g,className:"p-8 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5 col-span-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Task Name"}),a.jsx("input",{name:"name",required:!0,defaultValue:u==null?void 0:u.name,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium",placeholder:"e.g. Elevator Inspection"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Building"}),a.jsxs("select",{name:"buildingId",required:!0,defaultValue:u==null?void 0:u.buildingId,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"",children:"Select Building"}),n.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Task Type"}),a.jsx("input",{name:"type",required:!0,defaultValue:u==null?void 0:u.type,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium",placeholder:"e.g. HVAC, Fire, etc."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Frequency"}),a.jsxs("select",{name:"frequency",required:!0,defaultValue:u==null?void 0:u.frequency,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"One-time",children:"One-time"}),a.jsx("option",{value:"Monthly",children:"Monthly"}),a.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Next Due Date"}),a.jsx("input",{name:"dueDate",type:"date",required:!0,defaultValue:u==null?void 0:u.dueDate,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium"})]}),a.jsxs("div",{className:"space-y-1.5 col-span-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Vendor Name"}),a.jsx("input",{name:"vendor",defaultValue:u==null?void 0:u.vendor,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium",placeholder:"Contractor or Service Provider"})]}),a.jsxs("div",{className:"space-y-1.5 col-span-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Notes"}),a.jsx("textarea",{name:"notes",defaultValue:u==null?void 0:u.notes,className:"w-full h-24 p-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium resize-none text-sm",placeholder:"Any specific details..."})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-50 mt-4",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>{d(!1),f(null)},children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Task"})]})]})]})})]})},wc=({label:e,value:t,icon:n,color:r})=>{const s={indigo:"text-indigo-600 bg-indigo-50 border-indigo-100",amber:"text-amber-600 bg-amber-50 border-amber-100",red:"text-red-600 bg-red-50 border-red-100",emerald:"text-emerald-600 bg-emerald-50 border-emerald-100"};return a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:e}),a.jsx("div",{className:"flex items-baseline gap-2",children:a.jsx("span",{className:"text-3xl font-black text-slate-800 tracking-tight",children:t})})]}),a.jsx("div",{className:ue("w-14 h-14 rounded-2xl flex items-center justify-center border",s[r]),children:a.jsx(n,{size:28})})]})},VZ={High:"bg-red-50 text-red-700 border-red-100",Medium:"bg-amber-50 text-amber-700 border-amber-100",Low:"bg-blue-50 text-blue-700 border-blue-100"},WZ={Open:a.jsx(Fu,{size:14,className:"text-amber-500"}),"In Progress":a.jsx(sr,{size:14,className:"text-blue-500"}),Resolved:a.jsx(yn,{size:14,className:"text-emerald-500"})},HZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState([]),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(null),[p,x]=w.useState(!1),[m,j]=w.useState(null),[h,y]=w.useState(null),[g,b]=w.useState(""),[N,v]=w.useState({});w.useEffect(()=>{S(),k()},[]),w.useEffect(()=>{l?C(l):i([])},[l]);const S=async()=>{try{const I=await B.get("/api/admin/tickets");t(I.data)}catch(I){console.error("Error fetching tickets",I)}},k=async()=>{try{const I=await B.get("/api/admin/properties");r(I.data)}catch(I){console.error(I)}},C=async I=>{try{const D=await B.get(`/api/admin/tenants?propertyId=${I}`);i(D.data)}catch(D){console.error(D)}},O=e.filter(I=>(I.tenant||"").toLowerCase().includes(c.toLowerCase())||(I.id||"").toLowerCase().includes(c.toLowerCase())||(I.subject||"").toLowerCase().includes(c.toLowerCase())),E=async(I,D)=>{const F=e.find(A=>A.id===I);if(F)try{await B.put(`/api/admin/tickets/${F.dbId}/status`,{status:D}),t(e.map(A=>A.id===I?{...A,status:D}:A)),f(A=>A?{...A,status:D}:null)}catch{alert("Failed to update status")}},M=async I=>{if(window.confirm("Are you sure you want to delete this ticket?"))try{await B.delete(`/api/admin/tickets/${I}`),t(e.filter(D=>D.dbId!==I)),b("Ticket Deleted Successfully!"),setTimeout(()=>b(""),3e3)}catch{alert("Failed to delete ticket")}},$=async I=>{I.preventDefault();const D=I.target,F=D.tenantId.value,A=s.find(L=>L.id===parseInt(F));try{const L=new FormData;L.append("propertyId",l),L.append("unitId",(A==null?void 0:A.unitId)||(m==null?void 0:m.unitId)),L.append("tenantId",F),L.append("subject",D.subject.value),L.append("description",D.description.value),L.append("priority",D.priority.value),m?await B.put(`/api/admin/tickets/${m.dbId}`,{tenantId:parseInt(F),propertyId:parseInt(l),unitId:A==null?void 0:A.unitId,subject:D.subject.value,description:D.description.value,priority:D.priority.value}):(D.images.files.length>0&&Array.from(D.images.files).forEach(_=>{L.append("images",_)}),D.video.files.length>0&&L.append("video",D.video.files[0]),await B.post("/api/admin/tickets",L,{headers:{"Content-Type":"multipart/form-data"}})),S(),x(!1),j(null),o(""),b(m?"Ticket Updated Successfully!":"Ticket Created Successfully!"),setTimeout(()=>b(""),3e3)}catch(L){console.error("Error saving ticket:",L),alert("Failed to save ticket")}};return a.jsx(Ce,{title:"Maintenance Tickets",children:a.jsxs("div",{className:"flex flex-col gap-6 relative",children:[g&&a.jsx("div",{className:"fixed top-24 right-8 z-[100] animate-in slide-in-from-right-full duration-500",children:a.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3",children:[a.jsx(yn,{size:20}),a.jsx("span",{className:"font-bold",children:g})]})}),a.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-[0_5px_15px_rgba(0,0,0,0.06)] gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-indigo-500 focus-within:ring-4 focus-within:ring-indigo-500/10 transition-all w-full md:w-auto md:min-w-[320px]",children:[a.jsx(Jt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by ID, tenant, or subject",value:c,onChange:I=>d(I.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm font-medium"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(V,{variant:"secondary",size:"sm",children:[a.jsx(Ao,{size:16}),"Filters"]}),a.jsxs(V,{variant:"primary",size:"sm",onClick:()=>x(!0),children:[a.jsx(jt,{size:16}),"Add Ticket"]})]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.08)] overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_1.5fr_1.2fr_1.2fr_1fr_1fr_0.5fr] bg-slate-50 border-b border-slate-200 px-6 py-4",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Ticket ID"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Subject"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tenant"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Unit"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Priority"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider text-center",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:O.map((I,D)=>a.jsxs("div",{className:"grid grid-cols-[1fr_1.5fr_1.2fr_1.2fr_1fr_1fr_0.5fr] px-6 py-4 items-center hover:bg-slate-50/80 transition-all duration-200",children:[a.jsx("span",{className:"text-sm font-medium text-indigo-600",children:I.id}),a.jsx("span",{className:"text-sm text-slate-700 font-medium truncate pr-4",children:I.subject}),a.jsx("button",{onClick:()=>{y(I.tenantDetails||{name:I.tenant})},className:"text-sm text-indigo-600 font-semibold hover:underline text-left w-fit",children:I.tenant}),a.jsx("span",{className:"text-sm text-slate-500",children:I.unit}),a.jsx("span",{children:a.jsx("span",{className:ue("px-2 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight",VZ[I.priority]),children:I.priority})}),a.jsxs("span",{className:"flex items-center gap-2 text-sm text-slate-700",children:[WZ[I.status],I.status]}),a.jsxs("span",{className:"flex justify-center gap-1",children:[a.jsx("button",{onClick:()=>f(I),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all",title:"View Details",children:a.jsx(Tt,{size:16})}),a.jsx("button",{onClick:()=>{var F;j(I),o(((F=I.propertyId)==null?void 0:F.toString())||""),x(!0)},className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-amber-600 hover:bg-amber-50 transition-all",title:"Edit Ticket",children:a.jsx(ta,{size:16})}),a.jsx("button",{onClick:()=>M(I.dbId),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-rose-600 hover:bg-rose-50 transition-all",title:"Delete Ticket",children:a.jsx($t,{size:16})})]})]},I.id))})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:u.id}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Created: ",u.createdAt]})]}),a.jsx("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Tenant"}),a.jsx("p",{className:"font-medium text-slate-700",children:u.tenant})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Unit"}),a.jsx("p",{className:"font-medium text-slate-700",children:u.unit})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Subject"}),a.jsx("p",{className:"text-slate-700 bg-slate-50 p-3 rounded-lg border border-slate-100 mt-1",children:u.subject})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Description"}),a.jsx("p",{className:"text-slate-600 text-sm mt-1",children:u.desc||"No description provided"})]}),u.attachments&&u.attachments.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Attachments"}),a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-3",children:u.attachments.map((I,D)=>a.jsxs("div",{className:"border border-slate-200 rounded-lg p-2 bg-slate-50",children:[I.type==="image"&&a.jsx("img",{src:I.url,alt:"attachment",className:"w-full h-32 object-cover rounded-md"}),I.type==="video"&&a.jsx("video",{src:I.url,controls:!0,className:"w-full h-32 rounded-md"}),a.jsx("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-indigo-600 font-semibold mt-2 text-center hover:underline",children:"Open in new tab"})]},D))})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 flex flex-col gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Update Status"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Open","In Progress","Resolved"].map(I=>a.jsx("button",{onClick:()=>E(u.id,I),className:ue("px-4 py-2 rounded-lg text-sm font-medium transition-all border",u.status===I?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100":"bg-white text-slate-600 border-slate-200 hover:border-indigo-300"),children:I},I))})]})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx(V,{variant:"primary",onClick:()=>f(null),children:"Close"})})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300 max-h-[90vh] overflow-y-auto",onSubmit:$,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:m?"Edit Ticket":"New Maintenance Ticket"}),a.jsx("button",{type:"button",onClick:()=>{x(!1),j(null)},className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Building"}),a.jsxs("div",{className:"relative",children:[a.jsx(pd,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{value:l,onChange:I=>o(I.target.value),required:!0,className:"w-full pl-12 pr-10 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 bg-white appearance-none text-slate-800 font-medium",children:[a.jsx("option",{value:"",children:"Select Building"}),n.map(I=>a.jsxs("option",{value:I.id.toString(),children:[I.name,I.civicNumber?` - ${I.civicNumber}`:""]},I.id))]}),a.jsx(mt,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Tenant"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"tenantId",required:!0,defaultValue:m==null?void 0:m.tenantId,disabled:!l,className:"w-full pl-12 pr-10 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 bg-white appearance-none text-slate-800 font-medium disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Tenant"}),s.map(I=>a.jsxs("option",{value:I.id,children:[I.name," (",I.unit,")"]},I.id))]}),a.jsx(mt,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Subject"}),a.jsx("input",{name:"subject",required:!0,defaultValue:m==null?void 0:m.subject,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500",placeholder:"e.g. Toilet leaking"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Description"}),a.jsx("textarea",{name:"description",defaultValue:m==null?void 0:m.desc,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 h-24 resize-none",placeholder:"Describe the issue in detail..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Priority"}),a.jsxs("select",{name:"priority",defaultValue:(m==null?void 0:m.priority)||"Low",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 bg-white",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Images"}),a.jsx("input",{type:"file",name:"images",multiple:!0,accept:".jpg,.png,.jpeg",className:"w-full text-xs text-slate-500 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-black file:bg-slate-100 file:text-slate-600 cursor-pointer"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Video"}),a.jsx("input",{type:"file",name:"video",accept:".mp4,.mov",className:"w-full text-xs text-slate-500 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-black file:bg-slate-100 file:text-slate-600 cursor-pointer"})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>{x(!1),j(null)},children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:m?"Update Ticket":"Save Ticket"})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-sm shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Tenant Info"}),a.jsx("button",{onClick:()=>y(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(je,{size:24})})]}),a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 border-4 border-white shadow-lg",children:a.jsx(zt,{size:40})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold text-slate-900",children:h.name}),a.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-1",children:[a.jsx("span",{className:ue("w-2 h-2 rounded-full",h.leaseStatus==="Active"?"bg-emerald-500":"bg-red-500")}),a.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:[h.leaseStatus," Lease"]})]})]})]}),a.jsx("div",{className:"mt-8 space-y-3",children:a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white text-slate-400 shadow-sm",children:a.jsx(pd,{size:18})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Assigned Unit"}),a.jsxs("p",{className:"font-semibold text-slate-700",children:[h.property,"  ",h.unit]})]})]})}),a.jsxs("div",{className:"mt-8 flex gap-3",children:[a.jsx(V,{variant:"secondary",className:"flex-1",onClick:()=>y(null),children:"Close"}),a.jsx(V,{variant:"primary",className:"flex-1",children:"View Full Profile"})]})]})})]})})},er={sendMessage:async(e,t)=>(await B.post("/api/communication/send",{receiverId:e,content:t})).data,getHistory:async e=>(await B.get(`/api/communication/history/${e}`)).data,getConversations:async()=>(await B.get("/api/communication/conversations")).data,markAsRead:async e=>(await B.post("/api/communication/mark-read",{senderId:e})).data},qZ=()=>{var L;const[e,t]=w.useState(null),[n,r]=w.useState([]),[s,i]=w.useState("ALL"),[l,o]=w.useState(""),[c,d]=w.useState(null),[u,f]=w.useState([]),[p,x]=w.useState([]),[m,j]=w.useState(""),[h,y]=w.useState(!1),[g,b]=w.useState(!1),[N,v]=w.useState(!1),S=w.useRef(null);w.useRef(null),w.useEffect(()=>{const _=localStorage.getItem("user");_&&t(JSON.parse(_)),k()},[]);const k=async()=>{try{v(!0);const _=await er.getConversations();r(_||[])}catch(_){console.error(_)}finally{v(!1)}},C=async()=>{try{y(!0);const _=await B.get("/api/admin/communication");x(_.data)}catch(_){console.error(_)}finally{y(!1)}};w.useEffect(()=>{s==="AUDIT"&&(C(),d(null))},[s]);const E=(()=>{if(s==="AUDIT")return[];let _=n;return s!=="ALL"&&(s==="RESIDENT"?_=_.filter(P=>P.role==="RESIDENT"||P.isResident):_=_.filter(P=>P.role===s&&!P.isResident)),l&&(_=_.filter(P=>{var U,G;return((U=P.name)==null?void 0:U.toLowerCase().includes(l.toLowerCase()))||((G=P.email)==null?void 0:G.toLowerCase().includes(l.toLowerCase()))})),_})(),M=E.filter(_=>(_.unreadCount||0)>0),$=M.map(_=>_.name||_.email||"Someone").join(", "),I=async _=>{d(_),f([]),y(!0);const P=typeof _.id=="string"&&_.id.startsWith("resident_")?parseInt(_.id.replace("resident_",""),10):_.id;if(!isNaN(P))try{await er.markAsRead(P),await k()}catch{}await D(_.id),y(!1)},D=async _=>{try{const P=await er.getHistory(_);f(P),A()}catch(P){console.error(P)}},F=async _=>{if(_.preventDefault(),!(!m.trim()||!c)){b(!0);try{await er.sendMessage(c.id,m),j(""),D(c.id)}catch(P){console.error(P)}finally{b(!1)}}},A=()=>{var _;return(_=S.current)==null?void 0:_.scrollIntoView({behavior:"smooth"})};return a.jsx(Ce,{title:"Communication Hub",children:a.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-white rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] overflow-hidden",children:[a.jsxs("div",{className:"w-[340px] border-r border-slate-100 flex flex-col bg-slate-50/50",children:[a.jsxs("div",{className:"p-4 bg-white border-b border-slate-100 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-bold text-slate-800",children:"History"}),a.jsx("button",{onClick:k,className:`p-2 rounded-full hover:bg-slate-100 ${N?"animate-spin":""}`,children:a.jsx(Vn,{size:16})})]}),a.jsx("div",{className:"flex p-1 bg-slate-100 rounded-lg overflow-x-auto scrollbar-hide",children:["ALL","TENANT","OWNER","RESIDENT","AUDIT"].map(_=>a.jsx("button",{onClick:()=>i(_),className:`flex-1 min-w-[60px] py-1.5 text-[10px] font-black uppercase tracking-widest rounded-md transition-all ${s===_?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:_==="AUDIT"?"Audit Trail":_},_))}),s!=="AUDIT"&&a.jsxs("div",{className:"relative",children:[a.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search contact...",className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",value:l,onChange:_=>o(_.target.value)})]}),s!=="AUDIT"&&M.length>0&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-50 border border-amber-200",children:[a.jsx(GA,{className:"flex-shrink-0 text-amber-600",size:18}),a.jsxs("p",{className:"text-xs font-semibold text-amber-800",children:["New message",M.length>1?"s":""," from: ",a.jsx("span",{className:"font-bold",children:$})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:s==="AUDIT"?a.jsxs("div",{className:"p-4 text-center text-slate-400 space-y-2 mt-10 px-8",children:[a.jsx(sr,{size:32,className:"mx-auto opacity-20"}),a.jsx("p",{className:"text-sm font-bold",children:"Audit Trail Mode"}),a.jsx("p",{className:"text-[11px]",children:"Monitoring all outgoing automated system notifications."})]}):E.map(_=>{var U;const P=(_.unreadCount||0)>0;return a.jsxs("div",{onClick:()=>I(_),className:`p-4 flex items-center gap-3 cursor-pointer border-b border-slate-50 hover:bg-white group ${(c==null?void 0:c.id)===_.id?"bg-white border-l-4 border-l-indigo-600":"border-l-4 border-l-transparent"} ${P?"bg-amber-50/70":""}`,children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${P?"bg-amber-100 text-amber-700 ring-2 ring-amber-300":"bg-indigo-50 text-indigo-600"}`,children:((U=_.name)==null?void 0:U.charAt(0))||"U"}),P&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex h-4 min-w-4 items-center justify-center rounded-full bg-amber-500 text-[10px] font-black text-white px-1",children:_.unreadCount>99?"99+":_.unreadCount})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h4",{className:`text-sm font-semibold truncate ${P?"text-amber-900":"text-slate-700"}`,children:[_.name||_.email,P&&a.jsx("span",{className:"ml-1 text-[10px] font-black text-amber-600 uppercase",children:"(new)"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black",children:_.role})]})]},_.id)})})]}),a.jsx("div",{className:"flex-1 flex flex-col bg-slate-50 relative overflow-hidden",children:s==="AUDIT"?a.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Outgoing Communication Audit"}),h?a.jsx("div",{className:"p-20 text-center",children:a.jsx(Vn,{className:"animate-spin mx-auto text-slate-200",size:48})}):a.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Time"}),a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Recipient"}),a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Event"}),a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Channel"}),a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:p.map(_=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"p-4 text-xs font-medium text-slate-500",children:_.date}),a.jsx("td",{className:"p-4 text-sm font-bold text-slate-700",children:_.recipient}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-600 rounded text-[9px] font-black uppercase tracking-widest",children:_.eventType})}),a.jsx("td",{className:"p-4 text-xs font-bold text-slate-400",children:_.channel}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${_.status==="Sent"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:_.status})})]},_.id))})]})})]})}):c?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-[73px] px-6 bg-white border-b border-slate-100 flex items-center justify-between shadow-sm z-20",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-sm",children:((L=c.name)==null?void 0:L.charAt(0))||"U"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-800",children:c.name||c.email}),a.jsx("p",{className:"text-[10px] text-emerald-600 font-black uppercase tracking-widest",children:"Online"})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[u.map((_,P)=>{const U=_.senderId===(e==null?void 0:e.id);return a.jsx("div",{className:`flex ${U?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[70%] px-5 py-3 rounded-2xl text-sm ${U?"bg-indigo-600 text-white":"bg-white text-slate-700 shadow-sm border border-slate-100"}`,children:_.content})},_.id||P)}),a.jsx("div",{ref:S})]}),a.jsx("div",{className:"p-4 bg-white border-t border-slate-100",children:a.jsxs("form",{onSubmit:F,className:"flex gap-3",children:[a.jsx("input",{type:"text",value:m,onChange:_=>j(_.target.value),placeholder:"Type a message...",className:"flex-1 h-12 px-5 bg-slate-50 border border-slate-200 rounded-xl text-sm"}),a.jsx("button",{type:"submit",disabled:g,className:"h-12 w-12 bg-indigo-600 text-white rounded-xl flex items-center justify-center",children:a.jsx(To,{size:20})})]})})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[a.jsx(zt,{size:64,className:"opacity-10 mb-4"}),a.jsx("p",{className:"font-bold",children:"Select a user to chat"})]})})]})})},el=10,Wj=5,GZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(0),[s,i]=w.useState(1),[l,o]=w.useState(1),[c]=w.useState(el),[d,u]=w.useState(!0),[f,p]=w.useState(""),[x,m]=w.useState(null),[j,h]=w.useState(!1),[y,g]=w.useState(""),[b,N]=w.useState(""),[v,S]=w.useState(""),[k,C]=w.useState(!1),[O,E]=w.useState(""),[M,$]=w.useState(""),[I,D]=w.useState(!1),[F,A]=w.useState([]),[L,_]=w.useState(!1),[P,U]=w.useState(new Set),G=async(X=1)=>{u(!0);try{const pe=(await B.get("/api/admin/communication/emails",{params:{page:X,limit:el}})).data,ve=pe&&typeof pe=="object"&&"data"in pe,be=ve?pe.data||[]:Array.isArray(pe)?pe:[],ze=ve?pe.total??be.length:be.length,Gn=ve&&pe.page||1,Ut=ve&&pe.totalPages!=null?pe.totalPages:Math.ceil(ze/el)||1;t(be),r(ze),i(Gn),o(Math.max(1,Ut))}catch(de){console.error(de),t([]),r(0),o(1)}finally{u(!1)}};w.useEffect(()=>{G(1)},[]);const q=X=>{const de=Math.max(1,Math.min(X,l||1));i(de),G(de)},z=()=>{const X=l||1;if(X<=Wj)return Array.from({length:X},(ve,be)=>be+1);const de=new Set([1,X]),pe=Math.floor(Wj/2);for(let ve=Math.max(1,s-pe);ve<=Math.min(X,s+pe);ve++)de.add(ve);return Array.from(de).sort((ve,be)=>ve-be)},ee=async X=>{var de,pe;if(window.confirm("Remove this email log entry? This cannot be undone.")){m(X);try{await B.delete(`/api/admin/communication/emails/${X}`),await G(e.length===1&&s>1?s-1:s)}catch(ve){console.error(ve),alert(((pe=(de=ve.response)==null?void 0:de.data)==null?void 0:pe.message)||"Failed to delete log.")}finally{m(null)}}},ae=e.filter(X=>(X.recipient||"").toLowerCase().includes(f.toLowerCase())||(X.recipientEmail||"").toLowerCase().includes(f.toLowerCase())||(X.subject||"").toLowerCase().includes(f.toLowerCase())||(X.source||"").toLowerCase().includes(f.toLowerCase())),ge=()=>{h(!0),E(""),$("")},Q=()=>{h(!1),E(""),$(""),k||(g(""),N(""),S(""))},se=async()=>{_(!0);try{const[X,de]=await Promise.all([B.get("/api/admin/tenants").catch(()=>({data:[]})),B.get("/api/admin/owners").catch(()=>({data:[]}))]),pe=Array.isArray(X.data)?X.data:[],ve=Array.isArray(de.data)?de.data:[],be=[...pe.map(ze=>({email:ze.email,name:ze.name||ze.email,type:"Tenant"})),...ve.map(ze=>({email:ze.email,name:ze.name||ze.email,type:"Owner"}))].filter(ze=>ze.email);A(be),D(!0),U(new Set)}catch(X){console.error(X)}finally{_(!1)}},Y=X=>{U(de=>{const pe=new Set(de);return pe.has(X)?pe.delete(X):pe.add(X),pe})},te=()=>{const de=[...y.split(/[\s,;]+/).filter(Boolean),...P];g(de.join(", ")),D(!1)},ie=async X=>{var pe,ve;X.preventDefault(),E(""),$("");const de=(y||"").split(/[\s,;]+/).map(be=>be.trim()).filter(Boolean);if(!de.length){E("Please enter at least one recipient email.");return}if(!b.trim()){E("Please enter a subject.");return}C(!0);try{const be=await B.post("/api/admin/communication/send-email",{recipients:de,subject:b.trim(),body:v.trim()});be.data.success?($(be.data.message||"Email(s) sent successfully."),setTimeout(()=>{Q(),G(1)},1500)):E(be.data.message||"Failed to send.")}catch(be){const ze=((ve=(pe=be.response)==null?void 0:pe.data)==null?void 0:ve.message)||be.message||"Failed to send email. Please try again.";E(ze)}finally{C(!1)}},H=z(),ce=l||1;return a.jsxs(Ce,{title:"Email Logs",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"relative flex items-center bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden min-w-[220px]",children:[a.jsx(Jt,{className:"absolute left-3 w-4 h-4 text-slate-400 pointer-events-none"}),a.jsx("input",{type:"text",placeholder:"Search by recipient, subject...",value:f,onChange:X=>p(X.target.value),className:"w-full pl-10 pr-4 py-2.5 text-sm bg-transparent border-0 outline-none text-slate-800 placeholder-slate-400"})]}),a.jsxs(V,{variant:"secondary",onClick:()=>G(s),disabled:d,className:"shrink-0",children:[a.jsx(Vn,{size:18,className:d?"animate-spin":""}),"Refresh"]})]}),a.jsxs(V,{variant:"primary",onClick:ge,className:"shrink-0 w-full sm:w-auto",children:[a.jsx(To,{size:18}),"Compose Email"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[800px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[a.jsx("th",{className:"w-12 px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Delete"}),a.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest whitespace-nowrap",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Recipient"}),a.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Subject"}),a.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Snippet"}),a.jsx("th",{className:"px-4 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-widest w-24",children:"Source"}),a.jsx("th",{className:"px-4 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-widest w-24",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:d?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-400",children:[a.jsx(Vn,{size:28,className:"animate-spin mx-auto mb-2 text-slate-300"}),a.jsx("p",{className:"text-sm",children:"Loading email logs..."})]})}):ae.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-500",children:[a.jsx(W2,{size:40,className:"mx-auto mb-2 text-slate-300"}),a.jsx("p",{className:"text-sm font-medium",children:"No emails found"}),a.jsx("p",{className:"text-xs mt-1",children:"Send an email or adjust your search."})]})}):ae.map(X=>a.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{type:"button",onClick:()=>ee(X.id),disabled:x===X.id,className:"p-2 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",title:"Delete log",children:a.jsx($t,{size:16,className:x===X.id?"animate-pulse":""})})}),a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 font-medium whitespace-nowrap",children:X.date}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-800",children:X.recipient||""}),a.jsx("span",{className:"text-xs text-slate-500",children:X.recipientEmail||""})]})}),a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-indigo-600 max-w-[200px] truncate",title:X.subject,children:X.subject||""}),a.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 max-w-[240px] truncate",title:X.message,children:X.message||""}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold ${X.source==="Manual"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-600"}`,children:X.source||"System"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:X.status==="Sent"?a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-emerald-700 bg-emerald-100 px-2.5 py-1 rounded-full",children:[a.jsx(yn,{size:12})," Sent"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-red-700 bg-red-100 px-2.5 py-1 rounded-full",children:[a.jsx(eE,{size:12})," Failed"]})})]},X.id))})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 px-4 py-4 bg-slate-50 border-t border-slate-200",children:[a.jsx("p",{className:"text-sm text-slate-600 order-2 sm:order-1",children:n===0?"No emails":`Showing ${(s-1)*el+1}${Math.min(s*el,n)} of ${n}`}),a.jsxs("div",{className:"flex items-center justify-center gap-1 order-1 sm:order-2",children:[a.jsx("button",{type:"button",onClick:()=>q(s-1),disabled:s<=1||d,className:"p-2 rounded-lg border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:a.jsx(FA,{size:18})}),H.map((X,de)=>a.jsxs(R.Fragment,{children:[de>0&&H[de-1]!==X-1&&a.jsx("span",{className:"px-2 text-slate-400 text-sm",children:""}),a.jsx("button",{type:"button",onClick:()=>q(X),disabled:d,className:`min-w-[36px] h-9 px-2 rounded-lg border text-sm font-medium transition-colors ${s===X?"bg-indigo-600 border-indigo-600 text-white":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"} disabled:opacity-50`,children:X})]},X)),a.jsx("button",{type:"button",onClick:()=>q(s+1),disabled:s>=ce||d,className:"p-2 rounded-lg border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:a.jsx(B2,{size:18})})]})]})]})]}),j&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Compose Email"}),a.jsx("button",{type:"button",onClick:Q,disabled:k,className:"p-2 rounded-lg hover:bg-slate-100 text-slate-500",children:a.jsx(je,{size:20})})]}),a.jsxs("form",{onSubmit:ie,className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[O&&a.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:O}),M&&a.jsx("div",{className:"p-3 rounded-lg bg-emerald-50 border border-emerald-200 text-emerald-700 text-sm",children:M}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"To (email addresses, comma-separated)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:y,onChange:X=>g(X.target.value),placeholder:"e.g. user@example.com, other@example.com",className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),a.jsxs(V,{type:"button",variant:"secondary",onClick:se,disabled:L,children:[a.jsx(ZA,{size:16})," ",L?"...":"Choose"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",value:b,onChange:X=>N(X.target.value),placeholder:"Email subject",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Message"}),a.jsx("textarea",{value:v,onChange:X=>S(X.target.value),placeholder:"Write your message...",rows:6,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm resize-none",required:!0})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t border-slate-200 bg-slate-50",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:Q,disabled:k,children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",disabled:k,children:k?"Sending...":"Send Email"})]})]})]})}),I&&a.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Select recipients"}),a.jsx("button",{type:"button",onClick:()=>D(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:a.jsx(je,{size:18})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:F.length===0?a.jsx("p",{className:"text-sm text-slate-500",children:"No tenants or owners with email found."}):F.map(X=>a.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:P.has(X.email),onChange:()=>Y(X.email)}),a.jsx("span",{className:"text-sm font-medium text-slate-800",children:X.name}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",X.email,")"]})]},X.email))}),a.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-2",children:[a.jsx(V,{variant:"secondary",onClick:()=>D(!1),children:"Cancel"}),a.jsx(V,{variant:"primary",onClick:te,children:"Add to To field"})]})]})})]})},KZ=()=>(w.useEffect(()=>{const t="google-translate-script",n=document.getElementById(t);n&&n.remove(),window.googleTranslateElementInit&&delete window.googleTranslateElementInit,window.google&&window.google.translate;const r=()=>{if(window.google&&window.google.translate&&window.google.translate.TranslateElement){const c=document.getElementById("google_translate_element");c&&(c.innerHTML="",new window.google.translate.TranslateElement({pageLanguage:"en",includedLanguages:"en,fr",layout:window.google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay:!1},"google_translate_element"),i())}};window.googleTranslateElementInit=r;const s=document.createElement("script");s.id=t,s.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",s.async=!0,document.body.appendChild(s);const i=()=>{document.querySelectorAll('.goog-te-banner-frame.skiptranslate, .goog-te-banner-frame, iframe[id=":2.container"], iframe[class*="banner"]').forEach(d=>{d&&!d.classList.contains("goog-te-menu-frame")&&(d.style.display="none",d.style.visibility="hidden",d.style.height="0",d.style.opacity="0")}),(document.body.style.top!=="0px"||document.body.style.marginTop!=="0px"||document.body.style.position!=="static")&&(document.body.style.top="0px",document.body.style.marginTop="0px",document.body.style.position="")},l=setInterval(i,1e3),o=new MutationObserver(i);return o.observe(document.body,{childList:!0,subtree:!0}),()=>{clearInterval(l),o.disconnect()}},[]),a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
    /* Safe Styles to ensure visibility while trying to be clean */
    .goog-te-banner-frame {
        display: none !important;
        visibility: hidden !important;
    }
    
    body {
        top: 0px !important; 
    }

    /* Hide the Google Icon only if it doesn't break layout */
    .goog-te-gadget-icon {
        display: none !important;
    }

    /* Basic styling for the container */
    .goog-te-gadget-simple {
        background-color: transparent !important;
        border: none !important;
        padding: 0 !important;
        font-family: inherit !important;
    }

    /* Ensure dropdown is visible */
    .goog-te-combo {
        color: #1e293b !important;
        border: 1px solid #e2e8f0 !important;
        border-radius: 6px !important;
        padding: 6px !important;
        font-size: 14px !important;
        outline: none !important;
        background: white !important;
    }
  `}),a.jsx("div",{id:"google_translate_element",className:"google-translate-container relative z-50"})]})),XZ=()=>{const[e,t]=w.useState({notifications:!0,autoInvoices:!0,twoFactor:!1,companyName:"My Property Management",currency:"CAD ($)",paymentCycle:"Monthly",lateFee:5}),[n,r]=w.useState({activeUsers:0,systemStatus:"Checking...",storageUsage:"Checking...",lastBackup:"Never"});w.useEffect(()=>{s()},[]);const s=async()=>{try{const o=await B.get("/api/admin/settings"),c=o.data.settings||{},d={};Object.keys(c).forEach(u=>{c[u]==="true"?d[u]=!0:c[u]==="false"?d[u]=!1:d[u]=c[u]}),t(u=>({...u,...d})),r(o.data.stats)}catch(o){console.error(o)}},i=async(o,c)=>{t(d=>({...d,[o]:c}));try{await B.post("/api/admin/settings",{[o]:c})}catch(d){console.error(d)}},l=o=>{i(o,!e[o])};return a.jsx(Ce,{title:"Application Settings",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-5",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"System Status"}),a.jsx("p",{className:"text-lg font-semibold mt-1.5 text-emerald-600",children:n.systemStatus})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Storage Usage"}),a.jsx("p",{className:"text-lg font-semibold mt-1.5 text-slate-900",children:n.storageUsage})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Active Users"}),a.jsxs("p",{className:"text-lg font-semibold mt-1.5 text-slate-900",children:[n.activeUsers," Users"]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Last Backup"}),a.jsx("p",{className:"text-lg font-semibold mt-1.5 text-slate-900",children:n.lastBackup!=="Never"?new Date(n.lastBackup).toLocaleDateString()+" "+new Date(n.lastBackup).toLocaleTimeString():"Never"})]})]}),a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(320px,1fr))] gap-6",children:[a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"Language Settings"}),a.jsxs("div",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:[a.jsx("span",{className:"mb-2",children:"Select Application Language"}),a.jsx("div",{className:"relative z-10",children:a.jsx(KZ,{})})]})]}),a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"General Settings"}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Company Name",a.jsx("input",{value:e.companyName,onChange:o=>i("companyName",o.target.value),className:"h-[38px] px-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all font-medium text-slate-900"})]}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Company Address",a.jsx("textarea",{value:e.companyAddress||"",onChange:o=>i("companyAddress",o.target.value),placeholder:`e.g. 123 Business Avenue, Suite 500
Toronto, ON M5V 2N8`,className:"px-2.5 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all font-medium text-slate-900 min-h-[60px] resize-none"})]}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Default Currency",a.jsxs("select",{value:e.currency,onChange:o=>i("currency",o.target.value),className:"h-[38px] px-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all bg-white font-medium text-slate-900",children:[a.jsx("option",{children:"CAD ($)"}),a.jsx("option",{children:"INR ()"}),a.jsx("option",{children:"USD ($)"}),a.jsx("option",{children:"AED (.)"})]})]})]}),a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"Notifications"}),a.jsxs("div",{className:"flex justify-between items-center mb-3.5",children:[a.jsx("span",{className:"text-[13px] font-medium text-slate-700",children:"Email Notifications"}),a.jsx("button",{className:`w-11 h-[22px] rounded-full relative cursor-pointer border-none transition-colors ${e.notifications?"bg-indigo-600":"bg-gray-200"}`,onClick:()=>l("notifications"),children:a.jsx("span",{className:`block w-[18px] h-[18px] bg-white rounded-full absolute top-[2px] transition-all shadow-sm ${e.notifications?"left-[24px]":"left-[2px]"}`})})]}),a.jsxs("div",{className:"flex justify-between items-center mb-3.5",children:[a.jsx("span",{className:"text-[13px] font-medium text-slate-700",children:"Auto Invoice Generation"}),a.jsx("button",{className:`w-11 h-[22px] rounded-full relative cursor-pointer border-none transition-colors ${e.autoInvoices?"bg-indigo-600":"bg-gray-200"}`,onClick:()=>l("autoInvoices"),children:a.jsx("span",{className:`block w-[18px] h-[18px] bg-white rounded-full absolute top-[2px] transition-all shadow-sm ${e.autoInvoices?"left-[24px]":"left-[2px]"}`})})]})]}),a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"Security"}),a.jsxs("div",{className:"flex justify-between items-center mb-3.5",children:[a.jsx("span",{className:"text-[13px] font-medium text-slate-700",children:"Two-Factor Authentication"}),a.jsx("button",{className:`w-11 h-[22px] rounded-full relative cursor-pointer border-none transition-colors ${e.twoFactor?"bg-indigo-600":"bg-gray-200"}`,onClick:()=>l("twoFactor"),children:a.jsx("span",{className:`block w-[18px] h-[18px] bg-white rounded-full absolute top-[2px] transition-all shadow-sm ${e.twoFactor?"left-[24px]":"left-[2px]"}`})})]}),a.jsx("button",{className:"mt-2.5 w-full bg-red-50 text-red-700 border-none p-2.5 rounded-lg cursor-pointer hover:bg-red-100 transition-colors text-[13px] font-semibold",children:"Force Logout All Users"})]}),a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"Finance & Payments"}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Payment Cycle",a.jsxs("select",{value:e.paymentCycle,onChange:o=>i("paymentCycle",o.target.value),className:"h-[38px] px-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all bg-white font-medium text-slate-900",children:[a.jsx("option",{children:"Monthly"}),a.jsx("option",{children:"Quarterly"}),a.jsx("option",{children:"Yearly"})]})]}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Late Fee (%)",a.jsx("input",{type:"number",value:e.lateFee,onChange:o=>i("lateFee",o.target.value),className:"h-[38px] px-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all font-medium text-slate-900"})]})]})]})]})})},YZ=()=>{var S,k;const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState(null),[u,f]=w.useState([]),[p,x]=w.useState([]),[m,j]=w.useState(!1);w.useEffect(()=>{h()},[]);const h=async()=>{try{const C=await B.get("/api/admin/owners");t(C.data)}catch(C){console.error("Failed to fetch owners",C)}},y=async(C=null)=>{try{console.log("Fetching available properties with ownerId:",C);const O=C?{ownerId:C}:{};console.log("API params:",O);const E=await B.get("/api/admin/properties/available",{params:O});return console.log("Received properties:",E.data),f(E.data),E.data}catch(O){return console.error("Failed to fetch available properties",O),[]}},g=e.filter(C=>C.name&&C.name.toLowerCase().includes(n.toLowerCase())||C.email&&C.email.toLowerCase().includes(n.toLowerCase())||C.phone&&C.phone.toLowerCase().includes(n.toLowerCase())),b=async C=>{var M,$,I,D;C.preventDefault();const O=C.target,E={firstName:O.firstName.value,lastName:O.lastName.value,name:`${O.firstName.value} ${O.lastName.value}`,email:O.email.value,phone:O.phone.value,companyName:((M=O.companyName)==null?void 0:M.value)||"",isPrimary:(($=O.isPrimary)==null?void 0:$.checked)||!1,propertyIds:p.map(F=>F.id)};try{c?await B.put(`/api/admin/owners/${c.id}`,E):(await B.post("/api/admin/owners",E),alert("Owner account created! Individual login credentials sent.")),h(),i(!1),d(null),x([]),O.reset()}catch(F){console.error(F),alert(((D=(I=F.response)==null?void 0:I.data)==null?void 0:D.message)||"Error saving owner")}},N=async C=>{if(window.confirm("Are you sure? This will delete the login but preserve property data."))try{await B.delete(`/api/admin/owners/${C}`),h()}catch(O){console.error(O),alert("Error deleting owner")}},v=async C=>{const O=await y(C.id);d(C);const E=O.filter(M=>Number(M.ownerId)===Number(C.id));x(E),i(!0)};return a.jsx(Ce,{title:"Owners Management",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-[0_5px_15px_rgba(0,0,0,0.06)] gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-indigo-500 focus-within:ring-4 focus-within:ring-indigo-500/10 transition-all w-full md:w-auto md:min-w-[320px]",children:[a.jsx(Jt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by name, company, email...",value:n,onChange:C=>r(C.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm font-medium"})]}),a.jsxs(V,{variant:"primary",onClick:()=>{d(null),x([]),y(),i(!0)},children:[a.jsx(jt,{size:18}),"Add New Owner"]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.08)] overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[1.2fr_1.2fr_1.2fr_1.2fr_0.6fr_0.8fr] bg-slate-50 border-b border-slate-200 px-6 py-4",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Contact Name"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Company"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Email (Login)"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Assigned Portfolio"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Units"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider text-center",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:g.map(C=>a.jsxs("div",{className:"grid grid-cols-[1.2fr_1.2fr_1.2fr_1.2fr_0.6fr_0.8fr] px-6 py-4 items-center hover:bg-slate-50/80 transition-all duration-200",children:[a.jsxs("span",{className:"flex items-center gap-3 font-medium text-slate-700",children:[a.jsx("div",{className:`min-w-[32px] w-8 h-8 rounded-full flex items-center justify-center ${C.isPrimaryContact?"bg-indigo-600 text-white":"bg-slate-100 text-slate-500"}`,children:a.jsx(zt,{size:16})}),a.jsxs("span",{className:"truncate flex flex-col",children:[C.name,C.isPrimaryContact&&a.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-tight",children:"Primary"})]})]}),a.jsx("span",{className:"text-sm text-indigo-600 truncate font-bold",children:C.companyName||"-"}),a.jsx("span",{className:"text-sm text-slate-600 truncate",children:C.email}),a.jsx("span",{className:"text-sm text-slate-600 truncate italic",children:C.properties.length>0?C.properties.join(", "):"No properties assigned"}),a.jsx("span",{className:"text-sm font-bold text-slate-700",children:C.totalUnits}),a.jsxs("span",{className:"flex justify-center gap-1",children:[a.jsx("button",{onClick:()=>o(C),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all",children:a.jsx(Tt,{size:16})}),a.jsx("button",{onClick:()=>v(C),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-all",children:a.jsx(Eo,{size:16})}),a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-all",onClick:()=>N(C.id),children:a.jsx($t,{size:16})})]})]},C.id))})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("form",{className:"bg-white rounded-2xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 max-h-[90vh] overflow-y-auto",onSubmit:b,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:c?"Edit Portfolio Access":"Create Owner Access"}),a.jsx("button",{type:"button",onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Entity / Company"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Company Name"}),a.jsx("input",{name:"companyName",defaultValue:(c==null?void 0:c.companyName)||"",placeholder:"e.g. Grand Holdings Ltd",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Adding multiple users to the same company allows them to share property visibility."})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Primary Contact (Login User)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"First Name"}),a.jsx("input",{name:"firstName",defaultValue:((S=c==null?void 0:c.name)==null?void 0:S.split(" ")[0])||"",placeholder:"First Name",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Last Name"}),a.jsx("input",{name:"lastName",defaultValue:((k=c==null?void 0:c.name)==null?void 0:k.split(" ").slice(1).join(" "))||"",placeholder:"Last Name",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email (Username)"}),a.jsx("input",{name:"email",type:"email",defaultValue:(c==null?void 0:c.email)||"",placeholder:"contact@company.com",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),a.jsx("input",{name:"phone",type:"tel",defaultValue:(c==null?void 0:c.phone)||"+1",placeholder:"+1 (555) 000-0000",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-dashed border-slate-200",children:[a.jsx("input",{type:"checkbox",name:"isPrimary",id:"isPrimary",defaultChecked:c==null?void 0:c.isPrimaryContact,className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"}),a.jsx("label",{htmlFor:"isPrimary",className:"text-sm font-semibold text-slate-700 cursor-pointer",children:"Set as Primary Contact for this Company"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Building Assignments"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(C=>a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-indigo-50 border border-indigo-100 rounded-lg text-sm font-medium text-indigo-700",children:[C.name,a.jsx("button",{type:"button",onClick:()=>x(O=>O.filter(E=>E.id!==C.id)),className:"hover:text-indigo-900",children:""})]},C.id))}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>j(!m),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-left text-slate-700 hover:border-indigo-400 transition-all font-medium flex justify-between items-center",children:[a.jsx("span",{className:p.length===0?"text-slate-400":"",children:p.length>0?"Assign more buildings...":"Select Buildings to Assign"}),a.jsx(jt,{size:16})]}),m&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border border-slate-100 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:u.filter(C=>!p.some(O=>O.id===C.id)).map(C=>a.jsxs("button",{type:"button",onClick:()=>{x([...p,C]),j(!1)},className:"w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0 text-slate-700 font-medium text-sm flex items-center justify-between",children:[C.name,a.jsx("span",{className:"text-[10px] bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:"Add"})]},C.id))})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-slate-100",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>{i(!1),d(null)},children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",children:c?"Sync Portfolio":"Create Access"})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 border border-indigo-100 font-bold text-lg",children:l.name.split(" ").map(C=>C[0]).join("")}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:l.name}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Owner Details"})]})]}),a.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-all text-slate-400",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Email"}),a.jsx("p",{className:"text-slate-700 font-medium",children:l.email})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Phone"}),a.jsx("p",{className:"text-slate-700 font-medium",children:l.phone||"N/A"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Properties & Units"}),a.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Total Units Managed"}),a.jsxs("span",{className:"text-sm font-black text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-lg",children:[l.totalUnits," Units"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.properties.map((C,O)=>a.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-semibold text-slate-700 shadow-sm",children:[a.jsx(sa,{size:12,className:"text-slate-400"}),C]},O))})]})]})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx(V,{variant:"secondary",onClick:()=>o(null),children:"Close"})})]})})]})})},QZ=()=>localStorage.getItem("tenantLoggedIn")==="true"?a.jsx(l0,{}):a.jsx(_s,{to:"/tenant/login",replace:!0}),JZ=[{icon:h0,label:"Dashboard",path:"/tenant/dashboard"},{icon:Ee,label:"My Lease",path:"/tenant/lease"},{icon:jn,label:"My Invoices",path:"/tenant/invoices"},{icon:jn,label:"Pay Rent",path:"/tenant/payments"},{icon:V2,label:"My Documents",path:"/tenant/documents"},{icon:kr,label:"Insurance",path:"/tenant/insurance"},{icon:Ll,label:"Maintenance Tickets",path:"/tenant/tickets"},{icon:yi,label:"Messages",path:"/tenant/communication"},{icon:p0,label:"Reports",path:"/tenant/reports"}],ZZ=({isOpen:e,onClose:t})=>{const n=()=>{localStorage.removeItem("tenantLoggedIn"),window.location.href="/tenant/login"};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:ue("fixed inset-0 bg-black/40 z-40 lg:hidden transition-opacity duration-300",e?"opacity-100 block":"opacity-0 hidden"),onClick:t}),a.jsxs("aside",{className:ue("fixed left-0 top-0 h-screen w-[260px] bg-white border-r border-slate-100 shadow-xl z-50 transition-transform duration-300 ease-in-out flex flex-col",e?"translate-x-0":"-translate-x-full","lg:translate-x-0"),children:[a.jsxs("div",{className:"h-20 flex items-center px-6 justify-between border-b border-slate-100 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("img",{src:"/assets/logo.png",alt:"Masteko Logo",className:"h-10 w-auto object-container"})}),a.jsx("button",{className:"lg:hidden p-2 text-slate-500 hover:bg-slate-100 rounded-md transition",onClick:t,children:a.jsx(je,{size:20})})]}),a.jsxs("nav",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-1 custom-scrollbar flex flex-col",children:[a.jsx("div",{className:"flex-1 space-y-1",children:JZ.map(r=>a.jsxs(o0,{to:r.path,onClick:t,className:({isActive:s})=>ue("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 group relative",s?"bg-primary-50 text-priority-600 shadow-sm border border-primary-100/50":"text-slate-600 hover:bg-slate-50 hover:text-slate-900",s&&"after:absolute after:left-0 after:top-1/2 after:-translate-y-1/2 after:h-8 after:w-1 after:bg-primary-600 after:rounded-r-full"),children:[a.jsx(r.icon,{size:20}),a.jsx("span",{children:r.label})]},r.label))}),a.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-slate-600 hover:bg-red-50 hover:text-red-600 transition-all duration-200 mt-auto border border-transparent hover:border-red-100",children:[a.jsx(x0,{size:20}),a.jsx("span",{children:"Logout"})]})]})]})]})},eee=({title:e="Dashboard",onMenuClick:t})=>a.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 sticky top-0 z-40 lg:px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{className:"block lg:hidden text-slate-600 p-2",onClick:t,children:a.jsx(g0,{size:24})}),a.jsx("h1",{className:"text-lg font-bold text-slate-800",children:e})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"John Smith"}),a.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Building A  301"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold border border-primary-200",children:"JS"})})]})]}),Wn=({children:e,title:t="Tenant Portal"})=>{const[n,r]=w.useState(!1),s=()=>r(!n),i=()=>r(!1);return a.jsxs("div",{className:"flex w-full min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsx(ZZ,{isOpen:n,onClose:i}),a.jsxs("div",{className:"flex flex-col flex-1 min-w-0 transition-all duration-200 ml-0 lg:ml-[260px]",children:[a.jsx(eee,{title:t,onMenuClick:s}),a.jsx("main",{className:"flex-1 w-full max-w-[1400px] mx-auto flex flex-col gap-8 p-4 lg:p-8",children:e})]})]})},tee=()=>{const[e,t]=R.useState("Tenant"),[n,r]=R.useState([{title:"Current Rent",value:"Loading...",subValue:"-",icon:jn,color:"bg-blue-500",path:"/tenant/invoices"},{title:"Lease Status",value:"Loading...",subValue:"-",icon:Ee,color:"bg-emerald-500",path:"/tenant/lease"},{title:"Maintenance",value:"0 Open",subValue:"0 In Progress",icon:Ll,color:"bg-amber-500",path:"/tenant/tickets"},{title:"Insurance",value:"...",subValue:"-",icon:kr,color:"bg-purple-500",path:"/tenant/insurance"}]);return R.useEffect(()=>{(async()=>{try{const i=await B.get("/api/tenant/dashboard"),{tenantName:l,stats:o}=i.data;t(l||"Tenant"),r([{title:"Current Rent",value:`$${o.currentRent.toLocaleString("en-CA")}`,subValue:o.rentDueStatus,icon:jn,color:"bg-blue-500",path:"/tenant/invoices"},{title:"Lease Status",value:o.leaseStatus,subValue:o.leaseExpiry?new Date(o.leaseExpiry).toLocaleDateString():"N/A",icon:Ee,color:"bg-emerald-500",path:"/tenant/lease"},{title:"Maintenance",value:`${o.openTickets} Open`,subValue:"Check Tickets",icon:Ll,color:"bg-amber-500",path:"/tenant/tickets"},{title:"Insurance",value:o.insuranceStatus,subValue:"Check Status",icon:kr,color:"bg-purple-500",path:"/tenant/insurance"}])}catch(i){console.error(i)}})()},[]),a.jsx(Wn,{title:"Dashboard",children:a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("section",{className:"bg-red-50 border border-red-100 rounded-3xl p-6 flex flex-col md:flex-row gap-6 items-center justify-between shadow-sm animate-in slide-in-from-top-4 duration-700",children:[a.jsxs("div",{className:"flex gap-5 items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-2xl flex items-center justify-center text-white shrink-0 shadow-lg shadow-red-100",children:a.jsx(Rt,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-lg font-black text-red-900 leading-tight",children:"Action Required: Insurance Expired"}),a.jsx("p",{className:"text-red-700/80 font-medium text-sm",children:"Your insurance policy has expired. Please upload a renewed policy document immediately to remain compliant."})]})]}),a.jsx(Jn,{to:"/tenant/insurance",className:"bg-red-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-red-700 transition-all shadow-md active:scale-95 whitespace-nowrap",children:"Upload Insurance"})]}),a.jsxs("section",{className:"bg-indigo-600 rounded-3xl p-8 text-white relative overflow-hidden shadow-xl shadow-indigo-100",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsxs("h2",{className:"text-3xl font-bold",children:["Good morning, ",e,"! "]}),a.jsx("p",{className:"text-indigo-100 font-medium text-lg",children:"Your next rent payment is due on Feb 1st, 2026."}),a.jsx("div",{className:"pt-4",children:a.jsxs(Jn,{to:"/tenant/payments",className:"inline-flex items-center gap-2 bg-white text-indigo-600 px-6 py-3 rounded-xl font-bold hover:bg-indigo-50 transition-all shadow-lg hover:translate-y-[-2px] active:scale-95",children:["Pay Rent Now",a.jsx(fd,{size:20})]})})]}),a.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-64 h-64 bg-indigo-500 rounded-full blur-3xl opacity-50"}),a.jsx("div",{className:"absolute bottom-[-20%] left-[-5%] w-48 h-48 bg-indigo-400 rounded-full blur-2xl opacity-30"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,i)=>a.jsxs(Jn,{to:s.path,className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all group active:scale-[0.98]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`w-12 h-12 ${s.color} rounded-xl flex items-center justify-center text-white shadow-lg`,children:a.jsx(s.icon,{size:24})}),a.jsx(fd,{size:18,className:"text-slate-300 group-hover:text-primary transition-colors"})]}),a.jsx("h4",{className:"text-slate-500 font-bold text-sm uppercase tracking-wider",children:s.title}),a.jsxs("div",{className:"mt-1 space-y-1",children:[a.jsx("p",{className:"text-2xl font-black text-slate-800 tracking-tight",children:s.value}),a.jsx("p",{className:"text-sm font-medium text-slate-400",children:s.subValue})]})]},i))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("section",{className:"lg:col-span-2 bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden h-fit",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[a.jsx("h3",{className:"font-black text-slate-800 text-lg",children:"Announcements"}),a.jsx("span",{className:"bg-indigo-50 text-indigo-600 py-1 px-3 rounded-full text-xs font-bold",children:"New"})]}),a.jsx("div",{className:"divide-y divide-slate-50",children:[{title:"Elevator Maintenance",date:"Jan 15",desc:"Building A elevators will be undergoing maintenance from 10 AM to 2 PM.",type:"Warning"},{title:"New Visitor Parking Rules",date:"Jan 10",desc:"Please register all visitor vehicles in the lobby kiosk starting Monday.",type:"Info"}].map((s,i)=>a.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors flex gap-5 items-start",children:[a.jsx("div",{className:`mt-1 w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${s.type==="Warning"?"bg-amber-50 text-amber-600":"bg-blue-50 text-blue-600"}`,children:a.jsx(Rt,{size:20})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:s.title}),a.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:s.date})]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed",children:s.desc})]})]},i))})]}),a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden h-fit",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex items-center justify-between",children:[a.jsx("h3",{className:"font-black text-slate-800 text-lg",children:"Recent Tickets"}),a.jsx(Jn,{to:"/tenant/tickets",className:"text-xs font-bold text-primary hover:underline",children:"View All"})]}),a.jsx("div",{className:"p-2 space-y-1",children:[{id:"T-1025",title:"Leaking Sink",status:"In Progress"},{id:"T-1024",title:"AC Filter",status:"Resolved"}].map((s,i)=>a.jsxs("div",{className:"p-4 rounded-xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 cursor-pointer",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:s.id}),a.jsx("h4",{className:"font-bold text-slate-700",children:s.title}),a.jsxs("div",{className:"mt-2 flex items-center gap-1.5",children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.status==="Resolved"?"bg-emerald-500":"bg-amber-500"}`}),a.jsx("span",{className:`text-[11px] font-bold uppercase tracking-tight ${s.status==="Resolved"?"text-emerald-600":"text-amber-600"}`,children:s.status})]})]},i))})]})]})]})})},nee=()=>{const[e,t]=R.useState(null);return R.useEffect(()=>{(async()=>{try{const r=await B.get("/api/tenant/lease");t(r.data)}catch(r){console.error(r)}})()},[]),e?a.jsx(Wn,{title:"My Lease",children:a.jsxs("div",{className:"max-w-4xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 shadow-xl overflow-hidden shadow-slate-100/50",children:[a.jsxs("div",{className:"bg-primary-600 p-8 text-white flex justify-between items-center",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Standard Lease Agreement"}),a.jsxs("p",{className:"text-primary-100 font-medium",children:["Agreement ID: ",e.id]})]}),a.jsxs("div",{className:"bg-emerald-400/20 text-emerald-50 px-4 py-2 rounded-xl border border-emerald-400/30 flex items-center gap-2 font-bold text-sm",children:[a.jsx(Un,{size:18}),e.status]})]}),a.jsxs("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center shrink-0",children:a.jsx(ea,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Lease Property"}),a.jsxs("h4",{className:"text-lg font-bold text-slate-800",children:[e.property," - Unit ",e.unit]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:e.address})]})]}),a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-50 text-emerald-600 flex items-center justify-center shrink-0",children:a.jsx(Uu,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Monthly Rent"}),a.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["$",e.monthlyRent.toLocaleString("en-CA")]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Due on 1st of every month"})]})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:a.jsx(Lt,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Lease Period"}),a.jsx("h4",{className:"text-lg font-bold text-slate-800",children:"Fixed Term"}),a.jsxs("p",{className:"text-sm text-slate-500 font-medium tracking-tight",children:[new Date(e.startDate).toLocaleDateString(),"  ",new Date(e.endDate).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center shrink-0",children:a.jsx(Ee,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Security Deposit"}),a.jsxs("h4",{className:"text-lg font-bold text-slate-800",children:["$",e.deposit.toLocaleString("en-CA")]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Held in Escrow"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 p-8 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800",children:"Lease Terms"}),a.jsx("div",{className:"space-y-4",children:["Lock-in period: 6 months","Notice period: 2 months","Late fee after 5th: 10%","Annual rent increase: 5%"].map((n,r)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-600",children:n})]},r))})]}),a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 p-8 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800",children:"Contact Support"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed",children:"For any queries regarding your lease agreement, please contact the property management office."}),a.jsxs("div",{className:"pt-2 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-slate-50 border border-slate-100",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Office Phone"}),a.jsx("span",{className:"text-sm font-black text-primary-600 uppercase",children:"+1 555-0123"})]}),a.jsx("button",{className:"w-full py-4 rounded-2xl bg-primary-600 text-white font-bold hover:bg-primary-700 transition-all shadow-lg shadow-primary-50",children:"Message Manager"})]})]})]})]})}):a.jsx(Wn,{title:"My Lease",children:a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading lease details or no active lease found..."})})},ree=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null);return R.useEffect(()=>{(async()=>{try{const i=await B.get("/api/tenant/invoices");t(i.data.map(l=>({...l,amount:`$${l.amount.toLocaleString("en-CA")}`})))}catch(i){console.error(i)}})()},[]),a.jsxs(Wn,{title:"My Invoices",children:[a.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/20",children:[a.jsx("h3",{className:"font-black text-slate-800 text-lg",children:"Invoice History"}),a.jsxs("span",{className:"text-sm font-bold text-slate-400",children:["Showing ",e.length," entries"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-50",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Invoice ID"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Month"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Due Date"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:e.map(s=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-5 font-bold text-slate-700",children:s.id}),a.jsx("td",{className:"px-6 py-5 font-bold text-slate-800",children:s.month}),a.jsx("td",{className:"px-6 py-5 text-sm font-medium text-slate-500",children:s.date}),a.jsx("td",{className:"px-6 py-5 font-black text-slate-800",children:s.amount}),a.jsx("td",{className:"px-6 py-5",children:a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[11px] font-black uppercase tracking-tight border ${s.status==="Paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[s.status==="Paid"?a.jsx(Un,{size:12}):a.jsx(sr,{size:12}),s.status]})}),a.jsx("td",{className:"px-6 py-5 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 outline-none",children:[a.jsx("button",{onClick:()=>r(s),className:"p-2 text-slate-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all",children:a.jsx(Tt,{size:18})}),a.jsx("button",{onClick:async()=>{try{const i=await B.get(`/api/tenant/invoices/${s.dbId}/download`,{responseType:"blob"}),l=window.URL.createObjectURL(new Blob([i.data])),o=document.createElement("a");o.href=l,o.setAttribute("download",`invoice-${s.id}.pdf`),document.body.appendChild(o),o.click(),o.remove()}catch{alert("Download failed")}},className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",children:a.jsx(wn,{size:18})})]})})]},s.id))})]})})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",onClick:()=>r(null),children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",onClick:s=>s.stopPropagation(),children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-50 text-primary-600 flex items-center justify-center",children:a.jsx(Ee,{size:24})}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Invoice Details"}),a.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:n.id})]})]}),a.jsx("button",{onClick:()=>r(null),className:"p-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:a.jsx(je,{size:24})})]}),a.jsxs("div",{className:"p-8 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Billed To"}),a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"John Smith"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Building A - 301"})]}),a.jsxs("div",{className:"space-y-1 text-right",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Issued By"}),a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Masteko Management"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"info@masteko.com"})]})]}),a.jsx("div",{className:"rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase text-left",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase text-right",children:"Amount"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 font-bold text-slate-700",children:["Monthly Rent - ",n.month]}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-800 text-right",children:n.amount})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:"Service Charges"}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-800 text-right",children:"$0.00"})]})]}),a.jsx("tfoot",{className:"bg-slate-50/50",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-800",children:"Total Amount"}),a.jsx("td",{className:"px-6 py-4 font-black text-primary-600 text-lg text-right",children:n.amount})]})})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(V,{variant:"secondary",className:"flex-1 rounded-2xl py-4 h-auto font-bold",onClick:async()=>{try{const s=await B.get(`/api/tenant/invoices/${n.dbId}/download`,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([s.data])),l=document.createElement("a");l.href=i,l.setAttribute("download",`invoice-${n.id}.pdf`),document.body.appendChild(l),l.click(),l.remove()}catch{alert("Download failed")}},children:"Download PDF"}),n.status==="Due"&&a.jsx(V,{variant:"primary",className:"flex-1 rounded-2xl py-4 h-auto font-bold",children:"Pay Now"})]})]})]})})]})},aee=()=>{var f,p,x;const[e,t]=w.useState("card"),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState(!0);R.useEffect(()=>{(async()=>{try{const h=(await B.get("/api/tenant/invoices")).data.find(y=>y.status==="Due"||y.status==="Overdue");h&&o(h)}catch(j){console.error(j)}finally{d(!1)}})()},[]);const u=async m=>{if(m.preventDefault(),!!l){r(!0);try{await B.post("/api/tenant/pay",{invoiceId:l.dbId,amount:l.amount,paymentMethod:e}),r(!1),i(!0)}catch(j){console.error(j),r(!1),alert("Payment failed. Please try again.")}}};return c?a.jsx("div",{className:"p-10 text-center",children:"Loading payment details..."}):!l&&!s?a.jsx(Wn,{title:"Pay Rent",children:a.jsxs("div",{className:"p-10 text-center bg-white rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(yn,{size:40})}),a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"No Pending Dues"}),a.jsx("p",{className:"text-slate-500 mt-2",children:"You are all caught up! No rent is due at this time."})]})}):a.jsxs(Wn,{title:"Pay Rent",children:[a.jsx("div",{className:"max-w-4xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8",children:[a.jsx("div",{className:"md:col-span-3 space-y-6",children:a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 p-8 shadow-sm space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Payment Method"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Select how you would like to pay your rent."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{id:"card",label:"Credit / Debit Card",icon:jn},{id:"bank",label:"Bank Transfer (ACH)",icon:LA},{id:"wallet",label:"Digital Wallet",icon:G2}].map(m=>a.jsxs("button",{onClick:()=>t(m.id),className:`flex items-center gap-4 p-5 rounded-2xl border-2 transition-all text-left ${e===m.id?"border-primary-600 bg-primary-50/30":"border-slate-100 hover:border-primary-200"}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${e===m.id?"bg-primary-600 text-white":"bg-slate-50 text-slate-400"}`,children:a.jsx(m.icon,{size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:`font-bold ${e===m.id?"text-primary-700":"text-slate-700"}`,children:m.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Fast & Secure"})]}),e===m.id&&a.jsx("div",{className:"bg-primary-600 text-white rounded-full p-1 shadow-md",children:a.jsx(yn,{size:16})})]},m.id))}),a.jsxs("div",{className:"pt-2",children:[a.jsx(V,{className:"w-full h-14 rounded-2xl font-black text-lg shadow-xl shadow-primary-100 flex items-center justify-center gap-2",onClick:u,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:["Pay $",(f=l==null?void 0:l.amount)==null?void 0:f.toLocaleString(),a.jsx(fd,{size:20})]})}),a.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-slate-400",children:[a.jsx(kr,{size:16}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Secure 256-bit Encrypted Payment"})]})]})]})}),a.jsx("div",{className:"md:col-span-2 space-y-6",children:a.jsxs("section",{className:"bg-slate-900 rounded-3xl p-8 text-white shadow-xl shadow-slate-200/50 space-y-8 sticky top-24",children:[a.jsx("h3",{className:"text-lg font-bold",children:"Payment Summary"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-medium text-sm",children:[a.jsxs("span",{children:["Rent (",l==null?void 0:l.month,")"]}),a.jsxs("span",{className:"text-white font-bold tracking-tight",children:["$",(p=l==null?void 0:l.amount)==null?void 0:p.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-medium text-sm",children:[a.jsx("span",{children:"Processing Fee"}),a.jsx("span",{className:"text-emerald-400 font-bold tracking-tight",children:"$0.00"})]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-800 space-y-1",children:[a.jsx("p",{className:"text-xs text-slate-500 font-black uppercase tracking-widest",children:"Total to Pay"}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("span",{className:"text-4xl font-black tracking-tighter",children:["$",(x=l==null?void 0:l.amount)==null?void 0:x.toLocaleString()]}),a.jsx("span",{className:"text-xs font-bold text-slate-500 mb-2 underline decoration-slate-700 underline-offset-4",children:"USD"})]})]}),a.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-4 flex gap-4 border border-white/5",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center shrink-0",children:a.jsx(yn,{size:20,className:"text-emerald-500"})}),a.jsxs("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:["Your payment for ",l==null?void 0:l.month," will be processed immediately."]})]})]})})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-500 text-center p-10 space-y-6",children:[a.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-2 animate-bounce duration-1000",children:a.jsx(yn,{size:48})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Payment Successful!"}),a.jsxs("p",{className:"text-slate-500 font-medium",children:["Your rent for ",l==null?void 0:l.month," has been successfully paid."]})]}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 text-left border border-slate-100",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold py-1",children:[a.jsx("span",{className:"text-slate-400 uppercase",children:"Receipt #"}),a.jsxs("span",{className:"text-slate-700",children:["RCP-",Math.floor(Math.random()*1e5)]})]}),a.jsxs("div",{className:"flex justify-between text-xs font-bold py-1",children:[a.jsx("span",{className:"text-slate-400 uppercase",children:"Method"}),a.jsx("span",{className:"text-slate-700 uppercase",children:e})]})]}),a.jsx(V,{variant:"primary",className:"w-full rounded-2x h-12 h-auto font-bold mt-2",onClick:()=>window.location.reload(),children:"Great, thanks!"})]})})]})},see=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!1),[s,i]=w.useState(!1),l=R.useRef(null),[o,c]=w.useState(null);R.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await B.get("/api/tenant/documents");m.data.length>0?t(m.data):t([])}catch(m){console.error(m)}},u=m=>{m.target.files&&m.target.files[0]&&c(m.target.files[0])},f=async m=>{m.preventDefault(),i(!0);const j=m.target;if(!o){alert("Please select a file"),i(!1);return}try{const h=new FormData;h.append("name",j.docName.value||o.name),h.append("type",j.docType.value),h.append("file",o);const y=await B.post("/api/tenant/documents",h,{headers:{"Content-Type":"multipart/form-data"}});t([y.data,...e]),r(!1),c(null)}catch(h){console.error(h),alert("Upload failed")}finally{i(!1)}},p=m=>{const j=m.startsWith("http")?m:`${B.defaults.baseURL.replace("/api","")}${m}`;window.open(j,"_blank")},x=async(m,j)=>{try{const h=m.startsWith("http")?m:`${B.defaults.baseURL.replace("/api","")}${m}`,g=await(await fetch(h)).blob(),b=window.URL.createObjectURL(g),N=document.createElement("a");N.href=b,N.setAttribute("download",j),document.body.appendChild(N),N.click(),N.remove(),window.URL.revokeObjectURL(b)}catch(h){console.error("Download failed",h),alert("Could not download file")}};return a.jsxs(Wn,{title:"My Documents",children:[a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Personal Document Vault"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Safe storage for your lease and ID documents."})]}),a.jsxs(V,{variant:"primary",className:"rounded-xl flex items-center gap-2 font-bold py-3 shadow-lg shadow-primary-50 active:scale-95",onClick:()=>r(!0),children:[a.jsx(yr,{size:18}),"Upload Document"]})]}),a.jsx("section",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50/50",children:a.jsxs("tr",{className:"border-b border-slate-50",children:[a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"Document Name"}),a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"File Type"}),a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"Upload Date"}),a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"Expiry Date"}),a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest text-right whitespace-nowrap",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:e.map(m=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-5",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0 border border-primary-100",children:a.jsx(Ee,{size:20})}),a.jsx("span",{className:"font-bold text-slate-700 tracking-tight",children:m.name})]})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-bold text-slate-500",children:m.type})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-400",children:m.date})}),a.jsx("td",{className:"px-8 py-5",children:m.expiryDate?a.jsx("span",{className:"text-sm font-medium text-slate-600",children:new Date(m.expiryDate).toLocaleDateString()}):a.jsx("span",{className:"text-sm text-slate-300",children:"-"})}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsx("div",{className:"flex items-center justify-end gap-2",children:m.fileUrl&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>p(m.fileUrl),className:"p-2.5 text-slate-400 hover:text-primary-600 hover:bg-primary-50 rounded-xl transition-all",title:"View Document",children:a.jsx(Tt,{size:20})}),a.jsx("button",{onClick:()=>x(m.fileUrl,m.name),className:"p-2.5 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-xl transition-all",title:"Download PDF",children:a.jsx(wn,{size:20})})]})})})]},m.id))})]}),e.length===0&&a.jsxs("div",{className:"p-20 text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mx-auto text-slate-200",children:a.jsx(V2,{size:40})}),a.jsx("p",{className:"text-slate-400 font-bold",children:"No documents uploaded yet."})]})]})})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Upload New Document"}),a.jsx("button",{onClick:()=>r(!1),className:"p-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:a.jsx(je,{size:24})})]}),a.jsxs("form",{onSubmit:f,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Friendly Name"}),a.jsx("input",{name:"docName",className:"w-full h-12 px-4 rounded-xl border border-slate-200 focus:border-primary-500 outline-none font-medium text-slate-700",placeholder:"e.g. Utility Bill Jan"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Document Type"}),a.jsxs("select",{name:"docType",className:"w-full h-12 px-4 rounded-xl border border-slate-200 focus:border-primary-500 outline-none bg-white font-medium text-slate-700 appearance-none",children:[a.jsx("option",{value:"ID Proof",children:"ID Proof"}),a.jsx("option",{value:"Agreement",children:"Lease Related"}),a.jsx("option",{value:"Utility",children:"Utility Bill"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsx("input",{type:"file",className:"hidden",ref:l,onChange:u,accept:"application/pdf,image/*"}),a.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-8 text-center space-y-4 hover:border-primary-300 transition-colors cursor-pointer group ${o?"border-primary-500 bg-primary-50/10":"border-slate-200"}`,onClick:()=>{var m;return(m=l.current)==null?void 0:m.click()},children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto text-slate-400 group-hover:text-primary-500 group-hover:bg-primary-50 transition-colors",children:o?a.jsx(Un,{size:24,className:"text-emerald-500"}):a.jsx(yr,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-700",children:o?o.name:"Click to select file"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:o?`${Math.round(o.size/1024)} KB`:"PDF, JPG, PNG (Max 10MB)"})]})]}),a.jsx(V,{variant:"primary",className:"w-full h-14 rounded-2xl font-black text-lg",disabled:s||!o,children:s?"Uploading...":"Confirm Upload"})]})]})})]})},iee=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState({provider:"",policyNumber:"",coverageType:"",startDate:"",endDate:""}),p=w.useRef(null),[x,m]=w.useState(null),j=async()=>{try{r(!0);const v=await B.get("/api/tenant/insurance");t(v.data),v.data&&f({provider:v.data.provider,policyNumber:v.data.policyNumber,coverageType:v.data.coverageType||"",startDate:v.data.startDate,endDate:v.data.endDate})}catch(v){console.error(v)}finally{r(!1)}};w.useEffect(()=>{j()},[]);const h=v=>{v.target.files&&v.target.files[0]&&m(v.target.files[0])},y=async v=>{v.preventDefault();const S=new FormData;if(S.append("provider",u.provider),S.append("policyNumber",u.policyNumber),S.append("coverageType",u.coverageType),S.append("startDate",u.startDate),S.append("endDate",u.endDate),x)S.append("file",x);else{alert("Please select an insurance document file");return}try{d(!0),await B.post("/api/tenant/insurance",S,{headers:{"Content-Type":"multipart/form-data"}}),o(!1),j()}catch(k){console.error(k),alert("Upload failed")}finally{d(!1)}};if(n)return a.jsx("div",{className:"p-10 text-center",children:"Loading insurance details..."});const b=(v=>{switch(v){case"ACTIVE":return{bg:"emerald-50",text:"emerald-600",border:"emerald-100",icon:kr,label:"Approved & Active"};case"PENDING_APPROVAL":return{bg:"amber-50",text:"amber-600",border:"amber-100",icon:Lc,label:"Pending Admin Review"};case"REJECTED":return{bg:"red-50",text:"red-600",border:"red-100",icon:je,label:"Policy Rejected"};case"EXPIRED":return{bg:"red-50",text:"red-600",border:"red-100",icon:Fu,label:"Policy Expired"};case"EXPIRING_SOON":return{bg:"amber-50",text:"amber-600",border:"amber-100",icon:Clock,label:"Expiring Soon"};default:return{bg:"slate-50",text:"slate-600",border:"slate-100",icon:Lc,label:v}}})((e==null?void 0:e.status)||"N/A"),N=!e||e.status==="REJECTED"||e.status==="EXPIRED";return a.jsxs(Wn,{title:"Insurance Compliance",children:[a.jsxs("div",{className:"max-w-4xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e&&a.jsxs("div",{className:`p-6 rounded-3xl border ${b.bg} ${b.border} flex items-center justify-between`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[(()=>{const v=b.icon;return a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-lg bg-${b.text.split("-")[0]}-500`,children:a.jsx(v,{size:24})})})(),a.jsxs("div",{children:[a.jsx("h3",{className:`font-black tracking-tight text-${b.text.split("-")[0]}-900`,children:b.label}),a.jsx("p",{className:`text-sm font-medium text-${b.text.split("-")[0]}-700/80`,children:e.status==="REJECTED"?`Reason: ${e.rejectionReason}`:e.status==="PENDING_APPROVAL"?"We'll notify you once admin reviews your document.":`Valid until ${new Date(e.endDate).toLocaleDateString()}`})]})]}),N&&a.jsx(V,{size:"sm",onClick:()=>o(!0),children:"Update Policy"})]}),e?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs(xe,{className:"p-8 rounded-[32px] shadow-xl shadow-slate-100/50 border-0 bg-white",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 pb-10 border-b border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center italic font-black text-2xl border border-indigo-100 shadow-sm",children:e.provider.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:e.provider}),a.jsx("p",{className:"text-sm font-black text-slate-400 uppercase tracking-widest leading-none mt-1",children:e.coverageType||"General Liability"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Policy Number"}),a.jsx("p",{className:"text-lg font-mono font-black text-slate-700 tracking-tighter",children:e.policyNumber})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[a.jsx(Lt,{size:16}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Effective Date"})]}),a.jsx("p",{className:"text-lg font-black text-slate-700",children:new Date(e.startDate).toLocaleDateString()})]}),a.jsxs("div",{className:"space-y-4 text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 justify-end",children:[a.jsx(Lt,{size:16}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Expiration Date"})]}),a.jsx("p",{className:`text-lg font-black ${e.status==="EXPIRED"?"text-red-600":"text-slate-800"}`,children:new Date(e.endDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"mt-10 pt-10 border-t border-slate-50 flex gap-4",children:[a.jsxs(V,{variant:"secondary",className:"flex-1 h-14 rounded-2xl",onClick:()=>i(!0),children:[a.jsx(Tt,{size:18,className:"mr-2"}),"View Certificate"]}),N&&a.jsxs(V,{variant:"outline",className:"flex-1 h-14 rounded-2xl",onClick:()=>o(!0),children:[a.jsx(yr,{size:18,className:"mr-2"}),"Update Policy"]})]})]}),a.jsxs("section",{className:"bg-slate-900 rounded-[32px] p-8 text-white flex items-center justify-between relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform duration-500"}),a.jsxs("div",{className:"space-y-2 relative z-10",children:[a.jsx("h4",{className:"text-xl font-black tracking-tight italic",children:"Switch & Save?"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium max-w-xs",children:"Compare renters insurance quotes directly from our portfolio partners."})]}),a.jsx("button",{className:"bg-white text-slate-900 px-6 py-3 rounded-xl font-black text-sm hover:scale-105 transition-all relative z-10",children:"Get Quotes"})]})]}),a.jsx("div",{className:"space-y-8",children:a.jsxs(xe,{className:"p-8 rounded-[32px] bg-indigo-600 text-white border-0 shadow-xl shadow-indigo-100",children:[a.jsx(Lc,{size:32,className:"mb-6 opacity-80"}),a.jsx("h4",{className:"text-xl font-black mb-3 italic tracking-tight uppercase",children:"Why Insurance?"}),a.jsx("p",{className:"text-indigo-100 text-sm font-medium leading-relaxed opacity-90",children:"Did you know your landlord's insurance doesn't cover your belongings? Renter's insurance protects everything inside your home from theft, fire, or water damage."})]})})]}):a.jsxs("section",{className:"bg-white rounded-[40px] border-4 border-dashed border-slate-100 p-16 flex flex-col items-center text-center space-y-8",children:[a.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-[32px] flex items-center justify-center text-slate-300 shadow-inner",children:a.jsx(kr,{size:48})}),a.jsxs("div",{className:"max-w-md space-y-3",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Protect Your Home"}),a.jsx("p",{className:"text-slate-500 font-medium leading-relaxed",children:"Renters insurance is mandatory for all tenants to protect your personal property and liability. Please upload your active policy document to comply."})]}),a.jsxs(V,{variant:"primary",size:"lg",onClick:()=>o(!0),className:"px-10 h-16 rounded-2xl text-lg shadow-xl shadow-primary-100",children:["Upload Insurance Policy",a.jsx(yr,{size:20,className:"ml-2"})]})]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Upload Policy"}),a.jsx("button",{onClick:()=>o(!1),className:"p-2.5 text-slate-400 hover:bg-slate-50 rounded-2xl transition-all",children:a.jsx(je,{size:24})})]}),a.jsxs("form",{onSubmit:y,className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Insurance Provider"}),a.jsx("input",{type:"text",required:!0,value:u.provider,onChange:v=>f({...u,provider:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm",placeholder:"e.g. State Farm, Geico"})]}),a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Policy Number"}),a.jsx("input",{type:"text",required:!0,value:u.policyNumber,onChange:v=>f({...u,policyNumber:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm",placeholder:"e.g. SF-9001-X"})]}),a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Coverage Type"}),a.jsxs("select",{value:u.coverageType,onChange:v=>f({...u,coverageType:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm appearance-none",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"General Liability",children:"General Liability"}),a.jsx("option",{value:"Full Comprehensive",children:"Full Comprehensive"}),a.jsx("option",{value:"Theft & Liability",children:"Theft & Liability"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Start Date"}),a.jsx("input",{type:"date",required:!0,value:u.startDate.substring(0,10),onChange:v=>f({...u,startDate:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm"})]}),a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"End Date"}),a.jsx("input",{type:"date",required:!0,value:u.endDate.substring(0,10),onChange:v=>f({...u,endDate:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm"})]})]}),a.jsxs("div",{className:"pt-2",children:[a.jsxs("div",{onClick:()=>p.current.click(),className:`w-full p-8 border-2 border-dashed rounded-3xl flex flex-col items-center gap-3 cursor-pointer transition-all ${x?"border-emerald-200 bg-emerald-50/50":"border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30"}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${x?"bg-emerald-500 text-white":"bg-white shadow-sm text-slate-400"}`,children:a.jsx(yr,{size:24})}),a.jsx("p",{className:"text-sm font-black text-slate-600 tracking-tight",children:x?x.name:"Select Policy Document (PDF)"}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Max file size: 10MB"})]}),a.jsx("input",{type:"file",ref:p,className:"hidden",onChange:h,accept:".pdf,image/*"})]}),a.jsxs("div",{className:"pt-4 flex gap-4",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1 h-16 rounded-2xl",onClick:()=>o(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1 h-16 rounded-2xl shadow-xl shadow-indigo-100",disabled:c,children:c?"Finalizing...":"Submit Policy"})]})]})]})}),s&&(e==null?void 0:e.documentUrl)&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-3xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between bg-slate-50/30",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-500 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ee,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Policy Document"}),a.jsx("p",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest leading-none mt-1",children:"Certificate of Insurance"})]})]}),a.jsx("button",{onClick:()=>i(!1),className:"p-3 text-slate-400 hover:bg-white hover:shadow-md border border-transparent hover:border-slate-100 rounded-2xl transition-all",children:a.jsx(je,{size:24})})]}),a.jsx("div",{className:"relative aspect-[16/10] bg-slate-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-[32px] flex items-center justify-center mx-auto shadow-2xl text-slate-200",children:a.jsx(Ee,{size:48})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-slate-400 font-bold text-lg px-8",children:"Your insurance document is ready for download and review."}),a.jsx("a",{href:`${B.defaults.baseURL.replace("/api","")}${e.documentUrl}`,target:"_blank",rel:"noreferrer",className:"inline-block mt-4",children:a.jsx(V,{variant:"primary",className:"h-16 px-10 rounded-2xl text-lg shadow-xl shadow-primary-100",children:"Download Secure PDF"})})]})]})})]})})]})},lee=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState({});R.useEffect(()=>{u()},[]);const u=async()=>{try{const p=await B.get("/api/tenant/tickets");t(p.data)}catch(p){console.error(p)}},f=async p=>{p.preventDefault(),i(!0);const x=p.target;try{const m=new FormData;m.append("subject",x.subject.value),m.append("description",x.description.value),m.append("priority",x.priority.value),Array.from(x.images.files).forEach(b=>{m.append("images",b)});const h=x.video.files[0];h&&m.append("video",h);const g=(await B.post("/api/tenant/tickets",m,{headers:{"Content-Type":"multipart/form-data"}})).data;t([g,...e]),r(!1),x.reset()}catch(m){console.error("Upload Error:",m),alert("Failed to create ticket")}finally{i(!1)}};return a.jsxs(Wn,{title:"Maintenance Tickets",children:[a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Support Requests"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Need something fixed? We're here to help."})]}),a.jsxs(V,{variant:"primary",className:"rounded-xl flex items-center gap-2 font-bold py-3 shadow-lg shadow-primary-50 active:scale-95",onClick:()=>r(!0),children:[a.jsx(jt,{size:18}),"Raise New Ticket"]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.map(p=>a.jsxs("div",{onClick:()=>o(p),className:"bg-white rounded-3xl border border-slate-100 p-6 flex flex-col md:flex-row gap-6 items-start md:items-center hover:shadow-md transition-all group cursor-pointer",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${p.status==="Resolved"?"bg-emerald-50 text-emerald-600":"bg-primary-50 text-primary-600"}`,children:a.jsx(Ll,{size:24})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:p.id}),a.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-tight border ${p.priority==="High"?"bg-red-50 text-red-600 border-red-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:[p.priority," Priority"]})]}),a.jsx("h4",{className:"text-lg font-bold text-slate-800 group-hover:text-primary-600 transition-colors",children:p.subject}),a.jsx("p",{className:"text-sm text-slate-500 font-medium line-clamp-1",children:p.desc})]}),a.jsxs("div",{className:"flex flex-row md:flex-col items-center md:items-end gap-4 md:gap-1 shrink-0 w-full md:w-auto pt-4 md:pt-0 border-t md:border-t-0 border-slate-50",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-tight border ${p.status==="Resolved"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[p.status==="Resolved"?a.jsx(Un,{size:14}):a.jsx(sr,{size:14}),p.status]}),a.jsx("span",{className:"text-xs font-bold text-slate-400",children:p.date})]})]},p.id)),e.length===0&&a.jsxs("div",{className:"p-20 text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mx-auto text-slate-200",children:a.jsx(yi,{size:40})}),a.jsx("p",{className:"text-slate-400 font-bold",children:"No tickets found."})]})]})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Raise New Ticket"}),a.jsx("button",{onClick:()=>r(!1),className:"p-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:a.jsx(je,{size:24})})]}),a.jsxs("form",{onSubmit:f,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Subject"}),a.jsx("input",{name:"subject",required:!0,className:"w-full h-12 px-4 rounded-xl border border-slate-200 focus:border-primary-500 outline-none font-medium text-slate-700",placeholder:"e.g. Broken Light Fixture"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Priority"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Low","Medium","High"].map(p=>a.jsxs("label",{className:"cursor-pointer group",children:[a.jsx("input",{type:"radio",name:"priority",value:p,defaultChecked:p==="Medium",className:"peer sr-only"}),a.jsx("div",{className:"text-center py-2.5 rounded-xl border-2 border-slate-100 peer-checked:border-primary-600 peer-checked:bg-primary-50 text-xs font-black uppercase text-slate-400 peer-checked:text-primary-600 transition-all",children:p})]},p))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Description"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full h-32 p-4 rounded-xl border border-slate-200 focus:border-primary-500 outline-none font-medium text-slate-700 resize-none",placeholder:"Provide more details..."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Images"}),a.jsx("input",{type:"file",name:"images",multiple:!0,accept:".jpg,.png,.jpeg",className:"w-full text-xs text-slate-500 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-black file:bg-primary-50 file:text-primary-600 cursor-pointer"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Video"}),a.jsx("input",{type:"file",name:"video",accept:".mp4,.mov",className:"w-full text-xs text-slate-500 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-black file:bg-primary-50 file:text-primary-600 cursor-pointer"})]})]}),a.jsx(V,{variant:"primary",className:"w-full h-14 rounded-2xl font-black text-lg",disabled:s,children:s?"Submitting...":"Send Request"})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 overflow-y-auto max-h-[90vh]",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800",children:[l.id," Detail"]}),a.jsx("button",{onClick:()=>o(null),className:"p-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:a.jsx(je,{size:24})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Subject"}),a.jsx("p",{className:"text-lg font-bold text-slate-800 mt-1",children:l.subject})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Description"}),a.jsx("p",{className:"text-slate-600 font-medium mt-1",children:l.desc})]}),a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Attachments"}),l.attachments&&l.attachments.length>0?a.jsxs("div",{className:"space-y-4",children:[l.attachments.some(p=>p.type==="image")&&a.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.attachments.filter(p=>p.type==="image").map((p,x)=>a.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden border border-slate-100 bg-slate-50 cursor-pointer hover:opacity-90 transition-opacity",children:a.jsx("img",{src:p.url,alt:"",className:"w-full h-full object-cover",onClick:()=>window.open(p.url,"_blank")})},x))}),l.attachments.find(p=>p.type==="video")&&a.jsxs("div",{className:"rounded-2xl overflow-hidden border border-slate-100 bg-slate-900 aspect-video relative group",children:[a.jsx("video",{src:l.attachments.find(p=>p.type==="video").url,className:"w-full h-full object-cover",controls:!0}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/40 transition-colors pointer-events-none group-data-[playing=true]:hidden",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white ring-4 ring-white/10",children:a.jsx(sr,{size:24})})})]})]}):a.jsx("p",{className:"text-sm text-slate-400 italic",children:"No attachments provided"}),a.jsx(V,{variant:"primary",className:"w-full h-14 rounded-2xl font-black text-lg",onClick:()=>o(null),children:"Close"})]})]})})]})},oee=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(null),[l,o]=w.useState(null),[c,d]=w.useState(!1),u=w.useRef(null),f=w.useRef(null);w.useEffect(()=>{const h=localStorage.getItem("currentTenantId");return h&&o(parseInt(h)),p(),()=>clearInterval(f.current)},[]);const p=async()=>{try{const h=await er.getConversations();h.length>0&&i(h[0])}catch(h){console.error(h)}};w.useEffect(()=>{s&&(x(),f.current=setInterval(x,3e3))},[s]);const x=async()=>{if(s)try{const h=await er.getHistory(s.id);t(h)}catch(h){console.error(h)}};w.useEffect(()=>{m()},[e]);const m=()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},j=async h=>{if(h.preventDefault(),!(!n.trim()||!s)){d(!0);try{await er.sendMessage(s.id,n),r(""),x()}catch(y){console.error(y)}finally{d(!1)}}};return a.jsx(Wn,{title:"Messages",children:a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden h-[calc(100vh-140px)] flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-50 bg-slate-50/50 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 flex items-center justify-center text-indigo-600",children:a.jsx(yi,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-slate-800",children:"Support Chat"}),a.jsx("p",{className:"text-xs font-medium text-slate-500",children:s?`Chatting with ${s.name}`:"Connecting..."})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-white relative",children:[!s&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 text-sm",children:"Connecting to support..."}),e.map((h,y)=>{const g=h.senderId===l;return a.jsx("div",{className:`flex ${g?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] px-5 py-3 rounded-2xl text-sm font-medium shadow-sm ${g?"bg-indigo-600 text-white rounded-br-none":"bg-slate-100 text-slate-700 rounded-bl-none"}`,children:[h.content,a.jsx("div",{className:"text-[10px] mt-1 text-right opacity-70",children:new Date(h.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},y)}),a.jsx("div",{ref:u})]}),a.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:a.jsxs("form",{onSubmit:j,className:"flex gap-3",children:[a.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"Type a message...",className:"flex-1 h-12 px-4 rounded-xl border border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none transition-all font-medium text-slate-700"}),a.jsx("button",{type:"submit",disabled:c||!n,className:"h-12 w-12 bg-indigo-600 text-white rounded-xl flex items-center justify-center hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:c?a.jsx(Vn,{className:"animate-spin",size:20}):a.jsx(To,{size:20})})]})})]})})},cee=()=>{const{token:e}=Iu(),t=un(),[n,r]=w.useState(null),[s,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState("loading"),[u,f]=w.useState(""),[p,x]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const h=await B.get(`/api/auth/invite/${e}`);r(h.data),d("ready")}catch(h){console.error(h),d("error"),f("This invite link is invalid or has expired.")}})()},[e]);const m=async j=>{if(j.preventDefault(),f(""),s!==l){f("Passwords do not match");return}if(s.length<6){f("Password must be at least 6 characters");return}x(!0);try{await B.post("/api/auth/accept-invite",{token:e,password:s}),d("success")}catch(h){console.error(h),f("Failed to set password. Please try again.")}finally{x(!1)}};return c==="loading"?a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full"}),a.jsx("div",{className:"h-4 w-32 bg-slate-200 rounded"})]})}):c==="error"?a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-100 p-8 text-center space-y-6",children:[a.jsx("div",{className:"w-16 h-16 bg-rose-50 rounded-full flex items-center justify-center text-rose-500 mx-auto",children:a.jsx(Rt,{size:32})}),a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Invite Invalid"}),a.jsx("p",{className:"text-slate-500 font-medium",children:u}),a.jsx(V,{onClick:()=>t("/login"),variant:"secondary",className:"w-full",children:"Return to Login"})]})}):c==="success"?a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-100 p-8 text-center space-y-6",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 mx-auto",children:a.jsx(Un,{size:32})}),a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Account Activated!"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Your password has been set successfully. You can now log in to the tenant portal."}),a.jsx(V,{onClick:()=>t("/login"),variant:"primary",className:"w-full",children:"Sign In Now"})]})}):a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-100 p-8 space-y-8 animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-lg shadow-indigo-200",children:a.jsx(zt,{size:30})}),a.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome, ",n==null?void 0:n.firstName,"!"]}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Set your password to activate your tenant portal access"})]}),u&&a.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-xl flex items-center gap-3 text-sm animate-in slide-in-from-top-2",children:[a.jsx(Rt,{size:18}),a.jsx("span",{className:"font-medium",children:u})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsx("div",{className:"space-y-1.5 font-medium text-slate-500 text-sm",children:a.jsxs("p",{children:["Email: ",a.jsx("span",{className:"text-slate-800 font-bold",children:n==null?void 0:n.email})]})}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Create Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(rv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"password",required:!0,value:s,onChange:j=>i(j.target.value),className:"w-full h-12 pl-12 pr-4 rounded-xl border border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none transition-all font-medium text-slate-700",placeholder:""})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(rv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"password",required:!0,value:l,onChange:j=>o(j.target.value),className:"w-full h-12 pl-12 pr-4 rounded-xl border border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none transition-all font-medium text-slate-700",placeholder:""})]})]}),a.jsx(V,{type:"submit",variant:"primary",className:"w-full h-12 rounded-xl text-base font-bold shadow-lg shadow-indigo-100",disabled:p,children:p?"Activating...":"Activate Account"})]})]})})},dee={payment_history:jn,invoice_summary:YA},uee={payment_history:{color:"text-emerald-600",bg:"bg-emerald-50"},invoice_summary:{color:"text-indigo-600",bg:"bg-indigo-50"}},fee=()=>{const e=un(),[t,n]=w.useState([]),[r,s]=w.useState(null),[i,l]=w.useState(!0),[o,c]=w.useState(""),d=async()=>{var f,p;l(!0),c("");try{const m=(await B.get("/api/tenant/reports")).data,h=(Array.isArray(m==null?void 0:m.reports)?m.reports:Array.isArray(m)?m:[]).map(y=>({...y,id:y.id||y.type,icon:dee[y.type]||UA,...uee[y.type]}));n(h),s((m==null?void 0:m.stats)||null)}catch(x){console.error(x),c(((p=(f=x.response)==null?void 0:f.data)==null?void 0:p.message)||"Failed to load reports."),n([]),s(null)}finally{l(!1)}};w.useEffect(()=>{d()},[]);const u=r?[{label:"Reports Available",value:r.reportsViewable??"",sub:r.reportsViewableSub??""},{label:"Paid (Total)",value:r.paidAmount!=null?`$${Number(r.paidAmount).toFixed(2)}`:"",sub:`${r.paidCount??0} invoices`},{label:"Outstanding",value:r.outstandingAmount!=null?`$${Number(r.outstandingAmount).toFixed(2)}`:"",sub:r.dataLatency??"Real-time"}]:[{label:"Reports Available",value:"",sub:""},{label:"Paid (Total)",value:"",sub:""},{label:"Outstanding",value:"",sub:""}];return a.jsx(Wn,{title:"My Reports",children:a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:"Account Reports"}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm md:text-base",children:"Your invoice and payment history at a glance."})]}),a.jsxs(V,{variant:"secondary",onClick:d,disabled:i,children:[a.jsx(Vn,{size:18,className:i?"animate-spin":""}),"Refresh"]})]}),o&&a.jsx("div",{className:"p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm",children:o}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((f,p)=>a.jsxs("div",{className:"bg-white px-6 py-5 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:f.label}),a.jsx("p",{className:"text-lg font-black text-slate-800 italic",children:f.value}),a.jsx("p",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-tighter mt-1",children:f.sub})]},p))}),i?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx(Vn,{size:40,className:"animate-spin text-slate-300"})}):t.length===0?a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-12 text-center text-slate-500",children:[a.jsx(Ee,{size:48,className:"mx-auto mb-4 text-slate-300"}),a.jsx("p",{className:"font-medium",children:"No reports available."})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map((f,p)=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm hover:shadow-lg transition-all group flex flex-col sm:flex-row gap-6",children:[a.jsx("div",{className:`w-14 h-14 shrink-0 rounded-xl ${f.bg||"bg-slate-50"} ${f.color||"text-slate-600"} flex items-center justify-center mx-auto sm:mx-0`,children:a.jsx(f.icon,{size:28})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:f.title}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:f.description}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-4",children:["Last: ",f.lastGenerated||""]}),a.jsx("div",{className:"mt-4 flex gap-2",children:a.jsxs(V,{variant:"secondary",size:"sm",className:"gap-2",onClick:()=>e(f.type==="invoice_summary"?"/tenant/invoices":"/tenant/payments"),children:[a.jsx(Ee,{size:14})," View"]})})]})]},f.id||p))}),a.jsx("div",{className:"bg-slate-100 rounded-2xl p-6 border border-slate-200 text-center text-slate-600 text-sm",children:a.jsxs("p",{children:["For detailed invoices and payment history, use ",a.jsx("strong",{children:"My Invoices"})," and ",a.jsx("strong",{children:"Pay Rent"})," from the menu."]})})]})})},pee=()=>localStorage.getItem("isOwnerLoggedIn")==="true"?a.jsx(l0,{}):a.jsx(_s,{to:"/owner/login",replace:!0}),mee=({isOpen:e,setIsOpen:t})=>{const n=un(),r=()=>{localStorage.removeItem("isOwnerLoggedIn"),localStorage.removeItem("ownerId"),n("/owner/login")},s=[{icon:h0,label:"Dashboard",path:"/owner/dashboard"},{icon:sa,label:"Properties",path:"/owner/properties"},{icon:Ca,label:"Financials",path:"/owner/financials"},{icon:p0,label:"Reports",path:"/owner/reports"},{icon:yi,label:"Messages",path:"/owner/communication"}];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:ue("fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-50 transition-opacity duration-300 lg:hidden",e?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>t(!1)}),a.jsxs("aside",{className:ue("fixed inset-y-0 left-0 lg:sticky lg:top-0 z-[60] w-72 bg-white border-r border-slate-100 flex flex-col h-screen shrink-0 transition-transform duration-300 ease-in-out lg:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:[a.jsxs("div",{className:"p-8 pb-10 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:()=>n("/owner/dashboard"),children:a.jsx("img",{src:"/assets/logo.png",alt:"Masteko Logo",className:"h-10 w-auto object-container"})}),a.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-2 rounded-xl text-slate-400 hover:bg-slate-50 transition-colors",children:a.jsx(je,{size:24})})]}),a.jsxs("nav",{className:"flex-1 px-4 space-y-2",children:[a.jsx("div",{className:"px-4 mb-4",children:a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Main Menu"})}),s.map(i=>a.jsxs(o0,{to:i.path,onClick:()=>t(!1),className:({isActive:l})=>ue("flex items-center gap-3 px-4 py-3.5 rounded-2xl text-sm font-bold transition-all duration-300 group",l?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),children:[a.jsx(i.icon,{size:20,className:ue("transition-transform duration-300 group-hover:scale-110",window.location.pathname===i.path?"text-white":"text-slate-400 group-hover:text-indigo-600")}),i.label]},i.path))]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center border-2 border-white shadow-sm",children:a.jsx(kr,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Access Mode"}),a.jsx("p",{className:"text-xs font-black text-slate-700 italic",children:"Read-Only"})]})]})}),a.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-4 rounded-2xl text-sm font-bold text-rose-500 hover:bg-rose-50 transition-all duration-300 group",children:[a.jsx(x0,{size:20,className:"transition-transform group-hover:-translate-x-1"}),"Secure Logout"]})]})]})]})},hee=({title:e,onMenuClick:t})=>a.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-slate-100 flex items-center justify-between px-4 md:px-8 sticky top-0 z-40",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-xl text-slate-600 hover:bg-slate-50 transition-colors",children:a.jsx(g0,{size:24})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h2",{className:"text-lg md:text-xl font-black text-slate-800 tracking-tight italic uppercase truncate max-w-[150px] md:max-w-none",children:e}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] hidden xs:block",children:"Live Portfolio View"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[a.jsxs("div",{className:"hidden xl:flex items-center gap-3 bg-slate-50 border border-slate-100 px-4 py-2 rounded-xl text-slate-400 focus-within:bg-white focus-within:border-indigo-200 transition-all w-64 group",children:[a.jsx(Jt,{size:16,className:"group-focus-within:text-indigo-600 transition-colors"}),a.jsx("input",{type:"text",placeholder:"Search portfolio...",className:"bg-transparent border-none outline-none text-xs font-bold text-slate-600 w-full placeholder:text-slate-300",disabled:!0})]}),a.jsx("div",{className:"flex items-center gap-2 md:gap-4 md:border-l md:border-slate-100 md:pl-6",children:a.jsxs("div",{className:"flex items-center gap-3 md:pl-2 group cursor-default",children:[a.jsxs("div",{className:"text-right hidden sm:block",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 italic",children:"Owner Demo"}),a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"ID: owner_demo_1"})]}),a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-slate-900 text-white flex items-center justify-center font-black group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-slate-200 shrink-0",children:"OD"})]})})]})]}),di=({children:e,title:t="Dashboard"})=>{const[n,r]=w.useState(!1);return a.jsxs("div",{className:"flex min-h-screen bg-slate-50 selection:bg-indigo-100 selection:text-indigo-900",children:[a.jsx(mee,{isOpen:n,setIsOpen:r}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx(hee,{title:t,onMenuClick:()=>r(!0)}),a.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:a.jsx("div",{className:"max-w-[1600px] mx-auto animate-in fade-in duration-500",children:e})})]})]})},xee=()=>{const[e,t]=R.useState([]),[n,r]=R.useState([]),[s,i]=R.useState(!0),[l,o]=R.useState(0);return R.useEffect(()=>{(async()=>{try{const[d,u]=await Promise.all([B.get("/api/owner/dashboard/stats"),B.get("/api/owner/dashboard/financial-pulse")]),f=d.data,p=u.data;t([{label:"Total Properties",value:f.propertyCount.toString(),icon:sa,color:"text-indigo-600",bg:"bg-indigo-50",trend:"Active Portfolio",trendUp:!0},{label:"Total Units",value:f.unitCount.toString(),icon:sa,color:"text-blue-600",bg:"bg-blue-50",trend:"Across locations",trendUp:null},{label:"Occupancy Rate",value:`${f.unitCount>0?Math.round(f.occupancy.occupied/f.unitCount*100):0}%`,icon:Vu,color:"text-emerald-600",bg:"bg-emerald-50",trend:"Current status",trendUp:!0},{label:"Monthly Revenue",value:`$ ${f.monthlyRevenue?f.monthlyRevenue.toLocaleString("en-CA"):"0"}`,icon:Ca,color:"text-violet-600",bg:"bg-violet-50",trend:"Collected this month",trendUp:!0},{label:"Outstanding Dues",value:`$ ${f.outstandingDues?f.outstandingDues.toLocaleString("en-CA"):"0"}`,icon:Rt,color:"text-rose-600",bg:"bg-rose-50",trend:"Pending collection",trendUp:!1}]),o(f.insuranceExpiryCount||0),r(p)}catch(d){console.error("Failed to fetch owner dashboard data",d)}finally{i(!1)}})()},[]),s?a.jsx(di,{title:"Portfolio Overview",children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}):a.jsx(di,{title:"Portfolio Overview",children:a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-800 tracking-tight italic",children:"Welcome back, Owner."}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm md:text-base",children:"Here is the update on your property portfolio performance."})]}),a.jsxs("div",{className:"text-left sm:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Portfolio Value Index"}),a.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-black text-xl italic drop-shadow-sm",children:[a.jsx(md,{size:24}),"+12.4% ",a.jsx("span",{className:"text-slate-400 text-sm font-bold not-italic font-sans underline decoration-emerald-200",children:"YoY"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 md:gap-6",children:e.map((c,d)=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm shadow-slate-200/50 hover:shadow-xl hover:shadow-indigo-100/50 hover:-translate-y-1 transition-all duration-300 group overflow-hidden relative",children:[a.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[a.jsx("div",{className:`w-12 h-12 ${c.bg} ${c.color} rounded-2xl flex items-center justify-center mb-4 transition-transform group-hover:scale-110 duration-500`,children:a.jsx(c.icon,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-2",children:c.label}),a.jsx("h4",{className:"text-2xl font-black text-slate-800 tracking-tight italic mb-2 leading-none",children:c.value}),a.jsx("div",{className:"mt-auto pt-4 border-t border-slate-50",children:a.jsxs("div",{className:"flex items-center gap-1",children:[c.trendUp===!0&&a.jsx(L2,{size:14,className:"text-emerald-500"}),c.trendUp===!1&&a.jsx(R2,{size:14,className:"text-rose-500"}),a.jsx("span",{className:`text-[10px] font-bold ${c.trendUp===!0?"text-emerald-600":c.trendUp===!1?"text-rose-600":"text-slate-500"}`,children:c.trend})]})})]}),a.jsx(c.icon,{size:120,className:`absolute -right-8 -bottom-8 opacity-[0.03] ${c.color} group-hover:scale-110 transition-transform duration-700`})]},d))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl border border-slate-100 shadow-sm p-4 md:p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-lg md:text-xl font-black text-slate-800 tracking-tight italic uppercase",children:"Recent Financial Pulse"}),a.jsx("button",{className:"text-[10px] md:text-xs font-black text-indigo-600 hover:underline decoration-2",children:"View Full Financials"})]}),a.jsx("div",{className:"overflow-x-auto bg-slate-50 rounded-2xl border border-slate-100 -mx-4 md:mx-0",children:a.jsxs("table",{className:"w-full text-left min-w-[500px]",children:[a.jsx("thead",{className:"bg-slate-100/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 md:px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Month"}),a.jsx("th",{className:"px-4 md:px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Target"}),a.jsx("th",{className:"px-4 md:px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actual Collected"}),a.jsx("th",{className:"px-4 md:px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Remaining Dues"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map((c,d)=>a.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[a.jsx("td",{className:"px-4 md:px-6 py-4 text-xs font-black text-slate-700 italic",children:c.month}),a.jsxs("td",{className:"px-4 md:px-6 py-4 text-sm font-bold text-slate-400 text-right font-mono",children:["$",c.expected.toLocaleString("en-CA")]}),a.jsxs("td",{className:"px-4 md:px-6 py-4 text-sm font-black text-slate-800 text-right font-mono italic",children:["$",c.collected.toLocaleString("en-CA")]}),a.jsx("td",{className:"px-4 md:px-6 py-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black ${c.dues>0?"bg-rose-50 text-rose-600":"bg-emerald-50 text-emerald-600"}`,children:c.dues>0?`$${c.dues.toLocaleString("en-CA")}`:"CLEAR"})})]},d))})]})})]}),l>0?a.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-8 flex flex-col justify-between text-white shadow-2xl shadow-indigo-200 overflow-hidden relative group",children:[a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-md",children:a.jsx(Rt,{size:24})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-xl font-black italic tracking-tight uppercase",children:"Compliance Notice"}),a.jsxs("p",{className:"text-indigo-100 text-sm font-medium leading-relaxed",children:[l," properties have insurance policies expiring within the next 30 days. Please review the Insurance Alerts."]})]}),a.jsx("button",{className:"w-full bg-white text-indigo-600 h-14 rounded-2xl font-black text-sm shadow-xl hover:bg-slate-50 transition-colors uppercase tracking-widest",children:"Acknowledge & Archive"})]}),a.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:scale-125 transition-transform duration-700"})]}):a.jsxs("div",{className:"bg-emerald-600 rounded-3xl p-8 flex flex-col justify-between text-white shadow-2xl shadow-emerald-200 overflow-hidden relative group",children:[a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-md",children:a.jsx(Un,{size:24})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-xl font-black italic tracking-tight uppercase",children:"All Good!"}),a.jsx("p",{className:"text-emerald-100 text-sm font-medium leading-relaxed",children:"Your portfolio is fully compliant. No actions needed at this time."})]})]}),a.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:scale-125 transition-transform duration-700"})]})]})]})})},gee=()=>{const[e,t]=w.useState(null),[n,r]=w.useState([]);return R.useEffect(()=>{(async()=>{try{const l=(await B.get("/api/owner/properties")).data.map(o=>({id:o.id,name:o.name,address:o.address,units:o.units,occupancy:parseInt(o.occupancy),revenue:0,image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=400&h=250&fit=crop"}));r(l)}catch(i){console.error(i)}})()},[]),a.jsxs(di,{title:"Property Portfolio",children:[a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:"Managed Assets"}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm md:text-base",children:"Detailed breakdown of your property holdings and their performance."})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:n.map(s=>a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm hover:shadow-2xl hover:shadow-indigo-100/50 hover:-translate-y-2 transition-all duration-500 overflow-hidden group",children:[a.jsxs("div",{className:"h-56 relative overflow-hidden group-hover:scale-95 group-hover:m-2 group-hover:rounded-[2rem] transition-all duration-700",children:[a.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent"}),a.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex justify-between items-end",children:[a.jsxs("div",{className:"bg-white/20 backdrop-blur-md px-4 py-2 rounded-2xl border border-white/30 text-white text-xs font-black uppercase tracking-widest",children:[s.units," Units"]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mb-1",children:"Monthly Revenue"}),a.jsxs("p",{className:"text-white text-lg font-black tracking-tight italic",children:["$ ",s.revenue.toLocaleString("en-CA")]})]})]})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-2 text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qA,{size:12,className:"text-indigo-400"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:s.address})]}),a.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100 italic font-black text-[10px] uppercase tracking-tighter shadow-sm",children:[a.jsx(md,{size:12}),s.occupancy,"% Occupied"]})]}),a.jsx("h4",{className:"text-2xl font-black text-slate-800 tracking-tight italic uppercase group-hover:text-indigo-600 transition-colors",children:s.name})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-6 border-b border-slate-50",children:[a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 transition-colors group-hover:bg-indigo-50/50",children:[a.jsx(nv,{size:18,className:"text-indigo-600 mb-2"}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ownership"}),a.jsx("p",{className:"text-sm font-black text-slate-700 italic",children:"Primary (100%)"})]}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 transition-colors group-hover:bg-emerald-50/50",children:[a.jsx(Vu,{size:18,className:"text-emerald-600 mb-2"}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Tenants"}),a.jsxs("p",{className:"text-sm font-black text-slate-700 italic",children:[Math.floor(s.units*(s.occupancy/100))," Active"]})]})]}),a.jsxs("button",{onClick:()=>t(s),className:"w-full h-14 rounded-2xl bg-slate-900 hover:bg-indigo-600 text-white font-black text-sm tracking-widest uppercase transition-all flex items-center justify-center gap-3 active:scale-95 shadow-lg shadow-slate-200",children:["View Summary",a.jsx(fd,{size:18})]})]})]},s.id))})]}),e&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 flex items-center justify-center z-[100] backdrop-blur-md animate-in fade-in duration-300 p-4",children:a.jsxs("div",{className:"bg-white rounded-[2rem] md:rounded-[3rem] w-full max-w-2xl shadow-[0_20px_50px_rgba(0,0,0,0.2)] animate-in zoom-in-95 duration-300 flex flex-col max-h-[90vh] overflow-hidden border border-slate-200",children:[a.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:e.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1 italic",children:"Read-Only Asset Summary"})]}),a.jsx("button",{onClick:()=>t(null),className:"w-10 h-10 md:w-12 md:h-12 rounded-xl md:rounded-2xl bg-white border border-slate-100 text-slate-400 hover:text-rose-500 hover:border-rose-100 transition-all flex items-center justify-center shadow-sm",children:a.jsx(je,{size:24,className:"scale-75 md:scale-100"})})]}),a.jsxs("div",{className:"overflow-y-auto p-6 md:p-10 space-y-8 md:space-y-10",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-[2rem] bg-indigo-50/50 border border-indigo-100 flex items-center gap-5",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-indigo-600 shadow-sm border border-indigo-100",children:a.jsx(md,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-1 font-sans not-italic",children:"Asset CAGR"}),a.jsxs("p",{className:"text-xl font-black text-slate-800 italic",children:["+7.8% ",a.jsx("span",{className:"text-xs text-slate-400 not-italic font-bold",children:"Annual"})]})]})]}),a.jsxs("div",{className:"p-6 rounded-[2rem] bg-emerald-50/50 border border-emerald-100 flex items-center gap-5",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-emerald-600 shadow-sm border border-emerald-100",children:a.jsx(Lt,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest mb-1 font-sans not-italic",children:"Next Payment"}),a.jsxs("p",{className:"text-xl font-black text-slate-800 italic",children:["Feb 01 ",a.jsx("span",{className:"text-xs text-slate-400 not-italic font-bold",children:"Payout"})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h5",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Asset Composition (Internal Registry)"}),a.jsx("div",{className:"space-y-4",children:[{label:"Residential Units",value:e.units,desc:"Apartments & Condos"},{label:"Commercial Spaces",value:"0",desc:"Retail / Office"},{label:"Common Areas",value:"4",desc:"Pool, Gym, Lounge"}].map((s,i)=>a.jsxs("div",{className:"flex justify-between items-center p-4 rounded-2xl border border-slate-50 hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 group-hover:text-indigo-600",children:a.jsx(nv,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-slate-800 italic",children:s.label}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:s.desc})]})]}),a.jsx("span",{className:"text-lg font-black text-slate-800 italic",children:s.value})]},i))})]})]}),a.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 mt-auto",children:a.jsx("p",{className:"text-[10px] text-center text-slate-400 font-bold uppercase tracking-widest italic decoration-indigo-200",children:"This property is managed by PropManage Admin. Full records are audit-locked."})})]})})]})},yee=()=>{const[e,t]=R.useState([{label:"Rent Collected (MTD)",value:"$ 0",icon:Ca,color:"text-emerald-600",trend:"...",trendUp:!0},{label:"Service Fees (MTD)",value:"$ 0",icon:Ca,color:"text-indigo-600",trend:"...",trendUp:!0},{label:"Outstanding Dues",value:"$ 0",icon:sr,color:"text-rose-600",trend:"...",trendUp:!0},{label:"Net Earnings (MTD)",value:"$ 0",icon:Un,color:"text-violet-600",trend:"...",trendUp:!0}]),[n,r]=R.useState([]);return R.useEffect(()=>{(async()=>{try{const i=await B.get("/api/owner/financials"),{collected:l,transactions:o}=i.data;t([{label:"Rent Collected (MTD)",value:`$ ${l.toLocaleString("en-CA")}`,icon:Ca,color:"text-emerald-600",trend:"+4.2%",trendUp:!0},{label:"Service Fees (MTD)",value:"$ 0",icon:Ca,color:"text-indigo-600",trend:"+1.5%",trendUp:!0},{label:"Outstanding Dues",value:"$ 0",icon:sr,color:"text-rose-600",trend:"Unknown",trendUp:!0},{label:"Net Earnings (MTD)",value:`$ ${l.toLocaleString("en-CA")}`,icon:Un,color:"text-violet-600",trend:"+3.8%",trendUp:!0}]),r(o)}catch(i){console.error(i)}})()},[]),a.jsx(di,{title:"Financial Summary",children:a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:"Revenue Streams"}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm",children:"Real-time tracking of your portfolio's financial health."})]}),a.jsxs(V,{variant:"secondary",className:"w-full sm:w-auto gap-2 h-12 rounded-2xl font-black text-[10px] md:text-xs uppercase tracking-widest border-2",children:[a.jsx(wn,{size:18}),"Download YTD Statement"]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:e.map((s,i)=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm border-b-4 border-b-slate-50 hover:border-b-indigo-500 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl bg-slate-50 ${s.color} flex items-center justify-center`,children:a.jsx(s.icon,{size:20})}),a.jsxs("div",{className:`flex items-center gap-0.5 text-[10px] font-black ${s.trendUp?"text-emerald-600":"text-rose-600"}`,children:[s.trendUp?a.jsx(L2,{size:12}):a.jsx(R2,{size:12}),s.trend]})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:s.label}),a.jsx("h4",{className:"text-xl font-black text-slate-800 tracking-tight italic",children:s.value})]},i))}),a.jsxs("div",{className:"bg-white rounded-[2rem] md:rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 md:p-8 border-b border-slate-50 flex flex-col md:flex-row justify-between md:items-center bg-slate-50/30 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-base md:text-lg font-black text-slate-800 tracking-tight italic uppercase",children:"Ledger Activity"}),a.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-indigo-50 text-indigo-600 text-[9px] font-black uppercase tracking-widest border border-indigo-100 italic",children:"January 2026"})]}),a.jsxs("div",{className:"flex items-center gap-4 bg-white border border-slate-100 px-4 py-2 rounded-xl text-slate-400 w-full md:w-64 group",children:[a.jsx(Jt,{size:14,className:"group-focus-within:text-indigo-600 transition-colors"}),a.jsx("input",{type:"text",placeholder:"Search ledger...",className:"bg-transparent border-none outline-none text-[10px] font-bold text-slate-600 w-full placeholder:text-slate-300",disabled:!0})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[a.jsx("thead",{className:"bg-slate-50/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Transaction ID"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Property"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Amount"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:n.map((s,i)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-5 text-xs font-mono font-bold text-indigo-600",children:s.id}),a.jsx("td",{className:"px-8 py-5 text-sm font-black text-slate-700 italic",children:s.property}),a.jsx("td",{className:"px-8 py-5 text-xs font-bold text-slate-400",children:s.date}),a.jsx("td",{className:"px-8 py-5 text-xs font-black text-slate-500 uppercase tracking-widest",children:s.type}),a.jsxs("td",{className:"px-8 py-5 text-sm font-black text-slate-800 text-right italic font-mono",children:["$",s.amount.toLocaleString("en-CA")]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${s.status==="Paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100 animate-pulse"}`,children:s.status})}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("button",{className:"p-2 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all",children:a.jsx(Ee,{size:18})})})]},i))})]})}),a.jsx("div",{className:"p-6 bg-slate-50/30 border-t border-slate-50 flex justify-center",children:a.jsx("button",{className:"text-[10px] font-black text-slate-400 hover:text-indigo-600 uppercase tracking-[0.2em] transition-all",children:"Load Historical Archives"})})]})]})})},vee={monthly_summary:p0,annual_overview:Ca,occupancy_stats:Vu,tax_statement:Ee},bee={monthly_summary:{color:"text-indigo-600",bg:"bg-indigo-50"},annual_overview:{color:"text-emerald-600",bg:"bg-emerald-50"},occupancy_stats:{color:"text-blue-600",bg:"bg-blue-50"},tax_statement:{color:"text-violet-600",bg:"bg-violet-50"}},jee=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState(!0),[l,o]=w.useState(""),c=async()=>{var f,p;i(!0),o("");try{const m=(await B.get("/api/owner/reports")).data,h=(Array.isArray(m==null?void 0:m.reports)?m.reports:Array.isArray(m)?m:[]).map(y=>({...y,id:y.id||y.type,icon:vee[y.type]||Ee,...bee[y.type]}));t(h),r((m==null?void 0:m.stats)||null)}catch(x){console.error(x),o(((p=(f=x.response)==null?void 0:f.data)==null?void 0:p.message)||"Failed to load reports."),t([]),r(null)}finally{i(!1)}};w.useEffect(()=>{c()},[]);const u=n?[{label:"Reports Viewable",value:n.reportsViewable??"",sub:n.reportsViewableSub??""},{label:"Export Limit",value:n.exportLimit??"Unlimited",sub:n.exportLimitSub??""},{label:"Data Latency",value:n.dataLatency??"Real-time",sub:n.dataLatencySub??""}]:[{label:"Reports Viewable",value:"",sub:"Last 12 months"},{label:"Export Limit",value:"Unlimited",sub:"PDF / CSV Formats"},{label:"Data Latency",value:"Real-time",sub:"Synced with Admin"}];return a.jsx(di,{title:"Performance Reports",children:a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:"Portfolio Analytics"}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm md:text-base",children:"Export-ready reports generated from managed property data."})]}),a.jsxs(V,{variant:"secondary",onClick:c,disabled:s,children:[a.jsx(Vn,{size:18,className:s?"animate-spin":""}),"Refresh"]})]}),l&&a.jsx("div",{className:"p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm",children:l}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((f,p)=>a.jsxs("div",{className:"bg-white px-8 py-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-center",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:f.label}),a.jsx("p",{className:"text-xl font-black text-slate-800 italic",children:f.value}),a.jsx("p",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-tighter mt-1",children:f.sub})]},p))}),s?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx(Vn,{size:40,className:"animate-spin text-slate-300"})}):e.length===0?a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-12 text-center text-slate-500",children:[a.jsx(Ee,{size:48,className:"mx-auto mb-4 text-slate-300"}),a.jsx("p",{className:"font-medium",children:"No reports available."})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:e.map((f,p)=>a.jsxs("div",{className:"bg-white rounded-2xl md:rounded-2.5rem p-6 md:p-8 border border-slate-100 shadow-sm hover:shadow-xl hover:shadow-indigo-100/50 transition-all duration-500 group flex flex-col sm:flex-row gap-6 md:gap-8",children:[a.jsx("div",{className:`w-16 h-16 md:w-20 md:h-20 shrink-0 rounded-2xl ${f.bg||"bg-slate-50"} ${f.color||"text-slate-600"} flex items-center justify-center transition-transform group-hover:scale-110 duration-500 shadow-inner mx-auto sm:mx-0`,children:a.jsx(f.icon,{size:32,className:"md:w-9 md:h-9"})}),a.jsxs("div",{className:"flex flex-col justify-between flex-1",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"text-xl font-black text-slate-800 tracking-tight italic uppercase group-hover:text-indigo-600 transition-colors leading-tight",children:f.title}),a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-black text-slate-400 uppercase tracking-widest italic",children:[a.jsx(md,{size:12})," Active"]})]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed",children:f.description})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-6 md:mt-8 gap-4",children:[a.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:["Last Run: ",f.lastGenerated||""]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx("button",{type:"button",className:"flex-1 sm:flex-none p-3 rounded-xl bg-slate-50 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all border border-transparent hover:border-indigo-100 flex justify-center",children:a.jsx(m0,{size:18})}),a.jsxs(V,{variant:"secondary",className:"flex-[3] sm:flex-none gap-2 h-11 px-6 rounded-xl font-black text-[10px] uppercase tracking-widest border-2",onClick:async()=>{var x,m;try{const j=await B.get(`/api/admin/reports/${f.id||f.type}/download`,{responseType:"blob"}),h=window.URL.createObjectURL(new Blob([j.data])),y=document.createElement("a");y.href=h,y.setAttribute("download",`${(f.title||"report").toLowerCase().replace(/\s+/g,"_")}.pdf`),document.body.appendChild(y),y.click(),y.remove()}catch(j){alert(((m=(x=j.response)==null?void 0:x.data)==null?void 0:m.message)||"Report download failed.")}},children:[a.jsx(wn,{size:16})," Export"]})]})]})]})]},f.id||p))}),a.jsxs("div",{className:"bg-slate-900 rounded-2xl md:rounded-2.5rem p-6 md:p-10 flex flex-col md:flex-row items-center justify-between text-white overflow-hidden relative group gap-8",children:[a.jsxs("div",{className:"relative z-10 space-y-4 max-w-xl text-center md:text-left",children:[a.jsx("h4",{className:"text-xl md:text-2xl font-black italic tracking-tight uppercase",children:"Custom Report Requests"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:"Need a specific data extract or a consolidated tax statement not listed here? Contact your relationship manager directly from the Admin panel to request custom reporting modules."}),a.jsx("button",{type:"button",className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-indigo-600 text-white font-black text-xs uppercase tracking-widest hover:bg-indigo-500 transition-all shadow-xl shadow-indigo-900/20 active:scale-95",children:"Contact Admin Support"})]}),a.jsx(H2,{size:240,className:"hidden md:block absolute -right-20 -top-20 opacity-10 group-hover:scale-110 transition-transform duration-1000 rotate-12"})]})]})})},wee=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(null),[l,o]=w.useState(null),[c,d]=w.useState(!1),u=w.useRef(null),f=w.useRef(null);w.useEffect(()=>{const h=localStorage.getItem("ownerId");return h&&o(parseInt(h)),p(),()=>clearInterval(f.current)},[]);const p=async()=>{try{const h=await er.getConversations();h.length>0&&i(h[0])}catch(h){console.error(h)}};w.useEffect(()=>{s&&(x(),f.current=setInterval(x,3e3))},[s]);const x=async()=>{if(s)try{const h=await er.getHistory(s.id);t(h)}catch(h){console.error(h)}};w.useEffect(()=>{m()},[e]);const m=()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},j=async h=>{if(h.preventDefault(),!(!n.trim()||!s)){d(!0);try{await er.sendMessage(s.id,n),r(""),x()}catch(y){console.error(y)}finally{d(!1)}}};return a.jsx(di,{title:"Messages",children:a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden h-[calc(100vh-160px)] md:h-[calc(100vh-140px)] flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-50 bg-slate-50/50 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 flex items-center justify-center text-indigo-600",children:a.jsx(yi,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-slate-800",children:"Priority Support"}),a.jsx("p",{className:"text-xs font-medium text-slate-500",children:s?`Connected with ${s.name}`:"Connecting..."})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 bg-white relative",children:[!s&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 text-sm",children:"Connecting to support..."}),e.map((h,y)=>{const g=h.senderId===l;return a.jsx("div",{className:`flex ${g?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[90%] md:max-w-[80%] px-4 py-2.5 md:px-5 md:py-3 rounded-2xl text-sm font-medium shadow-sm ${g?"bg-indigo-600 text-white rounded-br-none":"bg-slate-100 text-slate-700 rounded-bl-none"}`,children:[h.content,a.jsx("div",{className:"text-[10px] mt-1 text-right opacity-70",children:new Date(h.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},y)}),a.jsx("div",{ref:u})]}),a.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:a.jsxs("form",{onSubmit:j,className:"flex gap-3",children:[a.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"Type a message...",className:"flex-1 h-12 px-4 rounded-xl border border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none transition-all font-medium text-slate-700"}),a.jsx("button",{type:"submit",disabled:c||!n,className:"h-12 w-12 bg-indigo-600 text-white rounded-xl flex items-center justify-center hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:c?a.jsx(Vn,{className:"animate-spin",size:20}):a.jsx(To,{size:20})})]})})]})})};function Nee(){return a.jsx(Z_,{children:a.jsxs(H_,{children:[a.jsx(fe,{path:"/",element:a.jsx(_s,{to:"/login",replace:!0})}),a.jsx(fe,{path:"/login",element:a.jsx(IA,{})}),a.jsxs(fe,{element:a.jsx(MA,{}),children:[a.jsx(fe,{path:"/dashboard",element:a.jsx(tZ,{})}),a.jsx(fe,{path:"/vacancy",element:a.jsx(nZ,{})}),a.jsx(fe,{path:"/revenue",element:a.jsx(rZ,{})}),a.jsx(fe,{path:"/properties",element:a.jsx(aZ,{})}),a.jsx(fe,{path:"/properties/buildings",element:a.jsx(sZ,{})}),a.jsx(fe,{path:"/properties/:id",element:a.jsx(oZ,{})}),a.jsx(fe,{path:"/units",element:a.jsx(iZ,{})}),a.jsx(fe,{path:"/units/:id",element:a.jsx(cZ,{})}),a.jsx(fe,{path:"/units/:id/bedrooms",element:a.jsx(dZ,{})}),a.jsx(fe,{path:"/units/:id/switch-mode",element:a.jsx(uZ,{})}),a.jsx(fe,{path:"/tenants",element:a.jsx(Fj,{})}),a.jsx(fe,{path:"/tenants/:id",element:a.jsx(Fj,{})}),a.jsx(fe,{path:"/owners",element:a.jsx(YZ,{})}),a.jsx(fe,{path:"/insurance-alerts",element:a.jsx(pZ,{})}),a.jsx(fe,{path:"/documents",element:a.jsx(mZ,{})}),a.jsx(fe,{path:"/leases",element:a.jsx(gZ,{})}),a.jsx(fe,{path:"/leases/new",element:a.jsx(hZ,{})}),a.jsx(fe,{path:"/leases/new-bedroom",element:a.jsx(xZ,{})}),a.jsx(fe,{path:"/payments/invoices",element:a.jsx(yZ,{})}),a.jsx(fe,{path:"/payments/received",element:a.jsx(vZ,{})}),a.jsx(fe,{path:"/payments/outstanding",element:a.jsx(bZ,{})}),a.jsx(fe,{path:"/payments/refunds",element:a.jsx(jZ,{})}),a.jsx(fe,{path:"/payments/new",element:a.jsx(wZ,{})}),a.jsx(fe,{path:"/accounting",element:a.jsx(SZ,{})}),a.jsx(fe,{path:"/accounting/chart-of-accounts",element:a.jsx(DZ,{})}),a.jsx(fe,{path:"/accounting/tax-settings",element:a.jsx(RZ,{})}),a.jsx(fe,{path:"/settings/quickbooks",element:a.jsx(LZ,{})}),a.jsx(fe,{path:"/reports",element:a.jsx(zZ,{})}),a.jsx(fe,{path:"/maintenance",element:a.jsx(UZ,{})}),a.jsx(fe,{path:"/communication",element:a.jsx(qZ,{})}),a.jsx(fe,{path:"/emails",element:a.jsx(GZ,{})}),a.jsx(fe,{path:"/tickets",element:a.jsx(HZ,{})}),a.jsx(fe,{path:"/settings",element:a.jsx(XZ,{})})]}),a.jsx(fe,{path:"/tenant/login",element:a.jsx(_s,{to:"/login",replace:!0})}),a.jsx(fe,{path:"/tenant/invite/:token",element:a.jsx(cee,{})}),a.jsxs(fe,{element:a.jsx(QZ,{}),children:[a.jsx(fe,{path:"/tenant/dashboard",element:a.jsx(tee,{})}),a.jsx(fe,{path:"/tenant/lease",element:a.jsx(nee,{})}),a.jsx(fe,{path:"/tenant/invoices",element:a.jsx(ree,{})}),a.jsx(fe,{path:"/tenant/payments",element:a.jsx(aee,{})}),a.jsx(fe,{path:"/tenant/documents",element:a.jsx(see,{})}),a.jsx(fe,{path:"/tenant/insurance",element:a.jsx(iee,{})}),a.jsx(fe,{path:"/tenant/tickets",element:a.jsx(lee,{})}),a.jsx(fe,{path:"/tenant/communication",element:a.jsx(oee,{})}),a.jsx(fe,{path:"/tenant/reports",element:a.jsx(fee,{})})]}),a.jsx(fe,{path:"/owner/login",element:a.jsx(_s,{to:"/login",replace:!0})}),a.jsxs(fe,{element:a.jsx(pee,{}),children:[a.jsx(fe,{path:"/owner/dashboard",element:a.jsx(xee,{})}),a.jsx(fe,{path:"/owner/properties",element:a.jsx(gee,{})}),a.jsx(fe,{path:"/owner/financials",element:a.jsx(yee,{})}),a.jsx(fe,{path:"/owner/reports",element:a.jsx(jee,{})}),a.jsx(fe,{path:"/owner/communication",element:a.jsx(wee,{})})," "]})]})})}Fp.createRoot(document.getElementById("root")).render(a.jsx(R.StrictMode,{children:a.jsx(Nee,{})}));
