function N4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wj={exports:{}},pu={},Hj={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),S4=Symbol.for("react.portal"),k4=Symbol.for("react.fragment"),O4=Symbol.for("react.strict_mode"),C4=Symbol.for("react.profiler"),_4=Symbol.for("react.provider"),P4=Symbol.for("react.context"),A4=Symbol.for("react.forward_ref"),E4=Symbol.for("react.suspense"),T4=Symbol.for("react.memo"),$4=Symbol.for("react.lazy"),wg=Symbol.iterator;function I4(e){return e===null||typeof e!="object"?null:(e=wg&&e[wg]||e["@@iterator"],typeof e=="function"?e:null)}var qj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gj=Object.assign,Kj={};function fi(e,t,n){this.props=e,this.context=t,this.refs=Kj,this.updater=n||qj}fi.prototype.isReactComponent={};fi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xj(){}Xj.prototype=fi.prototype;function ix(e,t,n){this.props=e,this.context=t,this.refs=Kj,this.updater=n||qj}var lx=ix.prototype=new Xj;lx.constructor=ix;Gj(lx,fi.prototype);lx.isPureReactComponent=!0;var Ng=Array.isArray,Yj=Object.prototype.hasOwnProperty,ox={current:null},Qj={key:!0,ref:!0,__self:!0,__source:!0};function Jj(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Yj.call(t,r)&&!Qj.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:yo,type:e,key:i,ref:l,props:s,_owner:ox.current}}function M4(e,t){return{$$typeof:yo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cx(e){return typeof e=="object"&&e!==null&&e.$$typeof===yo}function D4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sg=/\/+/g;function Tf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D4(""+e.key):t.toString(36)}function bc(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case yo:case S4:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Tf(l,0):r,Ng(s)?(n="",e!=null&&(n=e.replace(Sg,"$&/")+"/"),bc(s,t,n,"",function(d){return d})):s!=null&&(cx(s)&&(s=M4(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Sg,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Ng(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Tf(i,o);l+=bc(i,t,n,c,s)}else if(c=I4(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Tf(i,o++),l+=bc(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Bo(e,t,n){if(e==null)return e;var r=[],s=0;return bc(e,r,"","",function(i){return t.call(n,i,s++)}),r}function R4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},jc={transition:null},L4={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:jc,ReactCurrentOwner:ox};function Zj(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Bo,forEach:function(e,t,n){Bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bo(e,function(){t++}),t},toArray:function(e){return Bo(e,function(t){return t})||[]},only:function(e){if(!cx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=fi;Se.Fragment=k4;Se.Profiler=C4;Se.PureComponent=ix;Se.StrictMode=O4;Se.Suspense=E4;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L4;Se.act=Zj;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gj({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=ox.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Yj.call(t,c)&&!Qj.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:yo,type:e.type,key:s,ref:i,props:r,_owner:l}};Se.createContext=function(e){return e={$$typeof:P4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_4,_context:e},e.Consumer=e};Se.createElement=Jj;Se.createFactory=function(e){var t=Jj.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:A4,render:e}};Se.isValidElement=cx;Se.lazy=function(e){return{$$typeof:$4,_payload:{_status:-1,_result:e},_init:R4}};Se.memo=function(e,t){return{$$typeof:T4,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=jc.transition;jc.transition={};try{e()}finally{jc.transition=t}};Se.unstable_act=Zj;Se.useCallback=function(e,t){return Bt.current.useCallback(e,t)};Se.useContext=function(e){return Bt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Bt.current.useEffect(e,t)};Se.useId=function(){return Bt.current.useId()};Se.useImperativeHandle=function(e,t,n){return Bt.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Bt.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return Bt.current.useReducer(e,t,n)};Se.useRef=function(e){return Bt.current.useRef(e)};Se.useState=function(e){return Bt.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return Bt.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return Bt.current.useTransition()};Se.version="18.3.1";Hj.exports=Se;var w=Hj.exports;const M=Be(w),z4=N4({__proto__:null,default:M},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4=w,F4=Symbol.for("react.element"),U4=Symbol.for("react.fragment"),V4=Object.prototype.hasOwnProperty,W4=B4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H4={key:!0,ref:!0,__self:!0,__source:!0};function ew(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)V4.call(t,r)&&!H4.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:F4,type:e,key:i,ref:l,props:s,_owner:W4.current}}pu.Fragment=U4;pu.jsx=ew;pu.jsxs=ew;Wj.exports=pu;var a=Wj.exports,Rp={},tw={exports:{}},cn={},nw={exports:{}},rw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,P){var U=A.length;A.push(P);e:for(;0<U;){var K=U-1>>>1,q=A[K];if(0<s(q,P))A[K]=P,A[U]=q,U=K;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var P=A[0],U=A.pop();if(U!==P){A[0]=U;e:for(var K=0,q=A.length,D=q>>>1;K<D;){var te=2*(K+1)-1,se=A[te],be=te+1,Q=A[be];if(0>s(se,U))be<q&&0>s(Q,se)?(A[K]=Q,A[be]=U,K=be):(A[K]=se,A[te]=U,K=te);else if(be<q&&0>s(Q,U))A[K]=Q,A[be]=U,K=be;else break e}}return P}function s(A,P){var U=A.sortIndex-P.sortIndex;return U!==0?U:A.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,p=3,g=!1,m=!1,b=!1,h=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(A){for(var P=n(d);P!==null;){if(P.callback===null)r(d);else if(P.startTime<=A)r(d),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(d)}}function N(A){if(b=!1,j(A),!m)if(n(c)!==null)m=!0,$(v);else{var P=n(d);P!==null&&z(N,P.startTime-A)}}function v(A,P){m=!1,b&&(b=!1,y(O),O=-1),g=!0;var U=p;try{for(j(P),f=n(c);f!==null&&(!(f.expirationTime>P)||A&&!E());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var q=K(f.expirationTime<=P);P=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(c)&&r(c),j(P)}else r(c);f=n(c)}if(f!==null)var D=!0;else{var te=n(d);te!==null&&z(N,te.startTime-P),D=!1}return D}finally{f=null,p=U,g=!1}}var S=!1,k=null,O=-1,_=5,C=-1;function E(){return!(e.unstable_now()-C<_)}function T(){if(k!==null){var A=e.unstable_now();C=A;var P=!0;try{P=k(!0,A)}finally{P?L():(S=!1,k=null)}}else S=!1}var L;if(typeof x=="function")L=function(){x(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=T,L=function(){F.postMessage(null)}}else L=function(){h(T,0)};function $(A){k=A,S||(S=!0,L())}function z(A,P){O=h(function(){A(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,$(v))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var U=p;p=P;try{return A()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,P){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=p;p=A;try{return P()}finally{p=U}},e.unstable_scheduleCallback=function(A,P,U){var K=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,A){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,A={id:u++,callback:P,priorityLevel:A,startTime:U,expirationTime:q,sortIndex:-1},U>K?(A.sortIndex=U,t(d,A),n(c)===null&&A===n(d)&&(b?(y(O),O=-1):b=!0,z(N,U-K))):(A.sortIndex=q,t(c,A),m||g||(m=!0,$(v))),A},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(A){var P=p;return function(){var U=p;p=P;try{return A.apply(this,arguments)}finally{p=U}}}})(rw);nw.exports=rw;var q4=nw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4=w,on=q4;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aw=new Set,xl={};function Ka(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(xl[e]=t,e=0;e<t.length;e++)aw.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,K4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kg={},Og={};function X4(e){return Lp.call(Og,e)?!0:Lp.call(kg,e)?!1:K4.test(e)?Og[e]=!0:(kg[e]=!0,!1)}function Y4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q4(e,t,n,r){if(t===null||typeof t>"u"||Y4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var dx=/[\-:]([a-z])/g;function ux(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dx,ux);St[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dx,ux);St[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dx,ux);St[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function fx(e,t,n,r){var s=St.hasOwnProperty(t)?St[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q4(t,n,s,r)&&(n=null),r||s===null?X4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ar=G4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fo=Symbol.for("react.element"),ls=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),px=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),sw=Symbol.for("react.provider"),iw=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),hx=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),lw=Symbol.for("react.offscreen"),Cg=Symbol.iterator;function Ti(e){return e===null||typeof e!="object"?null:(e=Cg&&e[Cg]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,$f;function Ji(e){if($f===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$f=t&&t[1]||""}return`
`+$f+e}var If=!1;function Mf(e,t){if(!e||If)return"";If=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{If=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ji(e):""}function J4(e){switch(e.tag){case 5:return Ji(e.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 2:case 15:return e=Mf(e.type,!1),e;case 11:return e=Mf(e.type.render,!1),e;case 1:return e=Mf(e.type,!0),e;default:return""}}function Up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case ls:return"Portal";case zp:return"Profiler";case px:return"StrictMode";case Bp:return"Suspense";case Fp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iw:return(e.displayName||"Context")+".Consumer";case sw:return(e._context.displayName||"Context")+".Provider";case mx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hx:return t=e.displayName||null,t!==null?t:Up(e.type)||"Memo";case Rr:t=e._payload,e=e._init;try{return Up(e(t))}catch{}}return null}function Z4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(t);case 8:return t===px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ow(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eO(e){var t=ow(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uo(e){e._valueTracker||(e._valueTracker=eO(e))}function cw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ow(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Dc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vp(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _g(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ra(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dw(e,t){t=t.checked,t!=null&&fx(e,"checked",t,!1)}function Wp(e,t){dw(e,t);var n=ra(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hp(e,t.type,ra(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hp(e,t,n){(t!=="number"||Dc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zi=Array.isArray;function ws(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ra(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ag(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(Zi(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ra(n)}}function uw(e,t){var n=ra(t.value),r=ra(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Eg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vo,pw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tO=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(e){tO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rl[t]=rl[e]})});function mw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rl.hasOwnProperty(e)&&rl[e]?(""+t).trim():t+"px"}function hw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var nO=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(e,t){if(t){if(nO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Xp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function xx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qp=null,Ns=null,Ss=null;function Tg(e){if(e=jo(e)){if(typeof Qp!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=yu(t),Qp(e.stateNode,e.type,t))}}function xw(e){Ns?Ss?Ss.push(e):Ss=[e]:Ns=e}function gw(){if(Ns){var e=Ns,t=Ss;if(Ss=Ns=null,Tg(e),t)for(e=0;e<t.length;e++)Tg(t[e])}}function yw(e,t){return e(t)}function vw(){}var Df=!1;function bw(e,t,n){if(Df)return e(t,n);Df=!0;try{return yw(e,t,n)}finally{Df=!1,(Ns!==null||Ss!==null)&&(vw(),gw())}}function yl(e,t){var n=e.stateNode;if(n===null)return null;var r=yu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Jp=!1;if(jr)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Jp=!1}function rO(e,t,n,r,s,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var al=!1,Rc=null,Lc=!1,Zp=null,aO={onError:function(e){al=!0,Rc=e}};function sO(e,t,n,r,s,i,l,o,c){al=!1,Rc=null,rO.apply(aO,arguments)}function iO(e,t,n,r,s,i,l,o,c){if(sO.apply(this,arguments),al){if(al){var d=Rc;al=!1,Rc=null}else throw Error(Z(198));Lc||(Lc=!0,Zp=d)}}function Xa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $g(e){if(Xa(e)!==e)throw Error(Z(188))}function lO(e){var t=e.alternate;if(!t){if(t=Xa(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $g(s),e;if(i===r)return $g(s),t;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function ww(e){return e=lO(e),e!==null?Nw(e):null}function Nw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nw(e);if(t!==null)return t;e=e.sibling}return null}var Sw=on.unstable_scheduleCallback,Ig=on.unstable_cancelCallback,oO=on.unstable_shouldYield,cO=on.unstable_requestPaint,et=on.unstable_now,dO=on.unstable_getCurrentPriorityLevel,gx=on.unstable_ImmediatePriority,kw=on.unstable_UserBlockingPriority,zc=on.unstable_NormalPriority,uO=on.unstable_LowPriority,Ow=on.unstable_IdlePriority,mu=null,tr=null;function fO(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(mu,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:hO,pO=Math.log,mO=Math.LN2;function hO(e){return e>>>=0,e===0?32:31-(pO(e)/mO|0)|0}var Wo=64,Ho=4194304;function el(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=el(o):(i&=l,i!==0&&(r=el(i)))}else l=n&~s,l!==0?r=el(l):i!==0&&(r=el(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ln(t),s=1<<n,r|=e[n],t&=~s;return r}function xO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ln(i),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=xO(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function em(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cw(){var e=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),e}function Rf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=n}function yO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ln(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function yx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ln(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ie=0;function _w(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pw,vx,Aw,Ew,Tw,tm=!1,qo=[],qr=null,Gr=null,Kr=null,vl=new Map,bl=new Map,Br=[],vO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mg(e,t){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function Ii(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=jo(t),t!==null&&vx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bO(e,t,n,r,s){switch(t){case"focusin":return qr=Ii(qr,e,t,n,r,s),!0;case"dragenter":return Gr=Ii(Gr,e,t,n,r,s),!0;case"mouseover":return Kr=Ii(Kr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return vl.set(i,Ii(vl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,bl.set(i,Ii(bl.get(i)||null,e,t,n,r,s)),!0}return!1}function $w(e){var t=ja(e.target);if(t!==null){var n=Xa(t);if(n!==null){if(t=n.tag,t===13){if(t=jw(n),t!==null){e.blockedOn=t,Tw(e.priority,function(){Aw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yp=r,n.target.dispatchEvent(r),Yp=null}else return t=jo(n),t!==null&&vx(t),e.blockedOn=n,!1;t.shift()}return!0}function Dg(e,t,n){wc(e)&&n.delete(t)}function jO(){tm=!1,qr!==null&&wc(qr)&&(qr=null),Gr!==null&&wc(Gr)&&(Gr=null),Kr!==null&&wc(Kr)&&(Kr=null),vl.forEach(Dg),bl.forEach(Dg)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,tm||(tm=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,jO)))}function jl(e){function t(s){return Mi(s,e)}if(0<qo.length){Mi(qo[0],e);for(var n=1;n<qo.length;n++){var r=qo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qr!==null&&Mi(qr,e),Gr!==null&&Mi(Gr,e),Kr!==null&&Mi(Kr,e),vl.forEach(t),bl.forEach(t),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)$w(n),n.blockedOn===null&&Br.shift()}var ks=Ar.ReactCurrentBatchConfig,Fc=!0;function wO(e,t,n,r){var s=Ie,i=ks.transition;ks.transition=null;try{Ie=1,bx(e,t,n,r)}finally{Ie=s,ks.transition=i}}function NO(e,t,n,r){var s=Ie,i=ks.transition;ks.transition=null;try{Ie=4,bx(e,t,n,r)}finally{Ie=s,ks.transition=i}}function bx(e,t,n,r){if(Fc){var s=nm(e,t,n,r);if(s===null)Gf(e,t,r,Uc,n),Mg(e,r);else if(bO(s,e,t,n,r))r.stopPropagation();else if(Mg(e,r),t&4&&-1<vO.indexOf(e)){for(;s!==null;){var i=jo(s);if(i!==null&&Pw(i),i=nm(e,t,n,r),i===null&&Gf(e,t,r,Uc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gf(e,t,r,null,n)}}var Uc=null;function nm(e,t,n,r){if(Uc=null,e=xx(r),e=ja(e),e!==null)if(t=Xa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uc=e,null}function Iw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dO()){case gx:return 1;case kw:return 4;case zc:case uO:return 16;case Ow:return 536870912;default:return 16}default:return 16}}var Ur=null,jx=null,Nc=null;function Mw(){if(Nc)return Nc;var e,t=jx,n=t.length,r,s="value"in Ur?Ur.value:Ur.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Nc=s.slice(e,1<r?1-r:void 0)}function Sc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Go(){return!0}function Rg(){return!1}function dn(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Go:Rg,this.isPropagationStopped=Rg,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wx=dn(pi),bo=Qe({},pi,{view:0,detail:0}),SO=dn(bo),Lf,zf,Di,hu=Qe({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Lf=e.screenX-Di.screenX,zf=e.screenY-Di.screenY):zf=Lf=0,Di=e),Lf)},movementY:function(e){return"movementY"in e?e.movementY:zf}}),Lg=dn(hu),kO=Qe({},hu,{dataTransfer:0}),OO=dn(kO),CO=Qe({},bo,{relatedTarget:0}),Bf=dn(CO),_O=Qe({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),PO=dn(_O),AO=Qe({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EO=dn(AO),TO=Qe({},pi,{data:0}),zg=dn(TO),$O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MO[e])?!!t[e]:!1}function Nx(){return DO}var RO=Qe({},bo,{key:function(e){if(e.key){var t=$O[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(e){return e.type==="keypress"?Sc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LO=dn(RO),zO=Qe({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bg=dn(zO),BO=Qe({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),FO=dn(BO),UO=Qe({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),VO=dn(UO),WO=Qe({},hu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HO=dn(WO),qO=[9,13,27,32],Sx=jr&&"CompositionEvent"in window,sl=null;jr&&"documentMode"in document&&(sl=document.documentMode);var GO=jr&&"TextEvent"in window&&!sl,Dw=jr&&(!Sx||sl&&8<sl&&11>=sl),Fg=" ",Ug=!1;function Rw(e,t){switch(e){case"keyup":return qO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function KO(e,t){switch(e){case"compositionend":return Lw(t);case"keypress":return t.which!==32?null:(Ug=!0,Fg);case"textInput":return e=t.data,e===Fg&&Ug?null:e;default:return null}}function XO(e,t){if(cs)return e==="compositionend"||!Sx&&Rw(e,t)?(e=Mw(),Nc=jx=Ur=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dw&&t.locale!=="ko"?null:t.data;default:return null}}var YO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YO[e.type]:t==="textarea"}function zw(e,t,n,r){xw(r),t=Vc(t,"onChange"),0<t.length&&(n=new wx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var il=null,wl=null;function QO(e){Yw(e,0)}function xu(e){var t=fs(e);if(cw(t))return e}function JO(e,t){if(e==="change")return t}var Bw=!1;if(jr){var Ff;if(jr){var Uf="oninput"in document;if(!Uf){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Uf=typeof Wg.oninput=="function"}Ff=Uf}else Ff=!1;Bw=Ff&&(!document.documentMode||9<document.documentMode)}function Hg(){il&&(il.detachEvent("onpropertychange",Fw),wl=il=null)}function Fw(e){if(e.propertyName==="value"&&xu(wl)){var t=[];zw(t,wl,e,xx(e)),bw(QO,t)}}function ZO(e,t,n){e==="focusin"?(Hg(),il=t,wl=n,il.attachEvent("onpropertychange",Fw)):e==="focusout"&&Hg()}function eC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(wl)}function tC(e,t){if(e==="click")return xu(t)}function nC(e,t){if(e==="input"||e==="change")return xu(t)}function rC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:rC;function Nl(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lp.call(t,s)||!Fn(e[s],t[s]))return!1}return!0}function qg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,t){var n=qg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qg(n)}}function Uw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vw(){for(var e=window,t=Dc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dc(e.document)}return t}function kx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aC(e){var t=Vw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uw(n.ownerDocument.documentElement,n)){if(r!==null&&kx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Gg(n,i);var l=Gg(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sC=jr&&"documentMode"in document&&11>=document.documentMode,ds=null,rm=null,ll=null,am=!1;function Kg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;am||ds==null||ds!==Dc(r)||(r=ds,"selectionStart"in r&&kx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&Nl(ll,r)||(ll=r,r=Vc(rm,"onSelect"),0<r.length&&(t=new wx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ds)))}function Ko(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var us={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},Vf={},Ww={};jr&&(Ww=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function gu(e){if(Vf[e])return Vf[e];if(!us[e])return e;var t=us[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ww)return Vf[e]=t[n];return e}var Hw=gu("animationend"),qw=gu("animationiteration"),Gw=gu("animationstart"),Kw=gu("transitionend"),Xw=new Map,Xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(e,t){Xw.set(e,t),Ka(t,[e])}for(var Wf=0;Wf<Xg.length;Wf++){var Hf=Xg[Wf],iC=Hf.toLowerCase(),lC=Hf[0].toUpperCase()+Hf.slice(1);la(iC,"on"+lC)}la(Hw,"onAnimationEnd");la(qw,"onAnimationIteration");la(Gw,"onAnimationStart");la("dblclick","onDoubleClick");la("focusin","onFocus");la("focusout","onBlur");la(Kw,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oC=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function Yg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,iO(r,t,void 0,e),e.currentTarget=null}function Yw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Yg(s,o,d),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Yg(s,o,d),i=c}}}if(Lc)throw e=Zp,Lc=!1,Zp=null,e}function Fe(e,t){var n=t[cm];n===void 0&&(n=t[cm]=new Set);var r=e+"__bubble";n.has(r)||(Qw(t,e,2,!1),n.add(r))}function qf(e,t,n){var r=0;t&&(r|=4),Qw(n,e,r,t)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Sl(e){if(!e[Xo]){e[Xo]=!0,aw.forEach(function(n){n!=="selectionchange"&&(oC.has(n)||qf(n,!1,e),qf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xo]||(t[Xo]=!0,qf("selectionchange",!1,t))}}function Qw(e,t,n,r){switch(Iw(t)){case 1:var s=wO;break;case 4:s=NO;break;default:s=bx}n=s.bind(null,t,n,e),s=void 0,!Jp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gf(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=ja(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}bw(function(){var d=i,u=xx(n),f=[];e:{var p=Xw.get(e);if(p!==void 0){var g=wx,m=e;switch(e){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":g=LO;break;case"focusin":m="focus",g=Bf;break;case"focusout":m="blur",g=Bf;break;case"beforeblur":case"afterblur":g=Bf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=OO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=FO;break;case Hw:case qw:case Gw:g=PO;break;case Kw:g=VO;break;case"scroll":g=SO;break;case"wheel":g=HO;break;case"copy":case"cut":case"paste":g=EO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Bg}var b=(t&4)!==0,h=!b&&e==="scroll",y=b?p!==null?p+"Capture":null:p;b=[];for(var x=d,j;x!==null;){j=x;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,y!==null&&(N=yl(x,y),N!=null&&b.push(kl(x,N,j)))),h)break;x=x.return}0<b.length&&(p=new g(p,m,null,n,u),f.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Yp&&(m=n.relatedTarget||n.fromElement)&&(ja(m)||m[wr]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=d,m=m?ja(m):null,m!==null&&(h=Xa(m),m!==h||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=d),g!==m)){if(b=Lg,N="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=Bg,N="onPointerLeave",y="onPointerEnter",x="pointer"),h=g==null?p:fs(g),j=m==null?p:fs(m),p=new b(N,x+"leave",g,n,u),p.target=h,p.relatedTarget=j,N=null,ja(u)===d&&(b=new b(y,x+"enter",m,n,u),b.target=j,b.relatedTarget=h,N=b),h=N,g&&m)t:{for(b=g,y=m,x=0,j=b;j;j=ns(j))x++;for(j=0,N=y;N;N=ns(N))j++;for(;0<x-j;)b=ns(b),x--;for(;0<j-x;)y=ns(y),j--;for(;x--;){if(b===y||y!==null&&b===y.alternate)break t;b=ns(b),y=ns(y)}b=null}else b=null;g!==null&&Qg(f,p,g,b,!1),m!==null&&h!==null&&Qg(f,h,m,b,!0)}}e:{if(p=d?fs(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var v=JO;else if(Vg(p))if(Bw)v=nC;else{v=eC;var S=ZO}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(v=tC);if(v&&(v=v(e,d))){zw(f,v,n,u);break e}S&&S(e,p,d),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Hp(p,"number",p.value)}switch(S=d?fs(d):window,e){case"focusin":(Vg(S)||S.contentEditable==="true")&&(ds=S,rm=d,ll=null);break;case"focusout":ll=rm=ds=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,Kg(f,n,u);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":Kg(f,n,u)}var k;if(Sx)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else cs?Rw(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Dw&&n.locale!=="ko"&&(cs||O!=="onCompositionStart"?O==="onCompositionEnd"&&cs&&(k=Mw()):(Ur=u,jx="value"in Ur?Ur.value:Ur.textContent,cs=!0)),S=Vc(d,O),0<S.length&&(O=new zg(O,e,null,n,u),f.push({event:O,listeners:S}),k?O.data=k:(k=Lw(n),k!==null&&(O.data=k)))),(k=GO?KO(e,n):XO(e,n))&&(d=Vc(d,"onBeforeInput"),0<d.length&&(u=new zg("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=k))}Yw(f,t)})}function kl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yl(e,n),i!=null&&r.unshift(kl(e,i,s)),i=yl(e,t),i!=null&&r.push(kl(e,i,s))),e=e.return}return r}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qg(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,s?(c=yl(n,i),c!=null&&l.unshift(kl(n,c,o))):s||(c=yl(n,i),c!=null&&l.push(kl(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var cC=/\r\n?/g,dC=/\u0000|\uFFFD/g;function Jg(e){return(typeof e=="string"?e:""+e).replace(cC,`
`).replace(dC,"")}function Yo(e,t,n){if(t=Jg(t),Jg(e)!==t&&n)throw Error(Z(425))}function Wc(){}var sm=null,im=null;function lm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var om=typeof setTimeout=="function"?setTimeout:void 0,uC=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(e){return Zg.resolve(null).then(e).catch(pC)}:om;function pC(e){setTimeout(function(){throw e})}function Kf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),jl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jl(t)}function Xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ey(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),Qn="__reactFiber$"+mi,Ol="__reactProps$"+mi,wr="__reactContainer$"+mi,cm="__reactEvents$"+mi,mC="__reactListeners$"+mi,hC="__reactHandles$"+mi;function ja(e){var t=e[Qn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wr]||n[Qn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ey(e);e!==null;){if(n=e[Qn])return n;e=ey(e)}return t}e=n,n=e.parentNode}return null}function jo(e){return e=e[Qn]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function yu(e){return e[Ol]||null}var dm=[],ps=-1;function oa(e){return{current:e}}function We(e){0>ps||(e.current=dm[ps],dm[ps]=null,ps--)}function ze(e,t){ps++,dm[ps]=e.current,e.current=t}var aa={},Tt=oa(aa),qt=oa(!1),La=aa;function Ms(e,t){var n=e.type.contextTypes;if(!n)return aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(e){return e=e.childContextTypes,e!=null}function Hc(){We(qt),We(Tt)}function ty(e,t,n){if(Tt.current!==aa)throw Error(Z(168));ze(Tt,t),ze(qt,n)}function Jw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Z(108,Z4(e)||"Unknown",s));return Qe({},n,r)}function qc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||aa,La=Tt.current,ze(Tt,e),ze(qt,qt.current),!0}function ny(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Jw(e,t,La),r.__reactInternalMemoizedMergedChildContext=e,We(qt),We(Tt),ze(Tt,e)):We(qt),ze(qt,n)}var fr=null,vu=!1,Xf=!1;function Zw(e){fr===null?fr=[e]:fr.push(e)}function xC(e){vu=!0,Zw(e)}function ca(){if(!Xf&&fr!==null){Xf=!0;var e=0,t=Ie;try{var n=fr;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fr=null,vu=!1}catch(s){throw fr!==null&&(fr=fr.slice(e+1)),Sw(gx,ca),s}finally{Ie=t,Xf=!1}}return null}var ms=[],hs=0,Gc=null,Kc=0,hn=[],xn=0,za=null,pr=1,mr="";function xa(e,t){ms[hs++]=Kc,ms[hs++]=Gc,Gc=e,Kc=t}function eN(e,t,n){hn[xn++]=pr,hn[xn++]=mr,hn[xn++]=za,za=e;var r=pr;e=mr;var s=32-Ln(r)-1;r&=~(1<<s),n+=1;var i=32-Ln(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,pr=1<<32-Ln(t)+s|n<<s|r,mr=i+e}else pr=1<<i|n<<s|r,mr=e}function Ox(e){e.return!==null&&(xa(e,1),eN(e,1,0))}function Cx(e){for(;e===Gc;)Gc=ms[--hs],ms[hs]=null,Kc=ms[--hs],ms[hs]=null;for(;e===za;)za=hn[--xn],hn[xn]=null,mr=hn[--xn],hn[xn]=null,pr=hn[--xn],hn[xn]=null}var ln=null,sn=null,He=!1,Mn=null;function tN(e,t){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ry(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,sn=Xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=za!==null?{id:pr,overflow:mr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ln=e,sn=null,!0):!1;default:return!1}}function um(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fm(e){if(He){var t=sn;if(t){var n=t;if(!ry(e,t)){if(um(e))throw Error(Z(418));t=Xr(n.nextSibling);var r=ln;t&&ry(e,t)?tN(r,n):(e.flags=e.flags&-4097|2,He=!1,ln=e)}}else{if(um(e))throw Error(Z(418));e.flags=e.flags&-4097|2,He=!1,ln=e}}}function ay(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function Qo(e){if(e!==ln)return!1;if(!He)return ay(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lm(e.type,e.memoizedProps)),t&&(t=sn)){if(um(e))throw nN(),Error(Z(418));for(;t;)tN(e,t),t=Xr(t.nextSibling)}if(ay(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sn=Xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=ln?Xr(e.stateNode.nextSibling):null;return!0}function nN(){for(var e=sn;e;)e=Xr(e.nextSibling)}function Ds(){sn=ln=null,He=!1}function _x(e){Mn===null?Mn=[e]:Mn.push(e)}var gC=Ar.ReactCurrentBatchConfig;function Ri(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Jo(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sy(e){var t=e._init;return t(e._payload)}function rN(e){function t(y,x){if(e){var j=y.deletions;j===null?(y.deletions=[x],y.flags|=16):j.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Zr(y,x),y.index=0,y.sibling=null,y}function i(y,x,j){return y.index=j,e?(j=y.alternate,j!==null?(j=j.index,j<x?(y.flags|=2,x):j):(y.flags|=2,x)):(y.flags|=1048576,x)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,x,j,N){return x===null||x.tag!==6?(x=np(j,y.mode,N),x.return=y,x):(x=s(x,j),x.return=y,x)}function c(y,x,j,N){var v=j.type;return v===os?u(y,x,j.props.children,N,j.key):x!==null&&(x.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Rr&&sy(v)===x.type)?(N=s(x,j.props),N.ref=Ri(y,x,j),N.return=y,N):(N=Ec(j.type,j.key,j.props,null,y.mode,N),N.ref=Ri(y,x,j),N.return=y,N)}function d(y,x,j,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=rp(j,y.mode,N),x.return=y,x):(x=s(x,j.children||[]),x.return=y,x)}function u(y,x,j,N,v){return x===null||x.tag!==7?(x=Ea(j,y.mode,N,v),x.return=y,x):(x=s(x,j),x.return=y,x)}function f(y,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return x=np(""+x,y.mode,j),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fo:return j=Ec(x.type,x.key,x.props,null,y.mode,j),j.ref=Ri(y,null,x),j.return=y,j;case ls:return x=rp(x,y.mode,j),x.return=y,x;case Rr:var N=x._init;return f(y,N(x._payload),j)}if(Zi(x)||Ti(x))return x=Ea(x,y.mode,j,null),x.return=y,x;Jo(y,x)}return null}function p(y,x,j,N){var v=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return v!==null?null:o(y,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Fo:return j.key===v?c(y,x,j,N):null;case ls:return j.key===v?d(y,x,j,N):null;case Rr:return v=j._init,p(y,x,v(j._payload),N)}if(Zi(j)||Ti(j))return v!==null?null:u(y,x,j,N,null);Jo(y,j)}return null}function g(y,x,j,N,v){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(j)||null,o(x,y,""+N,v);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Fo:return y=y.get(N.key===null?j:N.key)||null,c(x,y,N,v);case ls:return y=y.get(N.key===null?j:N.key)||null,d(x,y,N,v);case Rr:var S=N._init;return g(y,x,j,S(N._payload),v)}if(Zi(N)||Ti(N))return y=y.get(j)||null,u(x,y,N,v,null);Jo(x,N)}return null}function m(y,x,j,N){for(var v=null,S=null,k=x,O=x=0,_=null;k!==null&&O<j.length;O++){k.index>O?(_=k,k=null):_=k.sibling;var C=p(y,k,j[O],N);if(C===null){k===null&&(k=_);break}e&&k&&C.alternate===null&&t(y,k),x=i(C,x,O),S===null?v=C:S.sibling=C,S=C,k=_}if(O===j.length)return n(y,k),He&&xa(y,O),v;if(k===null){for(;O<j.length;O++)k=f(y,j[O],N),k!==null&&(x=i(k,x,O),S===null?v=k:S.sibling=k,S=k);return He&&xa(y,O),v}for(k=r(y,k);O<j.length;O++)_=g(k,y,O,j[O],N),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?O:_.key),x=i(_,x,O),S===null?v=_:S.sibling=_,S=_);return e&&k.forEach(function(E){return t(y,E)}),He&&xa(y,O),v}function b(y,x,j,N){var v=Ti(j);if(typeof v!="function")throw Error(Z(150));if(j=v.call(j),j==null)throw Error(Z(151));for(var S=v=null,k=x,O=x=0,_=null,C=j.next();k!==null&&!C.done;O++,C=j.next()){k.index>O?(_=k,k=null):_=k.sibling;var E=p(y,k,C.value,N);if(E===null){k===null&&(k=_);break}e&&k&&E.alternate===null&&t(y,k),x=i(E,x,O),S===null?v=E:S.sibling=E,S=E,k=_}if(C.done)return n(y,k),He&&xa(y,O),v;if(k===null){for(;!C.done;O++,C=j.next())C=f(y,C.value,N),C!==null&&(x=i(C,x,O),S===null?v=C:S.sibling=C,S=C);return He&&xa(y,O),v}for(k=r(y,k);!C.done;O++,C=j.next())C=g(k,y,O,C.value,N),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?O:C.key),x=i(C,x,O),S===null?v=C:S.sibling=C,S=C);return e&&k.forEach(function(T){return t(y,T)}),He&&xa(y,O),v}function h(y,x,j,N){if(typeof j=="object"&&j!==null&&j.type===os&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Fo:e:{for(var v=j.key,S=x;S!==null;){if(S.key===v){if(v=j.type,v===os){if(S.tag===7){n(y,S.sibling),x=s(S,j.props.children),x.return=y,y=x;break e}}else if(S.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Rr&&sy(v)===S.type){n(y,S.sibling),x=s(S,j.props),x.ref=Ri(y,S,j),x.return=y,y=x;break e}n(y,S);break}else t(y,S);S=S.sibling}j.type===os?(x=Ea(j.props.children,y.mode,N,j.key),x.return=y,y=x):(N=Ec(j.type,j.key,j.props,null,y.mode,N),N.ref=Ri(y,x,j),N.return=y,y=N)}return l(y);case ls:e:{for(S=j.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){n(y,x.sibling),x=s(x,j.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=rp(j,y.mode,N),x.return=y,y=x}return l(y);case Rr:return S=j._init,h(y,x,S(j._payload),N)}if(Zi(j))return m(y,x,j,N);if(Ti(j))return b(y,x,j,N);Jo(y,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,j),x.return=y,y=x):(n(y,x),x=np(j,y.mode,N),x.return=y,y=x),l(y)):n(y,x)}return h}var Rs=rN(!0),aN=rN(!1),Xc=oa(null),Yc=null,xs=null,Px=null;function Ax(){Px=xs=Yc=null}function Ex(e){var t=Xc.current;We(Xc),e._currentValue=t}function pm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){Yc=e,Px=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function Sn(e){var t=e._currentValue;if(Px!==e)if(e={context:e,memoizedValue:t,next:null},xs===null){if(Yc===null)throw Error(Z(308));xs=e,Yc.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var wa=null;function Tx(e){wa===null?wa=[e]:wa.push(e)}function sN(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Tx(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nr(e,r)}function Nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lr=!1;function $x(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nr(e,n)}return s=r.interleaved,s===null?(t.next=t,Tx(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nr(e,n)}function kc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yx(e,n)}}function iy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qc(e,t,n,r){var s=e.updateQueue;Lr=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;l=0,u=d=c=null,o=i;do{var p=o.lane,g=o.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,b=o;switch(p=t,g=n,b.tag){case 1:if(m=b.payload,typeof m=="function"){f=m.call(g,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,p=typeof m=="function"?m.call(g,f,p):m,p==null)break e;f=Qe({},f,p);break e;case 2:Lr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=g,c=f):u=u.next=g,l|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Fa|=l,e.lanes=l,e.memoizedState=f}}function ly(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var wo={},nr=oa(wo),Cl=oa(wo),_l=oa(wo);function Na(e){if(e===wo)throw Error(Z(174));return e}function Ix(e,t){switch(ze(_l,t),ze(Cl,e),ze(nr,wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gp(t,e)}We(nr),ze(nr,t)}function Ls(){We(nr),We(Cl),We(_l)}function lN(e){Na(_l.current);var t=Na(nr.current),n=Gp(t,e.type);t!==n&&(ze(Cl,e),ze(nr,n))}function Mx(e){Cl.current===e&&(We(nr),We(Cl))}var Ke=oa(0);function Jc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yf=[];function Dx(){for(var e=0;e<Yf.length;e++)Yf[e]._workInProgressVersionPrimary=null;Yf.length=0}var Oc=Ar.ReactCurrentDispatcher,Qf=Ar.ReactCurrentBatchConfig,Ba=0,Xe=null,ot=null,pt=null,Zc=!1,ol=!1,Pl=0,yC=0;function Ot(){throw Error(Z(321))}function Rx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fn(e[n],t[n]))return!1;return!0}function Lx(e,t,n,r,s,i){if(Ba=i,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oc.current=e===null||e.memoizedState===null?wC:NC,e=n(r,s),ol){i=0;do{if(ol=!1,Pl=0,25<=i)throw Error(Z(301));i+=1,pt=ot=null,t.updateQueue=null,Oc.current=SC,e=n(r,s)}while(ol)}if(Oc.current=ed,t=ot!==null&&ot.next!==null,Ba=0,pt=ot=Xe=null,Zc=!1,t)throw Error(Z(300));return e}function zx(){var e=Pl!==0;return Pl=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Xe.memoizedState=pt=e:pt=pt.next=e,pt}function kn(){if(ot===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=pt===null?Xe.memoizedState:pt.next;if(t!==null)pt=t,ot=e;else{if(e===null)throw Error(Z(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},pt===null?Xe.memoizedState=pt=e:pt=pt.next=e}return pt}function Al(e,t){return typeof t=="function"?t(e):t}function Jf(e){var t=kn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=ot,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Ba&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=r):c=c.next=f,Xe.lanes|=u,Fa|=u}d=d.next}while(d!==null&&d!==i);c===null?l=r:c.next=o,Fn(r,t.memoizedState)||(Wt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Xe.lanes|=i,Fa|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zf(e){var t=kn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Fn(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function oN(){}function cN(e,t){var n=Xe,r=kn(),s=t(),i=!Fn(r.memoizedState,s);if(i&&(r.memoizedState=s,Wt=!0),r=r.queue,Bx(fN.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,El(9,uN.bind(null,n,r,s,t),void 0,null),xt===null)throw Error(Z(349));Ba&30||dN(n,t,s)}return s}function dN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uN(e,t,n,r){t.value=n,t.getSnapshot=r,pN(t)&&mN(e)}function fN(e,t,n){return n(function(){pN(t)&&mN(e)})}function pN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fn(e,n)}catch{return!0}}function mN(e){var t=Nr(e,1);t!==null&&zn(t,e,1,-1)}function oy(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:e},t.queue=e,e=e.dispatch=jC.bind(null,Xe,e),[t.memoizedState,e]}function El(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hN(){return kn().memoizedState}function Cc(e,t,n,r){var s=Yn();Xe.flags|=e,s.memoizedState=El(1|t,n,void 0,r===void 0?null:r)}function bu(e,t,n,r){var s=kn();r=r===void 0?null:r;var i=void 0;if(ot!==null){var l=ot.memoizedState;if(i=l.destroy,r!==null&&Rx(r,l.deps)){s.memoizedState=El(t,n,i,r);return}}Xe.flags|=e,s.memoizedState=El(1|t,n,i,r)}function cy(e,t){return Cc(8390656,8,e,t)}function Bx(e,t){return bu(2048,8,e,t)}function xN(e,t){return bu(4,2,e,t)}function gN(e,t){return bu(4,4,e,t)}function yN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vN(e,t,n){return n=n!=null?n.concat([e]):null,bu(4,4,yN.bind(null,t,e),n)}function Fx(){}function bN(e,t){var n=kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jN(e,t){var n=kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wN(e,t,n){return Ba&21?(Fn(n,t)||(n=Cw(),Xe.lanes|=n,Fa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=n)}function vC(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=Qf.transition;Qf.transition={};try{e(!1),t()}finally{Ie=n,Qf.transition=r}}function NN(){return kn().memoizedState}function bC(e,t,n){var r=Jr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SN(e))kN(t,n);else if(n=sN(e,t,n,r),n!==null){var s=Rt();zn(n,e,r,s),ON(n,t,r)}}function jC(e,t,n){var r=Jr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SN(e))kN(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,Fn(o,l)){var c=t.interleaved;c===null?(s.next=s,Tx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=sN(e,t,s,r),n!==null&&(s=Rt(),zn(n,e,r,s),ON(n,t,r))}}function SN(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function kN(e,t){ol=Zc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ON(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yx(e,n)}}var ed={readContext:Sn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},wC={readContext:Sn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:cy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cc(4194308,4,yN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cc(4,2,e,t)},useMemo:function(e,t){var n=Yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bC.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:oy,useDebugValue:Fx,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=oy(!1),t=e[0];return e=vC.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,s=Yn();if(He){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),xt===null)throw Error(Z(349));Ba&30||dN(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,cy(fN.bind(null,r,i,e),[e]),r.flags|=2048,El(9,uN.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Yn(),t=xt.identifierPrefix;if(He){var n=mr,r=pr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NC={readContext:Sn,useCallback:bN,useContext:Sn,useEffect:Bx,useImperativeHandle:vN,useInsertionEffect:xN,useLayoutEffect:gN,useMemo:jN,useReducer:Jf,useRef:hN,useState:function(){return Jf(Al)},useDebugValue:Fx,useDeferredValue:function(e){var t=kn();return wN(t,ot.memoizedState,e)},useTransition:function(){var e=Jf(Al)[0],t=kn().memoizedState;return[e,t]},useMutableSource:oN,useSyncExternalStore:cN,useId:NN,unstable_isNewReconciler:!1},SC={readContext:Sn,useCallback:bN,useContext:Sn,useEffect:Bx,useImperativeHandle:vN,useInsertionEffect:xN,useLayoutEffect:gN,useMemo:jN,useReducer:Zf,useRef:hN,useState:function(){return Zf(Al)},useDebugValue:Fx,useDeferredValue:function(e){var t=kn();return ot===null?t.memoizedState=e:wN(t,ot.memoizedState,e)},useTransition:function(){var e=Zf(Al)[0],t=kn().memoizedState;return[e,t]},useMutableSource:oN,useSyncExternalStore:cN,useId:NN,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ju={isMounted:function(e){return(e=e._reactInternals)?Xa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=Jr(e),i=gr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Yr(e,i,s),t!==null&&(zn(t,e,s,r),kc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=Jr(e),i=gr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yr(e,i,s),t!==null&&(zn(t,e,s,r),kc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=Jr(e),s=gr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Yr(e,s,r),t!==null&&(zn(t,e,r,n),kc(t,e,r))}};function dy(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Nl(n,r)||!Nl(s,i):!0}function CN(e,t,n){var r=!1,s=aa,i=t.contextType;return typeof i=="object"&&i!==null?i=Sn(i):(s=Gt(t)?La:Tt.current,r=t.contextTypes,i=(r=r!=null)?Ms(e,s):aa),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ju,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function uy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function hm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$x(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Sn(i):(i=Gt(t)?La:Tt.current,s.context=Ms(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mm(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ju.enqueueReplaceState(s,s.state,null),Qc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zs(e,t){try{var n="",r=t;do n+=J4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ep(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kC=typeof WeakMap=="function"?WeakMap:Map;function _N(e,t,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nd||(nd=!0,Om=r),xm(e,t)},n}function PN(e,t,n){n=gr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xm(e,t),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function fy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zC.bind(null,e,t,n),t.then(e,e))}function py(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function my(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gr(-1,1),t.tag=2,Yr(n,t,1))),n.lanes|=1),e)}var OC=Ar.ReactCurrentOwner,Wt=!1;function Mt(e,t,n,r){t.child=e===null?aN(t,null,n,r):Rs(t,e.child,n,r)}function hy(e,t,n,r,s){n=n.render;var i=t.ref;return Os(t,s),r=Lx(e,t,n,r,i,s),n=zx(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sr(e,t,s)):(He&&n&&Ox(t),t.flags|=1,Mt(e,t,r,s),t.child)}function xy(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Xx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,AN(e,t,i,r,s)):(e=Ec(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(l,r)&&e.ref===t.ref)return Sr(e,t,s)}return t.flags|=1,e=Zr(i,r),e.ref=t.ref,e.return=t,t.child=e}function AN(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Nl(i,r)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,Sr(e,t,s)}return gm(e,t,n,r,s)}function EN(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ys,nn),nn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(ys,nn),nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(ys,nn),nn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ze(ys,nn),nn|=r;return Mt(e,t,s,n),t.child}function TN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gm(e,t,n,r,s){var i=Gt(n)?La:Tt.current;return i=Ms(t,i),Os(t,s),n=Lx(e,t,n,r,i,s),r=zx(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sr(e,t,s)):(He&&r&&Ox(t),t.flags|=1,Mt(e,t,n,s),t.child)}function gy(e,t,n,r,s){if(Gt(n)){var i=!0;qc(t)}else i=!1;if(Os(t,s),t.stateNode===null)_c(e,t),CN(t,n,r),hm(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Sn(d):(d=Gt(n)?La:Tt.current,d=Ms(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==d)&&uy(t,l,r,d),Lr=!1;var p=t.memoizedState;l.state=p,Qc(t,r,l,s),c=t.memoizedState,o!==r||p!==c||qt.current||Lr?(typeof u=="function"&&(mm(t,n,u,r),c=t.memoizedState),(o=Lr||dy(t,n,o,r,p,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=d,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,iN(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:En(t.type,o),l.props=d,f=t.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Sn(c):(c=Gt(n)?La:Tt.current,c=Ms(t,c));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||p!==c)&&uy(t,l,r,c),Lr=!1,p=t.memoizedState,l.state=p,Qc(t,r,l,s);var m=t.memoizedState;o!==f||p!==m||qt.current||Lr?(typeof g=="function"&&(mm(t,n,g,r),m=t.memoizedState),(d=Lr||dy(t,n,d,r,p,m,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,m,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,m,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),l.props=r,l.state=m,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ym(e,t,n,r,i,s)}function ym(e,t,n,r,s,i){TN(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&ny(t,n,!1),Sr(e,t,i);r=t.stateNode,OC.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Rs(t,e.child,null,i),t.child=Rs(t,null,o,i)):Mt(e,t,o,i),t.memoizedState=r.state,s&&ny(t,n,!0),t.child}function $N(e){var t=e.stateNode;t.pendingContext?ty(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ty(e,t.context,!1),Ix(e,t.containerInfo)}function yy(e,t,n,r,s){return Ds(),_x(s),t.flags|=256,Mt(e,t,n,r),t.child}var vm={dehydrated:null,treeContext:null,retryLane:0};function bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function IN(e,t,n){var r=t.pendingProps,s=Ke.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(Ke,s&1),e===null)return fm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Su(l,r,0,null),e=Ea(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bm(n),t.memoizedState=vm,e):Ux(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return CC(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Zr(o,i):(i=Ea(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?bm(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=vm,r}return i=e.child,e=i.sibling,r=Zr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ux(e,t){return t=Su({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zo(e,t,n,r){return r!==null&&_x(r),Rs(t,e.child,null,n),e=Ux(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CC(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=ep(Error(Z(422))),Zo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Su({mode:"visible",children:r.children},s,0,null),i=Ea(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Rs(t,e.child,null,l),t.child.memoizedState=bm(l),t.memoizedState=vm,i);if(!(t.mode&1))return Zo(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(Z(419)),r=ep(i,r,void 0),Zo(e,t,l,r)}if(o=(l&e.childLanes)!==0,Wt||o){if(r=xt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(e,s),zn(r,e,s,-1))}return Kx(),r=ep(Error(Z(421))),Zo(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BC.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,sn=Xr(s.nextSibling),ln=t,He=!0,Mn=null,e!==null&&(hn[xn++]=pr,hn[xn++]=mr,hn[xn++]=za,pr=e.id,mr=e.overflow,za=t),t=Ux(t,r.children),t.flags|=4096,t)}function vy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pm(e.return,t,n)}function tp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function MN(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Mt(e,t,r.children,n),r=Ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,n,t);else if(e.tag===19)vy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Jc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),tp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}tp(t,!0,n,null,i);break;case"together":tp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _c(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=Zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _C(e,t,n){switch(t.tag){case 3:$N(t),Ds();break;case 5:lN(t);break;case 1:Gt(t.type)&&qc(t);break;case 4:Ix(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ze(Xc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ke,Ke.current&1),t.flags|=128,null):n&t.child.childLanes?IN(e,t,n):(ze(Ke,Ke.current&1),e=Sr(e,t,n),e!==null?e.sibling:null);ze(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return MN(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,EN(e,t,n)}return Sr(e,t,n)}var DN,jm,RN,LN;DN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jm=function(){};RN=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Na(nr.current);var i=null;switch(n){case"input":s=Vp(e,s),r=Vp(e,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=qp(e,s),r=qp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wc)}Kp(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Fe("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};LN=function(e,t,n,r){n!==r&&(t.flags|=4)};function Li(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function PC(e,t,n){var r=t.pendingProps;switch(Cx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Gt(t.type)&&Hc(),Ct(t),null;case 3:return r=t.stateNode,Ls(),We(qt),We(Tt),Dx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(Pm(Mn),Mn=null))),jm(e,t),Ct(t),null;case 5:Mx(t);var s=Na(_l.current);if(n=t.type,e!==null&&t.stateNode!=null)RN(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Ct(t),null}if(e=Na(nr.current),Qo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Qn]=t,r[Ol]=i,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<tl.length;s++)Fe(tl[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":_g(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":Ag(r,i),Fe("invalid",r)}Kp(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Yo(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Yo(r.textContent,o,e),s=["children",""+o]):xl.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Uo(r),Pg(r,i,!0);break;case"textarea":Uo(r),Eg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Qn]=t,e[Ol]=r,DN(e,t,!1,!1),t.stateNode=e;e:{switch(l=Xp(n,r),n){case"dialog":Fe("cancel",e),Fe("close",e),s=r;break;case"iframe":case"object":case"embed":Fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<tl.length;s++)Fe(tl[s],e);s=r;break;case"source":Fe("error",e),s=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),s=r;break;case"details":Fe("toggle",e),s=r;break;case"input":_g(e,r),s=Vp(e,r),Fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":Ag(e,r),s=qp(e,r),Fe("invalid",e);break;default:s=r}Kp(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?hw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pw(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gl(e,c):typeof c=="number"&&gl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fe("scroll",e):c!=null&&fx(e,i,c,l))}switch(n){case"input":Uo(e),Pg(e,r,!1);break;case"textarea":Uo(e),Eg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ra(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ws(e,!!r.multiple,i,!1):r.defaultValue!=null&&ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)LN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Na(_l.current),Na(nr.current),Qo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qn]=t,(i=r.nodeValue!==n)&&(e=ln,e!==null))switch(e.tag){case 3:Yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=t,t.stateNode=r}return Ct(t),null;case 13:if(We(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&sn!==null&&t.mode&1&&!(t.flags&128))nN(),Ds(),t.flags|=98560,i=!1;else if(i=Qo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Qn]=t}else Ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),i=!1}else Mn!==null&&(Pm(Mn),Mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?ct===0&&(ct=3):Kx())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Ls(),jm(e,t),e===null&&Sl(t.stateNode.containerInfo),Ct(t),null;case 10:return Ex(t.type._context),Ct(t),null;case 17:return Gt(t.type)&&Hc(),Ct(t),null;case 19:if(We(Ke),i=t.memoizedState,i===null)return Ct(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Li(i,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Jc(e),l!==null){for(t.flags|=128,Li(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Ke,Ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&et()>Bs&&(t.flags|=128,r=!0,Li(i,!1),t.lanes=4194304)}else{if(!r)if(e=Jc(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Li(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!He)return Ct(t),null}else 2*et()-i.renderingStartTime>Bs&&n!==1073741824&&(t.flags|=128,r=!0,Li(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=et(),t.sibling=null,n=Ke.current,ze(Ke,r?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return Gx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nn&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function AC(e,t){switch(Cx(t),t.tag){case 1:return Gt(t.type)&&Hc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ls(),We(qt),We(Tt),Dx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mx(t),null;case 13:if(We(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ke),null;case 4:return Ls(),null;case 10:return Ex(t.type._context),null;case 22:case 23:return Gx(),null;case 24:return null;default:return null}}var ec=!1,Pt=!1,EC=typeof WeakSet=="function"?WeakSet:Set,oe=null;function gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function wm(e,t,n){try{n()}catch(r){Je(e,t,r)}}var by=!1;function TC(e,t){if(sm=Fc,e=Vw(),kx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(o=l+s),f!==i||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++d===s&&(o=l),p===i&&++u===r&&(c=l),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(im={focusedElem:e,selectionRange:n},Fc=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,h=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:En(t.type,b),h);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(N){Je(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return m=by,by=!1,m}function cl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&wm(t,n,i)}s=s.next}while(s!==r)}}function wu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zN(e){var t=e.alternate;t!==null&&(e.alternate=null,zN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Ol],delete t[cm],delete t[mC],delete t[hC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BN(e){return e.tag===5||e.tag===3||e.tag===4}function jy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wc));else if(r!==4&&(e=e.child,e!==null))for(Sm(e,t,n),e=e.sibling;e!==null;)Sm(e,t,n),e=e.sibling}function km(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(km(e,t,n),e=e.sibling;e!==null;)km(e,t,n),e=e.sibling}var bt=null,Tn=!1;function Dr(e,t,n){for(n=n.child;n!==null;)FN(e,t,n),n=n.sibling}function FN(e,t,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(mu,n)}catch{}switch(n.tag){case 5:Pt||gs(n,t);case 6:var r=bt,s=Tn;bt=null,Dr(e,t,n),bt=r,Tn=s,bt!==null&&(Tn?(e=bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Tn?(e=bt,n=n.stateNode,e.nodeType===8?Kf(e.parentNode,n):e.nodeType===1&&Kf(e,n),jl(e)):Kf(bt,n.stateNode));break;case 4:r=bt,s=Tn,bt=n.stateNode.containerInfo,Tn=!0,Dr(e,t,n),bt=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&wm(n,t,l),s=s.next}while(s!==r)}Dr(e,t,n);break;case 1:if(!Pt&&(gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Je(n,t,o)}Dr(e,t,n);break;case 21:Dr(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Dr(e,t,n),Pt=r):Dr(e,t,n);break;default:Dr(e,t,n)}}function wy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new EC),t.forEach(function(r){var s=FC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:bt=o.stateNode,Tn=!1;break e;case 3:bt=o.stateNode.containerInfo,Tn=!0;break e;case 4:bt=o.stateNode.containerInfo,Tn=!0;break e}o=o.return}if(bt===null)throw Error(Z(160));FN(i,l,s),bt=null,Tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Je(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UN(t,e),t=t.sibling}function UN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(t,e),Kn(e),r&4){try{cl(3,e,e.return),wu(3,e)}catch(b){Je(e,e.return,b)}try{cl(5,e,e.return)}catch(b){Je(e,e.return,b)}}break;case 1:Pn(t,e),Kn(e),r&512&&n!==null&&gs(n,n.return);break;case 5:if(Pn(t,e),Kn(e),r&512&&n!==null&&gs(n,n.return),e.flags&32){var s=e.stateNode;try{gl(s,"")}catch(b){Je(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&dw(s,i),Xp(o,l);var d=Xp(o,i);for(l=0;l<c.length;l+=2){var u=c[l],f=c[l+1];u==="style"?hw(s,f):u==="dangerouslySetInnerHTML"?pw(s,f):u==="children"?gl(s,f):fx(s,u,f,d)}switch(o){case"input":Wp(s,i);break;case"textarea":uw(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ws(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ol]=i}catch(b){Je(e,e.return,b)}}break;case 6:if(Pn(t,e),Kn(e),r&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){Je(e,e.return,b)}}break;case 3:if(Pn(t,e),Kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(t.containerInfo)}catch(b){Je(e,e.return,b)}break;case 4:Pn(t,e),Kn(e);break;case 13:Pn(t,e),Kn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hx=et())),r&4&&wy(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(d=Pt)||u,Pn(t,e),Pt=d):Pn(t,e),Kn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(oe=e,u=e.child;u!==null;){for(f=oe=u;oe!==null;){switch(p=oe,g=p.child,p.tag){case 0:case 11:case 14:case 15:cl(4,p,p.return);break;case 1:gs(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(b){Je(r,n,b)}}break;case 5:gs(p,p.return);break;case 22:if(p.memoizedState!==null){Sy(f);continue}}g!==null?(g.return=p,oe=g):Sy(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=mw("display",l))}catch(b){Je(e,e.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(b){Je(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pn(t,e),Kn(e),r&4&&wy(e);break;case 21:break;default:Pn(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BN(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gl(s,""),r.flags&=-33);var i=jy(e);km(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=jy(e);Sm(e,o,l);break;default:throw Error(Z(161))}}catch(c){Je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $C(e,t,n){oe=e,VN(e)}function VN(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||ec;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Pt;o=ec;var d=Pt;if(ec=l,(Pt=c)&&!d)for(oe=s;oe!==null;)l=oe,c=l.child,l.tag===22&&l.memoizedState!==null?ky(s):c!==null?(c.return=l,oe=c):ky(s);for(;i!==null;)oe=i,VN(i),i=i.sibling;oe=s,ec=o,Pt=d}Ny(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):Ny(e)}}function Ny(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||wu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ly(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ly(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&jl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Pt||t.flags&512&&Nm(t)}catch(p){Je(t,t.return,p)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Sy(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function ky(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wu(4,t)}catch(c){Je(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Je(t,s,c)}}var i=t.return;try{Nm(t)}catch(c){Je(t,i,c)}break;case 5:var l=t.return;try{Nm(t)}catch(c){Je(t,l,c)}}}catch(c){Je(t,t.return,c)}if(t===e){oe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,oe=o;break}oe=t.return}}var IC=Math.ceil,td=Ar.ReactCurrentDispatcher,Vx=Ar.ReactCurrentOwner,bn=Ar.ReactCurrentBatchConfig,Oe=0,xt=null,rt=null,wt=0,nn=0,ys=oa(0),ct=0,Tl=null,Fa=0,Nu=0,Wx=0,dl=null,Vt=null,Hx=0,Bs=1/0,ur=null,nd=!1,Om=null,Qr=null,tc=!1,Vr=null,rd=0,ul=0,Cm=null,Pc=-1,Ac=0;function Rt(){return Oe&6?et():Pc!==-1?Pc:Pc=et()}function Jr(e){return e.mode&1?Oe&2&&wt!==0?wt&-wt:gC.transition!==null?(Ac===0&&(Ac=Cw()),Ac):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Iw(e.type)),e):1}function zn(e,t,n,r){if(50<ul)throw ul=0,Cm=null,Error(Z(185));vo(e,n,r),(!(Oe&2)||e!==xt)&&(e===xt&&(!(Oe&2)&&(Nu|=n),ct===4&&Fr(e,wt)),Kt(e,r),n===1&&Oe===0&&!(t.mode&1)&&(Bs=et()+500,vu&&ca()))}function Kt(e,t){var n=e.callbackNode;gO(e,t);var r=Bc(e,e===xt?wt:0);if(r===0)n!==null&&Ig(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ig(n),t===1)e.tag===0?xC(Oy.bind(null,e)):Zw(Oy.bind(null,e)),fC(function(){!(Oe&6)&&ca()}),n=null;else{switch(_w(r)){case 1:n=gx;break;case 4:n=kw;break;case 16:n=zc;break;case 536870912:n=Ow;break;default:n=zc}n=QN(n,WN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function WN(e,t){if(Pc=-1,Ac=0,Oe&6)throw Error(Z(327));var n=e.callbackNode;if(Cs()&&e.callbackNode!==n)return null;var r=Bc(e,e===xt?wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ad(e,r);else{t=r;var s=Oe;Oe|=2;var i=qN();(xt!==e||wt!==t)&&(ur=null,Bs=et()+500,Aa(e,t));do try{RC();break}catch(o){HN(e,o)}while(!0);Ax(),td.current=i,Oe=s,rt!==null?t=0:(xt=null,wt=0,t=ct)}if(t!==0){if(t===2&&(s=em(e),s!==0&&(r=s,t=_m(e,s))),t===1)throw n=Tl,Aa(e,0),Fr(e,r),Kt(e,et()),n;if(t===6)Fr(e,r);else{if(s=e.current.alternate,!(r&30)&&!MC(s)&&(t=ad(e,r),t===2&&(i=em(e),i!==0&&(r=i,t=_m(e,i))),t===1))throw n=Tl,Aa(e,0),Fr(e,r),Kt(e,et()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:ga(e,Vt,ur);break;case 3:if(Fr(e,r),(r&130023424)===r&&(t=Hx+500-et(),10<t)){if(Bc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=om(ga.bind(null,e,Vt,ur),t);break}ga(e,Vt,ur);break;case 4:if(Fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Ln(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IC(r/1960))-r,10<r){e.timeoutHandle=om(ga.bind(null,e,Vt,ur),r);break}ga(e,Vt,ur);break;case 5:ga(e,Vt,ur);break;default:throw Error(Z(329))}}}return Kt(e,et()),e.callbackNode===n?WN.bind(null,e):null}function _m(e,t){var n=dl;return e.current.memoizedState.isDehydrated&&(Aa(e,t).flags|=256),e=ad(e,t),e!==2&&(t=Vt,Vt=n,t!==null&&Pm(t)),e}function Pm(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function MC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Fn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fr(e,t){for(t&=~Wx,t&=~Nu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ln(t),r=1<<n;e[n]=-1,t&=~r}}function Oy(e){if(Oe&6)throw Error(Z(327));Cs();var t=Bc(e,0);if(!(t&1))return Kt(e,et()),null;var n=ad(e,t);if(e.tag!==0&&n===2){var r=em(e);r!==0&&(t=r,n=_m(e,r))}if(n===1)throw n=Tl,Aa(e,0),Fr(e,t),Kt(e,et()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ga(e,Vt,ur),Kt(e,et()),null}function qx(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(Bs=et()+500,vu&&ca())}}function Ua(e){Vr!==null&&Vr.tag===0&&!(Oe&6)&&Cs();var t=Oe;Oe|=1;var n=bn.transition,r=Ie;try{if(bn.transition=null,Ie=1,e)return e()}finally{Ie=r,bn.transition=n,Oe=t,!(Oe&6)&&ca()}}function Gx(){nn=ys.current,We(ys)}function Aa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uC(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(Cx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hc();break;case 3:Ls(),We(qt),We(Tt),Dx();break;case 5:Mx(r);break;case 4:Ls();break;case 13:We(Ke);break;case 19:We(Ke);break;case 10:Ex(r.type._context);break;case 22:case 23:Gx()}n=n.return}if(xt=e,rt=e=Zr(e.current,null),wt=nn=t,ct=0,Tl=null,Wx=Nu=Fa=0,Vt=dl=null,wa!==null){for(t=0;t<wa.length;t++)if(n=wa[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}wa=null}return e}function HN(e,t){do{var n=rt;try{if(Ax(),Oc.current=ed,Zc){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zc=!1}if(Ba=0,pt=ot=Xe=null,ol=!1,Pl=0,Vx.current=null,n===null||n.return===null){ct=1,Tl=t,rt=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=wt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=py(l);if(g!==null){g.flags&=-257,my(g,l,o,i,t),g.mode&1&&fy(i,d,t),t=g,c=d;var m=t.updateQueue;if(m===null){var b=new Set;b.add(c),t.updateQueue=b}else m.add(c);break e}else{if(!(t&1)){fy(i,d,t),Kx();break e}c=Error(Z(426))}}else if(He&&o.mode&1){var h=py(l);if(h!==null){!(h.flags&65536)&&(h.flags|=256),my(h,l,o,i,t),_x(zs(c,o));break e}}i=c=zs(c,o),ct!==4&&(ct=2),dl===null?dl=[i]:dl.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=_N(i,c,t);iy(i,y);break e;case 1:o=c;var x=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Qr===null||!Qr.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=PN(i,o,t);iy(i,N);break e}}i=i.return}while(i!==null)}KN(n)}catch(v){t=v,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function qN(){var e=td.current;return td.current=ed,e===null?ed:e}function Kx(){(ct===0||ct===3||ct===2)&&(ct=4),xt===null||!(Fa&268435455)&&!(Nu&268435455)||Fr(xt,wt)}function ad(e,t){var n=Oe;Oe|=2;var r=qN();(xt!==e||wt!==t)&&(ur=null,Aa(e,t));do try{DC();break}catch(s){HN(e,s)}while(!0);if(Ax(),Oe=n,td.current=r,rt!==null)throw Error(Z(261));return xt=null,wt=0,ct}function DC(){for(;rt!==null;)GN(rt)}function RC(){for(;rt!==null&&!oO();)GN(rt)}function GN(e){var t=YN(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?KN(e):rt=t,Vx.current=null}function KN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AC(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,rt=null;return}}else if(n=PC(n,t,nn),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ct===0&&(ct=5)}function ga(e,t,n){var r=Ie,s=bn.transition;try{bn.transition=null,Ie=1,LC(e,t,n,r)}finally{bn.transition=s,Ie=r}return null}function LC(e,t,n,r){do Cs();while(Vr!==null);if(Oe&6)throw Error(Z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(yO(e,i),e===xt&&(rt=xt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tc||(tc=!0,QN(zc,function(){return Cs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bn.transition,bn.transition=null;var l=Ie;Ie=1;var o=Oe;Oe|=4,Vx.current=null,TC(e,n),UN(n,e),aC(im),Fc=!!sm,im=sm=null,e.current=n,$C(n),cO(),Oe=o,Ie=l,bn.transition=i}else e.current=n;if(tc&&(tc=!1,Vr=e,rd=s),i=e.pendingLanes,i===0&&(Qr=null),fO(n.stateNode),Kt(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nd)throw nd=!1,e=Om,Om=null,e;return rd&1&&e.tag!==0&&Cs(),i=e.pendingLanes,i&1?e===Cm?ul++:(ul=0,Cm=e):ul=0,ca(),null}function Cs(){if(Vr!==null){var e=_w(rd),t=bn.transition,n=Ie;try{if(bn.transition=null,Ie=16>e?16:e,Vr===null)var r=!1;else{if(e=Vr,Vr=null,rd=0,Oe&6)throw Error(Z(331));var s=Oe;for(Oe|=4,oe=e.current;oe!==null;){var i=oe,l=i.child;if(oe.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(oe=d;oe!==null;){var u=oe;switch(u.tag){case 0:case 11:case 15:cl(8,u,i)}var f=u.child;if(f!==null)f.return=u,oe=f;else for(;oe!==null;){u=oe;var p=u.sibling,g=u.return;if(zN(u),u===d){oe=null;break}if(p!==null){p.return=g,oe=p;break}oe=g}}}var m=i.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var h=b.sibling;b.sibling=null,b=h}while(b!==null)}}oe=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,oe=l;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,oe=y;break e}oe=i.return}}var x=e.current;for(oe=x;oe!==null;){l=oe;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,oe=j;else e:for(l=x;oe!==null;){if(o=oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wu(9,o)}}catch(v){Je(o,o.return,v)}if(o===l){oe=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,oe=N;break e}oe=o.return}}if(Oe=s,ca(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(mu,e)}catch{}r=!0}return r}finally{Ie=n,bn.transition=t}}return!1}function Cy(e,t,n){t=zs(n,t),t=_N(e,t,1),e=Yr(e,t,1),t=Rt(),e!==null&&(vo(e,1,t),Kt(e,t))}function Je(e,t,n){if(e.tag===3)Cy(e,e,n);else for(;t!==null;){if(t.tag===3){Cy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){e=zs(n,e),e=PN(t,e,1),t=Yr(t,e,1),e=Rt(),t!==null&&(vo(t,1,e),Kt(t,e));break}}t=t.return}}function zC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,xt===e&&(wt&n)===n&&(ct===4||ct===3&&(wt&130023424)===wt&&500>et()-Hx?Aa(e,0):Wx|=n),Kt(e,t)}function XN(e,t){t===0&&(e.mode&1?(t=Ho,Ho<<=1,!(Ho&130023424)&&(Ho=4194304)):t=1);var n=Rt();e=Nr(e,t),e!==null&&(vo(e,t,n),Kt(e,n))}function BC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),XN(e,n)}function FC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),XN(e,n)}var YN;YN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wt=!1,_C(e,t,n);Wt=!!(e.flags&131072)}else Wt=!1,He&&t.flags&1048576&&eN(t,Kc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_c(e,t),e=t.pendingProps;var s=Ms(t,Tt.current);Os(t,n),s=Lx(null,t,r,e,s,n);var i=zx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(r)?(i=!0,qc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$x(t),s.updater=ju,t.stateNode=s,s._reactInternals=t,hm(t,r,e,n),t=ym(null,t,r,!0,i,n)):(t.tag=0,He&&i&&Ox(t),Mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_c(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=VC(r),e=En(r,e),s){case 0:t=gm(null,t,r,e,n);break e;case 1:t=gy(null,t,r,e,n);break e;case 11:t=hy(null,t,r,e,n);break e;case 14:t=xy(null,t,r,En(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),gm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),gy(e,t,r,s,n);case 3:e:{if($N(t),e===null)throw Error(Z(387));r=t.pendingProps,i=t.memoizedState,s=i.element,iN(e,t),Qc(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=zs(Error(Z(423)),t),t=yy(e,t,r,n,s);break e}else if(r!==s){s=zs(Error(Z(424)),t),t=yy(e,t,r,n,s);break e}else for(sn=Xr(t.stateNode.containerInfo.firstChild),ln=t,He=!0,Mn=null,n=aN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),r===s){t=Sr(e,t,n);break e}Mt(e,t,r,n)}t=t.child}return t;case 5:return lN(t),e===null&&fm(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,lm(r,s)?l=null:i!==null&&lm(r,i)&&(t.flags|=32),TN(e,t),Mt(e,t,l,n),t.child;case 6:return e===null&&fm(t),null;case 13:return IN(e,t,n);case 4:return Ix(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rs(t,null,r,n):Mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),hy(e,t,r,s,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,ze(Xc,r._currentValue),r._currentValue=l,i!==null)if(Fn(i.value,l)){if(i.children===s.children&&!qt.current){t=Sr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=gr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),pm(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Z(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),pm(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Os(t,n),s=Sn(s),r=r(s),t.flags|=1,Mt(e,t,r,n),t.child;case 14:return r=t.type,s=En(r,t.pendingProps),s=En(r.type,s),xy(e,t,r,s,n);case 15:return AN(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),_c(e,t),t.tag=1,Gt(r)?(e=!0,qc(t)):e=!1,Os(t,n),CN(t,r,s),hm(t,r,s,n),ym(null,t,r,!0,e,n);case 19:return MN(e,t,n);case 22:return EN(e,t,n)}throw Error(Z(156,t.tag))};function QN(e,t){return Sw(e,t)}function UC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,r){return new UC(e,t,n,r)}function Xx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VC(e){if(typeof e=="function")return Xx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mx)return 11;if(e===hx)return 14}return 2}function Zr(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Xx(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case os:return Ea(n.children,s,i,t);case px:l=8,s|=8;break;case zp:return e=gn(12,n,t,s|2),e.elementType=zp,e.lanes=i,e;case Bp:return e=gn(13,n,t,s),e.elementType=Bp,e.lanes=i,e;case Fp:return e=gn(19,n,t,s),e.elementType=Fp,e.lanes=i,e;case lw:return Su(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sw:l=10;break e;case iw:l=9;break e;case mx:l=11;break e;case hx:l=14;break e;case Rr:l=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=gn(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ea(e,t,n,r){return e=gn(7,e,r,t),e.lanes=n,e}function Su(e,t,n,r){return e=gn(22,e,r,t),e.elementType=lw,e.lanes=n,e.stateNode={isHidden:!1},e}function np(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function rp(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yx(e,t,n,r,s,i,l,o,c){return e=new WC(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$x(i),e}function HC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function JN(e){if(!e)return aa;e=e._reactInternals;e:{if(Xa(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(Gt(n))return Jw(e,n,t)}return t}function ZN(e,t,n,r,s,i,l,o,c){return e=Yx(n,r,!0,e,s,i,l,o,c),e.context=JN(null),n=e.current,r=Rt(),s=Jr(n),i=gr(r,s),i.callback=t??null,Yr(n,i,s),e.current.lanes=s,vo(e,s,r),Kt(e,r),e}function ku(e,t,n,r){var s=t.current,i=Rt(),l=Jr(s);return n=JN(n),t.context===null?t.context=n:t.pendingContext=n,t=gr(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yr(s,t,l),e!==null&&(zn(e,s,l,i),kc(e,s,l)),l}function sd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _y(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qx(e,t){_y(e,t),(e=e.alternate)&&_y(e,t)}function qC(){return null}var e2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jx(e){this._internalRoot=e}Ou.prototype.render=Jx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));ku(e,t,null,null)};Ou.prototype.unmount=Jx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ua(function(){ku(null,e,null,null)}),t[wr]=null}};function Ou(e){this._internalRoot=e}Ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ew();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Br.length&&t!==0&&t<Br[n].priority;n++);Br.splice(n,0,e),n===0&&$w(e)}};function Zx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Py(){}function GC(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=sd(l);i.call(d)}}var l=ZN(t,r,e,0,null,!1,!1,"",Py);return e._reactRootContainer=l,e[wr]=l.current,Sl(e.nodeType===8?e.parentNode:e),Ua(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var d=sd(c);o.call(d)}}var c=Yx(e,0,!1,null,null,!1,!1,"",Py);return e._reactRootContainer=c,e[wr]=c.current,Sl(e.nodeType===8?e.parentNode:e),Ua(function(){ku(t,c,n,r)}),c}function _u(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=sd(l);o.call(c)}}ku(t,l,e,s)}else l=GC(n,t,e,s,r);return sd(l)}Pw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=el(t.pendingLanes);n!==0&&(yx(t,n|1),Kt(t,et()),!(Oe&6)&&(Bs=et()+500,ca()))}break;case 13:Ua(function(){var r=Nr(e,1);if(r!==null){var s=Rt();zn(r,e,1,s)}}),Qx(e,1)}};vx=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var n=Rt();zn(t,e,134217728,n)}Qx(e,134217728)}};Aw=function(e){if(e.tag===13){var t=Jr(e),n=Nr(e,t);if(n!==null){var r=Rt();zn(n,e,t,r)}Qx(e,t)}};Ew=function(){return Ie};Tw=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};Qp=function(e,t,n){switch(t){case"input":if(Wp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=yu(r);if(!s)throw Error(Z(90));cw(r),Wp(r,s)}}}break;case"textarea":uw(e,n);break;case"select":t=n.value,t!=null&&ws(e,!!n.multiple,t,!1)}};yw=qx;vw=Ua;var KC={usingClientEntryPoint:!1,Events:[jo,fs,yu,xw,gw,qx]},zi={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XC={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ww(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||qC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{mu=nc.inject(XC),tr=nc}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KC;cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zx(t))throw Error(Z(200));return HC(e,t,null,n)};cn.createRoot=function(e,t){if(!Zx(e))throw Error(Z(299));var n=!1,r="",s=e2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yx(e,1,!1,null,null,n,!1,r,s),e[wr]=t.current,Sl(e.nodeType===8?e.parentNode:e),new Jx(t)};cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=ww(t),e=e===null?null:e.stateNode,e};cn.flushSync=function(e){return Ua(e)};cn.hydrate=function(e,t,n){if(!Cu(t))throw Error(Z(200));return _u(null,e,t,!0,n)};cn.hydrateRoot=function(e,t,n){if(!Zx(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=e2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=ZN(t,null,e,1,n??null,s,!1,i,l),e[wr]=t.current,Sl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ou(t)};cn.render=function(e,t,n){if(!Cu(t))throw Error(Z(200));return _u(null,e,t,!1,n)};cn.unmountComponentAtNode=function(e){if(!Cu(e))throw Error(Z(40));return e._reactRootContainer?(Ua(function(){_u(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};cn.unstable_batchedUpdates=qx;cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cu(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return _u(e,t,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function t2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t2)}catch(e){console.error(e)}}t2(),tw.exports=cn;var YC=tw.exports,Ay=YC;Rp.createRoot=Ay.createRoot,Rp.hydrateRoot=Ay.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}var Wr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wr||(Wr={}));const Ey="popstate";function QC(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:l,hash:o}=r.location;return Am("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:id(s)}return ZC(t,n,null,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JC(){return Math.random().toString(36).substr(2,8)}function Ty(e,t){return{usr:e.state,key:e.key,idx:t}}function Am(e,t,n,r){return n===void 0&&(n=null),$l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hi(t):t,{state:n,key:t&&t.key||r||JC()})}function id(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZC(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,o=Wr.Pop,c=null,d=u();d==null&&(d=0,l.replaceState($l({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function f(){o=Wr.Pop;let h=u(),y=h==null?null:h-d;d=h,c&&c({action:o,location:b.location,delta:y})}function p(h,y){o=Wr.Push;let x=Am(b.location,h,y);d=u()+1;let j=Ty(x,d),N=b.createHref(x);try{l.pushState(j,"",N)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;s.location.assign(N)}i&&c&&c({action:o,location:b.location,delta:1})}function g(h,y){o=Wr.Replace;let x=Am(b.location,h,y);d=u();let j=Ty(x,d),N=b.createHref(x);l.replaceState(j,"",N),i&&c&&c({action:o,location:b.location,delta:0})}function m(h){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof h=="string"?h:id(h);return x=x.replace(/ $/,"%20"),Ye(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let b={get action(){return o},get location(){return e(s,l)},listen(h){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ey,f),c=h,()=>{s.removeEventListener(Ey,f),c=null}},createHref(h){return t(s,h)},createURL:m,encodeLocation(h){let y=m(h);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(h){return l.go(h)}};return b}var $y;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($y||($y={}));function e_(e,t,n){return n===void 0&&(n="/"),t_(e,t,n)}function t_(e,t,n,r){let s=typeof t=="string"?hi(t):t,i=Fs(s.pathname||"/",n);if(i==null)return null;let l=n2(e);n_(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=p_(i);o=u_(l[c],d)}return o}function n2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ea([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),n2(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:c_(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of r2(i.path))s(i,l,c)}),t}function r2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=r2(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function n_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:d_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r_=/^:[\w-]+$/,a_=3,s_=2,i_=1,l_=10,o_=-2,Iy=e=>e==="*";function c_(e,t){let n=e.split("/"),r=n.length;return n.some(Iy)&&(r+=o_),t&&(r+=s_),n.filter(s=>!Iy(s)).reduce((s,i)=>s+(r_.test(i)?a_:i===""?i_:l_),r)}function d_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function u_(e,t,n){let{routesMeta:r}=e,s={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Em({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:ea([i,f.pathname]),pathnameBase:y_(ea([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ea([i,f.pathnameBase]))}return l}function Em(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f_(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((d,u,f)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let b=o[f]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const m=o[f];return g&&!m?d[p]=void 0:d[p]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function f_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),e0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function p_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return e0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const m_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h_=e=>m_.test(e);function x_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?hi(e):e,i;if(n)if(h_(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),e0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=My(n.substring(1),"/"):i=My(n,t)}else i=t;return{pathname:i,search:v_(r),hash:b_(s)}}function My(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ap(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function t0(e,t){let n=g_(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function n0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=hi(e):(s=$l({},e),Ye(!s.pathname||!s.pathname.includes("?"),ap("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),ap("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),ap("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=n;else{let f=t.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?t[f]:"/"}let c=x_(s,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ea=e=>e.join("/").replace(/\/\/+/g,"/"),y_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const a2=["post","put","patch","delete"];new Set(a2);const w_=["get",...a2];new Set(w_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}const Pu=w.createContext(null),s2=w.createContext(null),Er=w.createContext(null),Au=w.createContext(null),or=w.createContext({outlet:null,matches:[],isDataRoute:!1}),i2=w.createContext(null);function N_(e,t){let{relative:n}=t===void 0?{}:t;xi()||Ye(!1);let{basename:r,navigator:s}=w.useContext(Er),{hash:i,pathname:l,search:o}=Tu(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:ea([r,l])),s.createHref({pathname:c,search:o,hash:i})}function xi(){return w.useContext(Au)!=null}function Ya(){return xi()||Ye(!1),w.useContext(Au).location}function l2(e){w.useContext(Er).static||w.useLayoutEffect(e)}function un(){let{isDataRoute:e}=w.useContext(or);return e?L_():S_()}function S_(){xi()||Ye(!1);let e=w.useContext(Pu),{basename:t,future:n,navigator:r}=w.useContext(Er),{matches:s}=w.useContext(or),{pathname:i}=Ya(),l=JSON.stringify(t0(s,n.v7_relativeSplatPath)),o=w.useRef(!1);return l2(()=>{o.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let f=n0(d,JSON.parse(l),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ea([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,l,i,e])}const k_=w.createContext(null);function O_(e){let t=w.useContext(or).outlet;return t&&w.createElement(k_.Provider,{value:e},t)}function Eu(){let{matches:e}=w.useContext(or),t=e[e.length-1];return t?t.params:{}}function Tu(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Er),{matches:s}=w.useContext(or),{pathname:i}=Ya(),l=JSON.stringify(t0(s,r.v7_relativeSplatPath));return w.useMemo(()=>n0(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function C_(e,t){return __(e,t)}function __(e,t,n,r){xi()||Ye(!1);let{navigator:s}=w.useContext(Er),{matches:i}=w.useContext(or),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Ya(),u;if(t){var f;let h=typeof t=="string"?hi(t):t;c==="/"||(f=h.pathname)!=null&&f.startsWith(c)||Ye(!1),u=h}else u=d;let p=u.pathname||"/",g=p;if(c!=="/"){let h=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(h.length).join("/")}let m=e_(e,{pathname:g}),b=$_(m&&m.map(h=>Object.assign({},h,{params:Object.assign({},o,h.params),pathname:ea([c,s.encodeLocation?s.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:ea([c,s.encodeLocation?s.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,n,r);return t&&b?w.createElement(Au.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wr.Pop}},b):b}function P_(){let e=R_(),t=j_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const A_=w.createElement(P_,null);class E_ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(or.Provider,{value:this.props.routeContext},w.createElement(i2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T_(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Pu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(or.Provider,{value:t},r)}function $_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let u=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Ye(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<l.length;u++){let f=l[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:p,errors:g}=n,m=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||m){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,f,p)=>{let g,m=!1,b=null,h=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||A_,c&&(d<0&&p===0?(z_("route-fallback"),m=!0,h=null):d===p&&(m=!0,h=f.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,p+1)),x=()=>{let j;return g?j=b:m?j=h:f.route.Component?j=w.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,w.createElement(T_,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?w.createElement(E_,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var o2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o2||{}),c2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(c2||{});function I_(e){let t=w.useContext(Pu);return t||Ye(!1),t}function M_(e){let t=w.useContext(s2);return t||Ye(!1),t}function D_(e){let t=w.useContext(or);return t||Ye(!1),t}function d2(e){let t=D_(),n=t.matches[t.matches.length-1];return n.route.id||Ye(!1),n.route.id}function R_(){var e;let t=w.useContext(i2),n=M_(),r=d2();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function L_(){let{router:e}=I_(o2.UseNavigateStable),t=d2(c2.UseNavigateStable),n=w.useRef(!1);return l2(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Il({fromRouteId:t},i)))},[e,t])}const Dy={};function z_(e,t,n){Dy[e]||(Dy[e]=!0)}function B_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _s(e){let{to:t,replace:n,state:r,relative:s}=e;xi()||Ye(!1);let{future:i,static:l}=w.useContext(Er),{matches:o}=w.useContext(or),{pathname:c}=Ya(),d=un(),u=n0(t,t0(o,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function r0(e){return O_(e.context)}function pe(e){Ye(!1)}function F_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Wr.Pop,navigator:i,static:l=!1,future:o}=e;xi()&&Ye(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:i,static:l,future:Il({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof r=="string"&&(r=hi(r));let{pathname:u="/",search:f="",hash:p="",state:g=null,key:m="default"}=r,b=w.useMemo(()=>{let h=Fs(u,c);return h==null?null:{location:{pathname:h,search:f,hash:p,state:g,key:m},navigationType:s}},[c,u,f,p,g,m,s]);return b==null?null:w.createElement(Er.Provider,{value:d},w.createElement(Au.Provider,{children:n,value:b}))}function U_(e){let{children:t,location:n}=e;return C_(Tm(t),n)}new Promise(()=>{});function Tm(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,Tm(r.props.children,i));return}r.type!==pe&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Tm(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ld.apply(this,arguments)}function u2(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function V_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W_(e,t){return e.button===0&&(!t||t==="_self")&&!V_(e)}const H_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],G_="6";try{window.__reactRouterVersion=G_}catch{}const K_=w.createContext({isTransitioning:!1}),X_="startTransition",Ry=z4[X_];function Y_(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=QC({window:s,v5Compat:!0}));let l=i.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},u=w.useCallback(f=>{d&&Ry?Ry(()=>c(f)):c(f)},[c,d]);return w.useLayoutEffect(()=>l.listen(u),[l,u]),w.useEffect(()=>B_(r),[r]),w.createElement(F_,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const Q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jn=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,p=u2(t,H_),{basename:g}=w.useContext(Er),m,b=!1;if(typeof d=="string"&&J_.test(d)&&(m=d,Q_))try{let j=new URL(window.location.href),N=d.startsWith("//")?new URL(j.protocol+d):new URL(d),v=Fs(N.pathname,g);N.origin===j.origin&&v!=null?d=v+N.search+N.hash:b=!0}catch{}let h=N_(d,{relative:s}),y=eP(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:s,viewTransition:f});function x(j){r&&r(j),j.defaultPrevented||y(j)}return w.createElement("a",ld({},p,{href:m||h,onClick:b||i?r:x,ref:n,target:c}))}),a0=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:d,children:u}=t,f=u2(t,q_),p=Tu(c,{relative:f.relative}),g=Ya(),m=w.useContext(s2),{navigator:b,basename:h}=w.useContext(Er),y=m!=null&&tP(p)&&d===!0,x=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,j=g.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(j=j.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&h&&(N=Fs(N,h)||N);const v=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=j===x||!l&&j.startsWith(x)&&j.charAt(v)==="/",k=N!=null&&(N===x||!l&&N.startsWith(x)&&N.charAt(x.length)==="/"),O={isActive:S,isPending:k,isTransitioning:y},_=S?r:void 0,C;typeof i=="function"?C=i(O):C=[i,S?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(O):o;return w.createElement(Jn,ld({},f,{"aria-current":_,className:C,ref:n,style:E,to:c,viewTransition:d}),typeof u=="function"?u(O):u)});var $m;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($m||($m={}));var Ly;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ly||(Ly={}));function Z_(e){let t=w.useContext(Pu);return t||Ye(!1),t}function eP(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=un(),d=Ya(),u=Tu(e,{relative:l});return w.useCallback(f=>{if(W_(f,n)){f.preventDefault();let p=r!==void 0?r:id(d)===id(u);c(e,{replace:p,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,r,s,n,e,i,l,o])}function tP(e,t){t===void 0&&(t={});let n=w.useContext(K_);n==null&&Ye(!1);let{basename:r}=Z_($m.useViewTransitionState),s=Tu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Em(s.pathname,l)!=null||Em(s.pathname,i)!=null}function f2(e,t){return function(){return e.apply(t,arguments)}}const{toString:nP}=Object.prototype,{getPrototypeOf:s0}=Object,{iterator:$u,toStringTag:p2}=Symbol,Iu=(e=>t=>{const n=nP.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=e=>(e=e.toLowerCase(),t=>Iu(t)===e),Mu=e=>t=>typeof t===e,{isArray:gi}=Array,Us=Mu("undefined");function No(e){return e!==null&&!Us(e)&&e.constructor!==null&&!Us(e.constructor)&&Xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const m2=Hn("ArrayBuffer");function rP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&m2(e.buffer),t}const aP=Mu("string"),Xt=Mu("function"),h2=Mu("number"),So=e=>e!==null&&typeof e=="object",sP=e=>e===!0||e===!1,Tc=e=>{if(Iu(e)!=="object")return!1;const t=s0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(p2 in e)&&!($u in e)},iP=e=>{if(!So(e)||No(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lP=Hn("Date"),oP=Hn("File"),cP=Hn("Blob"),dP=Hn("FileList"),uP=e=>So(e)&&Xt(e.pipe),fP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xt(e.append)&&((t=Iu(e))==="formdata"||t==="object"&&Xt(e.toString)&&e.toString()==="[object FormData]"))},pP=Hn("URLSearchParams"),[mP,hP,xP,gP]=["ReadableStream","Request","Response","Headers"].map(Hn),yP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ko(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),gi(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(No(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(r=0;r<l;r++)o=i[r],t.call(null,e[o],o,e)}}function x2(e,t){if(No(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,g2=e=>!Us(e)&&e!==Sa;function Im(){const{caseless:e,skipUndefined:t}=g2(this)&&this||{},n={},r=(s,i)=>{const l=e&&x2(n,i)||i;Tc(n[l])&&Tc(s)?n[l]=Im(n[l],s):Tc(s)?n[l]=Im({},s):gi(s)?n[l]=s.slice():(!t||!Us(s))&&(n[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&ko(arguments[s],r);return n}const vP=(e,t,n,{allOwnKeys:r}={})=>(ko(t,(s,i)=>{n&&Xt(s)?e[i]=f2(s,n):e[i]=s},{allOwnKeys:r}),e),bP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jP=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},wP=(e,t,n,r)=>{let s,i,l;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!r||r(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=n!==!1&&s0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},NP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},SP=e=>{if(!e)return null;if(gi(e))return e;let t=e.length;if(!h2(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},kP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&s0(Uint8Array)),OP=(e,t)=>{const r=(e&&e[$u]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},CP=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},_P=Hn("HTMLFormElement"),PP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),zy=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),AP=Hn("RegExp"),y2=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ko(n,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(r[i]=l||s)}),Object.defineProperties(e,r)},EP=e=>{y2(e,(t,n)=>{if(Xt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Xt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TP=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return gi(e)?r(e):r(String(e).split(t)),n},$P=()=>{},IP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function MP(e){return!!(e&&Xt(e.append)&&e[p2]==="FormData"&&e[$u])}const DP=e=>{const t=new Array(10),n=(r,s)=>{if(So(r)){if(t.indexOf(r)>=0)return;if(No(r))return r;if(!("toJSON"in r)){t[s]=r;const i=gi(r)?[]:{};return ko(r,(l,o)=>{const c=n(l,s+1);!Us(c)&&(i[o]=c)}),t[s]=void 0,i}}return r};return n(e,0)},RP=Hn("AsyncFunction"),LP=e=>e&&(So(e)||Xt(e))&&Xt(e.then)&&Xt(e.catch),v2=((e,t)=>e?setImmediate:t?((n,r)=>(Sa.addEventListener("message",({source:s,data:i})=>{s===Sa&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Sa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xt(Sa.postMessage)),zP=typeof queueMicrotask<"u"?queueMicrotask.bind(Sa):typeof process<"u"&&process.nextTick||v2,BP=e=>e!=null&&Xt(e[$u]),W={isArray:gi,isArrayBuffer:m2,isBuffer:No,isFormData:fP,isArrayBufferView:rP,isString:aP,isNumber:h2,isBoolean:sP,isObject:So,isPlainObject:Tc,isEmptyObject:iP,isReadableStream:mP,isRequest:hP,isResponse:xP,isHeaders:gP,isUndefined:Us,isDate:lP,isFile:oP,isBlob:cP,isRegExp:AP,isFunction:Xt,isStream:uP,isURLSearchParams:pP,isTypedArray:kP,isFileList:dP,forEach:ko,merge:Im,extend:vP,trim:yP,stripBOM:bP,inherits:jP,toFlatObject:wP,kindOf:Iu,kindOfTest:Hn,endsWith:NP,toArray:SP,forEachEntry:OP,matchAll:CP,isHTMLForm:_P,hasOwnProperty:zy,hasOwnProp:zy,reduceDescriptors:y2,freezeMethods:EP,toObjectSet:TP,toCamelCase:PP,noop:$P,toFiniteNumber:IP,findKey:x2,global:Sa,isContextDefined:g2,isSpecCompliantForm:MP,toJSONObject:DP,isAsyncFn:RP,isThenable:LP,setImmediate:v2,asap:zP,isIterable:BP};function ve(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}W.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const b2=ve.prototype,j2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{j2[e]={value:e}});Object.defineProperties(ve,j2);Object.defineProperty(b2,"isAxiosError",{value:!0});ve.from=(e,t,n,r,s,i)=>{const l=Object.create(b2);W.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ve.call(l,o,c,n,r,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const FP=null;function Mm(e){return W.isPlainObject(e)||W.isArray(e)}function w2(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function By(e,t,n){return e?e.concat(t).map(function(s,i){return s=w2(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function UP(e){return W.isArray(e)&&!e.some(Mm)}const VP=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function Du(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,h){return!W.isUndefined(h[b])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(W.isDate(m))return m.toISOString();if(W.isBoolean(m))return m.toString();if(!c&&W.isBlob(m))throw new ve("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(m)||W.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,b,h){let y=m;if(m&&!h&&typeof m=="object"){if(W.endsWith(b,"{}"))b=r?b:b.slice(0,-2),m=JSON.stringify(m);else if(W.isArray(m)&&UP(m)||(W.isFileList(m)||W.endsWith(b,"[]"))&&(y=W.toArray(m)))return b=w2(b),y.forEach(function(j,N){!(W.isUndefined(j)||j===null)&&t.append(l===!0?By([b],N,i):l===null?b:b+"[]",d(j))}),!1}return Mm(m)?!0:(t.append(By(h,b,i),d(m)),!1)}const f=[],p=Object.assign(VP,{defaultVisitor:u,convertValue:d,isVisitable:Mm});function g(m,b){if(!W.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(m),W.forEach(m,function(y,x){(!(W.isUndefined(y)||y===null)&&s.call(t,y,W.isString(x)?x.trim():x,b,p))===!0&&g(y,b?b.concat(x):[x])}),f.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Fy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function i0(e,t){this._pairs=[],e&&Du(e,this,t)}const N2=i0.prototype;N2.append=function(t,n){this._pairs.push([t,n])};N2.toString=function(t){const n=t?function(r){return t.call(this,r,Fy)}:Fy;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function WP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function S2(e,t,n){if(!t)return e;const r=n&&n.encode||WP;W.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=W.isURLSearchParams(t)?t.toString():new i0(t,n).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Uy{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(r){r!==null&&t(r)})}}const k2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HP=typeof URLSearchParams<"u"?URLSearchParams:i0,qP=typeof FormData<"u"?FormData:null,GP=typeof Blob<"u"?Blob:null,KP={isBrowser:!0,classes:{URLSearchParams:HP,FormData:qP,Blob:GP},protocols:["http","https","file","blob","url","data"]},l0=typeof window<"u"&&typeof document<"u",Dm=typeof navigator=="object"&&navigator||void 0,XP=l0&&(!Dm||["ReactNative","NativeScript","NS"].indexOf(Dm.product)<0),YP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QP=l0&&window.location.href||"http://localhost",JP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:l0,hasStandardBrowserEnv:XP,hasStandardBrowserWebWorkerEnv:YP,navigator:Dm,origin:QP},Symbol.toStringTag,{value:"Module"})),Et={...JP,...KP};function ZP(e,t){return Du(e,new Et.classes.URLSearchParams,{visitor:function(n,r,s,i){return Et.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function eA(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tA(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function O2(e){function t(n,r,s,i){let l=n[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=n.length;return l=!l&&W.isArray(s)?s.length:l,c?(W.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!o):((!s[l]||!W.isObject(s[l]))&&(s[l]=[]),t(n,r,s[l],i)&&W.isArray(s[l])&&(s[l]=tA(s[l])),!o)}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,(r,s)=>{t(eA(r),s,n,0)}),n}return null}function nA(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Oo={transitional:k2,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return s?JSON.stringify(O2(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ZP(t,this.formSerializer).toString();if((o=W.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Du(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),nA(t)):t}],transformResponse:[function(t){const n=this.transitional||Oo.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ve.from(o,ve.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Oo.headers[e]={}});const rA=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aA=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||t[n]&&rA[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Vy=Symbol("internals");function Bi(e){return e&&String(e).trim().toLowerCase()}function $c(e){return e===!1||e==null?e:W.isArray(e)?e.map($c):String(e)}function sA(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const iA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sp(e,t,n,r,s){if(W.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!W.isString(t)){if(W.isString(r))return t.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(t)}}function lA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function oA(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,l){return this[r].call(this,t,s,i,l)},configurable:!0})})}let Yt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(o,c,d){const u=Bi(c);if(!u)throw new Error("header name must be a non-empty string");const f=W.findKey(s,u);(!f||s[f]===void 0||d===!0||d===void 0&&s[f]!==!1)&&(s[f||c]=$c(o))}const l=(o,c)=>W.forEach(o,(d,u)=>i(d,u,c));if(W.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(W.isString(t)&&(t=t.trim())&&!iA(t))l(aA(t),n);else if(W.isObject(t)&&W.isIterable(t)){let o={},c,d;for(const u of t){if(!W.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?W.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Bi(t),t){const r=W.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return sA(s);if(W.isFunction(n))return n.call(this,s,r);if(W.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Bi(t),t){const r=W.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||sp(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(l){if(l=Bi(l),l){const o=W.findKey(r,l);o&&(!n||sp(r,r[o],o,n))&&(delete r[o],s=!0)}}return W.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||sp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return W.forEach(this,(s,i)=>{const l=W.findKey(r,i);if(l){n[l]=$c(s),delete n[i];return}const o=t?lA(i):String(i).trim();o!==i&&delete n[i],n[o]=$c(s),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return W.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Vy]=this[Vy]={accessors:{}}).accessors,s=this.prototype;function i(l){const o=Bi(l);r[o]||(oA(s,l),r[o]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Yt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});W.freezeMethods(Yt);function ip(e,t){const n=this||Oo,r=t||n,s=Yt.from(r.headers);let i=r.data;return W.forEach(e,function(o){i=o.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function C2(e){return!!(e&&e.__CANCEL__)}function yi(e,t,n){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(yi,ve,{__CANCEL__:!0});function _2(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function cA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function dA(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[i];l||(l=d),n[s]=c,r[s]=d;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-l<t)return;const g=u&&d-u;return g?Math.round(p*1e3/g):void 0}}function uA(e,t){let n=0,r=1e3/t,s,i;const l=(d,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-n;f>=r?l(d,u):(s=d,i||(i=setTimeout(()=>{i=null,l(s)},r-f)))},()=>s&&l(s)]}const od=(e,t,n=3)=>{let r=0;const s=dA(50,250);return uA(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,d=s(c),u=l<=o;r=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},n)},Wy=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Hy=e=>(...t)=>W.asap(()=>e(...t)),fA=Et.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Et.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,pA=Et.hasStandardBrowserEnv?{write(e,t,n,r,s,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];W.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),W.isString(r)&&o.push(`path=${r}`),W.isString(s)&&o.push(`domain=${s}`),i===!0&&o.push("secure"),W.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function mA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function P2(e,t,n){let r=!mA(t);return e&&(r||n==!1)?hA(e,t):t}const qy=e=>e instanceof Yt?{...e}:e;function Va(e,t){t=t||{};const n={};function r(d,u,f,p){return W.isPlainObject(d)&&W.isPlainObject(u)?W.merge.call({caseless:p},d,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function s(d,u,f,p){if(W.isUndefined(u)){if(!W.isUndefined(d))return r(void 0,d,f,p)}else return r(d,u,f,p)}function i(d,u){if(!W.isUndefined(u))return r(void 0,u)}function l(d,u){if(W.isUndefined(u)){if(!W.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,f){if(f in t)return r(d,u);if(f in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,f)=>s(qy(d),qy(u),f,!0)};return W.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||s,p=f(e[u],t[u],u);W.isUndefined(p)&&f!==o||(n[u]=p)}),n}const A2=e=>{const t=Va({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Yt.from(l),t.url=S2(P2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),W.isFormData(n)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&l.set(u,f)})}}if(Et.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(t)),r||r!==!1&&fA(t.url))){const c=s&&i&&pA.read(i);c&&l.set(s,c)}return t},xA=typeof XMLHttpRequest<"u",gA=xA&&function(e){return new Promise(function(n,r){const s=A2(e);let i=s.data;const l=Yt.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=s,u,f,p,g,m;function b(){g&&g(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function y(){if(!h)return;const j=Yt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:j,config:e,request:h};_2(function(k){n(k),b()},function(k){r(k),b()},v),h=null}"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(r(new ve("Request aborted",ve.ECONNABORTED,e,h)),h=null)},h.onerror=function(N){const v=N&&N.message?N.message:"Network Error",S=new ve(v,ve.ERR_NETWORK,e,h);S.event=N||null,r(S),h=null},h.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const v=s.transitional||k2;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new ve(N,v.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,h)),h=null},i===void 0&&l.setContentType(null),"setRequestHeader"in h&&W.forEach(l.toJSON(),function(N,v){h.setRequestHeader(v,N)}),W.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),o&&o!=="json"&&(h.responseType=s.responseType),d&&([p,m]=od(d,!0),h.addEventListener("progress",p)),c&&h.upload&&([f,g]=od(c),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(u=j=>{h&&(r(!j||j.type?new yi(null,e,h):j),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const x=cA(s.url);if(x&&Et.protocols.indexOf(x)===-1){r(new ve("Unsupported protocol "+x+":",ve.ERR_BAD_REQUEST,e));return}h.send(i||null)})},yA=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(d){if(!s){s=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof ve?u:new yi(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,i(new ve(`timeout ${t} of ms exceeded`,ve.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>W.asap(o),c}},vA=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},bA=async function*(e,t){for await(const n of jA(e))yield*vA(n,t)},jA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Gy=(e,t,n,r)=>{const s=bA(e,t);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){o(),c.close();return}let f=u.byteLength;if(n){let p=i+=f;n(p)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},Ky=64*1024,{isFunction:rc}=W,wA=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:Xy,TextEncoder:Yy}=W.global,Qy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},NA=e=>{e=W.merge.call({skipUndefined:!0},wA,e);const{fetch:t,Request:n,Response:r}=e,s=t?rc(t):typeof fetch=="function",i=rc(n),l=rc(r);if(!s)return!1;const o=s&&rc(Xy),c=s&&(typeof Yy=="function"?(m=>b=>m.encode(b))(new Yy):async m=>new Uint8Array(await new n(m).arrayBuffer())),d=i&&o&&Qy(()=>{let m=!1;const b=new n(Et.origin,{body:new Xy,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!b}),u=l&&o&&Qy(()=>W.isReadableStream(new r("").body)),f={stream:u&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(b,h)=>{let y=b&&b[m];if(y)return y.call(b);throw new ve(`Response type '${m}' is not supported`,ve.ERR_NOT_SUPPORT,h)})});const p=async m=>{if(m==null)return 0;if(W.isBlob(m))return m.size;if(W.isSpecCompliantForm(m))return(await new n(Et.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(W.isArrayBufferView(m)||W.isArrayBuffer(m))return m.byteLength;if(W.isURLSearchParams(m)&&(m=m+""),W.isString(m))return(await c(m)).byteLength},g=async(m,b)=>{const h=W.toFiniteNumber(m.getContentLength());return h??p(b)};return async m=>{let{url:b,method:h,data:y,signal:x,cancelToken:j,timeout:N,onDownloadProgress:v,onUploadProgress:S,responseType:k,headers:O,withCredentials:_="same-origin",fetchOptions:C}=A2(m),E=t||fetch;k=k?(k+"").toLowerCase():"text";let T=yA([x,j&&j.toAbortSignal()],N),L=null;const I=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let F;try{if(S&&d&&h!=="get"&&h!=="head"&&(F=await g(O,y))!==0){let K=new n(b,{method:"POST",body:y,duplex:"half"}),q;if(W.isFormData(y)&&(q=K.headers.get("content-type"))&&O.setContentType(q),K.body){const[D,te]=Wy(F,od(Hy(S)));y=Gy(K.body,Ky,D,te)}}W.isString(_)||(_=_?"include":"omit");const $=i&&"credentials"in n.prototype,z={...C,signal:T,method:h.toUpperCase(),headers:O.normalize().toJSON(),body:y,duplex:"half",credentials:$?_:void 0};L=i&&new n(b,z);let A=await(i?E(L,C):E(b,z));const P=u&&(k==="stream"||k==="response");if(u&&(v||P&&I)){const K={};["status","statusText","headers"].forEach(se=>{K[se]=A[se]});const q=W.toFiniteNumber(A.headers.get("content-length")),[D,te]=v&&Wy(q,od(Hy(v),!0))||[];A=new r(Gy(A.body,Ky,D,()=>{te&&te(),I&&I()}),K)}k=k||"text";let U=await f[W.findKey(f,k)||"text"](A,m);return!P&&I&&I(),await new Promise((K,q)=>{_2(K,q,{data:U,headers:Yt.from(A.headers),status:A.status,statusText:A.statusText,config:m,request:L})})}catch($){throw I&&I(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,m,L),{cause:$.cause||$}):ve.from($,$&&$.code,m,L)}}},SA=new Map,E2=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let l=i.length,o=l,c,d,u=SA;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:NA(t)),u=d;return d};E2();const o0={http:FP,xhr:gA,fetch:{get:E2}};W.forEach(o0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jy=e=>`- ${e}`,kA=e=>W.isFunction(e)||e===null||e===!1;function OA(e,t){e=W.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let l=0;l<n;l++){r=e[l];let o;if(s=r,!kA(r)&&(s=o0[(o=String(r)).toLowerCase()],s===void 0))throw new ve(`Unknown adapter '${o}'`);if(s&&(W.isFunction(s)||(s=s.get(t))))break;i[o||"#"+l]=s}if(!s){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(Jy).join(`
`):" "+Jy(l[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const T2={getAdapter:OA,adapters:o0};function lp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yi(null,e)}function Zy(e){return lp(e),e.headers=Yt.from(e.headers),e.data=ip.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T2.getAdapter(e.adapter||Oo.adapter,e)(e).then(function(r){return lp(e),r.data=ip.call(e,e.transformResponse,r),r.headers=Yt.from(r.headers),r},function(r){return C2(r)||(lp(e),r&&r.response&&(r.response.data=ip.call(e,e.transformResponse,r.response),r.response.headers=Yt.from(r.response.headers))),Promise.reject(r)})}const $2="1.13.2",Ru={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ru[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ev={};Ru.transitional=function(t,n,r){function s(i,l){return"[Axios v"+$2+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(t===!1)throw new ve(s(l," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!ev[l]&&(ev[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,o):!0}};Ru.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function CA(e,t,n){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new ve("option "+i+" must be "+c,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+i,ve.ERR_BAD_OPTION)}}const Ic={assertOptions:CA,validators:Ru},Xn=Ic.validators;let Ta=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Uy,response:new Uy}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Va(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ic.assertOptions(r,{silentJSONParsing:Xn.transitional(Xn.boolean),forcedJSONParsing:Xn.transitional(Xn.boolean),clarifyTimeoutError:Xn.transitional(Xn.boolean)},!1),s!=null&&(W.isFunction(s)?n.paramsSerializer={serialize:s}:Ic.assertOptions(s,{encode:Xn.function,serialize:Xn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ic.assertOptions(n,{baseUrl:Xn.spelling("baseURL"),withXsrfToken:Xn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&W.merge(i.common,i[n.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Yt.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,f=0,p;if(!c){const m=[Zy.bind(this),void 0];for(m.unshift(...o),m.push(...d),p=m.length,u=Promise.resolve(n);f<p;)u=u.then(m[f++],m[f++]);return u}p=o.length;let g=n;for(;f<p;){const m=o[f++],b=o[f++];try{g=m(g)}catch(h){b.call(this,h);break}}try{u=Zy.call(this,g)}catch(m){return Promise.reject(m)}for(f=0,p=d.length;f<p;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Va(this.defaults,t);const n=P2(t.baseURL,t.url,t.allowAbsoluteUrls);return S2(n,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){Ta.prototype[t]=function(n,r){return this.request(Va(r||{},{method:t,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(t){function n(r){return function(i,l,o){return this.request(Va(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ta.prototype[t]=n(),Ta.prototype[t+"Form"]=n(!0)});let _A=class I2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(s);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,o){r.reason||(r.reason=new yi(i,l,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new I2(function(s){t=s}),cancel:t}}};function PA(e){return function(n){return e.apply(null,n)}}function AA(e){return W.isObject(e)&&e.isAxiosError===!0}const Rm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Rm).forEach(([e,t])=>{Rm[t]=e});function M2(e){const t=new Ta(e),n=f2(Ta.prototype.request,t);return W.extend(n,Ta.prototype,t,{allOwnKeys:!0}),W.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return M2(Va(e,s))},n}const tt=M2(Oo);tt.Axios=Ta;tt.CanceledError=yi;tt.CancelToken=_A;tt.isCancel=C2;tt.VERSION=$2;tt.toFormData=Du;tt.AxiosError=ve;tt.Cancel=tt.CanceledError;tt.all=function(t){return Promise.all(t)};tt.spread=PA;tt.isAxiosError=AA;tt.mergeConfig=Va;tt.AxiosHeaders=Yt;tt.formToJSON=e=>O2(W.isHTMLForm(e)?new FormData(e):e);tt.getAdapter=T2.getAdapter;tt.HttpStatusCode=Rm;tt.default=tt;const{Axios:See,AxiosError:kee,CanceledError:Oee,isCancel:Cee,CancelToken:_ee,VERSION:Pee,all:Aee,Cancel:Eee,isAxiosError:Tee,spread:$ee,toFormData:Iee,AxiosHeaders:Mee,HttpStatusCode:Dee,formToJSON:Ree,getAdapter:Lee,mergeConfig:zee}=tt,R=tt.create({baseURL:"https://property-saif-production.up.railway.app/",headers:{"Content-Type":"application/json"}});R.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));R.interceptors.response.use(e=>e,e=>(e.response&&e.response.status,Promise.reject(e)));const EA=()=>{const e=un(),[t,n]=w.useState(""),[r,s]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(!1),d=async f=>{var p,g;f.preventDefault();try{l(""),c(!0);const m=await R.post("/api/auth/login",{email:t,password:r}),{accessToken:b,refreshToken:h,user:y}=m.data;localStorage.setItem("accessToken",b),localStorage.setItem("refreshToken",h),localStorage.setItem("user",JSON.stringify(y)),y.role==="ADMIN"?(localStorage.setItem("isLoggedIn","true"),e("/dashboard")):y.role==="TENANT"?(localStorage.setItem("tenantLoggedIn","true"),localStorage.setItem("currentTenantId",y.id),e("/tenant/dashboard")):y.role==="OWNER"?(localStorage.setItem("isOwnerLoggedIn","true"),localStorage.setItem("ownerId",y.id),e("/owner/dashboard")):(l("Unknown user role"),localStorage.clear())}catch(m){console.error(m),l(((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.message)||"Login failed")}finally{c(!1)}},u=f=>{f==="admin"?(n("admin@property.com"),s("123456")):f==="tenant"?(n("tenant@example.com"),s("123456")):f==="owner"&&(n("owner@property.com"),s("123456"))};return a.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[a.jsx("div",{className:"hidden md:flex flex-1 relative bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1560185008-b033106af5c3')"},children:a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-600/75 to-blue-800/85 p-[60px] flex flex-col justify-center text-white",children:[a.jsx("h1",{className:"text-[42px] font-bold mb-3",children:"ProPerty"}),a.jsx("p",{className:"text-lg opacity-95",children:"Smart Property & Rental Management"})]})}),a.jsxs("div",{className:"w-full md:w-[420px] bg-white p-12 flex flex-col justify-center shadow-xl md:shadow-none",children:[a.jsx("h2",{className:"text-[28px] font-semibold mb-1.5 text-slate-900",children:"Welcome Back"}),a.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Sign in to access your dashboard"}),i&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-md border border-red-100",children:i}),a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{className:"flex flex-col mb-5",children:[a.jsx("label",{className:"text-[13px] mb-1.5 text-slate-700",children:"Email"}),a.jsx("input",{type:"email",placeholder:"name@company.com",value:t,onChange:f=>n(f.target.value),className:"h-[42px] px-3 rounded-md border border-slate-300 text-sm focus:outline-none focus:border-blue-600 focus:ring-3 focus:ring-blue-600/15 transition-all w-full"})]}),a.jsxs("div",{className:"flex flex-col mb-5",children:[a.jsx("label",{className:"text-[13px] mb-1.5 text-slate-700",children:"Password"}),a.jsx("input",{type:"password",placeholder:"",value:r,onChange:f=>s(f.target.value),className:"h-[42px] px-3 rounded-md border border-slate-300 text-sm focus:outline-none focus:border-blue-600 focus:ring-3 focus:ring-blue-600/15 transition-all w-full"})]}),a.jsx("button",{type:"submit",className:"w-full h-[44px] bg-blue-600 text-white border-0 rounded-md text-[15px] cursor-pointer mt-2.5 hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:o?"Logging in...":"Login"})]}),a.jsxs("div",{className:"mt-7 bg-slate-100 p-3.5 rounded-md text-[13px] text-slate-600",children:[a.jsx("strong",{className:"block mb-2 text-slate-900",children:"Demo Credentials"}),a.jsxs("p",{className:"mb-2 text-[12px] text-slate-500",children:["All use password: ",a.jsx("strong",{children:"123456"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{type:"button",onClick:()=>u("admin"),className:"text-xs bg-white border border-slate-200 px-2 py-1 rounded hover:bg-slate-50 text-slate-700",children:"Admin"}),a.jsx("button",{type:"button",onClick:()=>u("owner"),className:"text-xs bg-white border border-slate-200 px-2 py-1 rounded hover:bg-slate-50 text-slate-700",children:"Owner"}),a.jsx("button",{type:"button",onClick:()=>u("tenant"),className:"text-xs bg-white border border-slate-200 px-2 py-1 rounded hover:bg-slate-50 text-slate-700",children:"Tenant"})]}),a.jsxs("p",{className:"mt-2 text-[11px] text-slate-400",children:["If Tenant login fails, run ",a.jsx("code",{className:"bg-slate-200 px-1 rounded",children:"npx prisma db seed"})," in the backend to create demo users."]})]})]})]})},TA=()=>localStorage.getItem("isLoggedIn")==="true"?a.jsx(r0,{}):a.jsx(_s,{to:"/login",replace:!0});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>w.createElement("svg",{ref:u,...$A,width:s,height:s,stroke:r,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${IA(e)}`,o].join(" "),...d},[...t.map(([f,p])=>w.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ae("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ae("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=ae("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=ae("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=ae("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ae("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=ae("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ae("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=ae("FileBarChart",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=ae("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=ae("FileMinus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=ae("Files",[["path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z",key:"cennsq"}],["path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8",key:"ms809a"}],["path",{d:"M15 2v5h5",key:"qq6kwv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=ae("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ae("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ae("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=ae("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ae("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ae("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ae("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ae("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function q2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=q2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=q2(e))&&(r&&(r+=" "),r+=t);return r}const ZA=[{icon:u0,label:"Dashboard",path:"/dashboard",children:[{label:"Overview",path:"/dashboard"},{label:"Vacancy Dashboard",path:"/vacancy"},{label:"Revenue Dashboard",path:"/revenue"}]},{icon:sa,label:"Properties",path:"/properties/buildings",children:[{label:"Buildings",path:"/properties/buildings"},{label:"Units",path:"/units"}]},{icon:Bu,label:"Tenants",path:"/tenants",children:[{label:"Tenant List",path:"/tenants"},{label:"Insurance Alerts",path:"/insurance-alerts"}]},{icon:FA,label:"Owners",path:"/owners"},{icon:$e,label:"Leases",path:"/leases"},{icon:$e,label:"Documents",path:"/documents"},{icon:jn,label:"Payments",path:"/payments/invoices",children:[{label:"Rent Invoices",path:"/payments/invoices"},{label:"Payments Received",path:"/payments/received"},{label:"Outstanding Dues",path:"/payments/outstanding"},{label:"Refunds & Adjustments",path:"/payments/refunds"}]},{icon:RA,label:"Accounting",path:"/accounting",children:[{label:"QuickBooks Sync",path:"/settings/quickbooks"},{label:"Chart of Accounts",path:"/accounting/chart-of-accounts"},{label:"Tax Settings",path:"/accounting/tax-settings"}]},{icon:V2,label:"Reports",path:"/reports"},{icon:vi,label:"Communication",path:"/communication"},{icon:p0,label:"Email Logs",path:"/emails"},{icon:B2,label:"Maintenance",path:"/maintenance"},{icon:Ml,label:"Tickets",path:"/tickets"},{icon:W2,label:"Settings",path:"/settings"}],G2=({item:e,depth:t=0,onClose:n})=>{var c;const r=Ya(),s=((c=e.children)==null?void 0:c.length)>0,[i,l]=w.useState(!1);w.useEffect(()=>{if(s){const d=e.children.some(u=>r.pathname.startsWith(u.path));l(d)}},[r.pathname]);const o=d=>{s?(d.preventDefault(),l(u=>!u)):n==null||n()};return a.jsxs(a.Fragment,{children:[a.jsxs(a0,{to:e.path,onClick:o,className:({isActive:d})=>fe("flex items-center gap-3 px-4 py-3.5 rounded-2xl text-sm font-bold transition-all duration-300 group relative overflow-hidden",d&&!s?"bg-primary-600 text-white shadow-xl shadow-primary-200":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),style:{paddingLeft:`calc(16px + ${t*14}px)`},children:[e.icon&&a.jsx(e.icon,{size:20}),a.jsx("span",{className:"flex-1",children:e.label}),s&&(i?a.jsx(ht,{size:14}):a.jsx(z2,{size:14}))]}),s&&i&&a.jsx("div",{className:"ml-2",children:e.children.map(d=>a.jsx(G2,{item:d,depth:t+1,onClose:n},d.path))})]})},K2=({isOpen:e,onClose:t})=>{const n=M.useRef(null);return w.useEffect(()=>{const r=sessionStorage.getItem("adminSidebarScroll");n.current&&r&&(n.current.scrollTop=Number(r));const s=()=>{n.current&&sessionStorage.setItem("adminSidebarScroll",n.current.scrollTop)},i=n.current;return i&&i.addEventListener("scroll",s),()=>{i&&i.removeEventListener("scroll",s)}},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:fe("fixed inset-0 bg-black/40 z-40 lg:hidden",e?"block":"hidden"),onClick:t}),a.jsxs("aside",{className:fe("fixed left-0 top-0 h-screen w-[280px] bg-white border-r border-slate-100 shadow-2xl shadow-slate-200/50 z-50 transition-transform duration-300 ease-in-out flex flex-col",e?"translate-x-0":"-translate-x-full","lg:translate-x-0"),children:[a.jsxs("div",{className:"p-8 pb-6 flex items-center justify-between shrink-0",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("img",{src:"/assets/logo.png",alt:"Masteko Logo",className:"h-10 w-auto object-container"})}),a.jsx("button",{className:"lg:hidden p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-xl transition-all",onClick:t,children:a.jsx(we,{size:20})})]}),a.jsxs("nav",{ref:n,className:"flex-1 overflow-y-auto px-4 py-2 space-y-1 custom-scrollbar",children:[a.jsx("div",{className:"px-4 mb-2 mt-2",children:a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Main Menu"})}),ZA.map(r=>a.jsx(G2,{item:r,onClose:t},r.label))]}),a.jsx("div",{className:"p-6 border-t border-slate-50 shrink-0",children:a.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 group cursor-pointer hover:border-primary-100 hover:bg-primary-50/30 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center font-bold text-sm border-2 border-white shadow-sm",children:"AD"}),a.jsxs("div",{className:"overflow-hidden",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 truncate",children:"Admin User"}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide truncate",children:"Super Admin"})]})]})})})]})]})},V=({children:e,variant:t="primary",size:n="md",className:r,icon:s,isLoading:i,...l})=>{const o="inline-flex items-center justify-center rounded-lg font-sans font-medium cursor-pointer transition-all duration-200 border disabled:opacity-60 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-400 disabled:border-transparent gap-2 whitespace-nowrap select-none active:scale-[0.98]",c={primary:"bg-primary-600 text-white shadow-md shadow-primary-600/20 hover:bg-primary-700 hover:shadow-lg hover:shadow-primary-600/30 border-transparent",secondary:"bg-white border-slate-200 text-slate-700 shadow-sm hover:bg-slate-50 hover:border-slate-300 hover:text-slate-900",outline:"bg-transparent border-primary-200 text-primary-600 hover:bg-primary-50 hover:border-primary-300",ghost:"bg-transparent border-transparent text-slate-500 hover:bg-slate-100/80 hover:text-slate-900 shadow-none",danger:"bg-white border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300 shadow-sm"},d={sm:"h-8 px-3 text-xs",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"};return a.jsx("button",{className:fe(o,c[t],d[n],r),disabled:i||l.disabled,...l,children:i?a.jsxs("svg",{className:"animate-spin h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsxs(a.Fragment,{children:[s&&a.jsx(s,{size:18,className:"flex items-center"}),e]})})},X2=({title:e="Overview",onMenuClick:t})=>{const n=un(),r=()=>{localStorage.removeItem("isLoggedIn"),n("/login")};return a.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 sticky top-0 z-40 lg:px-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{className:"block lg:hidden text-slate-600 p-2",onClick:t,children:a.jsx(m0,{size:24})}),a.jsx("div",{className:"flex items-center gap-6",children:a.jsx("h1",{className:"text-lg ml-5 font-semibold text-slate-800 tracking-[-0.01em] whitespace-nowrap",children:e})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-80 hidden lg:block",children:[a.jsx(Zt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),a.jsx("input",{type:"text",placeholder:"Search properties, tenants...",className:"w-full h-10 pl-10 pr-4 rounded-md border border-slate-200 text-sm bg-white text-slate-900 transition-all focus:outline-none focus:border-primary-500 focus:ring-4 focus:ring-primary-50 placeholder:text-slate-400 hover:border-slate-300"})]}),a.jsxs("button",{className:"flex items-center gap-[6px] h-10 px-3 rounded-md border border-slate-200 bg-white text-slate-600 text-sm cursor-pointer transition-all hover:bg-slate-100 hover:text-danger hover:border-slate-300",onClick:r,title:"Logout",children:[a.jsx(f0,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})},Ce=({children:e,title:t="Overview"})=>{const[n,r]=w.useState(!1),s=()=>r(!n),i=()=>r(!1);return a.jsxs("div",{className:"flex w-full min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsx(K2,{isOpen:n,onClose:i}),a.jsxs("div",{className:"flex flex-col flex-1 min-w-0 transition-all duration-200 ml-0 lg:ml-[260px]",children:[a.jsx(X2,{title:t,onMenuClick:s}),a.jsx("main",{className:"flex-1 w-full max-w-[1400px] mx-auto flex flex-col gap-8 p-4 lg:p-8",children:e})]})]})},xe=({children:e,className:t,title:n,action:r,...s})=>a.jsxs("div",{className:fe("bg-white border border-slate-200/60 rounded-xl shadow-card hover:shadow-lg transition-all duration-300 ease-in-out flex flex-col overflow-hidden",t),...s,children:[(n||r)&&a.jsxs("div",{className:"py-4 px-6 bg-transparent border-b border-slate-200 flex items-center justify-between",children:[n&&a.jsx("h3",{className:"font-sans text-base font-semibold text-slate-900 tracking-[-0.01em]",children:n}),r&&a.jsx("div",{className:"flex items-center gap-2",children:r})]}),a.jsx("div",{className:"p-6 flex-1 text-slate-500 text-sm",children:e})]});var eE=Array.isArray,en=eE,tE=typeof zo=="object"&&zo&&zo.Object===Object&&zo,Y2=tE,nE=Y2,rE=typeof self=="object"&&self&&self.Object===Object&&self,aE=nE||rE||Function("return this")(),cr=aE,sE=cr,iE=sE.Symbol,Ao=iE,rv=Ao,Q2=Object.prototype,lE=Q2.hasOwnProperty,oE=Q2.toString,Fi=rv?rv.toStringTag:void 0;function cE(e){var t=lE.call(e,Fi),n=e[Fi];try{e[Fi]=void 0;var r=!0}catch{}var s=oE.call(e);return r&&(t?e[Fi]=n:delete e[Fi]),s}var dE=cE,uE=Object.prototype,fE=uE.toString;function pE(e){return fE.call(e)}var mE=pE,av=Ao,hE=dE,xE=mE,gE="[object Null]",yE="[object Undefined]",sv=av?av.toStringTag:void 0;function vE(e){return e==null?e===void 0?yE:gE:sv&&sv in Object(e)?hE(e):xE(e)}var Tr=vE;function bE(e){return e!=null&&typeof e=="object"}var $r=bE,jE=Tr,wE=$r,NE="[object Symbol]";function SE(e){return typeof e=="symbol"||wE(e)&&jE(e)==NE}var bi=SE,kE=en,OE=bi,CE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_E=/^\w*$/;function PE(e,t){if(kE(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||OE(e)?!0:_E.test(e)||!CE.test(e)||t!=null&&e in Object(t)}var h0=PE;function AE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var da=AE;const ji=Be(da);var EE=Tr,TE=da,$E="[object AsyncFunction]",IE="[object Function]",ME="[object GeneratorFunction]",DE="[object Proxy]";function RE(e){if(!TE(e))return!1;var t=EE(e);return t==IE||t==ME||t==$E||t==DE}var x0=RE;const ke=Be(x0);var LE=cr,zE=LE["__core-js_shared__"],BE=zE,op=BE,iv=function(){var e=/[^.]+$/.exec(op&&op.keys&&op.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function FE(e){return!!iv&&iv in e}var UE=FE,VE=Function.prototype,WE=VE.toString;function HE(e){if(e!=null){try{return WE.call(e)}catch{}try{return e+""}catch{}}return""}var J2=HE,qE=x0,GE=UE,KE=da,XE=J2,YE=/[\\^$.*+?()[\]{}|]/g,QE=/^\[object .+?Constructor\]$/,JE=Function.prototype,ZE=Object.prototype,eT=JE.toString,tT=ZE.hasOwnProperty,nT=RegExp("^"+eT.call(tT).replace(YE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rT(e){if(!KE(e)||GE(e))return!1;var t=qE(e)?nT:QE;return t.test(XE(e))}var aT=rT;function sT(e,t){return e==null?void 0:e[t]}var iT=sT,lT=aT,oT=iT;function cT(e,t){var n=oT(e,t);return lT(n)?n:void 0}var Qa=cT,dT=Qa,uT=dT(Object,"create"),Fu=uT,lv=Fu;function fT(){this.__data__=lv?lv(null):{},this.size=0}var pT=fT;function mT(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hT=mT,xT=Fu,gT="__lodash_hash_undefined__",yT=Object.prototype,vT=yT.hasOwnProperty;function bT(e){var t=this.__data__;if(xT){var n=t[e];return n===gT?void 0:n}return vT.call(t,e)?t[e]:void 0}var jT=bT,wT=Fu,NT=Object.prototype,ST=NT.hasOwnProperty;function kT(e){var t=this.__data__;return wT?t[e]!==void 0:ST.call(t,e)}var OT=kT,CT=Fu,_T="__lodash_hash_undefined__";function PT(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=CT&&t===void 0?_T:t,this}var AT=PT,ET=pT,TT=hT,$T=jT,IT=OT,MT=AT;function wi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wi.prototype.clear=ET;wi.prototype.delete=TT;wi.prototype.get=$T;wi.prototype.has=IT;wi.prototype.set=MT;var DT=wi;function RT(){this.__data__=[],this.size=0}var LT=RT;function zT(e,t){return e===t||e!==e&&t!==t}var g0=zT,BT=g0;function FT(e,t){for(var n=e.length;n--;)if(BT(e[n][0],t))return n;return-1}var Uu=FT,UT=Uu,VT=Array.prototype,WT=VT.splice;function HT(e){var t=this.__data__,n=UT(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():WT.call(t,n,1),--this.size,!0}var qT=HT,GT=Uu;function KT(e){var t=this.__data__,n=GT(t,e);return n<0?void 0:t[n][1]}var XT=KT,YT=Uu;function QT(e){return YT(this.__data__,e)>-1}var JT=QT,ZT=Uu;function e6(e,t){var n=this.__data__,r=ZT(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var t6=e6,n6=LT,r6=qT,a6=XT,s6=JT,i6=t6;function Ni(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ni.prototype.clear=n6;Ni.prototype.delete=r6;Ni.prototype.get=a6;Ni.prototype.has=s6;Ni.prototype.set=i6;var Vu=Ni,l6=Qa,o6=cr,c6=l6(o6,"Map"),y0=c6,ov=DT,d6=Vu,u6=y0;function f6(){this.size=0,this.__data__={hash:new ov,map:new(u6||d6),string:new ov}}var p6=f6;function m6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var h6=m6,x6=h6;function g6(e,t){var n=e.__data__;return x6(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Wu=g6,y6=Wu;function v6(e){var t=y6(this,e).delete(e);return this.size-=t?1:0,t}var b6=v6,j6=Wu;function w6(e){return j6(this,e).get(e)}var N6=w6,S6=Wu;function k6(e){return S6(this,e).has(e)}var O6=k6,C6=Wu;function _6(e,t){var n=C6(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var P6=_6,A6=p6,E6=b6,T6=N6,$6=O6,I6=P6;function Si(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Si.prototype.clear=A6;Si.prototype.delete=E6;Si.prototype.get=T6;Si.prototype.has=$6;Si.prototype.set=I6;var v0=Si,Z2=v0,M6="Expected a function";function b0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(M6);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var l=e.apply(this,r);return n.cache=i.set(s,l)||i,l};return n.cache=new(b0.Cache||Z2),n}b0.Cache=Z2;var eS=b0;const D6=Be(eS);var R6=eS,L6=500;function z6(e){var t=R6(e,function(r){return n.size===L6&&n.clear(),r}),n=t.cache;return t}var B6=z6,F6=B6,U6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V6=/\\(\\)?/g,W6=F6(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(U6,function(n,r,s,i){t.push(s?i.replace(V6,"$1"):r||n)}),t}),H6=W6;function q6(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var j0=q6,cv=Ao,G6=j0,K6=en,X6=bi,dv=cv?cv.prototype:void 0,uv=dv?dv.toString:void 0;function tS(e){if(typeof e=="string")return e;if(K6(e))return G6(e,tS)+"";if(X6(e))return uv?uv.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Y6=tS,Q6=Y6;function J6(e){return e==null?"":Q6(e)}var nS=J6,Z6=en,e$=h0,t$=H6,n$=nS;function r$(e,t){return Z6(e)?e:e$(e,t)?[e]:t$(n$(e))}var rS=r$,a$=bi;function s$(e){if(typeof e=="string"||a$(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Hu=s$,i$=rS,l$=Hu;function o$(e,t){t=i$(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[l$(t[n++])];return n&&n==r?e:void 0}var w0=o$,c$=w0;function d$(e,t,n){var r=e==null?void 0:c$(e,t);return r===void 0?n:r}var aS=d$;const Nn=Be(aS);function u$(e){return e==null}var f$=u$;const Pe=Be(f$);var p$=Tr,m$=en,h$=$r,x$="[object String]";function g$(e){return typeof e=="string"||!m$(e)&&h$(e)&&p$(e)==x$}var y$=g$;const Wa=Be(y$);var sS={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0=Symbol.for("react.element"),S0=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),Gu=Symbol.for("react.strict_mode"),Ku=Symbol.for("react.profiler"),Xu=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),v$=Symbol.for("react.server_context"),Qu=Symbol.for("react.forward_ref"),Ju=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),ef=Symbol.for("react.memo"),tf=Symbol.for("react.lazy"),b$=Symbol.for("react.offscreen"),iS;iS=Symbol.for("react.module.reference");function Cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case N0:switch(e=e.type,e){case qu:case Ku:case Gu:case Ju:case Zu:return e;default:switch(e=e&&e.$$typeof,e){case v$:case Yu:case Qu:case tf:case ef:case Xu:return e;default:return t}}case S0:return t}}}Me.ContextConsumer=Yu;Me.ContextProvider=Xu;Me.Element=N0;Me.ForwardRef=Qu;Me.Fragment=qu;Me.Lazy=tf;Me.Memo=ef;Me.Portal=S0;Me.Profiler=Ku;Me.StrictMode=Gu;Me.Suspense=Ju;Me.SuspenseList=Zu;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return Cn(e)===Yu};Me.isContextProvider=function(e){return Cn(e)===Xu};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===N0};Me.isForwardRef=function(e){return Cn(e)===Qu};Me.isFragment=function(e){return Cn(e)===qu};Me.isLazy=function(e){return Cn(e)===tf};Me.isMemo=function(e){return Cn(e)===ef};Me.isPortal=function(e){return Cn(e)===S0};Me.isProfiler=function(e){return Cn(e)===Ku};Me.isStrictMode=function(e){return Cn(e)===Gu};Me.isSuspense=function(e){return Cn(e)===Ju};Me.isSuspenseList=function(e){return Cn(e)===Zu};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qu||e===Ku||e===Gu||e===Ju||e===Zu||e===b$||typeof e=="object"&&e!==null&&(e.$$typeof===tf||e.$$typeof===ef||e.$$typeof===Xu||e.$$typeof===Yu||e.$$typeof===Qu||e.$$typeof===iS||e.getModuleId!==void 0)};Me.typeOf=Cn;sS.exports=Me;var j$=sS.exports,w$=Tr,N$=$r,S$="[object Number]";function k$(e){return typeof e=="number"||N$(e)&&w$(e)==S$}var lS=k$;const O$=Be(lS);var C$=lS;function _$(e){return C$(e)&&e!=+e}var P$=_$;const Eo=Be(P$);var Rn=function(t){return t===0?0:t>0?1:-1},Oa=function(t){return Wa(t)&&t.indexOf("%")===t.length-1},re=function(t){return O$(t)&&!Eo(t)},A$=function(t){return Pe(t)},dt=function(t){return re(t)||Wa(t)},E$=0,nf=function(t){var n=++E$;return"".concat(t||"").concat(n)},Ha=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&!Wa(t))return r;var i;if(Oa(t)){var l=t.indexOf("%");i=n*parseFloat(t.slice(0,l))/100}else i=+t;return Eo(i)&&(i=r),s&&i>n&&(i=n),i},is=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},T$=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},rs=function(t,n){return re(t)&&re(n)?function(r){return t+r*(n-t)}:function(){return n}};function Lm(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Nn(r,t))===n})}var $$=function(t,n){return re(t)&&re(n)?t-n:Wa(t)&&Wa(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function As(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}var I$=["viewBox","children"],M$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fv=["points","pathLength"],cp={svg:I$,polygon:fv,polyline:fv},k0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fd=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(w.isValidElement(t)&&(r=t.props),!ji(r))return null;var s={};return Object.keys(r).forEach(function(i){k0.includes(i)&&(s[i]=n||function(l){return r[i](r,l)})}),s},D$=function(t,n,r){return function(s){return t(n,r,s),null}},pd=function(t,n,r){if(!ji(t)||zm(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];k0.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=D$(l,n,r))}),s},R$=["children"],L$=["children"];function pv(e,t){if(e==null)return{};var n=z$(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function z$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var mv={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},hv=null,dp=null,O0=function e(t){if(t===hv&&Array.isArray(dp))return dp;var n=[];return w.Children.forEach(t,function(r){Pe(r)||(j$.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),dp=n,hv=t,n};function Bn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return vr(s)}):r=[vr(t)],O0(e).forEach(function(s){var i=Nn(s,"type.displayName")||Nn(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function rn(e,t){var n=Bn(e,t);return n&&n[0]}var xv=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!re(r)||r<=0||!re(s)||s<=0)},B$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],F$=function(t){return t&&t.type&&Wa(t.type)&&B$.indexOf(t.type)>=0},U$=function(t,n,r,s){var i,l=(i=cp==null?void 0:cp[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!ke(t)&&(s&&l.includes(n)||M$.includes(n))||r&&k0.includes(n)},Ee=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!ji(s))return null;var i={};return Object.keys(s).forEach(function(l){var o;U$((o=s)===null||o===void 0?void 0:o[l],l,n,r)&&(i[l]=s[l])}),i},Bm=function e(t,n){if(t===n)return!0;var r=w.Children.count(t);if(r!==w.Children.count(n))return!1;if(r===0)return!0;if(r===1)return gv(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=t[s],l=n[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!gv(i,l))return!1}return!0},gv=function(t,n){if(Pe(t)&&Pe(n))return!0;if(!Pe(t)&&!Pe(n)){var r=t.props||{},s=r.children,i=pv(r,R$),l=n.props||{},o=l.children,c=pv(l,L$);return s&&o?As(i,c)&&Bm(s,o):!s&&!o?As(i,c):!1}return!1},yv=function(t,n){var r=[],s={};return O0(t).forEach(function(i,l){if(F$(i))r.push(i);else if(i){var o=vr(i.type),c=n[o]||{},d=c.handler,u=c.once;if(d&&(!u||!s[o])){var f=d(i,o,l);r.push(f),s[o]=!0}}}),r},V$=function(t){var n=t&&t.type;return n&&mv[n]?mv[n]:null},W$=function(t,n){return O0(n).indexOf(t)},H$=["children","width","height","viewBox","className","style","title","desc"];function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fm.apply(this,arguments)}function q$(e,t){if(e==null)return{};var n=G$(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function G$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Um(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,i=e.className,l=e.style,o=e.title,c=e.desc,d=q$(e,H$),u=s||{width:n,height:r,x:0,y:0},f=fe("recharts-surface",i);return M.createElement("svg",Fm({},Ee(d,!0,"svg"),{className:f,width:n,height:r,style:l,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),M.createElement("title",null,o),M.createElement("desc",null,c),t)}var K$=["children","className"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vm.apply(this,arguments)}function X$(e,t){if(e==null)return{};var n=Y$(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Y$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var mt=M.forwardRef(function(e,t){var n=e.children,r=e.className,s=X$(e,K$),i=fe("recharts-layer",r);return M.createElement("g",Vm({className:i},Ee(s,!0),{ref:t}),n)}),Ia=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function Q$(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}var J$=Q$,Z$=J$;function e3(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Z$(e,t,n)}var t3=e3,n3="\\ud800-\\udfff",r3="\\u0300-\\u036f",a3="\\ufe20-\\ufe2f",s3="\\u20d0-\\u20ff",i3=r3+a3+s3,l3="\\ufe0e\\ufe0f",o3="\\u200d",c3=RegExp("["+o3+n3+i3+l3+"]");function d3(e){return c3.test(e)}var oS=d3;function u3(e){return e.split("")}var f3=u3,cS="\\ud800-\\udfff",p3="\\u0300-\\u036f",m3="\\ufe20-\\ufe2f",h3="\\u20d0-\\u20ff",x3=p3+m3+h3,g3="\\ufe0e\\ufe0f",y3="["+cS+"]",Wm="["+x3+"]",Hm="\\ud83c[\\udffb-\\udfff]",v3="(?:"+Wm+"|"+Hm+")",dS="[^"+cS+"]",uS="(?:\\ud83c[\\udde6-\\uddff]){2}",fS="[\\ud800-\\udbff][\\udc00-\\udfff]",b3="\\u200d",pS=v3+"?",mS="["+g3+"]?",j3="(?:"+b3+"(?:"+[dS,uS,fS].join("|")+")"+mS+pS+")*",w3=mS+pS+j3,N3="(?:"+[dS+Wm+"?",Wm,uS,fS,y3].join("|")+")",S3=RegExp(Hm+"(?="+Hm+")|"+N3+w3,"g");function k3(e){return e.match(S3)||[]}var O3=k3,C3=f3,_3=oS,P3=O3;function A3(e){return _3(e)?P3(e):C3(e)}var E3=A3,T3=t3,$3=oS,I3=E3,M3=nS;function D3(e){return function(t){t=M3(t);var n=$3(t)?I3(t):void 0,r=n?n[0]:t.charAt(0),s=n?T3(n,1).join(""):t.slice(1);return r[e]()+s}}var R3=D3,L3=R3,z3=L3("toUpperCase"),B3=z3;const rf=Be(B3);function Le(e){return function(){return e}}const hS=Math.cos,md=Math.sin,qn=Math.sqrt,hd=Math.PI,af=2*hd,qm=Math.PI,Gm=2*qm,ya=1e-6,F3=Gm-ya;function xS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function U3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xS;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class V3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xS:U3(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,l){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=r-t,d=s-n,u=l-t,f=o-n,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>ya)if(!(Math.abs(f*c-d*u)>ya)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-l,m=s-o,b=c*c+d*d,h=g*g+m*m,y=Math.sqrt(b),x=Math.sqrt(p),j=i*Math.tan((qm-Math.acos((b+p-h)/(2*y*x)))/2),N=j/x,v=j/y;Math.abs(N-1)>ya&&this._append`L${t+N*u},${n+N*f}`,this._append`A${i},${i},0,0,${+(f*g>u*m)},${this._x1=t+v*c},${this._y1=n+v*d}`}}arc(t,n,r,s,i,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(s),c=r*Math.sin(s),d=t+o,u=n+c,f=1^l,p=l?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ya||Math.abs(this._y1-u)>ya)&&this._append`L${d},${u}`,r&&(p<0&&(p=p%Gm+Gm),p>F3?this._append`A${r},${r},0,1,${f},${t-o},${n-c}A${r},${r},0,1,${f},${this._x1=d},${this._y1=u}`:p>ya&&this._append`A${r},${r},0,${+(p>=qm)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function C0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new V3(t)}function _0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gS(e){this._context=e}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sf(e){return new gS(e)}function yS(e){return e[0]}function vS(e){return e[1]}function bS(e,t){var n=Le(!0),r=null,s=sf,i=null,l=C0(o);e=typeof e=="function"?e:e===void 0?yS:Le(e),t=typeof t=="function"?t:t===void 0?vS:Le(t);function o(c){var d,u=(c=_0(c)).length,f,p=!1,g;for(r==null&&(i=s(g=l())),d=0;d<=u;++d)!(d<u&&n(f=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,d,c),+t(f,d,c));if(g)return i=null,g+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Le(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Le(+c),o):t},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Le(!!c),o):n},o.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),o):s},o.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),o):r},o}function ac(e,t,n){var r=null,s=Le(!0),i=null,l=sf,o=null,c=C0(d);e=typeof e=="function"?e:e===void 0?yS:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?vS:Le(+n);function d(f){var p,g,m,b=(f=_0(f)).length,h,y=!1,x,j=new Array(b),N=new Array(b);for(i==null&&(o=l(x=c())),p=0;p<=b;++p){if(!(p<b&&s(h=f[p],p,f))===y)if(y=!y)g=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=p-1;m>=g;--m)o.point(j[m],N[m]);o.lineEnd(),o.areaEnd()}y&&(j[p]=+e(h,p,f),N[p]=+t(h,p,f),o.point(r?+r(h,p,f):j[p],n?+n(h,p,f):N[p]))}if(x)return o=null,x+""||null}function u(){return bS().defined(s).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),r=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),d):e},d.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),d):r},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),n=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),d):t},d.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Le(!!f),d):s},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class jS{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function W3(e){return new jS(e,!0)}function H3(e){return new jS(e,!1)}const P0={draw(e,t){const n=qn(t/hd);e.moveTo(n,0),e.arc(0,0,n,0,af)}},q3={draw(e,t){const n=qn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},wS=qn(1/3),G3=wS*2,K3={draw(e,t){const n=qn(t/G3),r=n*wS;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},X3={draw(e,t){const n=qn(t),r=-n/2;e.rect(r,r,n,n)}},Y3=.8908130915292852,NS=md(hd/10)/md(7*hd/10),Q3=md(af/10)*NS,J3=-hS(af/10)*NS,Z3={draw(e,t){const n=qn(t*Y3),r=Q3*n,s=J3*n;e.moveTo(0,-n),e.lineTo(r,s);for(let i=1;i<5;++i){const l=af*i/5,o=hS(l),c=md(l);e.lineTo(c*n,-o*n),e.lineTo(o*r-c*s,c*r+o*s)}e.closePath()}},up=qn(3),eI={draw(e,t){const n=-qn(t/(up*3));e.moveTo(0,n*2),e.lineTo(-up*n,-n),e.lineTo(up*n,-n),e.closePath()}},fn=-.5,pn=qn(3)/2,Km=1/qn(12),tI=(Km/2+1)*3,nI={draw(e,t){const n=qn(t/tI),r=n/2,s=n*Km,i=r,l=n*Km+n,o=-i,c=l;e.moveTo(r,s),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(fn*r-pn*s,pn*r+fn*s),e.lineTo(fn*i-pn*l,pn*i+fn*l),e.lineTo(fn*o-pn*c,pn*o+fn*c),e.lineTo(fn*r+pn*s,fn*s-pn*r),e.lineTo(fn*i+pn*l,fn*l-pn*i),e.lineTo(fn*o+pn*c,fn*c-pn*o),e.closePath()}};function rI(e,t){let n=null,r=C0(s);e=typeof e=="function"?e:Le(e||P0),t=typeof t=="function"?t:Le(t===void 0?64:+t);function s(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Le(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Le(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function xd(){}function gd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function SS(e){this._context=e}SS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aI(e){return new SS(e)}function kS(e){this._context=e}kS.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sI(e){return new kS(e)}function OS(e){this._context=e}OS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iI(e){return new OS(e)}function CS(e){this._context=e}CS.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lI(e){return new CS(e)}function vv(e){return e<0?-1:1}function bv(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),l=(n-e._y1)/(s||r<0&&-0),o=(i*s+l*r)/(r+s);return(vv(i)+vv(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function jv(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fp(e,t,n){var r=e._x0,s=e._y0,i=e._x1,l=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,s+o*t,i-o,l-o*n,i,l)}function yd(e){this._context=e}yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fp(this,this._t0,jv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fp(this,jv(this,n=bv(this,e,t)),n);break;default:fp(this,this._t0,n=bv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _S(e){this._context=new PS(e)}(_S.prototype=Object.create(yd.prototype)).point=function(e,t){yd.prototype.point.call(this,t,e)};function PS(e){this._context=e}PS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,i){this._context.bezierCurveTo(t,e,r,n,i,s)}};function oI(e){return new yd(e)}function cI(e){return new _S(e)}function AS(e){this._context=e}AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=wv(e),s=wv(t),i=0,l=1;l<n;++i,++l)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wv(e){var t,n=e.length-1,r,s=new Array(n),i=new Array(n),l=new Array(n);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/i[t-1],i[t]-=r,l[t]-=r*l[t-1];for(s[n-1]=l[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function dI(e){return new AS(e)}function lf(e,t){this._context=e,this._t=t}lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function uI(e){return new lf(e,.5)}function fI(e){return new lf(e,0)}function pI(e){return new lf(e,1)}function Ws(e,t){if((l=e.length)>1)for(var n=1,r,s,i=e[t[0]],l,o=i.length;n<l;++n)for(s=i,i=e[t[n]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Xm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function mI(e,t){return e[t]}function hI(e){const t=[];return t.key=e,t}function xI(){var e=Le([]),t=Xm,n=Ws,r=mI;function s(i){var l=Array.from(e.apply(this,arguments),hI),o,c=l.length,d=-1,u;for(const f of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+r(f,l[o].key,d,i)]).data=f;for(o=0,u=_0(t(l));o<c;++o)l[u[o]].index=o;return n(l,u),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Le(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:Le(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?Xm:typeof i=="function"?i:Le(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Ws,s):n},s}function gI(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,l;s<i;++s){for(l=n=0;n<r;++n)l+=e[n][s][1]||0;if(l)for(n=0;n<r;++n)e[n][s][1]/=l}Ws(e,t)}}function yI(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,i=r.length;n<i;++n){for(var l=0,o=0;l<s;++l)o+=e[l][n][1]||0;r[n][1]+=r[n][0]=-o/2}Ws(e,t)}}function vI(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,i,l;r<i;++r){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],f=u[r][1]||0,p=u[r-1][1]||0,g=(f-p)/2,m=0;m<o;++m){var b=e[t[m]],h=b[r][1]||0,y=b[r-1][1]||0;g+=h-y}c+=f,d+=g*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=d/c)}s[r-1][1]+=s[r-1][0]=n,Ws(e,t)}}function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}var bI=["type","size","sizeType"];function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ym.apply(this,arguments)}function Nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nv(Object(n),!0).forEach(function(r){jI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jI(e,t,n){return t=wI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wI(e){var t=NI(e,"string");return Dl(t)=="symbol"?t:t+""}function NI(e,t){if(Dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SI(e,t){if(e==null)return{};var n=kI(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kI(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ES={symbolCircle:P0,symbolCross:q3,symbolDiamond:K3,symbolSquare:X3,symbolStar:Z3,symbolTriangle:eI,symbolWye:nI},OI=Math.PI/180,CI=function(t){var n="symbol".concat(rf(t));return ES[n]||P0},_I=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*OI;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},PI=function(t,n){ES["symbol".concat(rf(t))]=n},A0=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,l=t.sizeType,o=l===void 0?"area":l,c=SI(t,bI),d=Sv(Sv({},c),{},{type:r,size:i,sizeType:o}),u=function(){var h=CI(r),y=rI().type(h).size(_I(i,o,r));return y()},f=d.className,p=d.cx,g=d.cy,m=Ee(d,!0);return p===+p&&g===+g&&i===+i?M.createElement("path",Ym({},m,{className:fe("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(g,")"),d:u()})):null};A0.registerSymbol=PI;function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qm.apply(this,arguments)}function kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kv(Object(n),!0).forEach(function(r){Rl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$S(r.key),r)}}function $I(e,t,n){return t&&TI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function II(e,t,n){return t=vd(t),MI(e,TS()?Reflect.construct(t,n||[],vd(e).constructor):t.apply(e,n))}function MI(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DI(e)}function DI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TS=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(e)}function RI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jm(e,t)}function Jm(e,t){return Jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Jm(e,t)}function Rl(e,t,n){return t=$S(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $S(e){var t=LI(e,"string");return Hs(t)=="symbol"?t:t+""}function LI(e,t){if(Hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mn=32,E0=function(e){function t(){return EI(this,t),II(this,t,arguments)}return RI(t,e),$I(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=mn/2,l=mn/6,o=mn/3,c=r.inactive?s:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:mn,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(mn,"M").concat(2*o,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(mn/8,"h").concat(mn,"v").concat(mn*3/4,"h").concat(-mn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var d=AI({},r);return delete d.legendIcon,M.cloneElement(r.legendIcon,d)}return M.createElement(A0,{fill:c,cx:i,cy:i,size:mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,l=s.iconSize,o=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:mn,height:mn},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,m){var b=g.formatter||c,h=fe(Rl(Rl({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",g.inactive));if(g.type==="none")return null;var y=ke(g.value)?null:g.value;Ia(!ke(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?d:g.color;return M.createElement("li",Qm({className:h,style:f,key:"legend-item-".concat(m)},pd(r.props,g,m)),M.createElement(Um,{width:l,height:l,viewBox:u,style:p},r.renderIcon(g)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(y,g,m):y))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,l=r.align;if(!s||!s.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(w.PureComponent);Rl(E0,"displayName","Legend");Rl(E0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zI=Vu;function BI(){this.__data__=new zI,this.size=0}var FI=BI;function UI(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var VI=UI;function WI(e){return this.__data__.get(e)}var HI=WI;function qI(e){return this.__data__.has(e)}var GI=qI,KI=Vu,XI=y0,YI=v0,QI=200;function JI(e,t){var n=this.__data__;if(n instanceof KI){var r=n.__data__;if(!XI||r.length<QI-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new YI(r)}return n.set(e,t),this.size=n.size,this}var ZI=JI,eM=Vu,tM=FI,nM=VI,rM=HI,aM=GI,sM=ZI;function ki(e){var t=this.__data__=new eM(e);this.size=t.size}ki.prototype.clear=tM;ki.prototype.delete=nM;ki.prototype.get=rM;ki.prototype.has=aM;ki.prototype.set=sM;var IS=ki,iM="__lodash_hash_undefined__";function lM(e){return this.__data__.set(e,iM),this}var oM=lM;function cM(e){return this.__data__.has(e)}var dM=cM,uM=v0,fM=oM,pM=dM;function bd(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new uM;++t<n;)this.add(e[t])}bd.prototype.add=bd.prototype.push=fM;bd.prototype.has=pM;var MS=bd;function mM(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var DS=mM;function hM(e,t){return e.has(t)}var RS=hM,xM=MS,gM=DS,yM=RS,vM=1,bM=2;function jM(e,t,n,r,s,i){var l=n&vM,o=e.length,c=t.length;if(o!=c&&!(l&&c>o))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,p=!0,g=n&bM?new xM:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var m=e[f],b=t[f];if(r)var h=l?r(b,m,f,t,e,i):r(m,b,f,e,t,i);if(h!==void 0){if(h)continue;p=!1;break}if(g){if(!gM(t,function(y,x){if(!yM(g,x)&&(m===y||s(m,y,n,r,i)))return g.push(x)})){p=!1;break}}else if(!(m===b||s(m,b,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var LS=jM,wM=cr,NM=wM.Uint8Array,SM=NM;function kM(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var OM=kM;function CM(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var T0=CM,Ov=Ao,Cv=SM,_M=g0,PM=LS,AM=OM,EM=T0,TM=1,$M=2,IM="[object Boolean]",MM="[object Date]",DM="[object Error]",RM="[object Map]",LM="[object Number]",zM="[object RegExp]",BM="[object Set]",FM="[object String]",UM="[object Symbol]",VM="[object ArrayBuffer]",WM="[object DataView]",_v=Ov?Ov.prototype:void 0,pp=_v?_v.valueOf:void 0;function HM(e,t,n,r,s,i,l){switch(n){case WM:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case VM:return!(e.byteLength!=t.byteLength||!i(new Cv(e),new Cv(t)));case IM:case MM:case LM:return _M(+e,+t);case DM:return e.name==t.name&&e.message==t.message;case zM:case FM:return e==t+"";case RM:var o=AM;case BM:var c=r&TM;if(o||(o=EM),e.size!=t.size&&!c)return!1;var d=l.get(e);if(d)return d==t;r|=$M,l.set(e,t);var u=PM(o(e),o(t),r,s,i,l);return l.delete(e),u;case UM:if(pp)return pp.call(e)==pp.call(t)}return!1}var qM=HM;function GM(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var zS=GM,KM=zS,XM=en;function YM(e,t,n){var r=t(e);return XM(e)?r:KM(r,n(e))}var QM=YM;function JM(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var l=e[n];t(l,n,e)&&(i[s++]=l)}return i}var ZM=JM;function eD(){return[]}var tD=eD,nD=ZM,rD=tD,aD=Object.prototype,sD=aD.propertyIsEnumerable,Pv=Object.getOwnPropertySymbols,iD=Pv?function(e){return e==null?[]:(e=Object(e),nD(Pv(e),function(t){return sD.call(e,t)}))}:rD,lD=iD;function oD(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var cD=oD,dD=Tr,uD=$r,fD="[object Arguments]";function pD(e){return uD(e)&&dD(e)==fD}var mD=pD,Av=mD,hD=$r,BS=Object.prototype,xD=BS.hasOwnProperty,gD=BS.propertyIsEnumerable,yD=Av(function(){return arguments}())?Av:function(e){return hD(e)&&xD.call(e,"callee")&&!gD.call(e,"callee")},$0=yD,jd={exports:{}};function vD(){return!1}var bD=vD;jd.exports;(function(e,t){var n=cr,r=bD,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,o=l?n.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||r;e.exports=d})(jd,jd.exports);var FS=jd.exports,jD=9007199254740991,wD=/^(?:0|[1-9]\d*)$/;function ND(e,t){var n=typeof e;return t=t??jD,!!t&&(n=="number"||n!="symbol"&&wD.test(e))&&e>-1&&e%1==0&&e<t}var I0=ND,SD=9007199254740991;function kD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=SD}var M0=kD,OD=Tr,CD=M0,_D=$r,PD="[object Arguments]",AD="[object Array]",ED="[object Boolean]",TD="[object Date]",$D="[object Error]",ID="[object Function]",MD="[object Map]",DD="[object Number]",RD="[object Object]",LD="[object RegExp]",zD="[object Set]",BD="[object String]",FD="[object WeakMap]",UD="[object ArrayBuffer]",VD="[object DataView]",WD="[object Float32Array]",HD="[object Float64Array]",qD="[object Int8Array]",GD="[object Int16Array]",KD="[object Int32Array]",XD="[object Uint8Array]",YD="[object Uint8ClampedArray]",QD="[object Uint16Array]",JD="[object Uint32Array]",Ue={};Ue[WD]=Ue[HD]=Ue[qD]=Ue[GD]=Ue[KD]=Ue[XD]=Ue[YD]=Ue[QD]=Ue[JD]=!0;Ue[PD]=Ue[AD]=Ue[UD]=Ue[ED]=Ue[VD]=Ue[TD]=Ue[$D]=Ue[ID]=Ue[MD]=Ue[DD]=Ue[RD]=Ue[LD]=Ue[zD]=Ue[BD]=Ue[FD]=!1;function ZD(e){return _D(e)&&CD(e.length)&&!!Ue[OD(e)]}var e8=ZD;function t8(e){return function(t){return e(t)}}var US=t8,wd={exports:{}};wd.exports;(function(e,t){var n=Y2,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,l=i&&n.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();e.exports=o})(wd,wd.exports);var n8=wd.exports,r8=e8,a8=US,Ev=n8,Tv=Ev&&Ev.isTypedArray,s8=Tv?a8(Tv):r8,VS=s8,i8=cD,l8=$0,o8=en,c8=FS,d8=I0,u8=VS,f8=Object.prototype,p8=f8.hasOwnProperty;function m8(e,t){var n=o8(e),r=!n&&l8(e),s=!n&&!r&&c8(e),i=!n&&!r&&!s&&u8(e),l=n||r||s||i,o=l?i8(e.length,String):[],c=o.length;for(var d in e)(t||p8.call(e,d))&&!(l&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||d8(d,c)))&&o.push(d);return o}var h8=m8,x8=Object.prototype;function g8(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||x8;return e===n}var y8=g8;function v8(e,t){return function(n){return e(t(n))}}var WS=v8,b8=WS,j8=b8(Object.keys,Object),w8=j8,N8=y8,S8=w8,k8=Object.prototype,O8=k8.hasOwnProperty;function C8(e){if(!N8(e))return S8(e);var t=[];for(var n in Object(e))O8.call(e,n)&&n!="constructor"&&t.push(n);return t}var _8=C8,P8=x0,A8=M0;function E8(e){return e!=null&&A8(e.length)&&!P8(e)}var of=E8,T8=h8,$8=_8,I8=of;function M8(e){return I8(e)?T8(e):$8(e)}var D0=M8,D8=QM,R8=lD,L8=D0;function z8(e){return D8(e,L8,R8)}var B8=z8,$v=B8,F8=1,U8=Object.prototype,V8=U8.hasOwnProperty;function W8(e,t,n,r,s,i){var l=n&F8,o=$v(e),c=o.length,d=$v(t),u=d.length;if(c!=u&&!l)return!1;for(var f=c;f--;){var p=o[f];if(!(l?p in t:V8.call(t,p)))return!1}var g=i.get(e),m=i.get(t);if(g&&m)return g==t&&m==e;var b=!0;i.set(e,t),i.set(t,e);for(var h=l;++f<c;){p=o[f];var y=e[p],x=t[p];if(r)var j=l?r(x,y,p,t,e,i):r(y,x,p,e,t,i);if(!(j===void 0?y===x||s(y,x,n,r,i):j)){b=!1;break}h||(h=p=="constructor")}if(b&&!h){var N=e.constructor,v=t.constructor;N!=v&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof v=="function"&&v instanceof v)&&(b=!1)}return i.delete(e),i.delete(t),b}var H8=W8,q8=Qa,G8=cr,K8=q8(G8,"DataView"),X8=K8,Y8=Qa,Q8=cr,J8=Y8(Q8,"Promise"),Z8=J8,eR=Qa,tR=cr,nR=eR(tR,"Set"),HS=nR,rR=Qa,aR=cr,sR=rR(aR,"WeakMap"),iR=sR,Zm=X8,eh=y0,th=Z8,nh=HS,rh=iR,qS=Tr,Oi=J2,Iv="[object Map]",lR="[object Object]",Mv="[object Promise]",Dv="[object Set]",Rv="[object WeakMap]",Lv="[object DataView]",oR=Oi(Zm),cR=Oi(eh),dR=Oi(th),uR=Oi(nh),fR=Oi(rh),va=qS;(Zm&&va(new Zm(new ArrayBuffer(1)))!=Lv||eh&&va(new eh)!=Iv||th&&va(th.resolve())!=Mv||nh&&va(new nh)!=Dv||rh&&va(new rh)!=Rv)&&(va=function(e){var t=qS(e),n=t==lR?e.constructor:void 0,r=n?Oi(n):"";if(r)switch(r){case oR:return Lv;case cR:return Iv;case dR:return Mv;case uR:return Dv;case fR:return Rv}return t});var pR=va,mp=IS,mR=LS,hR=qM,xR=H8,zv=pR,Bv=en,Fv=FS,gR=VS,yR=1,Uv="[object Arguments]",Vv="[object Array]",sc="[object Object]",vR=Object.prototype,Wv=vR.hasOwnProperty;function bR(e,t,n,r,s,i){var l=Bv(e),o=Bv(t),c=l?Vv:zv(e),d=o?Vv:zv(t);c=c==Uv?sc:c,d=d==Uv?sc:d;var u=c==sc,f=d==sc,p=c==d;if(p&&Fv(e)){if(!Fv(t))return!1;l=!0,u=!1}if(p&&!u)return i||(i=new mp),l||gR(e)?mR(e,t,n,r,s,i):hR(e,t,c,n,r,s,i);if(!(n&yR)){var g=u&&Wv.call(e,"__wrapped__"),m=f&&Wv.call(t,"__wrapped__");if(g||m){var b=g?e.value():e,h=m?t.value():t;return i||(i=new mp),s(b,h,n,r,i)}}return p?(i||(i=new mp),xR(e,t,n,r,s,i)):!1}var jR=bR,wR=jR,Hv=$r;function GS(e,t,n,r,s){return e===t?!0:e==null||t==null||!Hv(e)&&!Hv(t)?e!==e&&t!==t:wR(e,t,n,r,GS,s)}var R0=GS,NR=IS,SR=R0,kR=1,OR=2;function CR(e,t,n,r){var s=n.length,i=s,l=!r;if(e==null)return!i;for(e=Object(e);s--;){var o=n[s];if(l&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<i;){o=n[s];var c=o[0],d=e[c],u=o[1];if(l&&o[2]){if(d===void 0&&!(c in e))return!1}else{var f=new NR;if(r)var p=r(d,u,c,e,t,f);if(!(p===void 0?SR(u,d,kR|OR,r,f):p))return!1}}return!0}var _R=CR,PR=da;function AR(e){return e===e&&!PR(e)}var KS=AR,ER=KS,TR=D0;function $R(e){for(var t=TR(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,ER(s)]}return t}var IR=$R;function MR(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var XS=MR,DR=_R,RR=IR,LR=XS;function zR(e){var t=RR(e);return t.length==1&&t[0][2]?LR(t[0][0],t[0][1]):function(n){return n===e||DR(n,e,t)}}var BR=zR;function FR(e,t){return e!=null&&t in Object(e)}var UR=FR,VR=rS,WR=$0,HR=en,qR=I0,GR=M0,KR=Hu;function XR(e,t,n){t=VR(t,e);for(var r=-1,s=t.length,i=!1;++r<s;){var l=KR(t[r]);if(!(i=e!=null&&n(e,l)))break;e=e[l]}return i||++r!=s?i:(s=e==null?0:e.length,!!s&&GR(s)&&qR(l,s)&&(HR(e)||WR(e)))}var YR=XR,QR=UR,JR=YR;function ZR(e,t){return e!=null&&JR(e,t,QR)}var eL=ZR,tL=R0,nL=aS,rL=eL,aL=h0,sL=KS,iL=XS,lL=Hu,oL=1,cL=2;function dL(e,t){return aL(e)&&sL(t)?iL(lL(e),t):function(n){var r=nL(n,e);return r===void 0&&r===t?rL(n,e):tL(t,r,oL|cL)}}var uL=dL;function fL(e){return e}var Ci=fL;function pL(e){return function(t){return t==null?void 0:t[e]}}var mL=pL,hL=w0;function xL(e){return function(t){return hL(t,e)}}var gL=xL,yL=mL,vL=gL,bL=h0,jL=Hu;function wL(e){return bL(e)?yL(jL(e)):vL(e)}var NL=wL,SL=BR,kL=uL,OL=Ci,CL=en,_L=NL;function PL(e){return typeof e=="function"?e:e==null?OL:typeof e=="object"?CL(e)?kL(e[0],e[1]):SL(e):_L(e)}var _i=PL;function AL(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var EL=AL;function TL(e){return e!==e}var $L=TL;function IL(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var ML=IL,DL=EL,RL=$L,LL=ML;function zL(e,t,n){return t===t?LL(e,t,n):DL(e,RL,n)}var BL=zL,FL=BL;function UL(e,t){var n=e==null?0:e.length;return!!n&&FL(e,t,0)>-1}var VL=UL;function WL(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var HL=WL;function qL(){}var GL=qL,hp=HS,KL=GL,XL=T0,YL=1/0,QL=hp&&1/XL(new hp([,-0]))[1]==YL?function(e){return new hp(e)}:KL,JL=QL,ZL=MS,ez=VL,tz=HL,nz=RS,rz=JL,az=T0,sz=200;function iz(e,t,n){var r=-1,s=ez,i=e.length,l=!0,o=[],c=o;if(n)l=!1,s=tz;else if(i>=sz){var d=t?null:rz(e);if(d)return az(d);l=!1,s=nz,c=new ZL}else c=t?[]:o;e:for(;++r<i;){var u=e[r],f=t?t(u):u;if(u=n||u!==0?u:0,l&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),o.push(u)}else s(c,f,n)||(c!==o&&c.push(f),o.push(u))}return o}var lz=iz,oz=_i,cz=lz;function dz(e,t){return e&&e.length?cz(e,oz(t)):[]}var uz=dz;const qv=Be(uz);function YS(e,t,n){return t===!0?qv(e,n):ke(t)?qv(e,t):e}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}var fz=["ref"];function Gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(n),!0).forEach(function(r){cf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JS(r.key),r)}}function mz(e,t,n){return t&&Kv(e.prototype,t),n&&Kv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hz(e,t,n){return t=Nd(t),xz(e,QS()?Reflect.construct(t,n||[],Nd(e).constructor):t.apply(e,n))}function xz(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gz(e)}function gz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QS=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nd(e)}function yz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ah(e,t)}function ah(e,t){return ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ah(e,t)}function cf(e,t,n){return t=JS(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JS(e){var t=vz(e,"string");return qs(t)=="symbol"?t:t+""}function vz(e,t){if(qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bz(e,t){if(e==null)return{};var n=jz(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jz(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wz(e){return e.value}function Nz(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var n=bz(t,fz);return M.createElement(E0,n)}var Xv=1,Es=function(e){function t(){var n;pz(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=hz(this,t,[].concat(s)),cf(n,"lastBoundingBox",{width:-1,height:-1}),n}return yz(t,e),mz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Xv||Math.abs(s.height-this.lastBoundingBox.height)>Xv)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,l=s.align,o=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();f={left:((d||0)-g.width)/2}}else f=l==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();p={top:((u||0)-m.height)/2}}else p=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return dr(dr({},f),p)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,l=s.width,o=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=dr(dr({position:"absolute",width:l||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},Nz(i,dr(dr({},this.props),{},{payload:YS(u,d,wz)})))}}],[{key:"getWithHeight",value:function(r,s){var i=dr(dr({},this.defaultProps),r.props),l=i.layout;return l==="vertical"&&re(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||s}:null}}])}(w.PureComponent);cf(Es,"displayName","Legend");cf(Es,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Yv=Ao,Sz=$0,kz=en,Qv=Yv?Yv.isConcatSpreadable:void 0;function Oz(e){return kz(e)||Sz(e)||!!(Qv&&e&&e[Qv])}var Cz=Oz,_z=zS,Pz=Cz;function ZS(e,t,n,r,s){var i=-1,l=e.length;for(n||(n=Pz),s||(s=[]);++i<l;){var o=e[i];t>0&&n(o)?t>1?ZS(o,t-1,n,r,s):_z(s,o):r||(s[s.length]=o)}return s}var ek=ZS;function Az(e){return function(t,n,r){for(var s=-1,i=Object(t),l=r(t),o=l.length;o--;){var c=l[e?o:++s];if(n(i[c],c,i)===!1)break}return t}}var Ez=Az,Tz=Ez,$z=Tz(),Iz=$z,Mz=Iz,Dz=D0;function Rz(e,t){return e&&Mz(e,t,Dz)}var tk=Rz,Lz=of;function zz(e,t){return function(n,r){if(n==null)return n;if(!Lz(n))return e(n,r);for(var s=n.length,i=t?s:-1,l=Object(n);(t?i--:++i<s)&&r(l[i],i,l)!==!1;);return n}}var Bz=zz,Fz=tk,Uz=Bz,Vz=Uz(Fz),L0=Vz,Wz=L0,Hz=of;function qz(e,t){var n=-1,r=Hz(e)?Array(e.length):[];return Wz(e,function(s,i,l){r[++n]=t(s,i,l)}),r}var nk=qz;function Gz(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Kz=Gz,Jv=bi;function Xz(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,i=Jv(e),l=t!==void 0,o=t===null,c=t===t,d=Jv(t);if(!o&&!d&&!i&&e>t||i&&l&&c&&!o&&!d||r&&l&&c||!n&&c||!s)return 1;if(!r&&!i&&!d&&e<t||d&&n&&s&&!r&&!i||o&&n&&s||!l&&s||!c)return-1}return 0}var Yz=Xz,Qz=Yz;function Jz(e,t,n){for(var r=-1,s=e.criteria,i=t.criteria,l=s.length,o=n.length;++r<l;){var c=Qz(s[r],i[r]);if(c){if(r>=o)return c;var d=n[r];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Zz=Jz,xp=j0,eB=w0,tB=_i,nB=nk,rB=Kz,aB=US,sB=Zz,iB=Ci,lB=en;function oB(e,t,n){t.length?t=xp(t,function(i){return lB(i)?function(l){return eB(l,i.length===1?i[0]:i)}:i}):t=[iB];var r=-1;t=xp(t,aB(tB));var s=nB(e,function(i,l,o){var c=xp(t,function(d){return d(i)});return{criteria:c,index:++r,value:i}});return rB(s,function(i,l){return sB(i,l,n)})}var cB=oB;function dB(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var uB=dB,fB=uB,Zv=Math.max;function pB(e,t,n){return t=Zv(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=Zv(r.length-t,0),l=Array(i);++s<i;)l[s]=r[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=r[s];return o[t]=n(l),fB(e,this,o)}}var mB=pB;function hB(e){return function(){return e}}var xB=hB,gB=Qa,yB=function(){try{var e=gB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rk=yB,vB=xB,eb=rk,bB=Ci,jB=eb?function(e,t){return eb(e,"toString",{configurable:!0,enumerable:!1,value:vB(t),writable:!0})}:bB,wB=jB,NB=800,SB=16,kB=Date.now;function OB(e){var t=0,n=0;return function(){var r=kB(),s=SB-(r-n);if(n=r,s>0){if(++t>=NB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var CB=OB,_B=wB,PB=CB,AB=PB(_B),EB=AB,TB=Ci,$B=mB,IB=EB;function MB(e,t){return IB($B(e,t,TB),e+"")}var DB=MB,RB=g0,LB=of,zB=I0,BB=da;function FB(e,t,n){if(!BB(n))return!1;var r=typeof t;return(r=="number"?LB(n)&&zB(t,n.length):r=="string"&&t in n)?RB(n[t],e):!1}var df=FB,UB=ek,VB=cB,WB=DB,tb=df,HB=WB(function(e,t){if(e==null)return[];var n=t.length;return n>1&&tb(e,t[0],t[1])?t=[]:n>2&&tb(t[0],t[1],t[2])&&(t=[t[0]]),VB(e,UB(t,1),[])}),qB=HB;const z0=Be(qB);function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(this,arguments)}function GB(e,t){return QB(e)||YB(e,t)||XB(e,t)||KB()}function KB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XB(e,t){if(e){if(typeof e=="string")return nb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(e,t)}}function nb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function QB(e){if(Array.isArray(e))return e}function rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(n),!0).forEach(function(r){JB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JB(e,t,n){return t=ZB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZB(e){var t=eF(e,"string");return Ll(t)=="symbol"?t:t+""}function eF(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tF(e){return Array.isArray(e)&&dt(e[0])&&dt(e[1])?e.join(" ~ "):e}var nF=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,o=l===void 0?{}:l,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,p=t.itemSorter,g=t.wrapperClassName,m=t.labelClassName,b=t.label,h=t.labelFormatter,y=t.accessibilityLayer,x=y===void 0?!1:y,j=function(){if(u&&u.length){var T={padding:0,margin:0},L=(p?z0(u,p):u).map(function(I,F){if(I.type==="none")return null;var $=gp({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},o),z=I.formatter||f||tF,A=I.value,P=I.name,U=A,K=P;if(z&&U!=null&&K!=null){var q=z(A,P,I,F,u);if(Array.isArray(q)){var D=GB(q,2);U=D[0],K=D[1]}else U=q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:$},dt(K)?M.createElement("span",{className:"recharts-tooltip-item-name"},K):null,dt(K)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},U),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:T},L)}return null},N=gp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),v=gp({margin:0},d),S=!Pe(b),k=S?b:"",O=fe("recharts-default-tooltip",g),_=fe("recharts-tooltip-label",m);S&&h&&u!==void 0&&u!==null&&(k=h(b,u));var C=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",sh({className:O,style:N},C),M.createElement("p",{className:_,style:v},M.isValidElement(k)?k:"".concat(k)),j())};function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function ic(e,t,n){return t=rF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rF(e){var t=aF(e,"string");return zl(t)=="symbol"?t:t+""}function aF(e,t){if(zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ui="recharts-tooltip-wrapper",sF={visibility:"hidden"};function iF(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return fe(Ui,ic(ic(ic(ic({},"".concat(Ui,"-right"),re(n)&&t&&re(t.x)&&n>=t.x),"".concat(Ui,"-left"),re(n)&&t&&re(t.x)&&n<t.x),"".concat(Ui,"-bottom"),re(r)&&t&&re(t.y)&&r>=t.y),"".concat(Ui,"-top"),re(r)&&t&&re(t.y)&&r<t.y))}function ab(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&re(i[r]))return i[r];var u=n[r]-o-s,f=n[r]+s;if(t[r])return l[r]?u:f;if(l[r]){var p=u,g=c[r];return p<g?Math.max(f,c[r]):Math.max(u,c[r])}var m=f+o,b=c[r]+d;return m>b?Math.max(u,c[r]):Math.max(f,c[r])}function lF(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function oF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,d,u,f;return l.height>0&&l.width>0&&n?(u=ab({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=ab({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=lF({translateX:u,translateY:f,useTranslate3d:o})):d=sF,{cssProperties:d,cssClasses:iF({translateX:u,translateY:f,coordinate:n})}}function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function sb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ib(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(n),!0).forEach(function(r){lh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sk(r.key),r)}}function uF(e,t,n){return t&&dF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fF(e,t,n){return t=Sd(t),pF(e,ak()?Reflect.construct(t,n||[],Sd(e).constructor):t.apply(e,n))}function pF(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mF(e)}function mF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ak(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ak=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sd(e)}function hF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ih(e,t)}function ih(e,t){return ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ih(e,t)}function lh(e,t,n){return t=sk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sk(e){var t=xF(e,"string");return Gs(t)=="symbol"?t:t+""}function xF(e,t){if(Gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lb=1,gF=function(e){function t(){var n;cF(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=fF(this,t,[].concat(s)),lh(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lh(n,"handleKeyDown",function(l){if(l.key==="Escape"){var o,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return hF(t,e),uF(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>lb||Math.abs(r.height-this.state.lastBoundingBox.height)>lb)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,o=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,p=s.isAnimationActive,g=s.offset,m=s.position,b=s.reverseDirection,h=s.useTranslate3d,y=s.viewBox,x=s.wrapperStyle,j=oF({allowEscapeViewBox:l,coordinate:u,offsetTopLeft:g,position:m,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:y}),N=j.cssClasses,v=j.cssProperties,S=ib(ib({transition:p&&i?"transform ".concat(o,"ms ").concat(c):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(O){r.wrapperNode=O}},d)}}])}(w.PureComponent),yF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},To={isSsr:yF()};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ob(Object(n),!0).forEach(function(r){B0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lk(r.key),r)}}function jF(e,t,n){return t&&bF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wF(e,t,n){return t=kd(t),NF(e,ik()?Reflect.construct(t,n||[],kd(e).constructor):t.apply(e,n))}function NF(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SF(e)}function SF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kd(e)}function kF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oh(e,t)}function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},oh(e,t)}function B0(e,t,n){return t=lk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lk(e){var t=OF(e,"string");return Ks(t)=="symbol"?t:t+""}function OF(e,t){if(Ks(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CF(e){return e.dataKey}function _F(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(nF,t)}var $n=function(e){function t(){return vF(this,t),wF(this,t,arguments)}return kF(t,e),jF(t,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,o=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,p=s.isAnimationActive,g=s.offset,m=s.payload,b=s.payloadUniqBy,h=s.position,y=s.reverseDirection,x=s.useTranslate3d,j=s.viewBox,N=s.wrapperStyle,v=m??[];f&&v.length&&(v=YS(m.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),b,CF));var S=v.length>0;return M.createElement(gF,{allowEscapeViewBox:l,animationDuration:o,animationEasing:c,isAnimationActive:p,active:i,coordinate:u,hasPayload:S,offset:g,position:h,reverseDirection:y,useTranslate3d:x,viewBox:j,wrapperStyle:N},_F(d,cb(cb({},this.props),{},{payload:v})))}}])}(w.PureComponent);B0($n,"displayName","Tooltip");B0($n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!To.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var PF=cr,AF=function(){return PF.Date.now()},EF=AF,TF=/\s/;function $F(e){for(var t=e.length;t--&&TF.test(e.charAt(t)););return t}var IF=$F,MF=IF,DF=/^\s+/;function RF(e){return e&&e.slice(0,MF(e)+1).replace(DF,"")}var LF=RF,zF=LF,db=da,BF=bi,ub=NaN,FF=/^[-+]0x[0-9a-f]+$/i,UF=/^0b[01]+$/i,VF=/^0o[0-7]+$/i,WF=parseInt;function HF(e){if(typeof e=="number")return e;if(BF(e))return ub;if(db(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=db(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=zF(e);var n=UF.test(e);return n||VF.test(e)?WF(e.slice(2),n?2:8):FF.test(e)?ub:+e}var ok=HF,qF=da,yp=EF,fb=ok,GF="Expected a function",KF=Math.max,XF=Math.min;function YF(e,t,n){var r,s,i,l,o,c,d=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(GF);t=fb(t)||0,qF(n)&&(u=!!n.leading,f="maxWait"in n,i=f?KF(fb(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function g(S){var k=r,O=s;return r=s=void 0,d=S,l=e.apply(O,k),l}function m(S){return d=S,o=setTimeout(y,t),u?g(S):l}function b(S){var k=S-c,O=S-d,_=t-k;return f?XF(_,i-O):_}function h(S){var k=S-c,O=S-d;return c===void 0||k>=t||k<0||f&&O>=i}function y(){var S=yp();if(h(S))return x(S);o=setTimeout(y,b(S))}function x(S){return o=void 0,p&&r?g(S):(r=s=void 0,l)}function j(){o!==void 0&&clearTimeout(o),d=0,r=c=s=o=void 0}function N(){return o===void 0?l:x(yp())}function v(){var S=yp(),k=h(S);if(r=arguments,s=this,c=S,k){if(o===void 0)return m(c);if(f)return clearTimeout(o),o=setTimeout(y,t),g(c)}return o===void 0&&(o=setTimeout(y,t)),l}return v.cancel=j,v.flush=N,v}var QF=YF,JF=QF,ZF=da,eU="Expected a function";function tU(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(eU);return ZF(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),JF(e,t,{leading:r,maxWait:t,trailing:s})}var nU=tU;const ck=Be(nU);function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(n),!0).forEach(function(r){rU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rU(e,t,n){return t=aU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aU(e){var t=sU(e,"string");return Bl(t)=="symbol"?t:t+""}function sU(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iU(e,t){return dU(e)||cU(e,t)||oU(e,t)||lU()}function lU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oU(e,t){if(e){if(typeof e=="string")return mb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mb(e,t)}}function mb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function dU(e){if(Array.isArray(e))return e}var dk=w.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=e.width,l=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,p=e.maxHeight,g=e.children,m=e.debounce,b=m===void 0?0:m,h=e.id,y=e.className,x=e.onResize,j=e.style,N=j===void 0?{}:j,v=w.useRef(null),S=w.useRef();S.current=x,w.useImperativeHandle(t,function(){return Object.defineProperty(v.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),v.current},configurable:!0})});var k=w.useState({containerWidth:s.width,containerHeight:s.height}),O=iU(k,2),_=O[0],C=O[1],E=w.useCallback(function(L,I){C(function(F){var $=Math.round(L),z=Math.round(I);return F.containerWidth===$&&F.containerHeight===z?F:{containerWidth:$,containerHeight:z}})},[]);w.useEffect(function(){var L=function(P){var U,K=P[0].contentRect,q=K.width,D=K.height;E(q,D),(U=S.current)===null||U===void 0||U.call(S,q,D)};b>0&&(L=ck(L,b,{trailing:!0,leading:!1}));var I=new ResizeObserver(L),F=v.current.getBoundingClientRect(),$=F.width,z=F.height;return E($,z),I.observe(v.current),function(){I.disconnect()}},[E,b]);var T=w.useMemo(function(){var L=_.containerWidth,I=_.containerHeight;if(L<0||I<0)return null;Ia(Oa(l)||Oa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),Ia(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Oa(l)?L:l,$=Oa(c)?I:c;n&&n>0&&(F?$=F/n:$&&(F=$*n),p&&$>p&&($=p)),Ia(F>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,$,l,c,u,f,n);var z=!Array.isArray(g)&&vr(g.type).endsWith("Chart");return M.Children.map(g,function(A){return M.isValidElement(A)?w.cloneElement(A,lc({width:F,height:$},z?{style:lc({height:"100%",width:"100%",maxHeight:$,maxWidth:F},A.props.style)}:{})):A})},[n,g,c,p,f,u,_,l]);return M.createElement("div",{id:h?"".concat(h):void 0,className:fe("recharts-responsive-container",y),style:lc(lc({},N),{},{width:l,height:c,minWidth:u,minHeight:f,maxHeight:p}),ref:v},T)}),uk=function(t){return null};uk.displayName="Cell";function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(n),!0).forEach(function(r){uU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uU(e,t,n){return t=fU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fU(e){var t=pU(e,"string");return Fl(t)=="symbol"?t:t+""}function pU(e,t){if(Fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var as={widthCache:{},cacheCount:0},mU=2e3,hU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xb="recharts_measurement_span";function xU(e){var t=ch({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var fl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||To.isSsr)return{width:0,height:0};var r=xU(n),s=JSON.stringify({text:t,copyStyle:r});if(as.widthCache[s])return as.widthCache[s];try{var i=document.getElementById(xb);i||(i=document.createElement("span"),i.setAttribute("id",xb),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=ch(ch({},hU),r);Object.assign(i.style,l),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return as.widthCache[s]=c,++as.cacheCount>mU&&(as.cacheCount=0,as.widthCache={}),c}catch{return{width:0,height:0}}},gU=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function Od(e,t){return jU(e)||bU(e,t)||vU(e,t)||yU()}function yU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vU(e,t){if(e){if(typeof e=="string")return gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(e,t)}}function gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function jU(e){if(Array.isArray(e))return e}function wU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SU(r.key),r)}}function NU(e,t,n){return t&&yb(e.prototype,t),n&&yb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SU(e){var t=kU(e,"string");return Ul(t)=="symbol"?t:t+""}function kU(e,t){if(Ul(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_U=Object.keys(fk),vs="NaN";function PU(e,t){return e*fk[t]}var oc=function(){function e(t,n){wU(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!OU.test(n)&&(this.num=NaN,this.unit=""),_U.includes(n)&&(this.num=PU(t,n),this.unit="px")}return NU(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=CU.exec(n))!==null&&r!==void 0?r:[],i=Od(s,3),l=i[1],o=i[2];return new e(parseFloat(l),o??"")}}])}();function pk(e){if(e.includes(vs))return vs;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=vb.exec(t))!==null&&n!==void 0?n:[],s=Od(r,4),i=s[1],l=s[2],o=s[3],c=oc.parse(i??""),d=oc.parse(o??""),u=l==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return vs;t=t.replace(vb,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=bb.exec(t))!==null&&f!==void 0?f:[],g=Od(p,4),m=g[1],b=g[2],h=g[3],y=oc.parse(m??""),x=oc.parse(h??""),j=b==="+"?y.add(x):y.subtract(x);if(j.isNaN())return vs;t=t.replace(bb,j.toString())}return t}var jb=/\(([^()]*)\)/;function AU(e){for(var t=e;t.includes("(");){var n=jb.exec(t),r=Od(n,2),s=r[1];t=t.replace(jb,pk(s))}return t}function EU(e){var t=e.replace(/\s+/g,"");return t=AU(t),t=pk(t),t}function TU(e){try{return EU(e)}catch{return vs}}function vp(e){var t=TU(e.slice(5,-1));return t===vs?"":t}var $U=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IU=["dx","dy","angle","className","breakAll"];function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dh.apply(this,arguments)}function wb(e,t){if(e==null)return{};var n=MU(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function MU(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Nb(e,t){return zU(e)||LU(e,t)||RU(e,t)||DU()}function DU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RU(e,t){if(e){if(typeof e=="string")return Sb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(e,t)}}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function zU(e){if(Array.isArray(e))return e}var mk=/[ \f\n\r\t\v\u2028\u2029]+/,hk=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var i=[];Pe(n)||(r?i=n.toString().split(""):i=n.toString().split(mk));var l=i.map(function(c){return{word:c,width:fl(c,s).width}}),o=r?0:fl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:o}}catch{return null}},BU=function(t,n,r,s,i){var l=t.maxLines,o=t.children,c=t.style,d=t.breakAll,u=re(l),f=o,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function($,z){var A=z.word,P=z.width,U=$[$.length-1];if(U&&(s==null||i||U.width+P+r<Number(s)))U.words.push(A),U.width+=P+r;else{var K={words:[A],width:P};$.push(K)}return $},[])},g=p(n),m=function(F){return F.reduce(function($,z){return $.width>z.width?$:z})};if(!u)return g;for(var b="",h=function(F){var $=f.slice(0,F),z=hk({breakAll:d,style:c,children:$+b}).wordsWithComputedWidth,A=p(z),P=A.length>l||m(A).width>Number(s);return[P,A]},y=0,x=f.length-1,j=0,N;y<=x&&j<=f.length-1;){var v=Math.floor((y+x)/2),S=v-1,k=h(S),O=Nb(k,2),_=O[0],C=O[1],E=h(v),T=Nb(E,1),L=T[0];if(!_&&!L&&(y=v+1),_&&L&&(x=v-1),!_&&L){N=C;break}j++}return N||g},kb=function(t){var n=Pe(t)?[]:t.toString().split(mk);return[{words:n}]},FU=function(t){var n=t.width,r=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,o=t.maxLines;if((n||r)&&!To.isSsr){var c,d,u=hk({breakAll:l,children:s,style:i});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;c=f,d=p}else return kb(s);return BU({breakAll:l,children:s,maxLines:o,style:i},c,d,n,r)}return kb(s)},Ob="#808080",Cd=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.lineHeight,o=l===void 0?"1em":l,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,g=p===void 0?"start":p,m=t.verticalAnchor,b=m===void 0?"end":m,h=t.fill,y=h===void 0?Ob:h,x=wb(t,$U),j=w.useMemo(function(){return FU({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),N=x.dx,v=x.dy,S=x.angle,k=x.className,O=x.breakAll,_=wb(x,IU);if(!dt(r)||!dt(i))return null;var C=r+(re(N)?N:0),E=i+(re(v)?v:0),T;switch(b){case"start":T=vp("calc(".concat(d,")"));break;case"middle":T=vp("calc(".concat((j.length-1)/2," * -").concat(o," + (").concat(d," / 2))"));break;default:T=vp("calc(".concat(j.length-1," * -").concat(o,")"));break}var L=[];if(f){var I=j[0].width,F=x.width;L.push("scale(".concat((re(F)?F/I:1)/I,")"))}return S&&L.push("rotate(".concat(S,", ").concat(C,", ").concat(E,")")),L.length&&(_.transform=L.join(" ")),M.createElement("text",dh({},Ee(_,!0),{x:C,y:E,className:fe("recharts-text",k),textAnchor:g,fill:y.includes("url")?Ob:y}),j.map(function($,z){var A=$.words.join(O?"":" ");return M.createElement("tspan",{x:C,dy:z===0?T:o,key:"".concat(A,"-").concat(z)},A)}))};function na(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function F0(e){let t,n,r;e.length!==2?(t=na,n=(o,c)=>na(e(o),c),r=(o,c)=>e(o)-c):(t=e===na||e===UU?e:VU,n=e,r=e);function s(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(o[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(o[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function l(o,c,d=0,u=o.length){const f=s(o,c,d,u-1);return f>d&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:s,center:l,right:i}}function VU(){return 0}function xk(e){return e===null?NaN:+e}function*WU(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const HU=F0(na),$o=HU.right;F0(xk).center;class Cb extends Map{constructor(t,n=KU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(_b(this,t))}has(t){return super.has(_b(this,t))}set(t,n){return super.set(qU(this,t),n)}delete(t){return super.delete(GU(this,t))}}function _b({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function qU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function GU({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function KU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function XU(e=na){if(e===na)return gk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function gk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YU=Math.sqrt(50),QU=Math.sqrt(10),JU=Math.sqrt(2);function _d(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),l=i>=YU?10:i>=QU?5:i>=JU?2:1;let o,c,d;return s<0?(d=Math.pow(10,-s)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=n&&n<2?_d(e,t,n*2):[o,c,d]}function uh(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,l]=r?_d(t,e,n):_d(e,t,n);if(!(i>=s))return[];const o=i-s+1,c=new Array(o);if(r)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(s+d)/-l;else for(let d=0;d<o;++d)c[d]=(s+d)*l;return c}function fh(e,t,n){return t=+t,e=+e,n=+n,_d(e,t,n)[2]}function ph(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?fh(t,e,n):fh(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function Pb(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Ab(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yk(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?gk:XU(s);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),g=Math.max(n,Math.floor(t-d*f/c+p)),m=Math.min(r,Math.floor(t+(c-d)*f/c+p));yk(e,t,g,m,s)}const i=e[t];let l=n,o=r;for(Vi(e,n,t),s(e[r],i)>0&&Vi(e,n,r);l<o;){for(Vi(e,l,o),++l,--o;s(e[l],i)<0;)++l;for(;s(e[o],i)>0;)--o}s(e[n],i)===0?Vi(e,n,o):(++o,Vi(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Vi(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ZU(e,t,n){if(e=Float64Array.from(WU(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Ab(e);if(t>=1)return Pb(e);var r,s=(r-1)*t,i=Math.floor(s),l=Pb(yk(e,i).subarray(0,i+1)),o=Ab(e.subarray(i+1));return l+(o-l)*(s-i)}}function e7(e,t,n=xk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,i=Math.floor(s),l=+n(e[i],i,e),o=+n(e[i+1],i+1,e);return l+(o-l)*(s-i)}}function t7(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function _n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ir(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mh=Symbol("implicit");function U0(){var e=new Cb,t=[],n=[],r=mh;function s(i){let l=e.get(i);if(l===void 0){if(r!==mh)return r;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Cb;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return U0(t,n).unknown(r)},_n.apply(s,arguments),s}function Vl(){var e=U0().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,g=s<r,m=g?s:r,b=g?r:s;i=(b-m)/Math.max(1,p-c+d*2),o&&(i=Math.floor(i)),m+=(b-m-i*(p-c))*u,l=i*(1-c),o&&(m=Math.round(m),l=Math.round(l));var h=t7(p).map(function(y){return m+i*y});return n(g?h.reverse():h)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,s]=p,r=+r,s=+s,f()):[r,s]},e.rangeRound=function(p){return[r,s]=p,r=+r,s=+s,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return Vl(t(),[r,s]).round(o).paddingInner(c).paddingOuter(d).align(u)},_n.apply(f(),arguments)}function vk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vk(t())},e}function pl(){return vk(Vl.apply(null,arguments).paddingInner(1))}function V0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Io(){}var Wl=.7,Pd=1/Wl,Ts="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n7=/^#([0-9a-f]{3,8})$/,r7=new RegExp(`^rgb\\(${Ts},${Ts},${Ts}\\)$`),a7=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),s7=new RegExp(`^rgba\\(${Ts},${Ts},${Ts},${Hl}\\)$`),i7=new RegExp(`^rgba\\(${rr},${rr},${rr},${Hl}\\)$`),l7=new RegExp(`^hsl\\(${Hl},${rr},${rr}\\)$`),o7=new RegExp(`^hsla\\(${Hl},${rr},${rr},${Hl}\\)$`),Eb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V0(Io,ql,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tb,formatHex:Tb,formatHex8:c7,formatHsl:d7,formatRgb:$b,toString:$b});function Tb(){return this.rgb().formatHex()}function c7(){return this.rgb().formatHex8()}function d7(){return jk(this).formatHsl()}function $b(){return this.rgb().formatRgb()}function ql(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=n7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ib(t):n===3?new Ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?cc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?cc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=r7.exec(e))?new Ht(t[1],t[2],t[3],1):(t=a7.exec(e))?new Ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=s7.exec(e))?cc(t[1],t[2],t[3],t[4]):(t=i7.exec(e))?cc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l7.exec(e))?Rb(t[1],t[2]/100,t[3]/100,1):(t=o7.exec(e))?Rb(t[1],t[2]/100,t[3]/100,t[4]):Eb.hasOwnProperty(e)?Ib(Eb[e]):e==="transparent"?new Ht(NaN,NaN,NaN,0):null}function Ib(e){return new Ht(e>>16&255,e>>8&255,e&255,1)}function cc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ht(e,t,n,r)}function u7(e){return e instanceof Io||(e=ql(e)),e?(e=e.rgb(),new Ht(e.r,e.g,e.b,e.opacity)):new Ht}function hh(e,t,n,r){return arguments.length===1?u7(e):new Ht(e,t,n,r??1)}function Ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}V0(Ht,hh,bk(Io,{brighter(e){return e=e==null?Pd:Math.pow(Pd,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ht(Ma(this.r),Ma(this.g),Ma(this.b),Ad(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mb,formatHex:Mb,formatHex8:f7,formatRgb:Db,toString:Db}));function Mb(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}`}function f7(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}${Ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function Db(){const e=Ad(this.opacity);return`${e===1?"rgb(":"rgba("}${Ma(this.r)}, ${Ma(this.g)}, ${Ma(this.b)}${e===1?")":`, ${e})`}`}function Ad(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ma(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ca(e){return e=Ma(e),(e<16?"0":"")+e.toString(16)}function Rb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dn(e,t,n,r)}function jk(e){if(e instanceof Dn)return new Dn(e.h,e.s,e.l,e.opacity);if(e instanceof Io||(e=ql(e)),!e)return new Dn;if(e instanceof Dn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,o=i-s,c=(i+s)/2;return o?(t===i?l=(n-r)/o+(n<r)*6:n===i?l=(r-t)/o+2:l=(t-n)/o+4,o/=c<.5?i+s:2-i-s,l*=60):o=c>0&&c<1?0:l,new Dn(l,o,c,e.opacity)}function p7(e,t,n,r){return arguments.length===1?jk(e):new Dn(e,t,n,r??1)}function Dn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}V0(Dn,p7,bk(Io,{brighter(e){return e=e==null?Pd:Math.pow(Pd,e),new Dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new Dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Ht(bp(e>=240?e-240:e+120,s,r),bp(e,s,r),bp(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Dn(Lb(this.h),dc(this.s),dc(this.l),Ad(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ad(this.opacity);return`${e===1?"hsl(":"hsla("}${Lb(this.h)}, ${dc(this.s)*100}%, ${dc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lb(e){return e=(e||0)%360,e<0?e+360:e}function dc(e){return Math.max(0,Math.min(1,e||0))}function bp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const W0=e=>()=>e;function m7(e,t){return function(n){return e+n*t}}function h7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function x7(e){return(e=+e)==1?wk:function(t,n){return n-t?h7(t,n,e):W0(isNaN(t)?n:t)}}function wk(e,t){var n=t-e;return n?m7(e,n):W0(isNaN(e)?t:e)}const zb=function e(t){var n=x7(t);function r(s,i){var l=n((s=hh(s)).r,(i=hh(i)).r),o=n(s.g,i.g),c=n(s.b,i.b),d=wk(s.opacity,i.opacity);return function(u){return s.r=l(u),s.g=o(u),s.b=c(u),s.opacity=d(u),s+""}}return r.gamma=e,r}(1);function g7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function y7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function v7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),l;for(l=0;l<r;++l)s[l]=Pi(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(o){for(l=0;l<r;++l)i[l]=s[l](o);return i}}function b7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ed(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function j7(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Pi(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var xh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jp=new RegExp(xh.source,"g");function w7(e){return function(){return e}}function N7(e){return function(t){return e(t)+""}}function S7(e,t){var n=xh.lastIndex=jp.lastIndex=0,r,s,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(r=xh.exec(e))&&(s=jp.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),o[l]?o[l]+=i:o[++l]=i),(r=r[0])===(s=s[0])?o[l]?o[l]+=s:o[++l]=s:(o[++l]=null,c.push({i:l,x:Ed(r,s)})),n=jp.lastIndex;return n<t.length&&(i=t.slice(n),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?N7(c[0].x):w7(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)o[(f=c[u]).i]=f.x(d);return o.join("")})}function Pi(e,t){var n=typeof t,r;return t==null||n==="boolean"?W0(t):(n==="number"?Ed:n==="string"?(r=ql(t))?(t=r,zb):S7:t instanceof ql?zb:t instanceof Date?b7:y7(t)?g7:Array.isArray(t)?v7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?j7:Ed)(e,t)}function H0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function k7(e,t){t===void 0&&(t=e,e=Pi);for(var n=0,r=t.length-1,s=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(s,s=t[++n]);return function(l){var o=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return i[o](l-o)}}function O7(e){return function(){return e}}function Td(e){return+e}var Bb=[0,1];function Dt(e){return e}function gh(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:O7(isNaN(t)?NaN:.5)}function C7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function _7(e,t,n){var r=e[0],s=e[1],i=t[0],l=t[1];return s<r?(r=gh(s,r),i=n(l,i)):(r=gh(r,s),i=n(i,l)),function(o){return i(r(o))}}function P7(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)s[l]=gh(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(o){var c=$o(e,o,1,r)-1;return i[c](s[c](o))}}function Mo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uf(){var e=Bb,t=Bb,n=Pi,r,s,i,l=Dt,o,c,d;function u(){var p=Math.min(e.length,t.length);return l!==Dt&&(l=C7(e[0],e[p-1])),o=p>2?P7:_7,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=o(e.map(r),t,n)))(r(l(p)))}return f.invert=function(p){return l(s((d||(d=o(t,e.map(r),Ed)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Td),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=H0,u()},f.clamp=function(p){return arguments.length?(l=p?!0:Dt,u()):l!==Dt},f.interpolate=function(p){return arguments.length?(n=p,u()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,g){return r=p,s=g,u()}}function q0(){return uf()(Dt,Dt)}function A7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $d(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xs(e){return e=$d(Math.abs(e)),e?e[1]:NaN}function E7(e,t){return function(n,r){for(var s=n.length,i=[],l=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),i.push(n.substring(s-=o,s+o)),!((c+=o+1)>r));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function T7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gl(e){if(!(t=$7.exec(e)))throw new Error("invalid format: "+e);var t;return new G0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gl.prototype=G0.prototype;function G0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}G0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I7(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var Nk;function M7(e,t){var n=$d(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(Nk=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=r.length;return i===l?r:i>l?r+new Array(i-l+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+$d(e,Math.max(0,t+i-1))[0]}function Fb(e,t){var n=$d(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Ub={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:A7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Fb(e*100,t),r:Fb,s:M7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Vb(e){return e}var Wb=Array.prototype.map,Hb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function D7(e){var t=e.grouping===void 0||e.thousands===void 0?Vb:E7(Wb.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Vb:T7(Wb.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Gl(f);var p=f.fill,g=f.align,m=f.sign,b=f.symbol,h=f.zero,y=f.width,x=f.comma,j=f.precision,N=f.trim,v=f.type;v==="n"?(x=!0,v="g"):Ub[v]||(j===void 0&&(j=12),N=!0,v="g"),(h||p==="0"&&g==="=")&&(h=!0,p="0",g="=");var S=b==="$"?n:b==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k=b==="$"?r:/[%p]/.test(v)?l:"",O=Ub[v],_=/[defgprs%]/.test(v);j=j===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function C(E){var T=S,L=k,I,F,$;if(v==="c")L=O(E)+L,E="";else{E=+E;var z=E<0||1/E<0;if(E=isNaN(E)?c:O(Math.abs(E),j),N&&(E=I7(E)),z&&+E==0&&m!=="+"&&(z=!1),T=(z?m==="("?m:o:m==="-"||m==="("?"":m)+T,L=(v==="s"?Hb[8+Nk/3]:"")+L+(z&&m==="("?")":""),_){for(I=-1,F=E.length;++I<F;)if($=E.charCodeAt(I),48>$||$>57){L=($===46?s+E.slice(I+1):E.slice(I))+L,E=E.slice(0,I);break}}}x&&!h&&(E=t(E,1/0));var A=T.length+E.length+L.length,P=A<y?new Array(y-A+1).join(p):"";switch(x&&h&&(E=t(P+E,P.length?y-L.length:1/0),P=""),g){case"<":E=T+E+L+P;break;case"=":E=T+P+E+L;break;case"^":E=P.slice(0,A=P.length>>1)+T+E+L+P.slice(A);break;default:E=P+T+E+L;break}return i(E)}return C.toString=function(){return f+""},C}function u(f,p){var g=d((f=Gl(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Xs(p)/3)))*3,b=Math.pow(10,-m),h=Hb[8+m/3];return function(y){return g(b*y)+h}}return{format:d,formatPrefix:u}}var uc,K0,Sk;R7({thousands:",",grouping:[3],currency:["$",""]});function R7(e){return uc=D7(e),K0=uc.format,Sk=uc.formatPrefix,uc}function L7(e){return Math.max(0,-Xs(Math.abs(e)))}function z7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xs(t)/3)))*3-Xs(Math.abs(e)))}function B7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xs(t)-Xs(e))+1}function kk(e,t,n,r){var s=ph(e,t,n),i;switch(r=Gl(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=z7(s,l))&&(r.precision=i),Sk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=B7(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=L7(s))&&(r.precision=i-(r.type==="%")*2);break}}return K0(r)}function ua(e){var t=e.domain;return e.ticks=function(n){var r=t();return uh(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return kk(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,l=r[s],o=r[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=s,s=i,i=d);u-- >0;){if(d=fh(l,o,n),d===c)return r[s]=l,r[i]=o,t(r);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function Id(){var e=q0();return e.copy=function(){return Mo(e,Id())},_n.apply(e,arguments),ua(e)}function Ok(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Td),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ok(e).unknown(t)},e=arguments.length?Array.from(e,Td):[0,1],ua(n)}function Ck(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],l;return i<s&&(l=n,n=r,r=l,l=s,s=i,i=l),e[n]=t.floor(s),e[r]=t.ceil(i),e}function qb(e){return Math.log(e)}function Gb(e){return Math.exp(e)}function F7(e){return-Math.log(-e)}function U7(e){return-Math.exp(-e)}function V7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function W7(e){return e===10?V7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function H7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Kb(e){return(t,n)=>-e(-t,n)}function X0(e){const t=e(qb,Gb),n=t.domain;let r=10,s,i;function l(){return s=H7(r),i=W7(r),n()[0]<0?(s=Kb(s),i=Kb(i),e(F7,U7)):e(qb,Gb),t}return t.base=function(o){return arguments.length?(r=+o,l()):r},t.domain=function(o){return arguments.length?(n(o),l()):n()},t.ticks=o=>{const c=n();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=s(d),g=s(u),m,b;const h=o==null?10:+o;let y=[];if(!(r%1)&&g-p<h){if(p=Math.floor(p),g=Math.ceil(g),d>0){for(;p<=g;++p)for(m=1;m<r;++m)if(b=p<0?m/i(-p):m*i(p),!(b<d)){if(b>u)break;y.push(b)}}else for(;p<=g;++p)for(m=r-1;m>=1;--m)if(b=p>0?m/i(-p):m*i(p),!(b<d)){if(b>u)break;y.push(b)}y.length*2<h&&(y=uh(d,u,h))}else y=uh(p,g,Math.min(g-p,h)).map(i);return f?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Gl(c)).precision==null&&(c.trim=!0),c=K0(c)),o===1/0)return c;const d=Math.max(1,r*o/t.ticks().length);return u=>{let f=u/i(Math.round(s(u)));return f*r<r-.5&&(f*=r),f<=d?c(u):""}},t.nice=()=>n(Ck(n(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function _k(){const e=X0(uf()).domain([1,10]);return e.copy=()=>Mo(e,_k()).base(e.base()),_n.apply(e,arguments),e}function Xb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Yb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Y0(e){var t=1,n=e(Xb(t),Yb(t));return n.constant=function(r){return arguments.length?e(Xb(t=+r),Yb(t)):t},ua(n)}function Pk(){var e=Y0(uf());return e.copy=function(){return Mo(e,Pk()).constant(e.constant())},_n.apply(e,arguments)}function Qb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function q7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function G7(e){return e<0?-e*e:e*e}function Q0(e){var t=e(Dt,Dt),n=1;function r(){return n===1?e(Dt,Dt):n===.5?e(q7,G7):e(Qb(n),Qb(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},ua(t)}function J0(){var e=Q0(uf());return e.copy=function(){return Mo(e,J0()).exponent(e.exponent())},_n.apply(e,arguments),e}function K7(){return J0.apply(null,arguments).exponent(.5)}function Jb(e){return Math.sign(e)*e*e}function X7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ak(){var e=q0(),t=[0,1],n=!1,r;function s(i){var l=X7(e(i));return isNaN(l)?r:n?Math.round(l):l}return s.invert=function(i){return e.invert(Jb(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Td)).map(Jb)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Ak(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},_n.apply(s,arguments),ua(s)}function Ek(){var e=[],t=[],n=[],r;function s(){var l=0,o=Math.max(1,t.length);for(n=new Array(o-1);++l<o;)n[l-1]=e7(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?r:t[$o(n,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(na),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Ek().domain(e).range(t).unknown(r)},_n.apply(i,arguments)}function Tk(){var e=0,t=1,n=1,r=[.5],s=[0,1],i;function l(c){return c!=null&&c<=c?s[$o(r,c,0,n)]:i}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,o()):s.slice()},l.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Tk().domain([e,t]).range(s).unknown(i)},_n.apply(ua(l),arguments)}function $k(){var e=[.5],t=[0,1],n,r=1;function s(i){return i!=null&&i<=i?t[$o(e,i,0,r)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return $k().domain(e).range(t).unknown(n)},_n.apply(s,arguments)}const wp=new Date,Np=new Date;function ut(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),o=s.ceil(i);return i-l<o-i?l:o},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,o)=>{const c=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},s.filter=i=>ut(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),n&&(s.count=(i,l)=>(wp.setTime(+i),Np.setTime(+l),e(wp),e(Np),Math.floor(n(wp,Np))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?l=>r(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const Md=ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Md.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Md);Md.range;const hr=1e3,vn=hr*60,xr=vn*60,Cr=xr*24,Z0=Cr*7,Zb=Cr*30,Sp=Cr*365,_a=ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCSeconds());_a.range;const eg=ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hr)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getMinutes());eg.range;const tg=ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getUTCMinutes());tg.range;const ng=ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hr-e.getMinutes()*vn)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getHours());ng.range;const rg=ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getUTCHours());rg.range;const Do=ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vn)/Cr,e=>e.getDate()-1);Do.range;const ff=ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cr,e=>e.getUTCDate()-1);ff.range;const Ik=ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cr,e=>Math.floor(e/Cr));Ik.range;function Ja(e){return ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*vn)/Z0)}const pf=Ja(0),Dd=Ja(1),Y7=Ja(2),Q7=Ja(3),Ys=Ja(4),J7=Ja(5),Z7=Ja(6);pf.range;Dd.range;Y7.range;Q7.range;Ys.range;J7.range;Z7.range;function Za(e){return ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Z0)}const mf=Za(0),Rd=Za(1),e9=Za(2),t9=Za(3),Qs=Za(4),n9=Za(5),r9=Za(6);mf.range;Rd.range;e9.range;t9.range;Qs.range;n9.range;r9.range;const ag=ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ag.range;const sg=ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sg.range;const _r=ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_r.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});_r.range;const Pr=ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Pr.range;function Mk(e,t,n,r,s,i){const l=[[_a,1,hr],[_a,5,5*hr],[_a,15,15*hr],[_a,30,30*hr],[i,1,vn],[i,5,5*vn],[i,15,15*vn],[i,30,30*vn],[s,1,xr],[s,3,3*xr],[s,6,6*xr],[s,12,12*xr],[r,1,Cr],[r,2,2*Cr],[n,1,Z0],[t,1,Zb],[t,3,3*Zb],[e,1,Sp]];function o(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const g=f&&typeof f.range=="function"?f:c(d,u,f),m=g?g.range(d,+u+1):[];return p?m.reverse():m}function c(d,u,f){const p=Math.abs(u-d)/f,g=F0(([,,h])=>h).right(l,p);if(g===l.length)return e.every(ph(d/Sp,u/Sp,f));if(g===0)return Md.every(Math.max(ph(d,u,f),1));const[m,b]=l[p/l[g-1][2]<l[g][2]/p?g-1:g];return m.every(b)}return[o,c]}const[a9,s9]=Mk(Pr,sg,mf,Ik,rg,tg),[i9,l9]=Mk(_r,ag,pf,Do,ng,eg);function kp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Op(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function o9(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=Hi(s),u=qi(s),f=Hi(i),p=qi(i),g=Hi(l),m=qi(l),b=Hi(o),h=qi(o),y=Hi(c),x=qi(c),j={a:z,A,b:P,B:U,c:null,d:s1,e:s1,f:E9,g:F9,G:V9,H:_9,I:P9,j:A9,L:Dk,m:T9,M:$9,p:K,q,Q:o1,s:c1,S:I9,u:M9,U:D9,V:R9,w:L9,W:z9,x:null,X:null,y:B9,Y:U9,Z:W9,"%":l1},N={a:D,A:te,b:se,B:be,c:null,d:i1,e:i1,f:K9,g:aV,G:iV,H:H9,I:q9,j:G9,L:Lk,m:X9,M:Y9,p:Q,q:ie,Q:o1,s:c1,S:Q9,u:J9,U:Z9,V:eV,w:tV,W:nV,x:null,X:null,y:rV,Y:sV,Z:lV,"%":l1},v={a:C,A:E,b:T,B:L,c:I,d:r1,e:r1,f:S9,g:n1,G:t1,H:a1,I:a1,j:b9,L:N9,m:v9,M:j9,p:_,q:y9,Q:O9,s:C9,S:w9,u:p9,U:m9,V:h9,w:f9,W:x9,x:F,X:$,y:n1,Y:t1,Z:g9,"%":k9};j.x=S(n,j),j.X=S(r,j),j.c=S(t,j),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(Y,ee){return function(le){var H=[],de=-1,X=0,ue=Y.length,me,je,Ne;for(le instanceof Date||(le=new Date(+le));++de<ue;)Y.charCodeAt(de)===37&&(H.push(Y.slice(X,de)),(je=e1[me=Y.charAt(++de)])!=null?me=Y.charAt(++de):je=me==="e"?" ":"0",(Ne=ee[me])&&(me=Ne(le,je)),H.push(me),X=de+1);return H.push(Y.slice(X,de)),H.join("")}}function k(Y,ee){return function(le){var H=Wi(1900,void 0,1),de=O(H,Y,le+="",0),X,ue;if(de!=le.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ee&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(X=Op(Wi(H.y,0,1)),ue=X.getUTCDay(),X=ue>4||ue===0?Rd.ceil(X):Rd(X),X=ff.offset(X,(H.V-1)*7),H.y=X.getUTCFullYear(),H.m=X.getUTCMonth(),H.d=X.getUTCDate()+(H.w+6)%7):(X=kp(Wi(H.y,0,1)),ue=X.getDay(),X=ue>4||ue===0?Dd.ceil(X):Dd(X),X=Do.offset(X,(H.V-1)*7),H.y=X.getFullYear(),H.m=X.getMonth(),H.d=X.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),ue="Z"in H?Op(Wi(H.y,0,1)).getUTCDay():kp(Wi(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(ue+5)%7:H.w+H.U*7-(ue+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Op(H)):kp(H)}}function O(Y,ee,le,H){for(var de=0,X=ee.length,ue=le.length,me,je;de<X;){if(H>=ue)return-1;if(me=ee.charCodeAt(de++),me===37){if(me=ee.charAt(de++),je=v[me in e1?ee.charAt(de++):me],!je||(H=je(Y,le,H))<0)return-1}else if(me!=le.charCodeAt(H++))return-1}return H}function _(Y,ee,le){var H=d.exec(ee.slice(le));return H?(Y.p=u.get(H[0].toLowerCase()),le+H[0].length):-1}function C(Y,ee,le){var H=g.exec(ee.slice(le));return H?(Y.w=m.get(H[0].toLowerCase()),le+H[0].length):-1}function E(Y,ee,le){var H=f.exec(ee.slice(le));return H?(Y.w=p.get(H[0].toLowerCase()),le+H[0].length):-1}function T(Y,ee,le){var H=y.exec(ee.slice(le));return H?(Y.m=x.get(H[0].toLowerCase()),le+H[0].length):-1}function L(Y,ee,le){var H=b.exec(ee.slice(le));return H?(Y.m=h.get(H[0].toLowerCase()),le+H[0].length):-1}function I(Y,ee,le){return O(Y,t,ee,le)}function F(Y,ee,le){return O(Y,n,ee,le)}function $(Y,ee,le){return O(Y,r,ee,le)}function z(Y){return l[Y.getDay()]}function A(Y){return i[Y.getDay()]}function P(Y){return c[Y.getMonth()]}function U(Y){return o[Y.getMonth()]}function K(Y){return s[+(Y.getHours()>=12)]}function q(Y){return 1+~~(Y.getMonth()/3)}function D(Y){return l[Y.getUTCDay()]}function te(Y){return i[Y.getUTCDay()]}function se(Y){return c[Y.getUTCMonth()]}function be(Y){return o[Y.getUTCMonth()]}function Q(Y){return s[+(Y.getUTCHours()>=12)]}function ie(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ee=S(Y+="",j);return ee.toString=function(){return Y},ee},parse:function(Y){var ee=k(Y+="",!1);return ee.toString=function(){return Y},ee},utcFormat:function(Y){var ee=S(Y+="",N);return ee.toString=function(){return Y},ee},utcParse:function(Y){var ee=k(Y+="",!0);return ee.toString=function(){return Y},ee}}}var e1={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,c9=/^%/,d9=/[\\^$*+?|[\]().{}]/g;function _e(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function u9(e){return e.replace(d9,"\\$&")}function Hi(e){return new RegExp("^(?:"+e.map(u9).join("|")+")","i")}function qi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function f9(e,t,n){var r=gt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function p9(e,t,n){var r=gt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function m9(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function h9(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function x9(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function t1(e,t,n){var r=gt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function n1(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function g9(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function y9(e,t,n){var r=gt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function v9(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function r1(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function b9(e,t,n){var r=gt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function a1(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function j9(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function w9(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function N9(e,t,n){var r=gt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function S9(e,t,n){var r=gt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function k9(e,t,n){var r=c9.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function O9(e,t,n){var r=gt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function C9(e,t,n){var r=gt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function s1(e,t){return _e(e.getDate(),t,2)}function _9(e,t){return _e(e.getHours(),t,2)}function P9(e,t){return _e(e.getHours()%12||12,t,2)}function A9(e,t){return _e(1+Do.count(_r(e),e),t,3)}function Dk(e,t){return _e(e.getMilliseconds(),t,3)}function E9(e,t){return Dk(e,t)+"000"}function T9(e,t){return _e(e.getMonth()+1,t,2)}function $9(e,t){return _e(e.getMinutes(),t,2)}function I9(e,t){return _e(e.getSeconds(),t,2)}function M9(e){var t=e.getDay();return t===0?7:t}function D9(e,t){return _e(pf.count(_r(e)-1,e),t,2)}function Rk(e){var t=e.getDay();return t>=4||t===0?Ys(e):Ys.ceil(e)}function R9(e,t){return e=Rk(e),_e(Ys.count(_r(e),e)+(_r(e).getDay()===4),t,2)}function L9(e){return e.getDay()}function z9(e,t){return _e(Dd.count(_r(e)-1,e),t,2)}function B9(e,t){return _e(e.getFullYear()%100,t,2)}function F9(e,t){return e=Rk(e),_e(e.getFullYear()%100,t,2)}function U9(e,t){return _e(e.getFullYear()%1e4,t,4)}function V9(e,t){var n=e.getDay();return e=n>=4||n===0?Ys(e):Ys.ceil(e),_e(e.getFullYear()%1e4,t,4)}function W9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function i1(e,t){return _e(e.getUTCDate(),t,2)}function H9(e,t){return _e(e.getUTCHours(),t,2)}function q9(e,t){return _e(e.getUTCHours()%12||12,t,2)}function G9(e,t){return _e(1+ff.count(Pr(e),e),t,3)}function Lk(e,t){return _e(e.getUTCMilliseconds(),t,3)}function K9(e,t){return Lk(e,t)+"000"}function X9(e,t){return _e(e.getUTCMonth()+1,t,2)}function Y9(e,t){return _e(e.getUTCMinutes(),t,2)}function Q9(e,t){return _e(e.getUTCSeconds(),t,2)}function J9(e){var t=e.getUTCDay();return t===0?7:t}function Z9(e,t){return _e(mf.count(Pr(e)-1,e),t,2)}function zk(e){var t=e.getUTCDay();return t>=4||t===0?Qs(e):Qs.ceil(e)}function eV(e,t){return e=zk(e),_e(Qs.count(Pr(e),e)+(Pr(e).getUTCDay()===4),t,2)}function tV(e){return e.getUTCDay()}function nV(e,t){return _e(Rd.count(Pr(e)-1,e),t,2)}function rV(e,t){return _e(e.getUTCFullYear()%100,t,2)}function aV(e,t){return e=zk(e),_e(e.getUTCFullYear()%100,t,2)}function sV(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function iV(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Qs(e):Qs.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function lV(){return"+0000"}function l1(){return"%"}function o1(e){return+e}function c1(e){return Math.floor(+e/1e3)}var ss,Bk,Fk;oV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oV(e){return ss=o9(e),Bk=ss.format,ss.parse,Fk=ss.utcFormat,ss.utcParse,ss}function cV(e){return new Date(e)}function dV(e){return e instanceof Date?+e:+new Date(+e)}function ig(e,t,n,r,s,i,l,o,c,d){var u=q0(),f=u.invert,p=u.domain,g=d(".%L"),m=d(":%S"),b=d("%I:%M"),h=d("%I %p"),y=d("%a %d"),x=d("%b %d"),j=d("%B"),N=d("%Y");function v(S){return(c(S)<S?g:o(S)<S?m:l(S)<S?b:i(S)<S?h:r(S)<S?s(S)<S?y:x:n(S)<S?j:N)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?p(Array.from(S,dV)):p().map(cV)},u.ticks=function(S){var k=p();return e(k[0],k[k.length-1],S??10)},u.tickFormat=function(S,k){return k==null?v:d(k)},u.nice=function(S){var k=p();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?p(Ck(k,S)):u},u.copy=function(){return Mo(u,ig(e,t,n,r,s,i,l,o,c,d))},u}function uV(){return _n.apply(ig(i9,l9,_r,ag,pf,Do,ng,eg,_a,Bk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fV(){return _n.apply(ig(a9,s9,Pr,sg,mf,ff,rg,tg,_a,Fk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hf(){var e=0,t=1,n,r,s,i,l=Dt,o=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(s===0?.5:(f=(i(f)-n)*s,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function u(f){return function(p){var g,m;return arguments.length?([g,m]=p,l=f(g,m),d):[l(0),l(1)]}}return d.range=u(Pi),d.rangeRound=u(H0),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),d}}function fa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Uk(){var e=ua(hf()(Dt));return e.copy=function(){return fa(e,Uk())},Ir.apply(e,arguments)}function Vk(){var e=X0(hf()).domain([1,10]);return e.copy=function(){return fa(e,Vk()).base(e.base())},Ir.apply(e,arguments)}function Wk(){var e=Y0(hf());return e.copy=function(){return fa(e,Wk()).constant(e.constant())},Ir.apply(e,arguments)}function lg(){var e=Q0(hf());return e.copy=function(){return fa(e,lg()).exponent(e.exponent())},Ir.apply(e,arguments)}function pV(){return lg.apply(null,arguments).exponent(.5)}function Hk(){var e=[],t=Dt;function n(r){if(r!=null&&!isNaN(r=+r))return t(($o(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(na),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>ZU(e,i/r))},n.copy=function(){return Hk(t).domain(e)},Ir.apply(n,arguments)}function xf(){var e=0,t=.5,n=1,r=1,s,i,l,o,c,d=Dt,u,f=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+u(b))-i)*(r*b<r*i?o:c),d(f?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,n]=b,s=u(e=+e),i=u(t=+t),l=u(n=+n),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),r=i<s?-1:1,g):[e,t,n]},g.clamp=function(b){return arguments.length?(f=!!b,g):f},g.interpolator=function(b){return arguments.length?(d=b,g):d};function m(b){return function(h){var y,x,j;return arguments.length?([y,x,j]=h,d=k7(b,[y,x,j]),g):[d(0),d(.5),d(1)]}}return g.range=m(Pi),g.rangeRound=m(H0),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return u=b,s=b(e),i=b(t),l=b(n),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),r=i<s?-1:1,g}}function qk(){var e=ua(xf()(Dt));return e.copy=function(){return fa(e,qk())},Ir.apply(e,arguments)}function Gk(){var e=X0(xf()).domain([.1,1,10]);return e.copy=function(){return fa(e,Gk()).base(e.base())},Ir.apply(e,arguments)}function Kk(){var e=Y0(xf());return e.copy=function(){return fa(e,Kk()).constant(e.constant())},Ir.apply(e,arguments)}function og(){var e=Q0(xf());return e.copy=function(){return fa(e,og()).exponent(e.exponent())},Ir.apply(e,arguments)}function mV(){return og.apply(null,arguments).exponent(.5)}const d1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vl,scaleDiverging:qk,scaleDivergingLog:Gk,scaleDivergingPow:og,scaleDivergingSqrt:mV,scaleDivergingSymlog:Kk,scaleIdentity:Ok,scaleImplicit:mh,scaleLinear:Id,scaleLog:_k,scaleOrdinal:U0,scalePoint:pl,scalePow:J0,scaleQuantile:Ek,scaleQuantize:Tk,scaleRadial:Ak,scaleSequential:Uk,scaleSequentialLog:Vk,scaleSequentialPow:lg,scaleSequentialQuantile:Hk,scaleSequentialSqrt:pV,scaleSequentialSymlog:Wk,scaleSqrt:K7,scaleSymlog:Pk,scaleThreshold:$k,scaleTime:uV,scaleUtc:fV,tickFormat:kk},Symbol.toStringTag,{value:"Module"}));var hV=bi;function xV(e,t,n){for(var r=-1,s=e.length;++r<s;){var i=e[r],l=t(i);if(l!=null&&(o===void 0?l===l&&!hV(l):n(l,o)))var o=l,c=i}return c}var Xk=xV;function gV(e,t){return e>t}var yV=gV,vV=Xk,bV=yV,jV=Ci;function wV(e){return e&&e.length?vV(e,jV,bV):void 0}var NV=wV;const gf=Be(NV);function SV(e,t){return e<t}var kV=SV,OV=Xk,CV=kV,_V=Ci;function PV(e){return e&&e.length?OV(e,_V,CV):void 0}var AV=PV;const yf=Be(AV);var EV=j0,TV=_i,$V=nk,IV=en;function MV(e,t){var n=IV(e)?EV:$V;return n(e,TV(t))}var DV=MV,RV=ek,LV=DV;function zV(e,t){return RV(LV(e,t),1)}var BV=zV;const FV=Be(BV);var UV=R0;function VV(e,t){return UV(e,t)}var WV=VV;const cg=Be(WV);var Ai=1e9,HV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ug,qe=!0,On="[DecimalError] ",Da=On+"Invalid argument: ",dg=On+"Exponent out of range: ",Ei=Math.floor,ba=Math.pow,qV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an,ft=1e7,Ve=7,Yk=9007199254740991,Ld=Ei(Yk/Ve),ce={};ce.absoluteValue=ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ce.comparedTo=ce.cmp=function(e){var t,n,r,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ve;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ce.dividedBy=ce.div=function(e){return br(this,new this.constructor(e))};ce.dividedToIntegerBy=ce.idiv=function(e){var t=this,n=t.constructor;return Re(br(t,new n(e),0,1),n.precision)};ce.equals=ce.eq=function(e){return!this.cmp(e)};ce.exponent=function(){return at(this)};ce.greaterThan=ce.gt=function(e){return this.cmp(e)>0};ce.greaterThanOrEqualTo=ce.gte=function(e){return this.cmp(e)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(e){return this.cmp(e)<0};ce.lessThanOrEqualTo=ce.lte=function(e){return this.cmp(e)<1};ce.logarithm=ce.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(an))throw Error(On+"NaN");if(n.s<1)throw Error(On+(n.s?"NaN":"-Infinity"));return n.eq(an)?new r(0):(qe=!1,t=br(Kl(n,i),Kl(e,i),i),qe=!0,Re(t,s))};ce.minus=ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zk(t,e):Qk(t,(e.s=-e.s,e))};ce.modulo=ce.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(On+"NaN");return n.s?(qe=!1,t=br(n,e,0,1).times(e),qe=!0,n.minus(t)):Re(new r(n),s)};ce.naturalExponential=ce.exp=function(){return Jk(this)};ce.naturalLogarithm=ce.ln=function(){return Kl(this)};ce.negated=ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ce.plus=ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Qk(t,e):Zk(t,(e.s=-e.s,e))};ce.precision=ce.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Da+e);if(t=at(s)+1,r=s.d.length-1,n=r*Ve+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ce.squareRoot=ce.sqrt=function(){var e,t,n,r,s,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(On+"NaN")}for(e=at(o),qe=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=Zn(o.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Ei((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=l=n+3;;)if(i=r,r=i.plus(br(o,i,l+2)).times(.5),Zn(i.d).slice(0,l)===(t=Zn(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Re(i,n+1,0),i.times(i).eq(o)){r=i;break}}else if(t!="9999")break;l+=4}return qe=!0,Re(r,n)};ce.times=ce.mul=function(e){var t,n,r,s,i,l,o,c,d,u=this,f=u.constructor,p=u.d,g=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,c=p.length,d=g.length,c<d&&(i=p,p=g,g=i,l=c,c=d,d=l),i=[],l=c+d,r=l;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,s=c+r;s>r;)o=i[s]+g[r]*p[s-r-1]+t,i[s--]=o%ft|0,t=o/ft|0;i[s]=(i[s]+t)%ft|0}for(;!i[--l];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,qe?Re(e,f.precision):e};ce.toDecimalPlaces=ce.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ir(e,0,Ai),t===void 0?t=r.rounding:ir(t,0,8),Re(n,e+at(n)+1,t))};ce.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=qa(r,!0):(ir(e,0,Ai),t===void 0?t=s.rounding:ir(t,0,8),r=Re(new s(r),e+1,t),n=qa(r,!0,e+1)),n};ce.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?qa(s):(ir(e,0,Ai),t===void 0?t=i.rounding:ir(t,0,8),r=Re(new i(s),e+at(s)+1,t),n=qa(r.abs(),!1,e+at(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};ce.toInteger=ce.toint=function(){var e=this,t=e.constructor;return Re(new t(e),at(e)+1,t.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(e){var t,n,r,s,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(an);if(o=new c(o),!o.s){if(e.s<1)throw Error(On+"Infinity");return o}if(o.eq(an))return o;if(r=c.precision,e.eq(an))return Re(o,r);if(t=e.e,n=e.d.length-1,l=t>=n,i=o.s,l){if((n=u<0?-u:u)<=Yk){for(s=new c(an),t=Math.ceil(r/Ve+4),qe=!1;n%2&&(s=s.times(o),f1(s.d,t)),n=Ei(n/2),n!==0;)o=o.times(o),f1(o.d,t);return qe=!0,e.s<0?new c(an).div(s):Re(s,r)}}else if(i<0)throw Error(On+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,qe=!1,s=e.times(Kl(o,r+d)),qe=!0,s=Jk(s),s.s=i,s};ce.toPrecision=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?(n=at(s),r=qa(s,n<=i.toExpNeg||n>=i.toExpPos)):(ir(e,1,Ai),t===void 0?t=i.rounding:ir(t,0,8),s=Re(new i(s),e,t),n=at(s),r=qa(s,e<=n||n<=i.toExpNeg,e)),r};ce.toSignificantDigits=ce.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ir(e,1,Ai),t===void 0?t=r.rounding:ir(t,0,8)),Re(new r(n),e,t)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=at(e),n=e.constructor;return qa(e,t<=n.toExpNeg||t>=n.toExpPos)};function Qk(e,t){var n,r,s,i,l,o,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),qe?Re(t,f):t;if(c=e.d,d=t.d,l=e.e,s=t.e,c=c.slice(),i=l-s,i){for(i<0?(r=c,i=-i,o=d.length):(r=d,s=l,o=c.length),l=Math.ceil(f/Ve),o=l>o?l+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/ft|0,c[i]%=ft;for(n&&(c.unshift(n),++s),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=s,qe?Re(t,f):t}function ir(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Da+e)}function Zn(e){var t,n,r,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)r=e[t]+"",n=Ve-r.length,n&&(i+=zr(n)),i+=r;l=e[t],r=l+"",n=Ve-r.length,n&&(i+=zr(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var br=function(){function e(r,s){var i,l=0,o=r.length;for(r=r.slice();o--;)i=r[o]*s+l,r[o]=i%ft|0,l=i/ft|0;return l&&r.unshift(l),r}function t(r,s,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(r[o]!=s[o]){c=r[o]>s[o]?1:-1;break}return c}function n(r,s,i){for(var l=0;i--;)r[i]-=l,l=r[i]<s[i]?1:0,r[i]=l*ft+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,l){var o,c,d,u,f,p,g,m,b,h,y,x,j,N,v,S,k,O,_=r.constructor,C=r.s==s.s?1:-1,E=r.d,T=s.d;if(!r.s)return new _(r);if(!s.s)throw Error(On+"Division by zero");for(c=r.e-s.e,k=T.length,v=E.length,g=new _(C),m=g.d=[],d=0;T[d]==(E[d]||0);)++d;if(T[d]>(E[d]||0)&&--c,i==null?x=i=_.precision:l?x=i+(at(r)-at(s))+1:x=i,x<0)return new _(0);if(x=x/Ve+2|0,d=0,k==1)for(u=0,T=T[0],x++;(d<v||u)&&x--;d++)j=u*ft+(E[d]||0),m[d]=j/T|0,u=j%T|0;else{for(u=ft/(T[0]+1)|0,u>1&&(T=e(T,u),E=e(E,u),k=T.length,v=E.length),N=k,b=E.slice(0,k),h=b.length;h<k;)b[h++]=0;O=T.slice(),O.unshift(0),S=T[0],T[1]>=ft/2&&++S;do u=0,o=t(T,b,k,h),o<0?(y=b[0],k!=h&&(y=y*ft+(b[1]||0)),u=y/S|0,u>1?(u>=ft&&(u=ft-1),f=e(T,u),p=f.length,h=b.length,o=t(f,b,p,h),o==1&&(u--,n(f,k<p?O:T,p))):(u==0&&(o=u=1),f=T.slice()),p=f.length,p<h&&f.unshift(0),n(b,f,h),o==-1&&(h=b.length,o=t(T,b,k,h),o<1&&(u++,n(b,k<h?O:T,h))),h=b.length):o===0&&(u++,b=[0]),m[d++]=u,o&&b[0]?b[h++]=E[N]||0:(b=[E[N]],h=1);while((N++<v||b[0]!==void 0)&&x--)}return m[0]||m.shift(),g.e=c,Re(g,l?i+at(g)+1:i)}}();function Jk(e,t){var n,r,s,i,l,o,c=0,d=0,u=e.constructor,f=u.precision;if(at(e)>16)throw Error(dg+at(e));if(!e.s)return new u(an);for(qe=!1,o=f,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(ba(2,d))/Math.LN10*2+5|0,o+=r,n=s=i=new u(an),u.precision=o;;){if(s=Re(s.times(e),o),n=n.times(++c),l=i.plus(br(s,n,o)),Zn(l.d).slice(0,o)===Zn(i.d).slice(0,o)){for(;d--;)i=Re(i.times(i),o);return u.precision=f,t==null?(qe=!0,Re(i,f)):i}i=l}}function at(e){for(var t=e.e*Ve,n=e.d[0];n>=10;n/=10)t++;return t}function Cp(e,t,n){if(t>e.LN10.sd())throw qe=!0,n&&(e.precision=n),Error(On+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function zr(e){for(var t="";e--;)t+="0";return t}function Kl(e,t){var n,r,s,i,l,o,c,d,u,f=1,p=10,g=e,m=g.d,b=g.constructor,h=b.precision;if(g.s<1)throw Error(On+(g.s?"NaN":"-Infinity"));if(g.eq(an))return new b(0);if(t==null?(qe=!1,d=h):d=t,g.eq(10))return t==null&&(qe=!0),Cp(b,d);if(d+=p,b.precision=d,n=Zn(m),r=n.charAt(0),i=at(g),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=Zn(g.d),r=n.charAt(0),f++;i=at(g),r>1?(g=new b("0."+n),i++):g=new b(r+"."+n.slice(1))}else return c=Cp(b,d+2,h).times(i+""),g=Kl(new b(r+"."+n.slice(1)),d-p).plus(c),b.precision=h,t==null?(qe=!0,Re(g,h)):g;for(o=l=g=br(g.minus(an),g.plus(an),d),u=Re(g.times(g),d),s=3;;){if(l=Re(l.times(u),d),c=o.plus(br(l,new b(s),d)),Zn(c.d).slice(0,d)===Zn(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(Cp(b,d+2,h).times(i+""))),o=br(o,new b(f),d),b.precision=h,t==null?(qe=!0,Re(o,h)):o;o=c,s+=2}}function u1(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Ei(n/Ve),e.d=[],r=(n+1)%Ve,n<0&&(r+=Ve),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Ve;r<s;)e.d.push(+t.slice(r,r+=Ve));t=t.slice(r),r=Ve-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),qe&&(e.e>Ld||e.e<-Ld))throw Error(dg+n)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,n){var r,s,i,l,o,c,d,u,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(r=t-l,r<0)r+=Ve,s=t,d=f[u=0];else{if(u=Math.ceil((r+1)/Ve),i=f.length,u>=i)return e;for(d=i=f[u],l=1;i>=10;i/=10)l++;r%=Ve,s=r-Ve+l}if(n!==void 0&&(i=ba(10,l-s-1),o=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=n<4?(o||c)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?s>0?d/ba(10,l-s):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(i=at(e),f.length=1,t=t-i-1,f[0]=ba(10,(Ve-t%Ve)%Ve),e.e=Ei(-t/Ve)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,i=1,u--):(f.length=u+1,i=ba(10,Ve-r),f[u]=s>0?(d/ba(10,l-s)%ba(10,s)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=ft)break;f[u--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(qe&&(e.e>Ld||e.e<-Ld))throw Error(dg+at(e));return e}function Zk(e,t){var n,r,s,i,l,o,c,d,u,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),qe?Re(t,g):t;if(c=e.d,f=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(u=l<0,u?(n=c,l=-l,o=f.length):(n=f,r=d,o=c.length),s=Math.max(Math.ceil(g/Ve),o)+2,l>s&&(l=s,n.length=1),n.reverse(),s=l;s--;)n.push(0);n.reverse()}else{for(s=c.length,o=f.length,u=s<o,u&&(o=s),s=0;s<o;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}l=0}for(u&&(n=c,c=f,f=n,t.s=-t.s),o=c.length,s=f.length-o;s>0;--s)c[o++]=0;for(s=f.length;s>l;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=ft-1;--c[i],c[s]+=ft}c[s]-=f[s]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,qe?Re(t,g):t):new p(0)}function qa(e,t,n){var r,s=at(e),i=Zn(e.d),l=i.length;return t?(n&&(r=n-l)>0?i=i.charAt(0)+"."+i.slice(1)+zr(r):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+zr(-s-1)+i,n&&(r=n-l)>0&&(i+=zr(r))):s>=l?(i+=zr(s+1-l),n&&(r=n-s-1)>0&&(i=i+"."+zr(r))):((r=s+1)<l&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-l)>0&&(s+1===l&&(i+="."),i+=zr(r))),e.s<0?"-"+i:i}function f1(e,t){if(e.length>t)return e.length=t,!0}function e5(e){var t,n,r;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Da+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return u1(l,i.toString())}else if(typeof i!="string")throw Error(Da+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,qV.test(i))u1(l,i);else throw Error(Da+i)}if(s.prototype=ce,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e5,s.config=s.set=GV,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function GV(e){if(!e||typeof e!="object")throw Error(On+"Object expected");var t,n,r,s=["precision",1,Ai,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Ei(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Da+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Da+n+": "+r);return this}var ug=e5(HV);an=new ug(1);const De=ug;function KV(e){return JV(e)||QV(e)||YV(e)||XV()}function XV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YV(e,t){if(e){if(typeof e=="string")return yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yh(e,t)}}function QV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function JV(e){if(Array.isArray(e))return yh(e)}function yh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZV=function(t){return t},t5={},n5=function(t){return t===t5},p1=function(t){return function n(){return arguments.length===0||arguments.length===1&&n5(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},eW=function e(t,n){return t===1?n:p1(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var l=s.filter(function(o){return o!==t5}).length;return l>=t?n.apply(void 0,s):e(t-l,p1(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var u=s.map(function(f){return n5(f)?c.shift():f});return n.apply(void 0,KV(u).concat(c))}))})},vf=function(t){return eW(t.length,t)},vh=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},tW=vf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),nW=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return ZV;var s=n.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},bh=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},r5=function(t){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return n&&i.every(function(o,c){return o===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function rW(e){var t;return e===0?t=1:t=Math.floor(new De(e).abs().log(10).toNumber())+1,t}function aW(e,t,n){for(var r=new De(e),s=0,i=[];r.lt(t)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var sW=vf(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),iW=vf(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),lW=vf(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const bf={rangeStep:aW,getDigitCount:rW,interpolateNumber:sW,uninterpolateNumber:iW,uninterpolateTruncation:lW};function jh(e){return dW(e)||cW(e)||a5(e)||oW()}function oW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function dW(e){if(Array.isArray(e))return wh(e)}function Xl(e,t){return pW(e)||fW(e,t)||a5(e,t)||uW()}function uW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a5(e,t){if(e){if(typeof e=="string")return wh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wh(e,t)}}function wh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),o;!(r=(o=l.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&l.return!=null&&l.return()}finally{if(s)throw i}}return n}}function pW(e){if(Array.isArray(e))return e}function s5(e){var t=Xl(e,2),n=t[0],r=t[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function i5(e,t,n){if(e.lte(0))return new De(0);var r=bf.getDigitCount(e.toNumber()),s=new De(10).pow(r),i=e.div(s),l=r!==1?.05:.1,o=new De(Math.ceil(i.div(l).toNumber())).add(n).mul(l),c=o.mul(s);return t?c:new De(Math.ceil(c))}function mW(e,t,n){var r=1,s=new De(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(r=new De(10).pow(bf.getDigitCount(e)-1),s=new De(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new De(Math.floor(e)))}else e===0?s=new De(Math.floor((t-1)/2)):n||(s=new De(Math.floor(e)));var l=Math.floor((t-1)/2),o=nW(tW(function(c){return s.add(new De(c-l).mul(r)).toNumber()}),vh);return o(0,t)}function l5(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new De(0),tickMin:new De(0),tickMax:new De(0)};var i=i5(new De(t).sub(e).div(n-1),r,s),l;e<=0&&t>=0?l=new De(0):(l=new De(e).add(t).div(2),l=l.sub(new De(l).mod(i)));var o=Math.ceil(l.sub(e).div(i).toNumber()),c=Math.ceil(new De(t).sub(l).div(i).toNumber()),d=o+c+1;return d>n?l5(e,t,n,r,s+1):(d<n&&(c=t>0?c+(n-d):c,o=t>0?o:o+(n-d)),{step:i,tickMin:l.sub(new De(o).mul(i)),tickMax:l.add(new De(c).mul(i))})}function hW(e){var t=Xl(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),o=s5([n,r]),c=Xl(o,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(jh(vh(0,s-1).map(function(){return 1/0}))):[].concat(jh(vh(0,s-1).map(function(){return-1/0})),[u]);return n>r?bh(f):f}if(d===u)return mW(d,s,i);var p=l5(d,u,l,i),g=p.step,m=p.tickMin,b=p.tickMax,h=bf.rangeStep(m,b.add(new De(.1).mul(g)),g);return n>r?bh(h):h}function xW(e,t){var n=Xl(e,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=s5([r,s]),o=Xl(l,2),c=o[0],d=o[1];if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var u=Math.max(t,2),f=i5(new De(d).sub(c).div(u-1),i,0),p=[].concat(jh(bf.rangeStep(new De(c),new De(d).sub(new De(.99).mul(f)),f)),[d]);return r>s?bh(p):p}var gW=r5(hW),yW=r5(xW),vW="Invariant failed";function Ga(e,t){throw new Error(vW)}var bW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(this,arguments)}function jW(e,t){return kW(e)||SW(e,t)||NW(e,t)||wW()}function wW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(e,t){if(e){if(typeof e=="string")return m1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m1(e,t)}}function m1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function kW(e){if(Array.isArray(e))return e}function OW(e,t){if(e==null)return{};var n=CW(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d5(r.key),r)}}function AW(e,t,n){return t&&PW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EW(e,t,n){return t=Bd(t),TW(e,o5()?Reflect.construct(t,n||[],Bd(e).constructor):t.apply(e,n))}function TW(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $W(e)}function $W(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o5=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bd(e)}function IW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nh(e,t)}function Nh(e,t){return Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Nh(e,t)}function c5(e,t,n){return t=d5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d5(e){var t=MW(e,"string");return Js(t)=="symbol"?t:t+""}function MW(e,t){if(Js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jf=function(e){function t(){return _W(this,t),EW(this,t,arguments)}return IW(t,e),AW(t,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,l=r.width,o=r.dataKey,c=r.data,d=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,p=OW(r,bW),g=Ee(p,!1);this.props.direction==="x"&&u.type!=="number"&&Ga();var m=c.map(function(b){var h=d(b,o),y=h.x,x=h.y,j=h.value,N=h.errorVal;if(!N)return null;var v=[],S,k;if(Array.isArray(N)){var O=jW(N,2);S=O[0],k=O[1]}else S=k=N;if(i==="vertical"){var _=u.scale,C=x+s,E=C+l,T=C-l,L=_(j-S),I=_(j+k);v.push({x1:I,y1:E,x2:I,y2:T}),v.push({x1:L,y1:C,x2:I,y2:C}),v.push({x1:L,y1:E,x2:L,y2:T})}else if(i==="horizontal"){var F=f.scale,$=y+s,z=$-l,A=$+l,P=F(j-S),U=F(j+k);v.push({x1:z,y1:U,x2:A,y2:U}),v.push({x1:$,y1:P,x2:$,y2:U}),v.push({x1:z,y1:P,x2:A,y2:P})}return M.createElement(mt,zd({className:"recharts-errorBar",key:"bar-".concat(v.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},g),v.map(function(K){return M.createElement("line",zd({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return M.createElement(mt,{className:"recharts-errorBars"},m)}}])}(M.Component);c5(jf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});c5(jf,"displayName","ErrorBar");function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function h1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(n),!0).forEach(function(r){DW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DW(e,t,n){return t=RW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=LW(e,"string");return Yl(t)=="symbol"?t:t+""}function LW(e,t){if(Yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u5=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=rn(n,Es);if(!l)return null;var o=Es.defaultProps,c=o!==void 0?ha(ha({},o),l.props):{},d;return l.props&&l.props.payload?d=l.props&&l.props.payload:i==="children"?d=(r||[]).reduce(function(u,f){var p=f.item,g=f.props,m=g.sectors||g.data||[];return u.concat(m.map(function(b){return{type:l.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):d=(r||[]).map(function(u){var f=u.item,p=f.type.defaultProps,g=p!==void 0?ha(ha({},p),f.props):{},m=g.dataKey,b=g.name,h=g.legendType,y=g.hide;return{inactive:y,dataKey:m,type:c.iconType||h||"square",color:fg(f),value:b||m,payload:g}}),ha(ha(ha({},c),Es.getWithHeight(l,s)),{},{payload:d,item:l})};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function x1(e){return UW(e)||FW(e)||BW(e)||zW()}function zW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BW(e,t){if(e){if(typeof e=="string")return Sh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sh(e,t)}}function FW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UW(e){if(Array.isArray(e))return Sh(e)}function Sh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(r){$s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $s(e,t,n){return t=VW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=WW(e,"string");return Ql(t)=="symbol"?t:t+""}function WW(e,t){if(Ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lr(e,t,n){return Pe(e)||Pe(t)?n:dt(t)?Nn(e,t,n):ke(t)?t(e):n}function ml(e,t,n,r){var s=FV(e,function(o){return lr(o,t)});if(n==="number"){var i=s.filter(function(o){return re(o)||parseFloat(o)});return i.length?[yf(i),gf(i)]:[1/0,-1/0]}var l=r?s.filter(function(o){return!Pe(o)}):s;return l.map(function(o){return dt(o)||o instanceof Date?o:""})}var HW=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<o;d++){var u=d>0?s[d-1].coordinate:s[o-1].coordinate,f=s[d].coordinate,p=d>=o-1?s[0].coordinate:s[d+1].coordinate,g=void 0;if(Rn(f-u)!==Rn(p-f)){var m=[];if(Rn(p-f)===Rn(c[1]-c[0])){g=p;var b=f+c[1]-c[0];m[0]=Math.min(b,(b+u)/2),m[1]=Math.max(b,(b+u)/2)}else{g=u;var h=p+c[1]-c[0];m[0]=Math.min(f,(h+f)/2),m[1]=Math.max(f,(h+f)/2)}var y=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){l=s[d].index;break}}else{var x=Math.min(u,p),j=Math.max(u,p);if(t>(x+f)/2&&t<=(j+f)/2){l=s[d].index;break}}}else for(var N=0;N<o;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<o-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===o-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){l=r[N].index;break}return l},fg=function(t){var n,r=t,s=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ze(Ze({},t.type.defaultProps),t.props):t.props,l=i.stroke,o=i.fill,c;switch(s){case"Line":c=l;break;case"Area":case"Radar":c=l&&l!=="none"?l:o;break;default:c=o;break}return c},qW=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},o=Object.keys(i),c=0,d=o.length;c<d;c++)for(var u=i[o[c]].stackGroups,f=Object.keys(u),p=0,g=f.length;p<g;p++){var m=u[f[p]],b=m.items,h=m.cateAxisId,y=b.filter(function(k){return vr(k.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,j=x!==void 0?Ze(Ze({},x),y[0].props):y[0].props,N=j.barSize,v=j[h];l[v]||(l[v]=[]);var S=Pe(N)?n:N;l[v].push({item:y[0],stackList:y.slice(1),barSize:Pe(S)?void 0:Ha(S,r,0)})}}return l},GW=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,o=t.maxBarSize,c=l.length;if(c<1)return null;var d=Ha(n,s,0,!0),u,f=[];if(l[0].barSize===+l[0].barSize){var p=!1,g=s/c,m=l.reduce(function(N,v){return N+v.barSize||0},0);m+=(c-1)*d,m>=s&&(m-=(c-1)*d,d=0),m>=s&&g>0&&(p=!0,g*=.9,m=c*g);var b=(s-m)/2>>0,h={offset:b-d,size:0};u=l.reduce(function(N,v){var S={item:v.item,position:{offset:h.offset+h.size+d,size:p?g:v.barSize}},k=[].concat(x1(N),[S]);return h=k[k.length-1].position,v.stackList&&v.stackList.length&&v.stackList.forEach(function(O){k.push({item:O,position:h})}),k},f)}else{var y=Ha(r,s,0,!0);s-2*y-(c-1)*d<=0&&(d=0);var x=(s-2*y-(c-1)*d)/c;x>1&&(x>>=0);var j=o===+o?Math.min(x,o):x;u=l.reduce(function(N,v,S){var k=[].concat(x1(N),[{item:v.item,position:{offset:y+(x+d)*S+(x-j)/2,size:j}}]);return v.stackList&&v.stackList.length&&v.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},f)}return u},KW=function(t,n,r,s){var i=r.children,l=r.width,o=r.margin,c=l-(o.left||0)-(o.right||0),d=u5({children:i,legendWidth:c});if(d){var u=s||{},f=u.width,p=u.height,g=d.align,m=d.verticalAlign,b=d.layout;if((b==="vertical"||b==="horizontal"&&m==="middle")&&g!=="center"&&re(t[g]))return Ze(Ze({},t),{},$s({},g,t[g]+(f||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&m!=="middle"&&re(t[m]))return Ze(Ze({},t),{},$s({},m,t[m]+(p||0)))}return t},XW=function(t,n,r){return Pe(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},f5=function(t,n,r,s,i){var l=n.props.children,o=Bn(l,jf).filter(function(d){return XW(s,i,d.props.direction)});if(o&&o.length){var c=o.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=lr(u,r);if(Pe(f))return d;var p=Array.isArray(f)?[yf(f),gf(f)]:[f,f],g=c.reduce(function(m,b){var h=lr(u,b,0),y=p[0]-Math.abs(Array.isArray(h)?h[0]:h),x=p[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(y,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},YW=function(t,n,r,s,i){var l=n.map(function(o){return f5(t,o,r,i,s)}).filter(function(o){return!Pe(o)});return l&&l.length?l.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},p5=function(t,n,r,s,i){var l=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&f5(t,c,d,s)||ml(t,d,r,i)});if(r==="number")return l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var o={};return l.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)o[d[u]]||(o[d[u]]=!0,c.push(d[u]));return c},[])},m5=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Pa=function(t,n,r){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,o=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||r)&&l==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Rn(o[0]-o[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:s(p)+d,value:f,offset:d}});return u.filter(function(f){return!Eo(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:s(f)+d,value:f,index:p,offset:d}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,p){return{coordinate:s(f)+d,value:i?i[f]:f,index:p,offset:d}})},_p=new WeakMap,fc=function(t,n){if(typeof n!="function")return t;_p.has(t)||_p.set(t,new WeakMap);var r=_p.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},QW=function(t,n,r){var s=t.scale,i=t.type,l=t.layout,o=t.axisType;if(s==="auto")return l==="radial"&&o==="radiusAxis"?{scale:Vl(),realScaleType:"band"}:l==="radial"&&o==="angleAxis"?{scale:Id(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:pl(),realScaleType:"point"}:i==="category"?{scale:Vl(),realScaleType:"band"}:{scale:Id(),realScaleType:"linear"};if(Wa(s)){var c="scale".concat(rf(s));return{scale:(d1[c]||pl)(),realScaleType:d1[c]?c:"point"}}return ke(s)?{scale:s}:{scale:pl(),realScaleType:"point"}},y1=1e-4,JW=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),i=Math.min(s[0],s[1])-y1,l=Math.max(s[0],s[1])+y1,o=t(n[0]),c=t(n[r-1]);(o<i||o>l||c<i||c>l)&&t.domain([n[0],n[r-1]])}},ZW=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},eH=function(t,n){if(!n||n.length!==2||!re(n[0])||!re(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!re(t[0])||t[0]<r)&&(i[0]=r),(!re(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},tH=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,l=0,o=0;o<n;++o){var c=Eo(t[o][r][1])?t[o][r][0]:t[o][r][1];c>=0?(t[o][r][0]=i,t[o][r][1]=i+c,i=t[o][r][1]):(t[o][r][0]=l,t[o][r][1]=l+c,l=t[o][r][1])}},nH=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,l=0;l<n;++l){var o=Eo(t[l][r][1])?t[l][r][0]:t[l][r][1];o>=0?(t[l][r][0]=i,t[l][r][1]=i+o,i=t[l][r][1]):(t[l][r][0]=0,t[l][r][1]=0)}},rH={sign:tH,expand:gI,none:Ws,silhouette:yI,wiggle:vI,positive:nH},aH=function(t,n,r){var s=n.map(function(o){return o.props.dataKey}),i=rH[r],l=xI().keys(s).value(function(o,c){return+lr(o,c,0)}).order(Xm).offset(i);return l(t)},sH=function(t,n,r,s,i,l){if(!t)return null;var o=l?n.reverse():n,c={},d=o.reduce(function(f,p){var g,m=(g=p.type)!==null&&g!==void 0&&g.defaultProps?Ze(Ze({},p.type.defaultProps),p.props):p.props,b=m.stackId,h=m.hide;if(h)return f;var y=m[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(dt(b)){var j=x.stackGroups[b]||{numericAxisId:r,cateAxisId:s,items:[]};j.items.push(p),x.hasStack=!0,x.stackGroups[b]=j}else x.stackGroups[nf("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[p]};return Ze(Ze({},f),{},$s({},y,x))},c),u={};return Object.keys(d).reduce(function(f,p){var g=d[p];if(g.hasStack){var m={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,h){var y=g.stackGroups[h];return Ze(Ze({},b),{},$s({},h,{numericAxisId:r,cateAxisId:s,items:y.items,stackedData:aH(t,y.items,i)}))},m)}return Ze(Ze({},f),{},$s({},p,g))},u)},iH=function(t,n){var r=n.realScaleType,s=n.type,i=n.tickCount,l=n.originalDomain,o=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=gW(d,i,o);return t.domain([yf(u),gf(u)]),{niceTicks:u}}if(i&&s==="number"){var f=t.domain(),p=yW(f,i,o);return{niceTicks:p}}return null},v1=function(t){var n=t.axis,r=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,o=t.index;if(n.type==="category")return r[o]?r[o].coordinate+s:null;var c=lr(l,n.dataKey,n.domain[o]);return Pe(c)?null:n.scale(c)-i/2+s},lH=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},oH=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ze(Ze({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(dt(i)){var l=n[i];if(l){var o=l.items.indexOf(t);return o>=0?l.stackedData[o]:null}}return null},cH=function(t){return t.reduce(function(n,r){return[yf(r.concat([n[0]]).filter(re)),gf(r.concat([n[1]]).filter(re))]},[1/0,-1/0])},h5=function(t,n,r){return Object.keys(t).reduce(function(s,i){var l=t[i],o=l.stackedData,c=o.reduce(function(d,u){var f=cH(u.slice(n,r+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},b1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kh=function(t,n,r){if(ke(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(re(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(b1.test(t[0])){var i=+b1.exec(t[0])[1];s[0]=n[0]-i}else ke(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(re(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(j1.test(t[1])){var l=+j1.exec(t[1])[1];s[1]=n[1]+l}else ke(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Fd=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var i=z0(n,function(f){return f.coordinate}),l=1/0,o=1,c=i.length;o<c;o++){var d=i[o],u=i[o-1];l=Math.min((d.coordinate||0)-(u.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},w1=function(t,n,r){return!t||!t.length||cg(t,Nn(r,"type.defaultProps.domain"))?n:t},x5=function(t,n){var r=t.type.defaultProps?Ze(Ze({},t.type.defaultProps),t.props):t.props,s=r.dataKey,i=r.name,l=r.unit,o=r.formatter,c=r.tooltipType,d=r.chartType,u=r.hide;return Ze(Ze({},Ee(t,!1)),{},{dataKey:s,unit:l,formatter:o,name:i||s,color:fg(t),value:lr(n,s),type:c,payload:n,chartType:d,hide:u})};function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function N1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(n),!0).forEach(function(r){dH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dH(e,t,n){return t=uH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uH(e){var t=fH(e,"string");return Jl(t)=="symbol"?t:t+""}function fH(e,t){if(Jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud=Math.PI/180,pH=function(t){return t*180/Math.PI},jt=function(t,n,r,s){return{x:t+Math.cos(-Ud*s)*r,y:n+Math.sin(-Ud*s)*r}},mH=function(t,n){var r=t.x,s=t.y,i=n.x,l=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-l,2))},hH=function(t,n){var r=t.x,s=t.y,i=n.cx,l=n.cy,o=mH({x:r,y:s},{x:i,y:l});if(o<=0)return{radius:o};var c=(r-i)/o,d=Math.acos(c);return s>l&&(d=2*Math.PI-d),{radius:o,angle:pH(d),angleInRadian:d}},xH=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),l=Math.min(s,i);return{startAngle:n-l*360,endAngle:r-l*360}},gH=function(t,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),l=Math.floor(s/360),o=Math.min(i,l);return t+o*360},k1=function(t,n){var r=t.x,s=t.y,i=hH({x:r,y:s},n),l=i.radius,o=i.angle,c=n.innerRadius,d=n.outerRadius;if(l<c||l>d)return!1;if(l===0)return!0;var u=xH(n),f=u.startAngle,p=u.endAngle,g=o,m;if(f<=p){for(;g>p;)g-=360;for(;g<f;)g+=360;m=g>=f&&g<=p}else{for(;g>f;)g-=360;for(;g<p;)g+=360;m=g>=p&&g<=f}return m?S1(S1({},n),{},{radius:l,angle:gH(g,n)}):null};function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}var yH=["offset"];function vH(e){return NH(e)||wH(e)||jH(e)||bH()}function bH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jH(e,t){if(e){if(typeof e=="string")return Oh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oh(e,t)}}function wH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NH(e){if(Array.isArray(e))return Oh(e)}function Oh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SH(e,t){if(e==null)return{};var n=kH(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kH(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function O1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return t=CH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CH(e){var t=_H(e,"string");return Zl(t)=="symbol"?t:t+""}function _H(e,t){if(Zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(this,arguments)}var PH=function(t){var n=t.value,r=t.formatter,s=Pe(t.children)?n:t.children;return ke(r)?r(s):s},AH=function(t,n){var r=Rn(n-t),s=Math.min(Math.abs(n-t),360);return r*s},EH=function(t,n,r){var s=t.position,i=t.viewBox,l=t.offset,o=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,p=c.outerRadius,g=c.startAngle,m=c.endAngle,b=c.clockWise,h=(f+p)/2,y=AH(g,m),x=y>=0?1:-1,j,N;s==="insideStart"?(j=g+x*l,N=b):s==="insideEnd"?(j=m-x*l,N=!b):s==="end"&&(j=m+x*l,N=b),N=y<=0?N:!N;var v=jt(d,u,h,j),S=jt(d,u,h,j+(N?1:-1)*359),k="M".concat(v.x,",").concat(v.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),O=Pe(t.id)?nf("recharts-radial-line-"):t.id;return M.createElement("text",eo({},r,{dominantBaseline:"central",className:fe("recharts-radial-bar-label",o)}),M.createElement("defs",null,M.createElement("path",{id:O,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(O)},n))},TH=function(t){var n=t.viewBox,r=t.offset,s=t.position,i=n,l=i.cx,o=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,p=(u+f)/2;if(s==="outside"){var g=jt(l,o,d+r,p),m=g.x,b=g.y;return{x:m,y:b,textAnchor:m>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=(c+d)/2,y=jt(l,o,h,p),x=y.x,j=y.y;return{x,y:j,textAnchor:"middle",verticalAnchor:"middle"}},$H=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,i=t.position,l=n,o=l.x,c=l.y,d=l.width,u=l.height,f=u>=0?1:-1,p=f*s,g=f>0?"end":"start",m=f>0?"start":"end",b=d>=0?1:-1,h=b*s,y=b>0?"end":"start",x=b>0?"start":"end";if(i==="top"){var j={x:o+d/2,y:c-f*s,textAnchor:"middle",verticalAnchor:g};return lt(lt({},j),r?{height:Math.max(c-r.y,0),width:d}:{})}if(i==="bottom"){var N={x:o+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:m};return lt(lt({},N),r?{height:Math.max(r.y+r.height-(c+u),0),width:d}:{})}if(i==="left"){var v={x:o-h,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return lt(lt({},v),r?{width:Math.max(v.x-r.x,0),height:u}:{})}if(i==="right"){var S={x:o+d+h,y:c+u/2,textAnchor:x,verticalAnchor:"middle"};return lt(lt({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var k=r?{width:d,height:u}:{};return i==="insideLeft"?lt({x:o+h,y:c+u/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideRight"?lt({x:o+d-h,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideTop"?lt({x:o+d/2,y:c+p,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?lt({x:o+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:g},k):i==="insideTopLeft"?lt({x:o+h,y:c+p,textAnchor:x,verticalAnchor:m},k):i==="insideTopRight"?lt({x:o+d-h,y:c+p,textAnchor:y,verticalAnchor:m},k):i==="insideBottomLeft"?lt({x:o+h,y:c+u-p,textAnchor:x,verticalAnchor:g},k):i==="insideBottomRight"?lt({x:o+d-h,y:c+u-p,textAnchor:y,verticalAnchor:g},k):ji(i)&&(re(i.x)||Oa(i.x))&&(re(i.y)||Oa(i.y))?lt({x:o+Ha(i.x,d),y:c+Ha(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):lt({x:o+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},IH=function(t){return"cx"in t&&re(t.cx)};function At(e){var t=e.offset,n=t===void 0?5:t,r=SH(e,yH),s=lt({offset:n},r),i=s.viewBox,l=s.position,o=s.value,c=s.children,d=s.content,u=s.className,f=u===void 0?"":u,p=s.textBreakAll;if(!i||Pe(o)&&Pe(c)&&!w.isValidElement(d)&&!ke(d))return null;if(w.isValidElement(d))return w.cloneElement(d,s);var g;if(ke(d)){if(g=w.createElement(d,s),w.isValidElement(g))return g}else g=PH(s);var m=IH(i),b=Ee(s,!0);if(m&&(l==="insideStart"||l==="insideEnd"||l==="end"))return EH(s,g,b);var h=m?TH(s):$H(s);return M.createElement(Cd,eo({className:fe("recharts-label",f)},b,h,{breakAll:p}),g)}At.displayName="Label";var g5=function(t){var n=t.cx,r=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,o=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,g=t.top,m=t.left,b=t.width,h=t.height,y=t.clockWise,x=t.labelViewBox;if(x)return x;if(re(b)&&re(h)){if(re(f)&&re(p))return{x:f,y:p,width:b,height:h};if(re(g)&&re(m))return{x:g,y:m,width:b,height:h}}return re(f)&&re(p)?{x:f,y:p,width:0,height:0}:re(n)&&re(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:l||s||0,innerRadius:d||0,outerRadius:u||c||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},MH=function(t,n){return t?t===!0?M.createElement(At,{key:"label-implicit",viewBox:n}):dt(t)?M.createElement(At,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===At?w.cloneElement(t,{key:"label-implicit",viewBox:n}):M.createElement(At,{key:"label-implicit",content:t,viewBox:n}):ke(t)?M.createElement(At,{key:"label-implicit",content:t,viewBox:n}):ji(t)?M.createElement(At,eo({viewBox:n},t,{key:"label-implicit"})):null:null},DH=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,i=g5(t),l=Bn(s,At).map(function(c,d){return w.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!r)return l;var o=MH(t.label,n||i);return[o].concat(vH(l))};At.parseViewBox=g5;At.renderCallByParent=DH;function RH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var LH=RH;const zH=Be(LH);function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}var BH=["valueAccessor"],FH=["data","dataKey","clockWise","id","textBreakAll"];function UH(e){return qH(e)||HH(e)||WH(e)||VH()}function VH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(e,t){if(e){if(typeof e=="string")return Ch(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ch(e,t)}}function HH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qH(e){if(Array.isArray(e))return Ch(e)}function Ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd.apply(this,arguments)}function C1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(n),!0).forEach(function(r){GH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GH(e,t,n){return t=KH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e){var t=XH(e,"string");return to(t)=="symbol"?t:t+""}function XH(e,t){if(to(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1(e,t){if(e==null)return{};var n=YH(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YH(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var QH=function(t){return Array.isArray(t.value)?zH(t.value):t.value};function Ra(e){var t=e.valueAccessor,n=t===void 0?QH:t,r=P1(e,BH),s=r.data,i=r.dataKey,l=r.clockWise,o=r.id,c=r.textBreakAll,d=P1(r,FH);return!s||!s.length?null:M.createElement(mt,{className:"recharts-label-list"},s.map(function(u,f){var p=Pe(i)?n(u,f):lr(u&&u.payload,i),g=Pe(o)?{}:{id:"".concat(o,"-").concat(f)};return M.createElement(At,Vd({},Ee(u,!0),d,g,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:At.parseViewBox(Pe(l)?u:_1(_1({},u),{},{clockWise:l})),key:"label-".concat(f),index:f}))}))}Ra.displayName="LabelList";function JH(e,t){return e?e===!0?M.createElement(Ra,{key:"labelList-implicit",data:t}):M.isValidElement(e)||ke(e)?M.createElement(Ra,{key:"labelList-implicit",data:t,content:e}):ji(e)?M.createElement(Ra,Vd({data:t},e,{key:"labelList-implicit"})):null:null}function ZH(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=Bn(r,Ra).map(function(l,o){return w.cloneElement(l,{data:t,key:"labelList-".concat(o)})});if(!n)return s;var i=JH(e.label,t);return[i].concat(UH(s))}Ra.renderCallByParent=ZH;function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_h.apply(this,arguments)}function A1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(n),!0).forEach(function(r){eq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eq(e,t,n){return t=tq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=nq(e,"string");return no(t)=="symbol"?t:t+""}function nq(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rq=function(t,n){var r=Rn(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},pc=function(t){var n=t.cx,r=t.cy,s=t.radius,i=t.angle,l=t.sign,o=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(o?1:-1)+s,f=Math.asin(c/u)/Ud,p=d?i:i+l*f,g=jt(n,r,u,p),m=jt(n,r,s,p),b=d?i-l*f:i,h=jt(n,r,u*Math.cos(f*Ud),b);return{center:g,circleTangency:m,lineTangency:h,theta:f}},y5=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,o=t.endAngle,c=rq(l,o),d=l+c,u=jt(n,r,i,l),f=jt(n,r,i,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var g=jt(n,r,s,l),m=jt(n,r,s,d);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},aq=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=Rn(u-d),p=pc({cx:n,cy:r,radius:i,angle:d,sign:f,cornerRadius:l,cornerIsExternal:c}),g=p.circleTangency,m=p.lineTangency,b=p.theta,h=pc({cx:n,cy:r,radius:i,angle:u,sign:-f,cornerRadius:l,cornerIsExternal:c}),y=h.circleTangency,x=h.lineTangency,j=h.theta,N=c?Math.abs(d-u):Math.abs(d-u)-b-j;if(N<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):y5({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var v="M ".concat(m.x,",").concat(m.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var S=pc({cx:n,cy:r,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),k=S.circleTangency,O=S.lineTangency,_=S.theta,C=pc({cx:n,cy:r,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),E=C.circleTangency,T=C.lineTangency,L=C.theta,I=c?Math.abs(d-u):Math.abs(d-u)-_-L;if(I<0&&l===0)return"".concat(v,"L").concat(n,",").concat(r,"Z");v+="L".concat(T.x,",").concat(T.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else v+="L".concat(n,",").concat(r,"Z");return v},sq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v5=function(t){var n=E1(E1({},sq),t),r=n.cx,s=n.cy,i=n.innerRadius,l=n.outerRadius,o=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,p=n.className;if(l<i||u===f)return null;var g=fe("recharts-sector",p),m=l-i,b=Ha(o,m,0,!0),h;return b>0&&Math.abs(u-f)<360?h=aq({cx:r,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(b,m/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):h=y5({cx:r,cy:s,innerRadius:i,outerRadius:l,startAngle:u,endAngle:f}),M.createElement("path",_h({},Ee(n,!0),{className:g,d:h,role:"img"}))};function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ph.apply(this,arguments)}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(r){iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iq(e,t,n){return t=lq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=oq(e,"string");return ro(t)=="symbol"?t:t+""}function oq(e,t){if(ro(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I1={curveBasisClosed:sI,curveBasisOpen:iI,curveBasis:aI,curveBumpX:W3,curveBumpY:H3,curveLinearClosed:lI,curveLinear:sf,curveMonotoneX:oI,curveMonotoneY:cI,curveNatural:dI,curveStep:uI,curveStepAfter:pI,curveStepBefore:fI},mc=function(t){return t.x===+t.x&&t.y===+t.y},Gi=function(t){return t.x},Ki=function(t){return t.y},cq=function(t,n){if(ke(t))return t;var r="curve".concat(rf(t));return(r==="curveMonotone"||r==="curveBump")&&n?I1["".concat(r).concat(n==="vertical"?"Y":"X")]:I1[r]||sf},dq=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,l=t.baseLine,o=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=cq(r,o),f=d?i.filter(function(b){return mc(b)}):i,p;if(Array.isArray(l)){var g=d?l.filter(function(b){return mc(b)}):l,m=f.map(function(b,h){return $1($1({},b),{},{base:g[h]})});return o==="vertical"?p=ac().y(Ki).x1(Gi).x0(function(b){return b.base.x}):p=ac().x(Gi).y1(Ki).y0(function(b){return b.base.y}),p.defined(mc).curve(u),p(m)}return o==="vertical"&&re(l)?p=ac().y(Ki).x1(Gi).x0(l):re(l)?p=ac().x(Gi).y1(Ki).y0(l):p=bS().x(Gi).y(Ki),p.defined(mc).curve(u),p(f)},M1=function(t){var n=t.className,r=t.points,s=t.path,i=t.pathRef;if((!r||!r.length)&&!s)return null;var l=r&&r.length?dq(t):s;return w.createElement("path",Ph({},Ee(t,!1),fd(t),{className:fe("recharts-curve",n),d:l,ref:i}))},b5={exports:{}},uq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fq=uq,pq=fq;function j5(){}function w5(){}w5.resetWarningCache=j5;var mq=function(){function e(r,s,i,l,o,c){if(c!==pq){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:w5,resetWarningCache:j5};return n.PropTypes=n,n};b5.exports=mq();var hq=b5.exports;const Ae=Be(hq),{getOwnPropertyNames:xq,getOwnPropertySymbols:gq}=Object,{hasOwnProperty:yq}=Object.prototype;function Pp(e,t){return function(r,s,i){return e(r,s,i)&&t(r,s,i)}}function hc(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);const{cache:i}=s,l=i.get(n),o=i.get(r);if(l&&o)return l===r&&o===n;i.set(n,r),i.set(r,n);const c=e(n,r,s);return i.delete(n),i.delete(r),c}}function vq(e){return e!=null?e[Symbol.toStringTag]:void 0}function D1(e){return xq(e).concat(gq(e))}const bq=Object.hasOwn||((e,t)=>yq.call(e,t));function es(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const jq="__v",wq="__o",Nq="_owner",{getOwnPropertyDescriptor:R1,keys:L1}=Object;function Sq(e,t){return e.byteLength===t.byteLength&&Wd(new Uint8Array(e),new Uint8Array(t))}function kq(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Oq(e,t){return e.byteLength===t.byteLength&&Wd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Cq(e,t){return es(e.getTime(),t.getTime())}function _q(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Pq(e,t){return e===t}function z1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const s=new Array(r),i=e.entries();let l,o,c=0;for(;(l=i.next())&&!l.done;){const d=t.entries();let u=!1,f=0;for(;(o=d.next())&&!o.done;){if(s[f]){f++;continue}const p=l.value,g=o.value;if(n.equals(p[0],g[0],c,f,e,t,n)&&n.equals(p[1],g[1],p[0],g[0],e,t,n)){u=s[f]=!0;break}f++}if(!u)return!1;c++}return!0}const Aq=es;function Eq(e,t,n){const r=L1(e);let s=r.length;if(L1(t).length!==s)return!1;for(;s-- >0;)if(!N5(e,t,n,r[s]))return!1;return!0}function Xi(e,t,n){const r=D1(e);let s=r.length;if(D1(t).length!==s)return!1;let i,l,o;for(;s-- >0;)if(i=r[s],!N5(e,t,n,i)||(l=R1(e,i),o=R1(t,i),(l||o)&&(!l||!o||l.configurable!==o.configurable||l.enumerable!==o.enumerable||l.writable!==o.writable)))return!1;return!0}function Tq(e,t){return es(e.valueOf(),t.valueOf())}function $q(e,t){return e.source===t.source&&e.flags===t.flags}function B1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const s=new Array(r),i=e.values();let l,o;for(;(l=i.next())&&!l.done;){const c=t.values();let d=!1,u=0;for(;(o=c.next())&&!o.done;){if(!s[u]&&n.equals(l.value,o.value,l.value,o.value,e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function Wd(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Iq(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function N5(e,t,n,r){return(r===Nq||r===wq||r===jq)&&(e.$$typeof||t.$$typeof)?!0:bq(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const Mq="[object ArrayBuffer]",Dq="[object Arguments]",Rq="[object Boolean]",Lq="[object DataView]",zq="[object Date]",Bq="[object Error]",Fq="[object Map]",Uq="[object Number]",Vq="[object Object]",Wq="[object RegExp]",Hq="[object Set]",qq="[object String]",Gq={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Kq="[object URL]",Xq=Object.prototype.toString;function Yq({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:g,unknownTagComparators:m}){return function(h,y,x){if(h===y)return!0;if(h==null||y==null)return!1;const j=typeof h;if(j!==typeof y)return!1;if(j!=="object")return j==="number"?o(h,y,x):j==="function"?i(h,y,x):!1;const N=h.constructor;if(N!==y.constructor)return!1;if(N===Object)return c(h,y,x);if(Array.isArray(h))return t(h,y,x);if(N===Date)return r(h,y,x);if(N===RegExp)return u(h,y,x);if(N===Map)return l(h,y,x);if(N===Set)return f(h,y,x);const v=Xq.call(h);if(v===zq)return r(h,y,x);if(v===Wq)return u(h,y,x);if(v===Fq)return l(h,y,x);if(v===Hq)return f(h,y,x);if(v===Vq)return typeof h.then!="function"&&typeof y.then!="function"&&c(h,y,x);if(v===Kq)return g(h,y,x);if(v===Bq)return s(h,y,x);if(v===Dq)return c(h,y,x);if(Gq[v])return p(h,y,x);if(v===Mq)return e(h,y,x);if(v===Lq)return n(h,y,x);if(v===Rq||v===Uq||v===qq)return d(h,y,x);if(m){let S=m[v];if(!S){const k=vq(h);k&&(S=m[k])}if(S)return S(h,y,x)}return!1}}function Qq({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:Sq,areArraysEqual:n?Xi:kq,areDataViewsEqual:Oq,areDatesEqual:Cq,areErrorsEqual:_q,areFunctionsEqual:Pq,areMapsEqual:n?Pp(z1,Xi):z1,areNumbersEqual:Aq,areObjectsEqual:n?Xi:Eq,arePrimitiveWrappersEqual:Tq,areRegExpsEqual:$q,areSetsEqual:n?Pp(B1,Xi):B1,areTypedArraysEqual:n?Pp(Wd,Xi):Wd,areUrlsEqual:Iq,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const s=hc(r.areArraysEqual),i=hc(r.areMapsEqual),l=hc(r.areObjectsEqual),o=hc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:o})}return r}function Jq(e){return function(t,n,r,s,i,l,o){return e(t,n,o)}}function Zq({circular:e,comparator:t,createState:n,equals:r,strict:s}){if(n)return function(o,c){const{cache:d=e?new WeakMap:void 0,meta:u}=n();return t(o,c,{cache:d,equals:r,meta:u,strict:s})};if(e)return function(o,c){return t(o,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(o,c){return t(o,c,i)}}const eG=pa();pa({strict:!0});pa({circular:!0});pa({circular:!0,strict:!0});pa({createInternalComparator:()=>es});pa({strict:!0,createInternalComparator:()=>es});pa({circular:!0,createInternalComparator:()=>es});pa({circular:!0,createInternalComparator:()=>es,strict:!0});function pa(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:s=!1}=e,i=Qq(e),l=Yq(i),o=n?n(l):Jq(l);return Zq({circular:t,comparator:l,createState:r,equals:o,strict:s})}function tG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function F1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):tG(s)};requestAnimationFrame(r)}function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function nG(e){return iG(e)||sG(e)||aG(e)||rG()}function rG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aG(e,t){if(e){if(typeof e=="string")return U1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U1(e,t)}}function U1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iG(e){if(Array.isArray(e))return e}function lG(){var e={},t=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,o=nG(l),c=o[0],d=o.slice(1);if(typeof c=="number"){F1(s.bind(null,d),c);return}s(c),F1(s.bind(null,d));return}Ah(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function V1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function W1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(n),!0).forEach(function(r){S5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S5(e,t,n){return t=oG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oG(e){var t=cG(e,"string");return ao(t)==="symbol"?t:String(t)}function cG(e,t){if(ao(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ao(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dG=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},uG=function(t){return t},fG=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hl=function(t,n){return Object.keys(n).reduce(function(r,s){return W1(W1({},r),{},S5({},s,t(s,n[s])))},{})},H1=function(t,n,r){return t.map(function(s){return"".concat(fG(s)," ").concat(n,"ms ").concat(r)}).join(",")};function pG(e,t){return xG(e)||hG(e,t)||k5(e,t)||mG()}function mG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function xG(e){if(Array.isArray(e))return e}function gG(e){return bG(e)||vG(e)||k5(e)||yG()}function yG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5(e,t){if(e){if(typeof e=="string")return Eh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eh(e,t)}}function vG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bG(e){if(Array.isArray(e))return Eh(e)}function Eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hd=1e-4,O5=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},C5=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},q1=function(t,n){return function(r){var s=O5(t,n);return C5(s,r)}},jG=function(t,n){return function(r){var s=O5(t,n),i=[].concat(gG(s.map(function(l,o){return l*o}).slice(1)),[0]);return C5(i,r)}},G1=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],i=n[1],l=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,l=1,o=1;break;case"ease":s=.25,i=.1,l=.25,o=1;break;case"ease-in":s=.42,i=0,l=1,o=1;break;case"ease-out":s=.42,i=0,l=.58,o=1;break;case"ease-in-out":s=0,i=0,l=.58,o=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),u=pG(d,4);s=u[0],i=u[1],l=u[2],o=u[3]}}}var f=q1(s,l),p=q1(i,o),g=jG(s,l),m=function(y){return y>1?1:y<0?0:y},b=function(y){for(var x=y>1?1:y,j=x,N=0;N<8;++N){var v=f(j)-x,S=g(j);if(Math.abs(v-x)<Hd||S<Hd)return p(j);j=m(j-v/S)}return p(j)};return b.isStepper=!1,b},wG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,l=t.dt,o=l===void 0?17:l,c=function(u,f,p){var g=-(u-f)*r,m=p*i,b=p+(g-m)*o/1e3,h=p*o/1e3+u;return Math.abs(h-f)<Hd&&Math.abs(b)<Hd?[f,0]:[h,b]};return c.isStepper=!0,c.dt=o,c},NG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G1(s);case"spring":return wG();default:if(s.split("(")[0]==="cubic-bezier")return G1(s)}return typeof s=="function"?s:null};function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function K1(e){return OG(e)||kG(e)||_5(e)||SG()}function SG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OG(e){if(Array.isArray(e))return $h(e)}function X1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(n),!0).forEach(function(r){Th(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Th(e,t,n){return t=CG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CG(e){var t=_G(e,"string");return so(t)==="symbol"?t:String(t)}function _G(e,t){if(so(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(so(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PG(e,t){return TG(e)||EG(e,t)||_5(e,t)||AG()}function AG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _5(e,t){if(e){if(typeof e=="string")return $h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $h(e,t)}}function $h(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function TG(e){if(Array.isArray(e))return e}var qd=function(t,n,r){return t+(n-t)*r},Ih=function(t){var n=t.from,r=t.to;return n!==r},$G=function e(t,n,r){var s=hl(function(i,l){if(Ih(l)){var o=t(l.from,l.to,l.velocity),c=PG(o,2),d=c[0],u=c[1];return vt(vt({},l),{},{from:d,velocity:u})}return l},n);return r<1?hl(function(i,l){return Ih(l)?vt(vt({},l),{},{velocity:qd(l.velocity,s[i].velocity,r),from:qd(l.from,s[i].from,r)}):l},n):e(t,s,r-1)};const IG=function(e,t,n,r,s){var i=dG(e,t),l=i.reduce(function(h,y){return vt(vt({},h),{},Th({},y,[e[y],t[y]]))},{}),o=i.reduce(function(h,y){return vt(vt({},h),{},Th({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,f=function(){return null},p=function(){return hl(function(y,x){return x.from},o)},g=function(){return!Object.values(o).filter(Ih).length},m=function(y){d||(d=y);var x=y-d,j=x/n.dt;o=$G(n,o,j),s(vt(vt(vt({},e),t),p())),d=y,g()||(c=requestAnimationFrame(f))},b=function(y){u||(u=y);var x=(y-u)/r,j=hl(function(v,S){return qd.apply(void 0,K1(S).concat([n(x)]))},l);if(s(vt(vt(vt({},e),t),j)),x<1)c=requestAnimationFrame(f);else{var N=hl(function(v,S){return qd.apply(void 0,K1(S).concat([n(1)]))},l);s(vt(vt(vt({},e),t),N))}};return f=n.isStepper?m:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}var MG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function DG(e,t){if(e==null)return{};var n=RG(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RG(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ap(e){return FG(e)||BG(e)||zG(e)||LG()}function LG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,t){if(e){if(typeof e=="string")return Mh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mh(e,t)}}function BG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FG(e){if(Array.isArray(e))return Mh(e)}function Mh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){nl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nl(e,t,n){return t=P5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P5(r.key),r)}}function WG(e,t,n){return t&&VG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P5(e){var t=HG(e,"string");return Zs(t)==="symbol"?t:String(t)}function HG(e,t){if(Zs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dh(e,t)}function Dh(e,t){return Dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Dh(e,t)}function GG(e){var t=KG();return function(){var r=Gd(e),s;if(t){var i=Gd(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return Rh(this,s)}}function Rh(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lh(e)}function Lh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(e)}var ia=function(e){qG(n,e);var t=GG(n);function n(r,s){var i;UG(this,n),i=t.call(this,r,s);var l=i.props,o=l.isActive,c=l.attributeName,d=l.from,u=l.to,f=l.steps,p=l.children,g=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Lh(i)),i.changeStyle=i.changeStyle.bind(Lh(i)),!o||g<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:u}),Rh(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof p=="function")return i.state={style:d},Rh(i);i.state={style:c?nl({},c,d):d}}else i.state={style:{}};return i}return WG(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,o=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,p=this.state.style;if(o){if(!l){var g={style:c?nl({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(g);return}if(!(eG(s.to,u)&&s.canBegin&&s.isActive)){var m=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=m||d?f:s.to;if(this.state&&p){var h={style:c?nl({},c,b):b};(c&&p[c]!==b||!c&&p!==b)&&this.setState(h)}this.runAnimation(An(An({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,o=s.to,c=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,p=s.onAnimationStart,g=IG(l,o,NG(d),c,this.changeStyle),m=function(){i.stopJSAnimation=g()};this.manager.start([p,u,m,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,o=s.begin,c=s.onAnimationStart,d=l[0],u=d.style,f=d.duration,p=f===void 0?0:f,g=function(b,h,y){if(y===0)return b;var x=h.duration,j=h.easing,N=j===void 0?"ease":j,v=h.style,S=h.properties,k=h.onAnimationEnd,O=y>0?l[y-1]:h,_=S||Object.keys(v);if(typeof N=="function"||N==="spring")return[].concat(Ap(b),[i.runJSAnimation.bind(i,{from:O.style,to:v,duration:x,easing:N}),x]);var C=H1(_,x,N),E=An(An(An({},O.style),v),{},{transition:C});return[].concat(Ap(b),[E,x,k]).filter(uG)};return this.manager.start([c].concat(Ap(l.reduce(g,[u,Math.max(p,o)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=lG());var i=s.begin,l=s.duration,o=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,p=s.steps,g=s.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var b=o?nl({},o,c):c,h=H1(Object.keys(b),l,d);m.start([u,i,An(An({},b),{},{transition:h}),l,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var o=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=DG(s,MG),d=w.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||d===0||l<=0)return i;var f=function(g){var m=g.props,b=m.style,h=b===void 0?{}:b,y=m.className,x=w.cloneElement(g,An(An({},c),{},{style:An(An({},h),u),className:y}));return x};return d===1?f(w.Children.only(i)):M.createElement("div",null,w.Children.map(i,function(p){return f(p)}))}}]),n}(w.PureComponent);ia.displayName="Animate";ia.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ia.propTypes={from:Ae.oneOfType([Ae.object,Ae.string]),to:Ae.oneOfType([Ae.object,Ae.string]),attributeName:Ae.string,duration:Ae.number,begin:Ae.number,easing:Ae.oneOfType([Ae.string,Ae.func]),steps:Ae.arrayOf(Ae.shape({duration:Ae.number.isRequired,style:Ae.object.isRequired,easing:Ae.oneOfType([Ae.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ae.func]),properties:Ae.arrayOf("string"),onAnimationEnd:Ae.func})),children:Ae.oneOfType([Ae.node,Ae.func]),isActive:Ae.bool,canBegin:Ae.bool,onAnimationEnd:Ae.func,shouldReAnimate:Ae.bool,onAnimationStart:Ae.func,onAnimationReStart:Ae.func};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(this,arguments)}function XG(e,t){return ZG(e)||JG(e,t)||QG(e,t)||YG()}function YG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QG(e,t){if(e){if(typeof e=="string")return Q1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q1(e,t)}}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function ZG(e){if(Array.isArray(e))return e}function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(n),!0).forEach(function(r){eK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eK(e,t,n){return t=tK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tK(e){var t=nK(e,"string");return io(t)=="symbol"?t:t+""}function nK(e,t){if(io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ej=function(t,n,r,s,i){var l=Math.min(Math.abs(r)/2,Math.abs(s)/2),o=s>=0?1:-1,c=r>=0?1:-1,d=s>=0&&r>=0||s<0&&r<0?1:0,u;if(l>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=i[p]>l?l:i[p];u="M".concat(t,",").concat(n+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(n)),u+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+o*f[1])),u+="L ".concat(t+r,",").concat(n+s-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+r-c*f[2],",").concat(n+s)),u+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+s-o*f[3])),u+="Z"}else if(l>0&&i===+i&&i>0){var m=Math.min(l,i);u="M ".concat(t,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+c*m,",").concat(n,`
            L `).concat(t+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+r,",").concat(n+o*m,`
            L `).concat(t+r,",").concat(n+s-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+r-c*m,",").concat(n+s,`
            L `).concat(t+c*m,",").concat(n+s,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t,",").concat(n+s-o*m," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return u},rK=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,i=n.x,l=n.y,o=n.width,c=n.height;if(Math.abs(o)>0&&Math.abs(c)>0){var d=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(l,l+c),p=Math.max(l,l+c);return r>=d&&r<=u&&s>=f&&s<=p}return!1},aK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pg=function(t){var n=Z1(Z1({},aK),t),r=w.useRef(),s=w.useState(-1),i=XG(s,2),l=i[0],o=i[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&o(N)}catch{}},[]);var c=n.x,d=n.y,u=n.width,f=n.height,p=n.radius,g=n.className,m=n.animationEasing,b=n.animationDuration,h=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var j=fe("recharts-rectangle",g);return x?M.createElement(ia,{canBegin:l>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:b,animationEasing:m,isActive:x},function(N){var v=N.width,S=N.height,k=N.x,O=N.y;return M.createElement(ia,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:b,isActive:y,easing:m},M.createElement("path",Kd({},Ee(n,!0),{className:j,d:ej(k,O,v,S,p),ref:r})))}):M.createElement("path",Kd({},Ee(n,!0),{className:j,d:ej(c,d,u,f,p)}))};function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(this,arguments)}var A5=function(t){var n=t.cx,r=t.cy,s=t.r,i=t.className,l=fe("recharts-dot",i);return n===+n&&r===+r&&s===+s?w.createElement("circle",zh({},Ee(t,!1),fd(t),{className:l,cx:n,cy:r,r:s})):null};function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}var sK=["x","y","top","left","width","height","className"];function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bh.apply(this,arguments)}function tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function iK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(n),!0).forEach(function(r){lK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lK(e,t,n){return t=oK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(e){var t=cK(e,"string");return lo(t)=="symbol"?t:t+""}function cK(e,t){if(lo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dK(e,t){if(e==null)return{};var n=uK(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var fK=function(t,n,r,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(n,"h").concat(r)},pK=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.top,o=l===void 0?0:l,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,p=t.height,g=p===void 0?0:p,m=t.className,b=dK(t,sK),h=iK({x:r,y:i,top:o,left:d,width:f,height:g},b);return!re(r)||!re(i)||!re(f)||!re(g)||!re(o)||!re(d)?null:M.createElement("path",Bh({},Ee(h,!0),{className:fe("recharts-cross",m),d:fK(r,i,f,g,o,d)}))},mK=WS,hK=mK(Object.getPrototypeOf,Object),xK=hK,gK=Tr,yK=xK,vK=$r,bK="[object Object]",jK=Function.prototype,wK=Object.prototype,E5=jK.toString,NK=wK.hasOwnProperty,SK=E5.call(Object);function kK(e){if(!vK(e)||gK(e)!=bK)return!1;var t=yK(e);if(t===null)return!0;var n=NK.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&E5.call(n)==SK}var OK=kK;const CK=Be(OK);var _K=Tr,PK=$r,AK="[object Boolean]";function EK(e){return e===!0||e===!1||PK(e)&&_K(e)==AK}var TK=EK;const $K=Be(TK);function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xd.apply(this,arguments)}function IK(e,t){return LK(e)||RK(e,t)||DK(e,t)||MK()}function MK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(e,t){if(e){if(typeof e=="string")return nj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nj(e,t)}}function nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function LK(e){if(Array.isArray(e))return e}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function aj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){zK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zK(e,t,n){return t=BK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BK(e){var t=FK(e,"string");return oo(t)=="symbol"?t:t+""}function FK(e,t){if(oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sj=function(t,n,r,s,i){var l=r-s,o;return o="M ".concat(t,",").concat(n),o+="L ".concat(t+r,",").concat(n),o+="L ".concat(t+r-l/2,",").concat(n+i),o+="L ".concat(t+r-l/2-s,",").concat(n+i),o+="L ".concat(t,",").concat(n," Z"),o},UK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VK=function(t){var n=aj(aj({},UK),t),r=w.useRef(),s=w.useState(-1),i=IK(s,2),l=i[0],o=i[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&o(j)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,f=n.lowerWidth,p=n.height,g=n.className,m=n.animationEasing,b=n.animationDuration,h=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var x=fe("recharts-trapezoid",g);return y?M.createElement(ia,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:p,x:c,y:d},duration:b,animationEasing:m,isActive:y},function(j){var N=j.upperWidth,v=j.lowerWidth,S=j.height,k=j.x,O=j.y;return M.createElement(ia,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:b,easing:m},M.createElement("path",Xd({},Ee(n,!0),{className:x,d:sj(k,O,N,v,S),ref:r})))}):M.createElement("g",null,M.createElement("path",Xd({},Ee(n,!0),{className:x,d:sj(c,d,u,f,p)})))},WK=["option","shapeType","propTransformer","activeClassName","isActive"];function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function HK(e,t){if(e==null)return{};var n=qK(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(n),!0).forEach(function(r){GK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GK(e,t,n){return t=KK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KK(e){var t=XK(e,"string");return co(t)=="symbol"?t:t+""}function XK(e,t){if(co(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(co(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YK(e,t){return Yd(Yd({},t),e)}function QK(e,t){return e==="symbols"}function lj(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return M.createElement(pg,n);case"trapezoid":return M.createElement(VK,n);case"sector":return M.createElement(v5,n);case"symbols":if(QK(t))return M.createElement(A0,n);break;default:return null}}function JK(e){return w.isValidElement(e)?e.props:e}function ZK(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?YK:r,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,o=e.isActive,c=HK(e,WK),d;if(w.isValidElement(t))d=w.cloneElement(t,Yd(Yd({},c),JK(t)));else if(ke(t))d=t(c);else if(CK(t)&&!$K(t)){var u=s(t,c);d=M.createElement(lj,{shapeType:n,elementProps:u})}else{var f=c;d=M.createElement(lj,{shapeType:n,elementProps:f})}return o?M.createElement(mt,{className:l},d):d}function wf(e,t){return t!=null&&"trapezoids"in e.props}function Nf(e,t){return t!=null&&"sectors"in e.props}function uo(e,t){return t!=null&&"points"in e.props}function eX(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&i}function tX(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function nX(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function rX(e,t){var n;return wf(e,t)?n=eX:Nf(e,t)?n=tX:uo(e,t)&&(n=nX),n}function aX(e,t){var n;return wf(e,t)?n="trapezoids":Nf(e,t)?n="sectors":uo(e,t)&&(n="points"),n}function sX(e,t){if(wf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Nf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return uo(e,t)?t.payload:{}}function iX(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=aX(n,t),i=sX(n,t),l=r.filter(function(c,d){var u=cg(i,c),f=n.props[s].filter(function(m){var b=rX(n,t);return b(m,t)}),p=n.props[s].indexOf(f[f.length-1]),g=d===p;return u&&g}),o=r.indexOf(l[l.length-1]);return o}var lX=Math.ceil,oX=Math.max;function cX(e,t,n,r){for(var s=-1,i=oX(lX((t-e)/(n||1)),0),l=Array(i);i--;)l[r?i:++s]=e,e+=n;return l}var dX=cX,uX=ok,oj=1/0,fX=17976931348623157e292;function pX(e){if(!e)return e===0?e:0;if(e=uX(e),e===oj||e===-oj){var t=e<0?-1:1;return t*fX}return e===e?e:0}var mX=pX,hX=dX,xX=df,Ep=mX;function gX(e){return function(t,n,r){return r&&typeof r!="number"&&xX(t,n,r)&&(n=r=void 0),t=Ep(t),n===void 0?(n=t,t=0):n=Ep(n),r=r===void 0?t<n?1:-1:Ep(r),hX(t,n,r,e)}}var yX=gX,vX=yX,bX=vX(),jX=bX;const Qd=Be(jX);function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){T5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T5(e,t,n){return t=wX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=NX(e,"string");return fo(t)=="symbol"?t:t+""}function NX(e,t){if(fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SX=["Webkit","Moz","O","ms"],kX=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=SX.reduce(function(i,l){return dj(dj({},i),{},T5({},l+r,n))},{});return s[t]=n,s};function ei(e){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(this,arguments)}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Tp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){tn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I5(r.key),r)}}function CX(e,t,n){return t&&fj(e.prototype,t),n&&fj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _X(e,t,n){return t=Zd(t),PX(e,$5()?Reflect.construct(t,n||[],Zd(e).constructor):t.apply(e,n))}function PX(e,t){if(t&&(ei(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AX(e)}function AX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($5=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(e)}function EX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fh(e,t)}function Fh(e,t){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Fh(e,t)}function tn(e,t,n){return t=I5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I5(e){var t=TX(e,"string");return ei(t)=="symbol"?t:t+""}function TX(e,t){if(ei(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ei(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $X=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,i=t.x,l=t.width,o=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=pl().domain(Qd(0,c)).range([i,i+l-o]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(s),scale:d,scaleValues:u}},pj=function(t){return t.changedTouches&&!!t.changedTouches.length},ti=function(e){function t(n){var r;return OX(this,t),r=_X(this,t,[n]),tn(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),tn(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),tn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,l=s.onDragEnd,o=s.startIndex;l==null||l({endIndex:i,startIndex:o})}),r.detachDragEndListener()}),tn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),tn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),tn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),tn(r,"handleSlideDragStart",function(s){var i=pj(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return EX(t,e),CX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,l=this.state.scaleValues,o=this.props,c=o.gap,d=o.data,u=d.length-1,f=Math.min(s,i),p=Math.max(s,i),g=t.getIndexInRange(l,f),m=t.getIndexInRange(l,p);return{startIndex:g-g%c,endIndex:m===u?u:m-m%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,l=s.tickFormatter,o=s.dataKey,c=lr(i[r],o,r);return ke(l)?l(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,l=s.startX,o=s.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,p=c.startIndex,g=c.endIndex,m=c.onChange,b=r.pageX-i;b>0?b=Math.min(b,d+u-f-o,d+u-f-l):b<0&&(b=Math.max(b,d-l,d-o));var h=this.getIndex({startX:l+b,endX:o+b});(h.startIndex!==p||h.endIndex!==g)&&m&&m(h),this.setState({startX:l+b,endX:o+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=pj(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,o=s.endX,c=s.startX,d=this.state[l],u=this.props,f=u.x,p=u.width,g=u.travellerWidth,m=u.onChange,b=u.gap,h=u.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-i;x>0?x=Math.min(x,f+p-g-d):x<0&&(x=Math.max(x,f-d)),y[l]=d+x;var j=this.getIndex(y),N=j.startIndex,v=j.endIndex,S=function(){var O=h.length-1;return l==="startX"&&(o>c?N%b===0:v%b===0)||o<c&&v===O||l==="endX"&&(o>c?v%b===0:N%b===0)||o>c&&v===O};this.setState(tn(tn({},l,d+x),"brushMoveStartX",r.pageX),function(){m&&S()&&m(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,l=this.state,o=l.scaleValues,c=l.startX,d=l.endX,u=this.state[s],f=o.indexOf(u);if(f!==-1){var p=f+r;if(!(p===-1||p>=o.length)){var g=o[p];s==="startX"&&g>=d||s==="endX"&&g<=c||this.setState(tn({},s,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,o=r.height,c=r.fill,d=r.stroke;return M.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:l,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,o=r.height,c=r.data,d=r.children,u=r.padding,f=w.Children.only(d);return f?M.cloneElement(f,{x:s,y:i,width:l,height:o,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,l,o=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,p=c.traveller,g=c.ariaLabel,m=c.data,b=c.startIndex,h=c.endIndex,y=Math.max(r,this.props.x),x=Tp(Tp({},Ee(this.props,!1)),{},{x:y,y:d,width:u,height:f}),j=g||"Min value: ".concat((i=m[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=m[h])===null||l===void 0?void 0:l.name);return M.createElement(mt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(v){["ArrowLeft","ArrowRight"].includes(v.key)&&(v.preventDefault(),v.stopPropagation(),o.handleTravellerMoveKeyboard(v.key==="ArrowRight"?1:-1,s))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,x))}},{key:"renderSlide",value:function(r,s){var i=this.props,l=i.y,o=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(r,s)+d,f=Math.max(Math.abs(s-r)-d,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:l,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,l=r.y,o=r.height,c=r.travellerWidth,d=r.stroke,u=this.state,f=u.startX,p=u.endX,g=5,m={pointerEvents:"none",fill:d};return M.createElement(mt,{className:"recharts-brush-texts"},M.createElement(Cd,Jd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-g,y:l+o/2},m),this.getTextOfTick(s)),M.createElement(Cd,Jd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+g,y:l+o/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,l=r.children,o=r.x,c=r.y,d=r.width,u=r.height,f=r.alwaysShowText,p=this.state,g=p.startX,m=p.endX,b=p.isTextActive,h=p.isSlideMoving,y=p.isTravellerMoving,x=p.isTravellerFocused;if(!s||!s.length||!re(o)||!re(c)||!re(d)||!re(u)||d<=0||u<=0)return null;var j=fe("recharts-brush",i),N=M.Children.count(l)===1,v=kX("userSelect","none");return M.createElement(mt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(g,m),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(m,"endX"),(b||h||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,l=r.width,o=r.height,c=r.stroke,d=Math.floor(i+o/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:s,y:i,width:l,height:o,fill:c,stroke:"none"}),M.createElement("line",{x1:s+1,y1:d,x2:s+l-1,y2:d,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:s+1,y1:d+2,x2:s+l-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return M.isValidElement(r)?i=M.cloneElement(r,s):ke(r)?i=r(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,l=r.width,o=r.x,c=r.travellerWidth,d=r.updateId,u=r.startIndex,f=r.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return Tp({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:l},i&&i.length?$X({data:i,width:l,x:o,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||o!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([o,o+l-c]);var p=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:l,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,l=0,o=i-1;o-l>1;){var c=Math.floor((l+o)/2);r[c]>s?o=c:l=c}return s>=r[o]?o:l}}])}(w.PureComponent);tn(ti,"displayName","Brush");tn(ti,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var IX=L0;function MX(e,t){var n;return IX(e,function(r,s,i){return n=t(r,s,i),!n}),!!n}var DX=MX,RX=DS,LX=_i,zX=DX,BX=en,FX=df;function UX(e,t,n){var r=BX(e)?RX:zX;return n&&FX(e,t,n)&&(t=void 0),r(e,LX(t))}var VX=UX;const WX=Be(VX);var ar=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},mj=rk;function HX(e,t,n){t=="__proto__"&&mj?mj(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var qX=HX,GX=qX,KX=tk,XX=_i;function YX(e,t){var n={};return t=XX(t),KX(e,function(r,s,i){GX(n,s,t(r,s,i))}),n}var QX=YX;const JX=Be(QX);function ZX(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var eY=ZX,tY=L0;function nY(e,t){var n=!0;return tY(e,function(r,s,i){return n=!!t(r,s,i),n}),n}var rY=nY,aY=eY,sY=rY,iY=_i,lY=en,oY=df;function cY(e,t,n){var r=lY(e)?aY:sY;return n&&oY(e,t,n)&&(t=void 0),r(e,iY(t))}var dY=cY;const uY=Be(dY);var fY=["x","y"];function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(this,arguments)}function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return t=mY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=hY(e,"string");return po(t)=="symbol"?t:t+""}function hY(e,t){if(po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xY(e,t){if(e==null)return{};var n=gY(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yY(e,t){var n=e.x,r=e.y,s=xY(e,fY),i="".concat(n),l=parseInt(i,10),o="".concat(r),c=parseInt(o,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),p=parseInt(f,10);return Yi(Yi(Yi(Yi(Yi({},t),s),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function xj(e){return M.createElement(ZK,Uh({shapeType:"rectangle",propTransformer:yY,activeClassName:"recharts-active-bar"},e))}var vY=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var i=re(r)||A$(r);return i?t(r,s):(i||Ga(),n)}},bY=["value","background"],M5;function ni(e){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(e)}function jY(e,t){if(e==null)return{};var n=wY(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eu.apply(this,arguments)}function gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(n),!0).forEach(function(r){Hr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R5(r.key),r)}}function SY(e,t,n){return t&&yj(e.prototype,t),n&&yj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kY(e,t,n){return t=tu(t),OY(e,D5()?Reflect.construct(t,n||[],tu(e).constructor):t.apply(e,n))}function OY(e,t){if(t&&(ni(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CY(e)}function CY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!e})()}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tu(e)}function _Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vh(e,t)}function Vh(e,t){return Vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Vh(e,t)}function Hr(e,t,n){return t=R5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R5(e){var t=PY(e,"string");return ni(t)=="symbol"?t:t+""}function PY(e,t){if(ni(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ni(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ma=function(e){function t(){var n;NY(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=kY(this,t,[].concat(s)),Hr(n,"state",{isAnimationFinished:!1}),Hr(n,"id",nf("recharts-bar-")),Hr(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Hr(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return _Y(t,e),SY(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,l=i.shape,o=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Ee(this.props,!1);return r&&r.map(function(f,p){var g=p===c,m=g?d:l,b=nt(nt(nt({},u),f),{},{isActive:g,option:m,index:p,dataKey:o,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return M.createElement(mt,eu({className:"recharts-bar-rectangle"},pd(s.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),M.createElement(xj,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,l=s.layout,o=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,p=this.state.prevData;return M.createElement(ia,{begin:c,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var m=g.t,b=i.map(function(h,y){var x=p&&p[y];if(x){var j=rs(x.x,h.x),N=rs(x.y,h.y),v=rs(x.width,h.width),S=rs(x.height,h.height);return nt(nt({},h),{},{x:j(m),y:N(m),width:v(m),height:S(m)})}if(l==="horizontal"){var k=rs(0,h.height),O=k(m);return nt(nt({},h),{},{y:h.y+h.height-O,height:O})}var _=rs(0,h.width),C=_(m);return nt(nt({},h),{},{width:C})});return M.createElement(mt,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!cg(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,l=s.dataKey,o=s.activeIndex,c=Ee(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,p=jY(d,bY);if(!f)return null;var g=nt(nt(nt(nt(nt({},p),{},{fill:"#eee"},f),c),pd(r.props,d,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:u,className:"recharts-bar-background-rectangle"});return M.createElement(xj,eu({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},g))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,o=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Bn(u,jf);if(!f)return null;var p=d==="vertical"?l[0].height/2:l[0].width/2,g=function(h,y){var x=Array.isArray(h.value)?h.value[1]:h.value;return{x:h.x,y:h.y,value:x,errorVal:lr(h,y)}},m={clipPath:r?"url(#clipPath-".concat(s,")"):null};return M.createElement(mt,m,f.map(function(b){return M.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:l,xAxis:o,yAxis:c,layout:d,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,l=r.className,o=r.xAxis,c=r.yAxis,d=r.left,u=r.top,f=r.width,p=r.height,g=r.isAnimationActive,m=r.background,b=r.id;if(s||!i||!i.length)return null;var h=this.state.isAnimationFinished,y=fe("recharts-bar",l),x=o&&o.allowDataOverflow,j=c&&c.allowDataOverflow,N=x||j,v=Pe(b)?this.id:b;return M.createElement(mt,{className:y},x||j?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(v)},M.createElement("rect",{x:x?d:d-f/2,y:j?u:u-p/2,width:x?f:f*2,height:j?p:p*2}))):null,M.createElement(mt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(v,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,v),(!g||h)&&Ra.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(w.PureComponent);M5=ma;Hr(ma,"displayName","Bar");Hr(ma,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!To.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hr(ma,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,g=ZW(r,n);if(!g)return null;var m=t.layout,b=n.type.defaultProps,h=b!==void 0?nt(nt({},b),n.props):n.props,y=h.dataKey,x=h.children,j=h.minPointSize,N=m==="horizontal"?l:i,v=d?N.scale.domain():null,S=lH({numericAxis:N}),k=Bn(x,uk),O=f.map(function(_,C){var E,T,L,I,F,$;d?E=eH(d[u+C],v):(E=lr(_,y),Array.isArray(E)||(E=[S,E]));var z=vY(j,M5.defaultProps.minPointSize)(E[1],C);if(m==="horizontal"){var A,P=[l.scale(E[0]),l.scale(E[1])],U=P[0],K=P[1];T=v1({axis:i,ticks:o,bandSize:s,offset:g.offset,entry:_,index:C}),L=(A=K??U)!==null&&A!==void 0?A:void 0,I=g.size;var q=U-K;if(F=Number.isNaN(q)?0:q,$={x:T,y:l.y,width:I,height:l.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var D=Rn(F||z)*(Math.abs(z)-Math.abs(F));L-=D,F+=D}}else{var te=[i.scale(E[0]),i.scale(E[1])],se=te[0],be=te[1];if(T=se,L=v1({axis:l,ticks:c,bandSize:s,offset:g.offset,entry:_,index:C}),I=be-se,F=g.size,$={x:i.x,y:L,width:i.width,height:F},Math.abs(z)>0&&Math.abs(I)<Math.abs(z)){var Q=Rn(I||z)*(Math.abs(z)-Math.abs(I));I+=Q}}return nt(nt(nt({},_),{},{x:T,y:L,width:I,height:F,value:d?E:E[1],payload:_,background:$},k&&k[C]&&k[C].props),{},{tooltipPayload:[x5(n,_)],tooltipPosition:{x:T+I/2,y:L+F/2}})});return nt({data:O,layout:m},p)});function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function AY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L5(r.key),r)}}function EY(e,t,n){return t&&vj(e.prototype,t),n&&vj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){Sf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sf(e,t,n){return t=L5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L5(e){var t=TY(e,"string");return mo(t)=="symbol"?t:t+""}function TY(e,t){if(mo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Y=function(t,n,r,s,i){var l=t.width,o=t.height,c=t.layout,d=t.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},p=!!rn(d,ma);return u.reduce(function(g,m){var b=n[m],h=b.orientation,y=b.domain,x=b.padding,j=x===void 0?{}:x,N=b.mirror,v=b.reversed,S="".concat(h).concat(N?"Mirror":""),k,O,_,C,E;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var T=y[1]-y[0],L=1/0,I=b.categoricalDomain.sort($$);if(I.forEach(function(te,se){se>0&&(L=Math.min((te||0)-(I[se-1]||0),L))}),Number.isFinite(L)){var F=L/T,$=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(k=F*$/2),b.padding==="no-gap"){var z=Ha(t.barCategoryGap,F*$),A=F*$/2;k=A-z-(A-z)/$*z}}}s==="xAxis"?O=[r.left+(j.left||0)+(k||0),r.left+r.width-(j.right||0)-(k||0)]:s==="yAxis"?O=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(k||0),r.top+r.height-(j.bottom||0)-(k||0)]:O=b.range,v&&(O=[O[1],O[0]]);var P=QW(b,i,p),U=P.scale,K=P.realScaleType;U.domain(y).range(O),JW(U);var q=iH(U,In(In({},b),{},{realScaleType:K}));s==="xAxis"?(E=h==="top"&&!N||h==="bottom"&&N,_=r.left,C=f[S]-E*b.height):s==="yAxis"&&(E=h==="left"&&!N||h==="right"&&N,_=f[S]-E*b.width,C=r.top);var D=In(In(In({},b),q),{},{realScaleType:K,x:_,y:C,scale:U,width:s==="xAxis"?r.width:b.width,height:s==="yAxis"?r.height:b.height});return D.bandSize=Fd(D,q),!b.hide&&s==="xAxis"?f[S]+=(E?-1:1)*D.height:b.hide||(f[S]+=(E?-1:1)*D.width),In(In({},g),{},Sf({},m,D))},{})},z5=function(t,n){var r=t.x,s=t.y,i=n.x,l=n.y;return{x:Math.min(r,i),y:Math.min(s,l),width:Math.abs(i-r),height:Math.abs(l-s)}},IY=function(t){var n=t.x1,r=t.y1,s=t.x2,i=t.y2;return z5({x:n,y:r},{x:s,y:i})},B5=function(){function e(t){AY(this,e),this.scale=t}return EY(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();Sf(B5,"EPS",1e-4);var mg=function(t){var n=Object.keys(t).reduce(function(r,s){return In(In({},r),{},Sf({},s,B5.create(t[s])))},{});return In(In({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,o=i.position;return JX(s,function(c,d){return n[d].apply(c,{bandAware:l,position:o})})},isInRange:function(s){return uY(s,function(i,l){return n[l].isInRange(i)})}})};function MY(e){return(e%180+180)%180}var DY=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=MY(s),l=i*Math.PI/180,o=Math.atan(r/n),c=l>o&&l<Math.PI-o?r/Math.sin(l):n/Math.cos(l);return Math.abs(c)},RY=D6(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),F5=w.createContext(void 0),U5=w.createContext(void 0),V5=w.createContext(void 0),LY=w.createContext({}),W5=w.createContext(void 0),H5=w.createContext(0),q5=w.createContext(0),jj=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,l=t.clipPathId,o=t.children,c=t.width,d=t.height,u=RY(i);return M.createElement(F5.Provider,{value:r},M.createElement(U5.Provider,{value:s},M.createElement(LY.Provider,{value:i},M.createElement(V5.Provider,{value:u},M.createElement(W5.Provider,{value:l},M.createElement(H5.Provider,{value:d},M.createElement(q5.Provider,{value:c},o)))))))},zY=function(){return w.useContext(W5)},G5=function(t){var n=w.useContext(F5);n==null&&Ga();var r=n[t];return r==null&&Ga(),r},K5=function(t){var n=w.useContext(U5);n==null&&Ga();var r=n[t];return r==null&&Ga(),r},BY=function(){var t=w.useContext(V5);return t},X5=function(){return w.useContext(q5)},Y5=function(){return w.useContext(H5)};function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function FY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J5(r.key),r)}}function VY(e,t,n){return t&&UY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WY(e,t,n){return t=nu(t),HY(e,Q5()?Reflect.construct(t,n||[],nu(e).constructor):t.apply(e,n))}function HY(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qY(e)}function qY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!e})()}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nu(e)}function GY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wh(e,t)}function Wh(e,t){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Wh(e,t)}function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Nj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(n),!0).forEach(function(r){hg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hg(e,t,n){return t=J5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J5(e){var t=KY(e,"string");return ri(t)=="symbol"?t:t+""}function KY(e,t){if(ri(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XY(e,t){return ZY(e)||JY(e,t)||QY(e,t)||YY()}function YY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QY(e,t){if(e){if(typeof e=="string")return Sj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sj(e,t)}}function Sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function ZY(e){if(Array.isArray(e))return e}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hh.apply(this,arguments)}var eQ=function(t,n){var r;return M.isValidElement(t)?r=M.cloneElement(t,n):ke(t)?r=t(n):r=M.createElement("line",Hh({},n,{className:"recharts-reference-line-line"})),r},tQ=function(t,n,r,s,i,l,o,c,d){var u=i.x,f=i.y,p=i.width,g=i.height;if(r){var m=d.y,b=t.y.apply(m,{position:l});if(ar(d,"discard")&&!t.y.isInRange(b))return null;var h=[{x:u+p,y:b},{x:u,y:b}];return c==="left"?h.reverse():h}if(n){var y=d.x,x=t.x.apply(y,{position:l});if(ar(d,"discard")&&!t.x.isInRange(x))return null;var j=[{x,y:f+g},{x,y:f}];return o==="top"?j.reverse():j}if(s){var N=d.segment,v=N.map(function(S){return t.apply(S,{position:l})});return ar(d,"discard")&&WX(v,function(S){return!t.isInRange(S)})?null:v}return null};function nQ(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,o=e.className,c=e.alwaysShow,d=zY(),u=G5(s),f=K5(i),p=BY();if(!d||!p)return null;Ia(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=mg({x:u.scale,y:f.scale}),m=dt(t),b=dt(n),h=r&&r.length===2,y=tQ(g,m,b,h,p,e.position,u.orientation,f.orientation,e);if(!y)return null;var x=XY(y,2),j=x[0],N=j.x,v=j.y,S=x[1],k=S.x,O=S.y,_=ar(e,"hidden")?"url(#".concat(d,")"):void 0,C=Nj(Nj({clipPath:_},Ee(e,!0)),{},{x1:N,y1:v,x2:k,y2:O});return M.createElement(mt,{className:fe("recharts-reference-line",o)},eQ(l,C),At.renderCallByParent(e,IY({x1:N,y1:v,x2:k,y2:O})))}var xg=function(e){function t(){return FY(this,t),WY(this,t,arguments)}return GY(t,e),VY(t,[{key:"render",value:function(){return M.createElement(nQ,this.props)}}])}(M.Component);hg(xg,"displayName","ReferenceLine");hg(xg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(this,arguments)}function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(r){kf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e4(r.key),r)}}function sQ(e,t,n){return t&&aQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iQ(e,t,n){return t=ru(t),lQ(e,Z5()?Reflect.construct(t,n||[],ru(e).constructor):t.apply(e,n))}function lQ(e,t){if(t&&(ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oQ(e)}function oQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z5=function(){return!!e})()}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ru(e)}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gh(e,t)}function Gh(e,t){return Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Gh(e,t)}function kf(e,t,n){return t=e4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e4(e){var t=dQ(e,"string");return ai(t)=="symbol"?t:t+""}function dQ(e,t){if(ai(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ai(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uQ=function(t){var n=t.x,r=t.y,s=t.xAxis,i=t.yAxis,l=mg({x:s.scale,y:i.scale}),o=l.apply({x:n,y:r},{bandAware:!0});return ar(t,"discard")&&!l.isInRange(o)?null:o},Of=function(e){function t(){return rQ(this,t),iQ(this,t,arguments)}return cQ(t,e),sQ(t,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,l=r.r,o=r.alwaysShow,c=r.clipPathId,d=dt(s),u=dt(i);if(Ia(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=uQ(this.props);if(!f)return null;var p=f.x,g=f.y,m=this.props,b=m.shape,h=m.className,y=ar(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=Oj(Oj({clipPath:y},Ee(this.props,!0)),{},{cx:p,cy:g});return M.createElement(mt,{className:fe("recharts-reference-dot",h)},t.renderDot(b,x),At.renderCallByParent(this.props,{x:p-l,y:g-l,width:2*l,height:2*l}))}}])}(M.Component);kf(Of,"displayName","ReferenceDot");kf(Of,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kf(Of,"renderDot",function(e,t){var n;return M.isValidElement(e)?n=M.cloneElement(e,t):ke(e)?n=e(t):n=M.createElement(A5,qh({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kh.apply(this,arguments)}function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){Cf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n4(r.key),r)}}function mQ(e,t,n){return t&&pQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hQ(e,t,n){return t=au(t),xQ(e,t4()?Reflect.construct(t,n||[],au(e).constructor):t.apply(e,n))}function xQ(e,t){if(t&&(si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gQ(e)}function gQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!e})()}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},au(e)}function yQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xh(e,t)}function Xh(e,t){return Xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Xh(e,t)}function Cf(e,t,n){return t=n4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n4(e){var t=vQ(e,"string");return si(t)=="symbol"?t:t+""}function vQ(e,t){if(si(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(si(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bQ=function(t,n,r,s,i){var l=i.x1,o=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var p=mg({x:u.scale,y:f.scale}),g={x:t?p.x.apply(l,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},m={x:n?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return ar(i,"discard")&&(!p.isInRange(g)||!p.isInRange(m))?null:z5(g,m)},_f=function(e){function t(){return fQ(this,t),hQ(this,t,arguments)}return yQ(t,e),mQ(t,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,l=r.y1,o=r.y2,c=r.className,d=r.alwaysShow,u=r.clipPathId;Ia(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=dt(s),p=dt(i),g=dt(l),m=dt(o),b=this.props.shape;if(!f&&!p&&!g&&!m&&!b)return null;var h=bQ(f,p,g,m,this.props);if(!h&&!b)return null;var y=ar(this.props,"hidden")?"url(#".concat(u,")"):void 0;return M.createElement(mt,{className:fe("recharts-reference-area",c)},t.renderRect(b,_j(_j({clipPath:y},Ee(this.props,!0)),h)),At.renderCallByParent(this.props,h))}}])}(M.Component);Cf(_f,"displayName","ReferenceArea");Cf(_f,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cf(_f,"renderRect",function(e,t){var n;return M.isValidElement(e)?n=M.cloneElement(e,t):ke(e)?n=e(t):n=M.createElement(pg,Kh({},t,{className:"recharts-reference-area-rect"})),n});function r4(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function jQ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return DY(r,n)}function wQ(e,t,n){var r=n==="width",s=e.x,i=e.y,l=e.width,o=e.height;return t===1?{start:r?s:i,end:r?s+l:i+o}:{start:r?s+l:i+o,end:r?s:i}}function su(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-s)<=0}function NQ(e,t){return r4(e,t+1)}function SQ(e,t,n,r,s){for(var i=(r||[]).slice(),l=t.start,o=t.end,c=0,d=1,u=l,f=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:r4(r,d)};var b=c,h,y=function(){return h===void 0&&(h=n(m,b)),h},x=m.coordinate,j=c===0||su(e,x,y,u,o);j||(c=0,u=l,d+=1),j&&(u=x+e*(y()/2+s),c+=d)},p;d<=i.length;)if(p=f(),p)return p.v;return[]}function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(r){kQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kQ(e,t,n){return t=OQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OQ(e){var t=CQ(e,"string");return ho(t)=="symbol"?t:t+""}function CQ(e,t){if(ho(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Q(e,t,n,r,s){for(var i=(r||[]).slice(),l=i.length,o=t.start,c=t.end,d=function(p){var g=i[p],m,b=function(){return m===void 0&&(m=n(g,p)),m};if(p===l-1){var h=e*(g.coordinate+e*b()/2-c);i[p]=g=_t(_t({},g),{},{tickCoord:h>0?g.coordinate-h*e:g.coordinate})}else i[p]=g=_t(_t({},g),{},{tickCoord:g.coordinate});var y=su(e,g.tickCoord,b,o,c);y&&(c=g.tickCoord-e*(b()/2+s),i[p]=_t(_t({},g),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function PQ(e,t,n,r,s,i){var l=(r||[]).slice(),o=l.length,c=t.start,d=t.end;if(i){var u=r[o-1],f=n(u,o-1),p=e*(u.coordinate+e*f/2-d);l[o-1]=u=_t(_t({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var g=su(e,u.tickCoord,function(){return f},c,d);g&&(d=u.tickCoord-e*(f/2+s),l[o-1]=_t(_t({},u),{},{isShow:!0}))}for(var m=i?o-1:o,b=function(x){var j=l[x],N,v=function(){return N===void 0&&(N=n(j,x)),N};if(x===0){var S=e*(j.coordinate-e*v()/2-c);l[x]=j=_t(_t({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else l[x]=j=_t(_t({},j),{},{tickCoord:j.coordinate});var k=su(e,j.tickCoord,v,c,d);k&&(c=j.tickCoord+e*(v()/2+s),l[x]=_t(_t({},j),{},{isShow:!0}))},h=0;h<m;h++)b(h);return l}function AQ(e,t,n){var r=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,o=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!r)return[];if(re(c)||To.isSsr)return NQ(s,typeof c=="number"&&re(c)?c:0);var p=[],g=o==="top"||o==="bottom"?"width":"height",m=u&&g==="width"?fl(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=function(j,N){var v=ke(d)?d(j.value,N):j.value;return g==="width"?jQ(fl(v,{fontSize:t,letterSpacing:n}),m,f):fl(v,{fontSize:t,letterSpacing:n})[g]},h=s.length>=2?Rn(s[1].coordinate-s[0].coordinate):1,y=wQ(i,h,g);return c==="equidistantPreserveStart"?SQ(h,y,b,s,l):(c==="preserveStart"||c==="preserveStartEnd"?p=PQ(h,y,b,s,l,c==="preserveStartEnd"):p=_Q(h,y,b,s,l),p.filter(function(x){return x.isShow}))}var EQ=["viewBox"],TQ=["viewBox"],$Q=["ticks"];function ii(e){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(this,arguments)}function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(n),!0).forEach(function(r){gg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $p(e,t){if(e==null)return{};var n=IQ(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IQ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function MQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ej(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s4(r.key),r)}}function DQ(e,t,n){return t&&Ej(e.prototype,t),n&&Ej(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RQ(e,t,n){return t=iu(t),LQ(e,a4()?Reflect.construct(t,n||[],iu(e).constructor):t.apply(e,n))}function LQ(e,t){if(t&&(ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zQ(e)}function zQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!e})()}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iu(e)}function BQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yh(e,t)}function Yh(e,t){return Yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Yh(e,t)}function gg(e,t,n){return t=s4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s4(e){var t=FQ(e,"string");return ii(t)=="symbol"?t:t+""}function FQ(e,t){if(ii(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ii(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pf=function(e){function t(n){var r;return MQ(this,t),r=RQ(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return BQ(t,e),DQ(t,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,l=$p(r,EQ),o=this.props,c=o.viewBox,d=$p(o,TQ);return!As(i,c)||!As(l,d)||!As(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,l=s.y,o=s.width,c=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,p=s.tickMargin,g,m,b,h,y,x,j=f?-1:1,N=r.tickSize||u,v=re(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":g=m=r.coordinate,h=l+ +!f*c,b=h-j*N,x=b-j*p,y=v;break;case"left":b=h=r.coordinate,m=i+ +!f*o,g=m-j*N,y=g-j*p,x=v;break;case"right":b=h=r.coordinate,m=i+ +f*o,g=m+j*N,y=g+j*p,x=v;break;default:g=m=r.coordinate,h=l+ +f*c,b=h+j*N,x=b+j*p,y=v;break}return{line:{x1:g,y1:b,x2:m,y2:h},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,o=r.height,c=r.orientation,d=r.mirror,u=r.axisLine,f=it(it(it({},Ee(this.props,!1)),Ee(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);f=it(it({},f),{},{x1:s,y1:i+p*o,x2:s+l,y2:i+p*o})}else{var g=+(c==="left"&&!d||c==="right"&&d);f=it(it({},f),{},{x1:s+g*l,y1:i,x2:s+g*l,y2:i+o})}return M.createElement("line",bs({},f,{className:fe("recharts-cartesian-axis-line",Nn(u,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var l=this,o=this.props,c=o.tickLine,d=o.stroke,u=o.tick,f=o.tickFormatter,p=o.unit,g=AQ(it(it({},this.props),{},{ticks:r}),s,i),m=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),h=Ee(this.props,!1),y=Ee(u,!1),x=it(it({},h),{},{fill:"none"},Ee(c,!1)),j=g.map(function(N,v){var S=l.getTickLineCoord(N),k=S.line,O=S.tick,_=it(it(it(it({textAnchor:m,verticalAnchor:b},h),{},{stroke:"none",fill:d},y),O),{},{index:v,payload:N,visibleTicksCount:g.length,tickFormatter:f});return M.createElement(mt,bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},pd(l.props,N,v)),c&&M.createElement("line",bs({},x,k,{className:fe("recharts-cartesian-axis-tick-line",Nn(c,"className"))})),u&&t.renderTickItem(u,_,"".concat(ke(f)?f(N.value,v):N.value).concat(p||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,l=s.width,o=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,p=f.ticks,g=$p(f,$Q),m=p;return ke(c)&&(m=p&&p.length>0?c(this.props):c(g)),l<=0||o<=0||!m||!m.length?null:M.createElement(mt,{className:fe("recharts-cartesian-axis",d),ref:function(h){r.layerReference=h}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),At.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var l,o=fe(s.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?l=M.cloneElement(r,it(it({},s),{},{className:o})):ke(r)?l=r(it(it({},s),{},{className:o})):l=M.createElement(Cd,bs({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])}(w.Component);gg(Pf,"displayName","CartesianAxis");gg(Pf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function li(e){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(e)}function UQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o4(r.key),r)}}function WQ(e,t,n){return t&&VQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HQ(e,t,n){return t=lu(t),qQ(e,i4()?Reflect.construct(t,n||[],lu(e).constructor):t.apply(e,n))}function qQ(e,t){if(t&&(li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GQ(e)}function GQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!e})()}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lu(e)}function KQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qh(e,t)}function Qh(e,t){return Qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Qh(e,t)}function l4(e,t,n){return t=o4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o4(e){var t=XQ(e,"string");return li(t)=="symbol"?t:t+""}function XQ(e,t){if(li(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jh.apply(this,arguments)}function YQ(e){var t=e.xAxisId,n=X5(),r=Y5(),s=G5(t);return s==null?null:w.createElement(Pf,Jh({},s,{className:fe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return Pa(l,!0)}}))}var Ro=function(e){function t(){return UQ(this,t),HQ(this,t,arguments)}return KQ(t,e),WQ(t,[{key:"render",value:function(){return w.createElement(YQ,this.props)}}])}(w.Component);l4(Ro,"displayName","XAxis");l4(Ro,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oi(e){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}function QQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u4(r.key),r)}}function ZQ(e,t,n){return t&&JQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eJ(e,t,n){return t=ou(t),tJ(e,c4()?Reflect.construct(t,n||[],ou(e).constructor):t.apply(e,n))}function tJ(e,t){if(t&&(oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nJ(e)}function nJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!e})()}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ou(e)}function rJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zh(e,t)}function Zh(e,t){return Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Zh(e,t)}function d4(e,t,n){return t=u4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u4(e){var t=aJ(e,"string");return oi(t)=="symbol"?t:t+""}function aJ(e,t){if(oi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ex.apply(this,arguments)}var sJ=function(t){var n=t.yAxisId,r=X5(),s=Y5(),i=K5(n);return i==null?null:w.createElement(Pf,ex({},i,{className:fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Pa(o,!0)}}))},Lo=function(e){function t(){return QQ(this,t),eJ(this,t,arguments)}return rJ(t,e),ZQ(t,[{key:"render",value:function(){return w.createElement(sJ,this.props)}}])}(w.Component);d4(Lo,"displayName","YAxis");d4(Lo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Tj(e){return cJ(e)||oJ(e)||lJ(e)||iJ()}function iJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(e,t){if(e){if(typeof e=="string")return tx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tx(e,t)}}function oJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cJ(e){if(Array.isArray(e))return tx(e)}function tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nx=function(t,n,r,s,i){var l=Bn(t,xg),o=Bn(t,Of),c=[].concat(Tj(l),Tj(o)),d=Bn(t,_f),u="".concat(s,"Id"),f=s[0],p=n;if(c.length&&(p=c.reduce(function(b,h){if(h.props[u]===r&&ar(h.props,"extendDomain")&&re(h.props[f])){var y=h.props[f];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},p)),d.length){var g="".concat(f,"1"),m="".concat(f,"2");p=d.reduce(function(b,h){if(h.props[u]===r&&ar(h.props,"extendDomain")&&re(h.props[g])&&re(h.props[m])){var y=h.props[g],x=h.props[m];return[Math.min(b[0],y,x),Math.max(b[1],y,x)]}return b},p)}return i&&i.length&&(p=i.reduce(function(b,h){return re(h)?[Math.min(b[0],h),Math.max(b[1],h)]:b},p)),p},f4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new s(u,f||c,p),m=n?n+d:d;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=n?n+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,m=new Array(g);p<g;p++)m[p]=f[p].fn;return m},o.prototype.listenerCount=function(d){var u=n?n+d:d,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,u,f,p,g,m){var b=n?n+d:d;if(!this._events[b])return!1;var h=this._events[b],y=arguments.length,x,j;if(h.fn){switch(h.once&&this.removeListener(d,h.fn,void 0,!0),y){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,u),!0;case 3:return h.fn.call(h.context,u,f),!0;case 4:return h.fn.call(h.context,u,f,p),!0;case 5:return h.fn.call(h.context,u,f,p,g),!0;case 6:return h.fn.call(h.context,u,f,p,g,m),!0}for(j=1,x=new Array(y-1);j<y;j++)x[j-1]=arguments[j];h.fn.apply(h.context,x)}else{var N=h.length,v;for(j=0;j<N;j++)switch(h[j].once&&this.removeListener(d,h[j].fn,void 0,!0),y){case 1:h[j].fn.call(h[j].context);break;case 2:h[j].fn.call(h[j].context,u);break;case 3:h[j].fn.call(h[j].context,u,f);break;case 4:h[j].fn.call(h[j].context,u,f,p);break;default:if(!x)for(v=1,x=new Array(y-1);v<y;v++)x[v-1]=arguments[v];h[j].fn.apply(h[j].context,x)}}return!0},o.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},o.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},o.prototype.removeListener=function(d,u,f,p){var g=n?n+d:d;if(!this._events[g])return this;if(!u)return l(this,g),this;var m=this._events[g];if(m.fn)m.fn===u&&(!p||m.once)&&(!f||m.context===f)&&l(this,g);else{for(var b=0,h=[],y=m.length;b<y;b++)(m[b].fn!==u||p&&!m[b].once||f&&m[b].context!==f)&&h.push(m[b]);h.length?this._events[g]=h.length===1?h[0]:h:l(this,g)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&l(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(f4);var dJ=f4.exports;const uJ=Be(dJ);var Ip=new uJ,Mp="recharts.syncMouseEvents";function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function fJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p4(r.key),r)}}function mJ(e,t,n){return t&&pJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dp(e,t,n){return t=p4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p4(e){var t=hJ(e,"string");return xo(t)=="symbol"?t:t+""}function hJ(e,t){if(xo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xJ=function(){function e(){fJ(this,e),Dp(this,"activeIndex",0),Dp(this,"coordinateList",[]),Dp(this,"layout","horizontal")}return mJ(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,l=n.container,o=l===void 0?null:l,c=n.layout,d=c===void 0?null:c,u=n.offset,f=u===void 0?null:u,p=n.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,o=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+d,p=l+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function gJ(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&re(r)&&re(s))return!0}return!1}function yJ(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function m4(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,i=e.endAngle,l=jt(t,n,r,s),o=jt(t,n,r,i);return{points:[l,o],cx:t,cy:n,radius:r,startAngle:s,endAngle:i}}function vJ(e,t,n){var r,s,i,l;if(e==="horizontal")r=t.x,i=r,s=n.top,l=n.top+n.height;else if(e==="vertical")s=t.y,l=s,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,p=jt(o,c,d,f),g=jt(o,c,u,f);r=p.x,s=p.y,i=g.x,l=g.y}else return m4(t);return[{x:r,y:s},{x:i,y:l}]}function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return t=jJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jJ(e){var t=wJ(e,"string");return go(t)=="symbol"?t:t+""}function wJ(e,t){if(go(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e){var t,n,r=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,o=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,g=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!i||!l||p!=="ScatterChart"&&s!=="axis")return null;var m,b=M1;if(p==="ScatterChart")m=l,b=pK;else if(p==="BarChart")m=yJ(f,l,c,u),b=pg;else if(f==="radial"){var h=m4(l),y=h.cx,x=h.cy,j=h.radius,N=h.startAngle,v=h.endAngle;m={cx:y,cy:x,startAngle:N,endAngle:v,innerRadius:j,outerRadius:j},b=v5}else m={points:vJ(f,l,c)},b=M1;var S=xc(xc(xc(xc({stroke:"#ccc",pointerEvents:"none"},c),m),Ee(g,!1)),{},{payload:o,payloadIndex:d,className:fe("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,S):w.createElement(b,S)}var SJ=["item"],kJ=["children","className","width","height","style","compact","title","desc"];function ci(e){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js.apply(this,arguments)}function Ij(e,t){return _J(e)||CJ(e,t)||x4(e,t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,o=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return o}}function _J(e){if(Array.isArray(e))return e}function Mj(e,t){if(e==null)return{};var n=PJ(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PJ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function AJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g4(r.key),r)}}function TJ(e,t,n){return t&&EJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $J(e,t,n){return t=cu(t),IJ(e,h4()?Reflect.construct(t,n||[],cu(e).constructor):t.apply(e,n))}function IJ(e,t){if(t&&(ci(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MJ(e)}function MJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!e})()}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cu(e)}function DJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rx(e,t)}function di(e){return zJ(e)||LJ(e)||x4(e)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4(e,t){if(e){if(typeof e=="string")return ax(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ax(e,t)}}function LJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zJ(e){if(Array.isArray(e))return ax(e)}function ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){he(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function he(e,t,n){return t=g4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g4(e){var t=BJ(e,"string");return ci(t)=="symbol"?t:t+""}function BJ(e,t){if(ci(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ci(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FJ={xAxis:["bottom","top"],yAxis:["left","right"]},UJ={width:"100%",height:"100%"},y4={x:0,y:0};function gc(e){return e}var VJ=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},WJ=function(t,n,r,s){var i=n.find(function(u){return u&&u.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,o=s.radius;return G(G(G({},s),jt(s.cx,s.cy,o,l)),{},{angle:l,radius:o})}var c=i.coordinate,d=s.angle;return G(G(G({},s),jt(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return y4},Af=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,l=(r??[]).reduce(function(o,c){var d=c.props.data;return d&&d.length?[].concat(di(o),di(d)):o},[]);return l.length>0?l:t&&t.length&&re(s)&&re(i)?t.slice(s,i+1):[]};function v4(e){return e==="number"?[0,"auto"]:void 0}var sx=function(t,n,r,s){var i=t.graphicalItems,l=t.tooltipAxis,o=Af(n,t);return r<0||!i||!i.length||r>=o.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(l.dataKey&&!l.allowDuplicatedCategory){var g=f===void 0?o:f;p=Lm(g,l.dataKey,s)}else p=f&&f[r]||o[r];return p?[].concat(di(c),[x5(d,p)]):c},[])},Rj=function(t,n,r,s){var i=s||{x:t.chartX,y:t.chartY},l=VJ(i,r),o=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=HW(l,o,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,p=sx(t,n,u,f),g=WJ(r,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:g}}return null},HJ=function(t,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,l=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,g=m5(u,i);return r.reduce(function(m,b){var h,y=b.type.defaultProps!==void 0?G(G({},b.type.defaultProps),b.props):b.props,x=y.type,j=y.dataKey,N=y.allowDataOverflow,v=y.allowDuplicatedCategory,S=y.scale,k=y.ticks,O=y.includeHidden,_=y[l];if(m[_])return m;var C=Af(t.data,{graphicalItems:s.filter(function(q){var D,te=l in q.props?q.props[l]:(D=q.type.defaultProps)===null||D===void 0?void 0:D[l];return te===_}),dataStartIndex:c,dataEndIndex:d}),E=C.length,T,L,I;gJ(y.domain,N,x)&&(T=kh(y.domain,null,N),g&&(x==="number"||S!=="auto")&&(I=ml(C,j,"category")));var F=v4(x);if(!T||T.length===0){var $,z=($=y.domain)!==null&&$!==void 0?$:F;if(j){if(T=ml(C,j,x),x==="category"&&g){var A=T$(T);v&&A?(L=T,T=Qd(0,E)):v||(T=w1(z,T,b).reduce(function(q,D){return q.indexOf(D)>=0?q:[].concat(di(q),[D])},[]))}else if(x==="category")v?T=T.filter(function(q){return q!==""&&!Pe(q)}):T=w1(z,T,b).reduce(function(q,D){return q.indexOf(D)>=0||D===""||Pe(D)?q:[].concat(di(q),[D])},[]);else if(x==="number"){var P=YW(C,s.filter(function(q){var D,te,se=l in q.props?q.props[l]:(D=q.type.defaultProps)===null||D===void 0?void 0:D[l],be="hide"in q.props?q.props.hide:(te=q.type.defaultProps)===null||te===void 0?void 0:te.hide;return se===_&&(O||!be)}),j,i,u);P&&(T=P)}g&&(x==="number"||S!=="auto")&&(I=ml(C,j,"category"))}else g?T=Qd(0,E):o&&o[_]&&o[_].hasStack&&x==="number"?T=p==="expand"?[0,1]:h5(o[_].stackGroups,c,d):T=p5(C,s.filter(function(q){var D=l in q.props?q.props[l]:q.type.defaultProps[l],te="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return D===_&&(O||!te)}),x,u,!0);if(x==="number")T=nx(f,T,_,i,k),z&&(T=kh(z,T,N));else if(x==="category"&&z){var U=z,K=T.every(function(q){return U.indexOf(q)>=0});K&&(T=U)}}return G(G({},m),{},he({},_,G(G({},y),{},{axisType:i,domain:T,categoricalDomain:I,duplicateDomain:L,originalDomain:(h=y.domain)!==null&&h!==void 0?h:F,isCategorical:g,layout:u})))},{})},qJ=function(t,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,l=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=Af(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),g=p.length,m=m5(u,i),b=-1;return r.reduce(function(h,y){var x=y.type.defaultProps!==void 0?G(G({},y.type.defaultProps),y.props):y.props,j=x[l],N=v4("number");if(!h[j]){b++;var v;return m?v=Qd(0,g):o&&o[j]&&o[j].hasStack?(v=h5(o[j].stackGroups,c,d),v=nx(f,v,j,i)):(v=kh(N,p5(p,r.filter(function(S){var k,O,_=l in S.props?S.props[l]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[l],C="hide"in S.props?S.props.hide:(O=S.type.defaultProps)===null||O===void 0?void 0:O.hide;return _===j&&!C}),"number",u),s.defaultProps.allowDataOverflow),v=nx(f,v,j,i)),G(G({},h),{},he({},j,G(G({axisType:i},s.defaultProps),{},{hide:!0,orientation:Nn(FJ,"".concat(i,".").concat(b%2),null),domain:v,originalDomain:N,isCategorical:m,layout:u})))}return h},{})},GJ=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,l=n.graphicalItems,o=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,f="".concat(s,"Id"),p=Bn(u,i),g={};return p&&p.length?g=HJ(t,{axes:p,graphicalItems:l,axisType:s,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:d}):l&&l.length&&(g=qJ(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:d})),g},KJ=function(t){var n=is(t),r=Pa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:z0(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Fd(n,r)}},Lj=function(t){var n=t.children,r=t.defaultShowTooltip,s=rn(n,ti),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},XJ=function(t){return!t||!t.length?!1:t.some(function(n){var r=vr(n&&n.type);return r&&r.indexOf("Bar")>=0})},zj=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YJ=function(t,n){var r=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,d=r.width,u=r.height,f=r.children,p=r.margin||{},g=rn(f,ti),m=rn(f,Es),b=Object.keys(c).reduce(function(v,S){var k=c[S],O=k.orientation;return!k.mirror&&!k.hide?G(G({},v),{},he({},O,v[O]+k.width)):v},{left:p.left||0,right:p.right||0}),h=Object.keys(l).reduce(function(v,S){var k=l[S],O=k.orientation;return!k.mirror&&!k.hide?G(G({},v),{},he({},O,Nn(v,"".concat(O))+k.height)):v},{top:p.top||0,bottom:p.bottom||0}),y=G(G({},h),b),x=y.bottom;g&&(y.bottom+=g.props.height||ti.defaultProps.height),m&&n&&(y=KW(y,s,r,n));var j=d-y.left-y.right,N=u-y.top-y.bottom;return G(G({brushBottom:x},y),{},{width:Math.max(j,0),height:Math.max(N,0)})},QJ=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},JJ=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,o=l===void 0?["axis"]:l,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(y,x){var j=x.graphicalItems,N=x.stackGroups,v=x.offset,S=x.updateId,k=x.dataStartIndex,O=x.dataEndIndex,_=y.barSize,C=y.layout,E=y.barGap,T=y.barCategoryGap,L=y.maxBarSize,I=zj(C),F=I.numericAxisName,$=I.cateAxisName,z=XJ(j),A=[];return j.forEach(function(P,U){var K=Af(y.data,{graphicalItems:[P],dataStartIndex:k,dataEndIndex:O}),q=P.type.defaultProps!==void 0?G(G({},P.type.defaultProps),P.props):P.props,D=q.dataKey,te=q.maxBarSize,se=q["".concat(F,"Id")],be=q["".concat($,"Id")],Q={},ie=c.reduce(function(ge,Te){var Ge=x["".concat(Te.axisType,"Map")],J=q["".concat(Te.axisType,"Id")];Ge&&Ge[J]||Te.axisType==="zAxis"||Ga();var ye=Ge[J];return G(G({},ge),{},he(he({},Te.axisType,ye),"".concat(Te.axisType,"Ticks"),Pa(ye)))},Q),Y=ie[$],ee=ie["".concat($,"Ticks")],le=N&&N[se]&&N[se].hasStack&&oH(P,N[se].stackGroups),H=vr(P.type).indexOf("Bar")>=0,de=Fd(Y,ee),X=[],ue=z&&qW({barSize:_,stackGroups:N,totalSize:QJ(ie,$)});if(H){var me,je,Ne=Pe(te)?L:te,B=(me=(je=Fd(Y,ee,!0))!==null&&je!==void 0?je:Ne)!==null&&me!==void 0?me:0;X=GW({barGap:E,barCategoryGap:T,bandSize:B!==de?B:de,sizeList:ue[be],maxBarSize:Ne}),B!==de&&(X=X.map(function(ge){return G(G({},ge),{},{position:G(G({},ge.position),{},{offset:ge.position.offset-B/2})})}))}var ne=P&&P.type&&P.type.getComposedData;ne&&A.push({props:G(G({},ne(G(G({},ie),{},{displayedData:K,props:y,dataKey:D,item:P,bandSize:de,barPosition:X,offset:v,stackedData:le,layout:C,dataStartIndex:k,dataEndIndex:O}))),{},he(he(he({key:P.key||"item-".concat(U)},F,ie[F]),$,ie[$]),"animationId",S)),childIndex:W$(P,y.children),item:P})}),A},g=function(y,x){var j=y.props,N=y.dataStartIndex,v=y.dataEndIndex,S=y.updateId;if(!xv({props:j}))return null;var k=j.children,O=j.layout,_=j.stackOffset,C=j.data,E=j.reverseStackOrder,T=zj(O),L=T.numericAxisName,I=T.cateAxisName,F=Bn(k,r),$=sH(C,F,"".concat(L,"Id"),"".concat(I,"Id"),_,E),z=c.reduce(function(q,D){var te="".concat(D.axisType,"Map");return G(G({},q),{},he({},te,GJ(j,G(G({},D),{},{graphicalItems:F,stackGroups:D.axisType===L&&$,dataStartIndex:N,dataEndIndex:v}))))},{}),A=YJ(G(G({},z),{},{props:j,graphicalItems:F}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(q){z[q]=u(j,z[q],A,q.replace("Map",""),n)});var P=z["".concat(I,"Map")],U=KJ(P),K=p(j,G(G({},z),{},{dataStartIndex:N,dataEndIndex:v,updateId:S,graphicalItems:F,stackGroups:$,offset:A}));return G(G({formattedGraphicalItems:K,graphicalItems:F,offset:A,stackGroups:$},U),z)},m=function(h){function y(x){var j,N,v;return AJ(this,y),v=$J(this,y,[x]),he(v,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(v,"accessibilityManager",new xJ),he(v,"handleLegendBBoxUpdate",function(S){if(S){var k=v.state,O=k.dataStartIndex,_=k.dataEndIndex,C=k.updateId;v.setState(G({legendBBox:S},g({props:v.props,dataStartIndex:O,dataEndIndex:_,updateId:C},G(G({},v.state),{},{legendBBox:S}))))}}),he(v,"handleReceiveSyncEvent",function(S,k,O){if(v.props.syncId===S){if(O===v.eventEmitterSymbol&&typeof v.props.syncMethod!="function")return;v.applySyncEvent(k)}}),he(v,"handleBrushChange",function(S){var k=S.startIndex,O=S.endIndex;if(k!==v.state.dataStartIndex||O!==v.state.dataEndIndex){var _=v.state.updateId;v.setState(function(){return G({dataStartIndex:k,dataEndIndex:O},g({props:v.props,dataStartIndex:k,dataEndIndex:O,updateId:_},v.state))}),v.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),he(v,"handleMouseEnter",function(S){var k=v.getMouseInfo(S);if(k){var O=G(G({},k),{},{isTooltipActive:!0});v.setState(O),v.triggerSyncEvent(O);var _=v.props.onMouseEnter;ke(_)&&_(O,S)}}),he(v,"triggeredAfterMouseMove",function(S){var k=v.getMouseInfo(S),O=k?G(G({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};v.setState(O),v.triggerSyncEvent(O);var _=v.props.onMouseMove;ke(_)&&_(O,S)}),he(v,"handleItemMouseEnter",function(S){v.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),he(v,"handleItemMouseLeave",function(){v.setState(function(){return{isTooltipActive:!1}})}),he(v,"handleMouseMove",function(S){S.persist(),v.throttleTriggeredAfterMouseMove(S)}),he(v,"handleMouseLeave",function(S){v.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};v.setState(k),v.triggerSyncEvent(k);var O=v.props.onMouseLeave;ke(O)&&O(k,S)}),he(v,"handleOuterEvent",function(S){var k=V$(S),O=Nn(v.props,"".concat(k));if(k&&ke(O)){var _,C;/.*touch.*/i.test(k)?C=v.getMouseInfo(S.changedTouches[0]):C=v.getMouseInfo(S),O((_=C)!==null&&_!==void 0?_:{},S)}}),he(v,"handleClick",function(S){var k=v.getMouseInfo(S);if(k){var O=G(G({},k),{},{isTooltipActive:!0});v.setState(O),v.triggerSyncEvent(O);var _=v.props.onClick;ke(_)&&_(O,S)}}),he(v,"handleMouseDown",function(S){var k=v.props.onMouseDown;if(ke(k)){var O=v.getMouseInfo(S);k(O,S)}}),he(v,"handleMouseUp",function(S){var k=v.props.onMouseUp;if(ke(k)){var O=v.getMouseInfo(S);k(O,S)}}),he(v,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),he(v,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.handleMouseDown(S.changedTouches[0])}),he(v,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.handleMouseUp(S.changedTouches[0])}),he(v,"handleDoubleClick",function(S){var k=v.props.onDoubleClick;if(ke(k)){var O=v.getMouseInfo(S);k(O,S)}}),he(v,"handleContextMenu",function(S){var k=v.props.onContextMenu;if(ke(k)){var O=v.getMouseInfo(S);k(O,S)}}),he(v,"triggerSyncEvent",function(S){v.props.syncId!==void 0&&Ip.emit(Mp,v.props.syncId,S,v.eventEmitterSymbol)}),he(v,"applySyncEvent",function(S){var k=v.props,O=k.layout,_=k.syncMethod,C=v.state.updateId,E=S.dataStartIndex,T=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)v.setState(G({dataStartIndex:E,dataEndIndex:T},g({props:v.props,dataStartIndex:E,dataEndIndex:T,updateId:C},v.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,I=S.chartY,F=S.activeTooltipIndex,$=v.state,z=$.offset,A=$.tooltipTicks;if(!z)return;if(typeof _=="function")F=_(A,S);else if(_==="value"){F=-1;for(var P=0;P<A.length;P++)if(A[P].value===S.activeLabel){F=P;break}}var U=G(G({},z),{},{x:z.left,y:z.top}),K=Math.min(L,U.x+U.width),q=Math.min(I,U.y+U.height),D=A[F]&&A[F].value,te=sx(v.state,v.props.data,F),se=A[F]?{x:O==="horizontal"?A[F].coordinate:K,y:O==="horizontal"?q:A[F].coordinate}:y4;v.setState(G(G({},S),{},{activeLabel:D,activeCoordinate:se,activePayload:te,activeTooltipIndex:F}))}else v.setState(S)}),he(v,"renderCursor",function(S){var k,O=v.state,_=O.isTooltipActive,C=O.activeCoordinate,E=O.activePayload,T=O.offset,L=O.activeTooltipIndex,I=O.tooltipAxisBandSize,F=v.getTooltipEventType(),$=(k=S.props.active)!==null&&k!==void 0?k:_,z=v.props.layout,A=S.key||"_recharts-cursor";return M.createElement(NJ,{key:A,activeCoordinate:C,activePayload:E,activeTooltipIndex:L,chartName:n,element:S,isActive:$,layout:z,offset:T,tooltipAxisBandSize:I,tooltipEventType:F})}),he(v,"renderPolarAxis",function(S,k,O){var _=Nn(S,"type.axisType"),C=Nn(v.state,"".concat(_,"Map")),E=S.type.defaultProps,T=E!==void 0?G(G({},E),S.props):S.props,L=C&&C[T["".concat(_,"Id")]];return w.cloneElement(S,G(G({},L),{},{className:fe(_,L.className),key:S.key||"".concat(k,"-").concat(O),ticks:Pa(L,!0)}))}),he(v,"renderPolarGrid",function(S){var k=S.props,O=k.radialLines,_=k.polarAngles,C=k.polarRadius,E=v.state,T=E.radiusAxisMap,L=E.angleAxisMap,I=is(T),F=is(L),$=F.cx,z=F.cy,A=F.innerRadius,P=F.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(_)?_:Pa(F,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(C)?C:Pa(I,!0).map(function(U){return U.coordinate}),cx:$,cy:z,innerRadius:A,outerRadius:P,key:S.key||"polar-grid",radialLines:O})}),he(v,"renderLegend",function(){var S=v.state.formattedGraphicalItems,k=v.props,O=k.children,_=k.width,C=k.height,E=v.props.margin||{},T=_-(E.left||0)-(E.right||0),L=u5({children:O,formattedGraphicalItems:S,legendWidth:T,legendContent:d});if(!L)return null;var I=L.item,F=Mj(L,SJ);return w.cloneElement(I,G(G({},F),{},{chartWidth:_,chartHeight:C,margin:E,onBBoxUpdate:v.handleLegendBBoxUpdate}))}),he(v,"renderTooltip",function(){var S,k=v.props,O=k.children,_=k.accessibilityLayer,C=rn(O,$n);if(!C)return null;var E=v.state,T=E.isTooltipActive,L=E.activeCoordinate,I=E.activePayload,F=E.activeLabel,$=E.offset,z=(S=C.props.active)!==null&&S!==void 0?S:T;return w.cloneElement(C,{viewBox:G(G({},$),{},{x:$.left,y:$.top}),active:z,label:F,payload:z?I:[],coordinate:L,accessibilityLayer:_})}),he(v,"renderBrush",function(S){var k=v.props,O=k.margin,_=k.data,C=v.state,E=C.offset,T=C.dataStartIndex,L=C.dataEndIndex,I=C.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:fc(v.handleBrushChange,S.props.onChange),data:_,x:re(S.props.x)?S.props.x:E.left,y:re(S.props.y)?S.props.y:E.top+E.height+E.brushBottom-(O.bottom||0),width:re(S.props.width)?S.props.width:E.width,startIndex:T,endIndex:L,updateId:"brush-".concat(I)})}),he(v,"renderReferenceElement",function(S,k,O){if(!S)return null;var _=v,C=_.clipPathId,E=v.state,T=E.xAxisMap,L=E.yAxisMap,I=E.offset,F=S.type.defaultProps||{},$=S.props,z=$.xAxisId,A=z===void 0?F.xAxisId:z,P=$.yAxisId,U=P===void 0?F.yAxisId:P;return w.cloneElement(S,{key:S.key||"".concat(k,"-").concat(O),xAxis:T[A],yAxis:L[U],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:C})}),he(v,"renderActivePoints",function(S){var k=S.item,O=S.activePoint,_=S.basePoint,C=S.childIndex,E=S.isRange,T=[],L=k.props.key,I=k.item.type.defaultProps!==void 0?G(G({},k.item.type.defaultProps),k.item.props):k.item.props,F=I.activeDot,$=I.dataKey,z=G(G({index:C,dataKey:$,cx:O.x,cy:O.y,r:4,fill:fg(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ee(F,!1)),fd(F));return T.push(y.renderActiveDot(F,z,"".concat(L,"-activePoint-").concat(C))),_?T.push(y.renderActiveDot(F,G(G({},z),{},{cx:_.x,cy:_.y}),"".concat(L,"-basePoint-").concat(C))):E&&T.push(null),T}),he(v,"renderGraphicChild",function(S,k,O){var _=v.filterFormatItem(S,k,O);if(!_)return null;var C=v.getTooltipEventType(),E=v.state,T=E.isTooltipActive,L=E.tooltipAxis,I=E.activeTooltipIndex,F=E.activeLabel,$=v.props.children,z=rn($,$n),A=_.props,P=A.points,U=A.isRange,K=A.baseLine,q=_.item.type.defaultProps!==void 0?G(G({},_.item.type.defaultProps),_.item.props):_.item.props,D=q.activeDot,te=q.hide,se=q.activeBar,be=q.activeShape,Q=!!(!te&&T&&z&&(D||se||be)),ie={};C!=="axis"&&z&&z.props.trigger==="click"?ie={onClick:fc(v.handleItemMouseEnter,S.props.onClick)}:C!=="axis"&&(ie={onMouseLeave:fc(v.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:fc(v.handleItemMouseEnter,S.props.onMouseEnter)});var Y=w.cloneElement(S,G(G({},_.props),ie));function ee(Te){return typeof L.dataKey=="function"?L.dataKey(Te.payload):null}if(Q)if(I>=0){var le,H;if(L.dataKey&&!L.allowDuplicatedCategory){var de=typeof L.dataKey=="function"?ee:"payload.".concat(L.dataKey.toString());le=Lm(P,de,F),H=U&&K&&Lm(K,de,F)}else le=P==null?void 0:P[I],H=U&&K&&K[I];if(be||se){var X=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[w.cloneElement(S,G(G(G({},_.props),ie),{},{activeIndex:X})),null,null]}if(!Pe(le))return[Y].concat(di(v.renderActivePoints({item:_,activePoint:le,basePoint:H,childIndex:I,isRange:U})))}else{var ue,me=(ue=v.getItemByXY(v.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:Y},je=me.graphicalItem,Ne=je.item,B=Ne===void 0?S:Ne,ne=je.childIndex,ge=G(G(G({},_.props),ie),{},{activeIndex:ne});return[w.cloneElement(B,ge),null,null]}return U?[Y,null,null]:[Y,null]}),he(v,"renderCustomized",function(S,k,O){return w.cloneElement(S,G(G({key:"recharts-customized-".concat(O)},v.props),v.state))}),he(v,"renderMap",{CartesianGrid:{handler:gc,once:!0},ReferenceArea:{handler:v.renderReferenceElement},ReferenceLine:{handler:gc},ReferenceDot:{handler:v.renderReferenceElement},XAxis:{handler:gc},YAxis:{handler:gc},Brush:{handler:v.renderBrush,once:!0},Bar:{handler:v.renderGraphicChild},Line:{handler:v.renderGraphicChild},Area:{handler:v.renderGraphicChild},Radar:{handler:v.renderGraphicChild},RadialBar:{handler:v.renderGraphicChild},Scatter:{handler:v.renderGraphicChild},Pie:{handler:v.renderGraphicChild},Funnel:{handler:v.renderGraphicChild},Tooltip:{handler:v.renderCursor,once:!0},PolarGrid:{handler:v.renderPolarGrid,once:!0},PolarAngleAxis:{handler:v.renderPolarAxis},PolarRadiusAxis:{handler:v.renderPolarAxis},Customized:{handler:v.renderCustomized}}),v.clipPathId="".concat((j=x.id)!==null&&j!==void 0?j:nf("recharts"),"-clip"),v.throttleTriggeredAfterMouseMove=ck(v.triggeredAfterMouseMove,(N=x.throttleDelay)!==null&&N!==void 0?N:1e3/60),v.state={},v}return DJ(y,h),TJ(y,[{key:"componentDidMount",value:function(){var j,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,N=j.children,v=j.data,S=j.height,k=j.layout,O=rn(N,$n);if(O){var _=O.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,E=sx(this.state,v,_,C),T=this.state.tooltipTicks[_].coordinate,L=(this.state.offset.top+S)/2,I=k==="horizontal",F=I?{x:T,y:L}:{y:T,x:L},$=this.state.formattedGraphicalItems.find(function(A){var P=A.item;return P.type.name==="Scatter"});$&&(F=G(G({},F),$.props.points[_].tooltipPosition),E=$.props.points[_].tooltipPayload);var z={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:C,activePayload:E,activeCoordinate:F};this.setState(z),this.renderCursor(O),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var v,S;this.accessibilityManager.setDetails({offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(j){Bm([rn(j.children,$n)],[rn(this.props.children,$n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=rn(this.props.children,$n);if(j&&typeof j.props.shared=="boolean"){var N=j.props.shared?"axis":"item";return o.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var N=this.container,v=N.getBoundingClientRect(),S=gU(v),k={chartX:Math.round(j.pageX-S.left),chartY:Math.round(j.pageY-S.top)},O=v.width/N.offsetWidth||1,_=this.inRange(k.chartX,k.chartY,O);if(!_)return null;var C=this.state,E=C.xAxisMap,T=C.yAxisMap,L=this.getTooltipEventType(),I=Rj(this.state,this.props.data,this.props.layout,_);if(L!=="axis"&&E&&T){var F=is(E).scale,$=is(T).scale,z=F&&F.invert?F.invert(k.chartX):null,A=$&&$.invert?$.invert(k.chartY):null;return G(G({},k),{},{xValue:z,yValue:A},I)}return I?G(G({},k),I):null}},{key:"inRange",value:function(j,N){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=j/v,O=N/v;if(S==="horizontal"||S==="vertical"){var _=this.state.offset,C=k>=_.left&&k<=_.left+_.width&&O>=_.top&&O<=_.top+_.height;return C?{x:k,y:O}:null}var E=this.state,T=E.angleAxisMap,L=E.radiusAxisMap;if(T&&L){var I=is(T);return k1({x:k,y:O},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,N=this.getTooltipEventType(),v=rn(j,$n),S={};v&&N==="axis"&&(v.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=fd(this.props,this.handleOuterEvent);return G(G({},k),S)}},{key:"addListener",value:function(){Ip.on(Mp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ip.removeListener(Mp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,N,v){for(var S=this.state.formattedGraphicalItems,k=0,O=S.length;k<O;k++){var _=S[k];if(_.item===j||_.props.key===j.key||N===vr(_.item.type)&&v===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,N=this.state.offset,v=N.left,S=N.top,k=N.height,O=N.width;return M.createElement("defs",null,M.createElement("clipPath",{id:j},M.createElement("rect",{x:v,y:S,height:k,width:O})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(N,v){var S=Ij(v,2),k=S[0],O=S[1];return G(G({},N),{},he({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(N,v){var S=Ij(v,2),k=S[0],O=S[1];return G(G({},N),{},he({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(j){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(j){var N=this.state,v=N.formattedGraphicalItems,S=N.activeItem;if(v&&v.length)for(var k=0,O=v.length;k<O;k++){var _=v[k],C=_.props,E=_.item,T=E.type.defaultProps!==void 0?G(G({},E.type.defaultProps),E.props):E.props,L=vr(E.type);if(L==="Bar"){var I=(C.data||[]).find(function(A){return rK(j,A)});if(I)return{graphicalItem:_,payload:I}}else if(L==="RadialBar"){var F=(C.data||[]).find(function(A){return k1(j,A)});if(F)return{graphicalItem:_,payload:F}}else if(wf(_,S)||Nf(_,S)||uo(_,S)){var $=iX({graphicalItem:_,activeTooltipItem:S,itemData:T.data}),z=T.activeIndex===void 0?$:T.activeIndex;return{graphicalItem:G(G({},_),{},{childIndex:z}),payload:uo(_,S)?T.data[$]:_.props.data[$]}}}return null}},{key:"render",value:function(){var j=this;if(!xv(this))return null;var N=this.props,v=N.children,S=N.className,k=N.width,O=N.height,_=N.style,C=N.compact,E=N.title,T=N.desc,L=Mj(N,kJ),I=Ee(L,!1);if(C)return M.createElement(jj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Um,js({},I,{width:k,height:O,title:E,desc:T}),this.renderClipPath(),yv(v,this.renderMap)));if(this.props.accessibilityLayer){var F,$;I.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,I.role=($=this.props.role)!==null&&$!==void 0?$:"application",I.onKeyDown=function(A){j.accessibilityManager.keyboardEvent(A)},I.onFocus=function(){j.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return M.createElement(jj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",js({className:fe("recharts-wrapper",S),style:G({position:"relative",cursor:"default",width:k,height:O},_)},z,{ref:function(P){j.container=P}}),M.createElement(Um,js({},I,{width:k,height:O,title:E,desc:T,style:UJ}),this.renderClipPath(),yv(v,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);he(m,"displayName",n),he(m,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),he(m,"getDerivedStateFromProps",function(h,y){var x=h.dataKey,j=h.data,N=h.children,v=h.width,S=h.height,k=h.layout,O=h.stackOffset,_=h.margin,C=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var T=Lj(h);return G(G(G({},T),{},{updateId:0},g(G(G({props:h},T),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:j,prevWidth:v,prevHeight:S,prevLayout:k,prevStackOffset:O,prevMargin:_,prevChildren:N})}if(x!==y.prevDataKey||j!==y.prevData||v!==y.prevWidth||S!==y.prevHeight||k!==y.prevLayout||O!==y.prevStackOffset||!As(_,y.prevMargin)){var L=Lj(h),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},F=G(G({},Rj(y,j,k)),{},{updateId:y.updateId+1}),$=G(G(G({},L),I),F);return G(G(G({},$),g(G({props:h},$),y)),{},{prevDataKey:x,prevData:j,prevWidth:v,prevHeight:S,prevLayout:k,prevStackOffset:O,prevMargin:_,prevChildren:N})}if(!Bm(N,y.prevChildren)){var z,A,P,U,K=rn(N,ti),q=K&&(z=(A=K.props)===null||A===void 0?void 0:A.startIndex)!==null&&z!==void 0?z:C,D=K&&(P=(U=K.props)===null||U===void 0?void 0:U.endIndex)!==null&&P!==void 0?P:E,te=q!==C||D!==E,se=!Pe(j),be=se&&!te?y.updateId:y.updateId+1;return G(G({updateId:be},g(G(G({props:h},y),{},{updateId:be,dataStartIndex:q,dataEndIndex:D}),y)),{},{prevChildren:N,dataStartIndex:q,dataEndIndex:D})}return null}),he(m,"renderActiveDot",function(h,y,x){var j;return w.isValidElement(h)?j=w.cloneElement(h,y):ke(h)?j=h(y):j=M.createElement(A5,y),M.createElement(mt,{className:"recharts-active-dot",key:x},j)});var b=w.forwardRef(function(y,x){return M.createElement(m,js({},y,{ref:x}))});return b.displayName=m.displayName,b},b4=JJ({chartName:"BarChart",GraphicalChild:ma,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ro},{axisType:"yAxis",AxisComp:Lo}],formatAxisMap:$Y});const yg=({value:e,onOwnerChange:t})=>{const[n,r]=w.useState([]);w.useEffect(()=>{(async()=>{try{const l=await R.get("/api/admin/owners");r(l.data||[])}catch(l){console.error("Failed to fetch owners",l)}})()},[]);const s=i=>{t(i.target.value)};return a.jsxs("div",{className:"flex items-center gap-3 bg-white px-4 py-2 rounded-xl shadow-sm border border-slate-100 min-w-[240px]",children:[a.jsx("div",{className:"text-indigo-500",children:a.jsx(zt,{size:18})}),a.jsxs("select",{value:e,onChange:s,className:"bg-transparent border-none outline-none text-slate-700 font-bold text-sm cursor-pointer w-full appearance-none",children:[a.jsx("option",{value:"",children:"All Owners / Global View"}),n.map(i=>a.jsx("option",{value:i.id,children:i.companyName||i.name||`Owner #${i.id}`},i.id))]}),a.jsx("div",{className:"text-slate-400 pointer-events-none text-[10px]",children:""})]})},ZJ=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(""),l=async(y="")=>{try{r(!0);const x=y?`/api/admin/dashboard/stats?ownerId=${y}`:"/api/admin/dashboard/stats",j=await R.get(x);t(j.data)}catch(x){console.error("Failed to fetch dashboard stats",x),t(null)}finally{r(!1)}};w.useEffect(()=>{l(s)},[s]);const o=e||{totalProperties:0,totalUnits:0,occupancy:{occupied:0,vacant:0},monthlyRevenue:0,projectedRevenue:0,actualRevenue:0,insuranceAlerts:{expired:0,expiringSoon:0},recentActivity:[]},{totalProperties:c,totalUnits:d,occupancy:u,monthlyRevenue:f,projectedRevenue:p,actualRevenue:g,insuranceAlerts:m,recentActivity:b}=o,h=[{month:"Jan",revenue:12e3},{month:"Feb",revenue:14500},{month:"Mar",revenue:13200},{month:"Apr",revenue:15800},{month:"May",revenue:f}];return a.jsx(Ce,{title:"Dashboard Overview",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsx("section",{className:"flex justify-end sticky top-0 z-10 py-2 bg-slate-50/80 backdrop-blur-sm -mx-4 px-4",children:a.jsx(yg,{value:s,onOwnerChange:y=>i(y)})}),n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-6",children:[a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Total Properties"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:c})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Total Units"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:d})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Occupancy"}),a.jsxs("p",{className:"mt-2 text-gray-700",children:[a.jsx("strong",{children:"Occupied:"})," ",u.occupied," ",a.jsx("br",{}),a.jsx("strong",{children:"Vacant:"})," ",u.vacant]})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-indigo-500",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Projected Revenue"}),a.jsxs("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:["$",(p||f||0).toLocaleString()]})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-emerald-500",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide",children:"Actual Revenue (YTD)"}),a.jsxs("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:["$",(g||0).toLocaleString()]})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-red-500 cursor-pointer",onClick:()=>window.location.href="/insurance-alerts",children:[a.jsx("span",{className:"text-sm text-gray-500 tracking-wide font-medium",children:"Insurance Alerts"}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-bold text-red-600 uppercase tracking-tight",children:"Expired"}),a.jsx("span",{className:"text-lg font-black text-red-700",children:m.expired})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-bold text-amber-600 uppercase tracking-tight",children:"Expiring Soon"}),a.jsx("span",{className:"text-lg font-black text-amber-700",children:m.expiringSoon})]})]})]})]}),a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(360px,1fr))] gap-6",children:[a.jsx(xe,{title:"Recent Activity",className:"p-6 rounded-[20px] bg-white shadow-[0_18px_35px_rgba(0,0,0,0.07)]",children:a.jsxs("ul",{className:"pl-4 text-gray-700 space-y-2 list-disc marker:text-gray-400",children:[b.map((y,x)=>a.jsx("li",{children:y},x)),b.length===0&&a.jsx("li",{className:"list-none text-gray-400 italic",children:"No recent activity for this owner"})]})}),a.jsx(xe,{title:"Revenue Trends",className:"p-6 rounded-[20px] bg-white shadow-[0_18px_35px_rgba(0,0,0,0.07)]",children:a.jsx(dk,{width:"100%",height:260,children:a.jsxs(b4,{data:h,children:[a.jsx(Ro,{dataKey:"month",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Lo,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:y=>`$${y}`}),a.jsx($n,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f1f5f9"}}),a.jsx(ma,{dataKey:"revenue",radius:[6,6,0,0],fill:"#6366f1",barSize:32})]})})})]})]})]})})},eZ=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(!1),[s,i]=w.useState({total:0,vacant:0,occupied:0,vacancyByBuilding:[]}),l=async(o="")=>{try{r(!0);const c=o?`/api/admin/analytics/vacancy?ownerId=${o}`:"/api/admin/analytics/vacancy",d=await R.get(c);i(d.data)}catch(c){console.error("Vacancy Fetch Error:",c),i({total:0,vacant:0,occupied:0,vacancyByBuilding:[]})}finally{r(!1)}};return w.useEffect(()=>{l(e)},[e]),a.jsx(Ce,{title:"Vacancy Dashboard",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsx("section",{className:"flex justify-end sticky top-0 z-10 py-2 bg-slate-50/80 backdrop-blur-sm -mx-4 px-4",children:a.jsx(yg,{value:e,onOwnerChange:o=>t(o)})}),n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-6",children:[a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Total Units"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:s.total}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Across all buildings"})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-red-500",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Vacant Units"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:s.vacant}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Needs attention"})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-emerald-500",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Occupied Units"}),a.jsx("h2",{className:"text-[2.2rem] font-bold mt-2 leading-tight",children:s.occupied}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Generating revenue"})]})]}),a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(320px,1fr))] gap-6",children:[a.jsx(xe,{title:"Vacancy by Building",className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)]",children:a.jsxs("ul",{className:"p-0 list-none",children:[s.vacancyByBuilding.map((o,c)=>a.jsxs("li",{className:"flex justify-between py-2 border-b border-dashed border-gray-200",children:[a.jsx("span",{children:o.name}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${o.vacant>0?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-800"}`,children:o.vacant>0?`${o.vacant} Vacant`:"Fully Occupied"})]},c)),s.vacancyByBuilding.length===0&&a.jsx("li",{className:"text-gray-400 italic",children:"No buildings for this owner"})]})}),a.jsx(xe,{title:"Unit vs Bedroom Rental Mode",className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)]",children:a.jsx("div",{className:"flex gap-4 mt-4",children:a.jsxs("div",{className:"flex-1 p-5 rounded-xl text-center transition-transform duration-300 hover:scale-105 bg-blue-50",children:[a.jsx("h4",{className:"font-semibold text-slate-900",children:"Full Unit Rental"}),a.jsxs("p",{className:"text-slate-600",children:[s.total," Units"]})]})})})]})]})]})})},tZ=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(!1),[s,i]=w.useState({actualRevenue:0,projectedRevenue:0,totalRevenue:0,monthlyRevenue:[],revenueByProperty:[]}),l=async(o="")=>{try{r(!0);const c=o?`/api/admin/analytics/revenue?ownerId=${o}`:"/api/admin/analytics/revenue",d=await R.get(c);i(d.data)}catch(c){console.error("Revenue Fetch Error:",c),i({actualRevenue:0,projectedRevenue:0,totalRevenue:0,monthlyRevenue:[],revenueByProperty:[]})}finally{r(!1)}};return w.useEffect(()=>{l(e)},[e]),a.jsx(Ce,{title:"Revenue Dashboard",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsx("section",{className:"flex justify-end sticky top-0 z-10 py-2 bg-slate-50/80 backdrop-blur-sm -mx-4 px-4",children:a.jsx(yg,{value:e,onOwnerChange:o=>t(o)})}),n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-6",children:[a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-emerald-500",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Actual Revenue (Paid)"}),a.jsxs("h2",{className:"text-[2.1rem] font-bold mt-2 leading-tight",children:["$",(s.actualRevenue||s.totalRevenue||0).toLocaleString("en-CA")]}),a.jsx("p",{className:"mt-2 text-gray-700",children:"YTD Collected"})]}),a.jsxs(xe,{className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_40px_80px_rgba(0,0,0,0.15)] hover:rotate-1 border-l-[6px] border-indigo-500",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Projected Revenue"}),a.jsxs("h2",{className:"text-[2.1rem] font-bold mt-2 leading-tight",children:["$",(s.projectedRevenue||0).toLocaleString("en-CA")]}),a.jsx("p",{className:"mt-2 text-gray-700",children:"Active Lease Rent"})]})]}),a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(360px,1fr))] gap-6",children:[a.jsx(xe,{title:"Revenue Trends (Monthly)",className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)]",children:a.jsx(dk,{width:"100%",height:260,children:a.jsxs(b4,{data:s.monthlyRevenue,children:[a.jsx(Ro,{dataKey:"month",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Lo,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:o=>`$${o}`}),a.jsx($n,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f1f5f9"}}),a.jsx(ma,{dataKey:"amount",radius:[6,6,0,0],fill:"#3b82f6",barSize:32})]})})}),a.jsx(xe,{title:"Revenue by Property",className:"p-6 rounded-[18px] bg-white shadow-[0_20px_45px_rgba(0,0,0,0.08)]",children:a.jsxs("ul",{className:"p-0 list-none",children:[s.revenueByProperty.map((o,c)=>a.jsxs("li",{className:"flex justify-between py-2.5 border-b border-dashed border-gray-200 font-medium",children:[a.jsx("span",{children:o.name}),a.jsxs("strong",{children:["$",o.amount.toLocaleString("en-CA")]})]},c)),s.revenueByProperty.length===0&&a.jsx("li",{className:"text-gray-400 italic",children:"No revenue data for this owner"})]})})]})]})]})})},du=({children:e,title:t})=>{const[n,r]=w.useState(!1),s=()=>r(!n),i=()=>r(!1);return a.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[a.jsx(K2,{isOpen:n,onClose:i}),a.jsxs("main",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out ml-0",children:[a.jsx(X2,{title:t,onMenuClick:s}),a.jsx("div",{className:"p-4 lg:p-8 flex-1 w-full max-w-[1400px] mx-auto",children:e})]})]})},vg=({columns:e=[],data:t=[]})=>e.length?a.jsx("div",{className:"w-full overflow-x-auto bg-white rounded-xl border border-slate-200/60 shadow-card",children:a.jsxs("table",{className:"w-full border-collapse text-left",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:e.map(n=>a.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider whitespace-nowrap first:pl-6 last:pr-6",children:n.label},n.key))})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:e.length,className:"p-12 text-center text-slate-400 text-sm",children:a.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center text-slate-400",children:a.jsx("span",{className:"text-xl",children:""})}),a.jsx("p",{children:"No data available"})]})})}):t.map((n,r)=>a.jsx("tr",{className:"hover:bg-slate-50/80 transition-colors duration-200 group",children:e.map(s=>a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 align-middle first:pl-6 last:pr-6 group-hover:text-slate-900",children:n[s.key]},s.key))},r))})]})}):a.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No columns defined"}),nZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{try{const i=await R.get("/api/admin/properties");t(i.data)}catch(i){console.error("Failed to fetch properties",i)}finally{r(!1)}})()},[]),n?a.jsx(du,{title:"Properties",children:a.jsx("div",{className:"p-8",children:"Loading properties..."})}):a.jsxs(du,{title:"Properties",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("p",{className:"text-slate-500 text-sm",children:"Manage your real estate portfolio, units, and listings."}),a.jsx(V,{size:"md",icon:Nt,children:"Add Property"})]}),a.jsx(vg,{headers:["Property Name","Units","Occupancy","Status","Actions"],data:e,renderRow:s=>a.jsxs(a.Fragment,{children:[a.jsx("td",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-md text-slate-600 flex items-center justify-center",children:a.jsx(sa,{size:18})}),a.jsx("div",{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx(Jn,{to:`/properties/${s.id}`,className:"font-medium text-slate-900 hover:text-blue-600 transition-colors",children:s.name}),a.jsx("div",{className:"text-slate-500 text-xs mt-0.5",children:s.address})]})})]})}),a.jsxs("td",{className:"text-slate-700",children:[s.units," Units"]}),a.jsx("td",{children:a.jsx("span",{className:`font-medium ${parseInt(s.occupancy)>=90?"text-green-600":"text-amber-600"}`,children:s.occupancy})}),a.jsx("td",{children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${s.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:s.status})}),a.jsx("td",{children:a.jsx(V,{variant:"ghost",size:"sm",className:"text-slate-400 p-1 h-auto hover:text-slate-900",children:a.jsx(HA,{size:16})})})]})})]})},rZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(1),[l,o]=w.useState(10),[c,d]=w.useState(1),[u,f]=w.useState(0),[p,g]=w.useState(!1),[m,b]=w.useState(!1),[h,y]=w.useState(!1),[x,j]=w.useState(null),[N,v]=w.useState([]);w.useEffect(()=>{k(s,n),S()},[s,l]),w.useEffect(()=>{const $=setTimeout(()=>{i(1),k(1,n)},500);return()=>clearTimeout($)},[n]);const S=async()=>{try{const $=await R.get("/api/admin/owners");v($.data)}catch($){console.error("Error fetching owners:",$)}},k=async($=1,z="")=>{try{const A=await R.get(`/api/admin/properties?page=${$}&limit=${l}&search=${z}`);if(A.data.data&&A.data.meta)t(A.data.data||[]),d(A.data.meta.totalPages||1),f(A.data.meta.total||0);else{const P=Array.isArray(A.data)?A.data:[];t(P),f(P.length),d(Math.ceil(P.length/l)||1)}}catch(A){console.error("Error fetching buildings:",A)}},O=e.length>l?e.slice((s-1)*l,s*l):e,_=async $=>{$.preventDefault();const z=$.target,A={name:z.name.value,units:parseInt(z.units.value),status:z.status.value,civicNumber:z.civicNumber.value,street:z.street.value,city:z.city.value,province:z.province.value,postalCode:z.postalCode.value};try{const P=await R.post("/api/admin/properties",A);k(s,n),g(!1),z.reset()}catch(P){console.error("Error adding building:",P),alert("Error adding building")}},C=async $=>{if(window.confirm("Are you sure you want to delete this building?"))try{await R.delete(`/api/admin/properties/${$}`),k(s,n)}catch(z){console.error("Error deleting building:",z),alert("Error deleting building")}},E=$=>{j($),b(!0)},T=$=>{j($),y(!0)},L=async $=>{$.preventDefault();const z=$.target,A={name:z.name.value,units:parseInt(z.units.value),status:z.status.value,civicNumber:z.civicNumber.value,street:z.street.value,city:z.city.value,province:z.province.value,postalCode:z.postalCode.value};try{const P=await R.put(`/api/admin/properties/${x.id}`,A);k(s,n),y(!1),z.reset()}catch(P){console.error("Error updating building:",P),alert("Error updating building")}},I=e.reduce(($,z)=>$+(parseInt(z.units)||0),0),F=e.filter($=>$.status==="Active").length;return a.jsx(Ce,{title:"Buildings",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-6 mb-4",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-6 flex items-center gap-4 shadow-[0_10px_30px_rgba(102,126,234,0.2)] bg-gradient-to-br from-[#667eea] to-[#764ba2] text-white transition-all duration-300 hover:-translate-y-1 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(0,0,0,0.2)] animate-in slide-in-from-bottom-5 fade-in duration-500",children:[a.jsx("div",{className:"w-[60px] h-[60px] bg-white/20 rounded-xl flex items-center justify-center text-white backdrop-blur-sm",children:a.jsx(sa,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[2rem] font-bold leading-none",children:u||e.length}),a.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Total Buildings"})]})]}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-6 flex items-center gap-4 shadow-[0_10px_30px_rgba(240,147,251,0.2)] bg-gradient-to-br from-[#f093fb] to-[#f5576c] text-white transition-all duration-300 hover:-translate-y-1 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(0,0,0,0.2)] animate-in slide-in-from-bottom-5 fade-in duration-500 delay-100 fill-mode-forwards",children:[a.jsx("div",{className:"w-[60px] h-[60px] bg-white/20 rounded-xl flex items-center justify-center text-white backdrop-blur-sm",children:a.jsx(ta,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[2rem] font-bold leading-none",children:I}),a.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Total Units"})]})]}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-6 flex items-center gap-4 shadow-[0_10px_30px_rgba(79,172,254,0.2)] bg-gradient-to-br from-[#4facfe] to-[#00f2fe] text-white transition-all duration-300 hover:-translate-y-1 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(0,0,0,0.2)] animate-in slide-in-from-bottom-5 fade-in duration-500 delay-200 fill-mode-forwards",children:[a.jsx("div",{className:"w-[60px] h-[60px] bg-white/20 rounded-xl flex items-center justify-center text-white backdrop-blur-sm",children:a.jsx("div",{className:"w-5 h-5 bg-emerald-400 rounded-full animate-pulse shadow-[0_0_15px_rgba(52,211,153,0.6)]"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[2rem] font-bold leading-none",children:F}),a.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Active Buildings"})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-stretch md:items-center bg-white p-4 md:px-6 rounded-xl shadow-[0_5px_15px_rgba(0,0,0,0.08)] gap-4",children:[a.jsx("div",{className:"flex gap-4 items-center flex-1",children:a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-[#667eea] focus-within:ring-4 focus-within:ring-[#667eea]/10 transition-all w-full md:w-auto md:min-w-[280px]",children:[a.jsx(Zt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search buildings...",value:n,onChange:$=>r($.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm"})]})}),a.jsxs(V,{variant:"primary",onClick:()=>g(!0),className:"whitespace-nowrap",children:[a.jsx(Nt,{size:18}),"Add Building"]})]}),a.jsxs(xe,{className:"bg-white rounded-2xl shadow-[0_10px_30px_rgba(0,0,0,0.1)] overflow-hidden animate-in fade-in zoom-in-95 duration-500 flex flex-col h-full",children:[a.jsxs("div",{className:"w-full overflow-x-auto flex-1",children:[a.jsxs("div",{className:"hidden md:grid grid-cols-9 min-w-[1200px] bg-gradient-to-r from-slate-50 to-slate-100 px-6 py-4 border-b-2 border-slate-200",children:[a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide col-span-2",children:"Building Details"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Street"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"City"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Province"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Postal Code"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Total Units"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Status"}),a.jsx("div",{className:"font-semibold text-slate-600 text-sm uppercase tracking-wide",children:"Actions"})]}),a.jsx("div",{className:"bg-white",children:O.length===0?a.jsx("div",{className:"p-8 text-center text-slate-500",children:"No buildings found."}):O.map(($,z)=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-9 min-w-[1200px] px-6 py-4 border-b border-slate-100 transition-all duration-300 hover:bg-gradient-to-r hover:from-slate-50 hover:to-white hover:scale-[1.002] hover:shadow-md items-center gap-4 md:gap-0",style:{animationDelay:`${z*.05}s`},children:[a.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#667eea] to-[#764ba2] rounded-lg flex items-center justify-center text-white shrink-0 shadow-sm",children:a.jsx(sa,{size:20})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"font-bold text-slate-800 text-sm",children:[$.name," - ",$.civicNumber]}),a.jsxs("span",{className:"text-xs text-[#667eea] font-medium",children:["B-",$.id]})]})]}),a.jsx("div",{className:"text-slate-600 text-sm truncate",title:$.street,children:$.street||"-"}),a.jsx("div",{className:"text-slate-600 text-sm",children:$.city||"-"}),a.jsx("div",{className:"text-slate-600 text-sm",children:$.province||"-"}),a.jsx("div",{className:"text-slate-600 text-sm",children:$.postalCode||"-"}),a.jsx("div",{className:"flex justify-between md:block md:w-auto w-full",children:a.jsx("span",{className:"text-[1rem] font-semibold text-[#667eea]",children:$.units})}),a.jsx("div",{className:"flex justify-between md:block md:w-auto w-full",children:a.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold w-fit ${$.status==="Active"?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${$.status==="Active"?"bg-emerald-500":"bg-red-500"}`}),$.status]})}),a.jsxs("div",{className:"flex gap-2 justify-end md:justify-start",children:[a.jsx("button",{className:"w-8 h-8 border-none rounded-lg flex items-center justify-center cursor-pointer transition-all duration-300 bg-sky-50 text-sky-600 hover:-translate-y-1 hover:shadow-[0_5px_15px_rgba(2,132,199,0.2)] hover:scale-110 group relative",title:"View Details",onClick:()=>E($),children:a.jsx($t,{size:14})}),a.jsx("button",{className:"w-8 h-8 border-none rounded-lg flex items-center justify-center cursor-pointer transition-all duration-300 bg-emerald-50 text-emerald-600 hover:-translate-y-1 hover:shadow-[0_5px_15px_rgba(22,163,74,0.2)] hover:scale-110 group relative",title:"Edit Building",onClick:()=>T($),children:a.jsx(_o,{size:14})}),a.jsx("button",{className:"w-8 h-8 border-none rounded-lg flex items-center justify-center cursor-pointer transition-all duration-300 bg-red-50 text-red-600 hover:-translate-y-1 hover:shadow-[0_5px_15px_rgba(220,38,38,0.2)] hover:scale-110 group relative",title:"Delete Building",onClick:()=>C($.id),children:a.jsx(Jt,{size:14})})]})]},$.id))})]}),c>1&&a.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-100 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",(s-1)*l+1," to ",Math.min(s*l,u)," of ",u," entries"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(V,{variant:"secondary",disabled:s===1,onClick:()=>i($=>Math.max($-1,1)),className:s===1?"opacity-50 cursor-not-allowed":"",children:"Previous"}),Array.from({length:c},($,z)=>z+1).map($=>a.jsx("button",{onClick:()=>i($),className:`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-medium transition-all ${s===$?"bg-[#667eea] text-white shadow-md scale-105":"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:$},$)),a.jsx(V,{variant:"secondary",disabled:s===c,onClick:()=>i($=>Math.min($+1,c)),className:s===c?"opacity-50 cursor-not-allowed":"",children:"Next"})]})]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 overflow-y-auto py-8",children:a.jsxs("form",{className:"bg-white rounded-3xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 my-auto",onSubmit:_,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"m-0 text-slate-800 text-2xl font-bold",children:"Add New Building"}),a.jsx("button",{type:"button",className:"bg-transparent border-none cursor-pointer text-slate-400 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:bg-slate-100 hover:text-slate-700",onClick:()=>g(!1),children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"name",className:"block mb-2 font-medium text-slate-600",children:"Building Name"}),a.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Enter building name",required:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"civicNumber",className:"block mb-2 font-medium text-slate-600",children:"Civic Number"}),a.jsx("input",{type:"text",id:"civicNumber",name:"civicNumber",placeholder:"e.g., 82",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"street",className:"block mb-2 font-medium text-slate-600",children:"Street"}),a.jsx("input",{type:"text",id:"street",name:"street",placeholder:"e.g., Alle Marthe-Rivard",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block mb-2 font-medium text-slate-600",children:"City"}),a.jsx("input",{type:"text",id:"city",name:"city",placeholder:"e.g., Mont-Tremblant",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"province",className:"block mb-2 font-medium text-slate-600",children:"Province"}),a.jsxs("select",{id:"province",name:"province",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10 appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Select Province"}),a.jsx("option",{value:"Alberta",children:"Alberta"}),a.jsx("option",{value:"British Columbia",children:"British Columbia"}),a.jsx("option",{value:"Manitoba",children:"Manitoba"}),a.jsx("option",{value:"New Brunswick",children:"New Brunswick"}),a.jsx("option",{value:"Newfoundland and Labrador",children:"Newfoundland and Labrador"}),a.jsx("option",{value:"Nova Scotia",children:"Nova Scotia"}),a.jsx("option",{value:"Ontario",children:"Ontario"}),a.jsx("option",{value:"Prince Edward Island",children:"Prince Edward Island"}),a.jsx("option",{value:"Quebec",children:"Quebec"}),a.jsx("option",{value:"Saskatchewan",children:"Saskatchewan"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"postalCode",className:"block mb-2 font-medium text-slate-600",children:"Postal Code"}),a.jsx("input",{type:"text",id:"postalCode",name:"postalCode",placeholder:"e.g., J8E 2G5",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"units",className:"block mb-2 font-medium text-slate-600",children:"Total Units"}),a.jsx("input",{type:"number",id:"units",name:"units",placeholder:"Enter total units",min:"0",defaultValue:"0",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block mb-2 font-medium text-slate-600",children:"Status"}),a.jsxs("select",{id:"status",name:"status",required:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10 appearance-none bg-white",children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",children:"Add Building"})]})]})}),m&&x&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-3xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"m-0 text-slate-800 text-2xl font-bold",children:"Building Details"}),a.jsx("button",{className:"bg-transparent border-none cursor-pointer text-slate-400 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:bg-slate-100 hover:text-slate-700",onClick:()=>b(!1),children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"mb-8 space-y-4",children:[a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Building Name:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:x.name})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Civic Number:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:x.civicNumber||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Street:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:x.street||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"City:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:x.city||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Province:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:x.province||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Postal Code:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:x.postalCode||"-"})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Total Units:"}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800",children:x.units})]}),a.jsxs("div",{className:"flex items-center pb-3 border-b border-slate-100",children:[a.jsx("span",{className:"font-medium w-[140px] text-slate-500",children:"Status:"}),a.jsx("span",{className:"flex-1",children:a.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold ${x.status==="Active"?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"}`,children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${x.status==="Active"?"bg-emerald-500":"bg-red-500"}`}),x.status]})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(V,{variant:"primary",onClick:()=>{b(!1),T(x)},children:"Edit Building"}),a.jsx(V,{variant:"secondary",onClick:()=>b(!1),children:"Close"})]})]})}),h&&x&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 overflow-y-auto py-8",children:a.jsxs("form",{className:"bg-white rounded-3xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 my-auto",onSubmit:L,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"m-0 text-slate-800 text-2xl font-bold",children:"Edit Building"}),a.jsx("button",{type:"button",className:"bg-transparent border-none cursor-pointer text-slate-400 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:bg-slate-100 hover:text-slate-700",onClick:()=>y(!1),children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"edit-name",className:"block mb-2 font-medium text-slate-600",children:"Building Name"}),a.jsx("input",{type:"text",id:"edit-name",name:"name",defaultValue:x.name,required:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-civicNumber",className:"block mb-2 font-medium text-slate-600",children:"Civic Number"}),a.jsx("input",{type:"text",id:"edit-civicNumber",name:"civicNumber",defaultValue:x.civicNumber||"",placeholder:"e.g., 82",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-street",className:"block mb-2 font-medium text-slate-600",children:"Street"}),a.jsx("input",{type:"text",id:"edit-street",name:"street",defaultValue:x.street||"",placeholder:"e.g., Alle Marthe-Rivard",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-city",className:"block mb-2 font-medium text-slate-600",children:"City"}),a.jsx("input",{type:"text",id:"edit-city",name:"city",defaultValue:x.city||"",placeholder:"e.g., Mont-Tremblant",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-province",className:"block mb-2 font-medium text-slate-600",children:"Province"}),a.jsxs("select",{id:"edit-province",name:"province",defaultValue:x.province||"",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10 appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Select Province"}),a.jsx("option",{value:"Alberta",children:"Alberta"}),a.jsx("option",{value:"British Columbia",children:"British Columbia"}),a.jsx("option",{value:"Manitoba",children:"Manitoba"}),a.jsx("option",{value:"New Brunswick",children:"New Brunswick"}),a.jsx("option",{value:"Newfoundland and Labrador",children:"Newfoundland and Labrador"}),a.jsx("option",{value:"Nova Scotia",children:"Nova Scotia"}),a.jsx("option",{value:"Ontario",children:"Ontario"}),a.jsx("option",{value:"Prince Edward Island",children:"Prince Edward Island"}),a.jsx("option",{value:"Quebec",children:"Quebec"}),a.jsx("option",{value:"Saskatchewan",children:"Saskatchewan"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"edit-postalCode",className:"block mb-2 font-medium text-slate-600",children:"Postal Code"}),a.jsx("input",{type:"text",id:"edit-postalCode",name:"postalCode",defaultValue:x.postalCode||"",placeholder:"e.g., J8E 2G5",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-units",className:"block mb-2 font-medium text-slate-600",children:"Total Units"}),a.jsx("input",{type:"number",id:"edit-units",name:"units",defaultValue:x.units,min:"0",className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-status",className:"block mb-2 font-medium text-slate-600",children:"Status"}),a.jsxs("select",{id:"edit-status",name:"status",defaultValue:x.status,required:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl text-base transition-all outline-none focus:border-[#667eea] focus:ring-4 focus:ring-[#667eea]/10 appearance-none bg-white",children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>y(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",children:"Update Building"})]})]})})]})})},aZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState(""),[l,o]=w.useState(!1),[c,d]=w.useState(null),[u,f]=w.useState(null),[p,g]=w.useState(null),[m,b]=w.useState(!0),[h,y]=w.useState(!1),[x,j]=w.useState(null),[N,v]=w.useState({page:1,limit:10,total:0,totalPages:0}),[S,k]=w.useState([]),[O,_]=w.useState(!1),[C,E]=w.useState({propertyId:"",unitNumber:"",unitType:"",floor:"",rentalMode:"FULL_UNIT",bedrooms:"1",status:"Vacant",bedroomIdentifiers:["Unit-1"]}),[T,L]=w.useState("");w.useEffect(()=>{$(N.page)},[N.page]),w.useEffect(()=>(l||u||c||p?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l,u,c,p]),w.useEffect(()=>{if(x){const Q=setTimeout(()=>j(null),3e3);return()=>clearTimeout(Q)}},[x]);const I=(Q,ie="success")=>{j({message:Q,type:ie})},F=async()=>{try{const Q=await R.get("/api/admin/units/types");Q.data&&Q.data.unitTypes&&k(Q.data.unitTypes)}catch(Q){console.error("Error fetching unit types:",Q)}},$=async(Q=1)=>{b(!0);try{const[ie,Y]=await Promise.all([R.get(`/api/admin/units?page=${Q}&limit=${N.limit}`),R.get("/api/admin/properties"),F()]);ie.data&&(t(ie.data.data||[]),v(ee=>{var le,H,de;return{...ee,total:((le=ie.data.pagination)==null?void 0:le.total)||0,totalPages:((H=ie.data.pagination)==null?void 0:H.totalPages)||0,page:((de=ie.data.pagination)==null?void 0:de.page)||1}})),Y.data&&r(Y.data)}catch(ie){console.error("Error fetching data:",ie),I("Error loading data","error")}finally{b(!1)}},z=()=>{E({propertyId:"",unitNumber:"",unitType:"",floor:"",rentalMode:"FULL_UNIT",bedrooms:"1",status:"Vacant",bedroomIdentifiers:["Unit-1"]})},A=async()=>{z(),d(null),o(!0);try{const Q=await R.get("/api/admin/properties");r(Q.data)}catch(Q){console.error("Error refreshing buildings:",Q)}},P=async Q=>{var ie,Y,ee,le;try{const de=(await R.get(`/api/admin/units/${Q.id}`)).data;E({propertyId:((ie=de.propertyId)==null?void 0:ie.toString())||"",unitNumber:de.unitNumber||"",unitType:de.unitType||"",floor:((Y=de.floor)==null?void 0:Y.toString())||"",rentalMode:de.rentalMode||"FULL_UNIT",bedrooms:((ee=de.bedrooms)==null?void 0:ee.toString())||"1",status:de.status||"Vacant",bedroomIdentifiers:((le=de.bedroomsList)==null?void 0:le.map(X=>X.bedroomNumber))||[]}),d(de),o(!0)}catch(H){console.error(H),I("Error loading unit details","error")}},U=()=>{o(!1),d(null),z()},K=Q=>{const{name:ie,value:Y}=Q.target;E(ee=>{const le={...ee,[ie]:Y};if(ie==="bedrooms"||ie==="unitNumber"){const H=parseInt(ie==="bedrooms"?Y:ee.bedrooms)||0,de=ie==="unitNumber"?Y:ee.unitNumber;let X=[...ee.bedroomIdentifiers||[]];if(X.length<H)for(let ue=X.length;ue<H;ue++)X.push(`${de||"Unit"}-${ue+1}`);else X.length>H&&(X=X.slice(0,H));X=X.map((ue,me)=>{const je=`Unit-${me+1}`,Ne=`${ee.unitNumber||"Unit"}-${me+1}`;return!ue||ue===je||ue===Ne?`${de||"Unit"}-${me+1}`:ue}),le.bedroomIdentifiers=X}return le})},q=(Q,ie)=>{const Y=[...C.bedroomIdentifiers];Y[Q]=ie,E(ee=>({...ee,bedroomIdentifiers:Y}))},D=async Q=>{var ie,Y;Q.preventDefault(),y(!0);try{const ee=n.find(H=>H.id===parseInt(C.propertyId)),le={unitNumber:C.unitNumber,unit:C.unitNumber,unitType:C.unitType||null,floor:C.floor?parseInt(C.floor):null,bedrooms:parseInt(C.bedrooms)||1,propertyId:C.propertyId,building:ee?ee.name:"Unknown",rentalMode:C.rentalMode,status:C.status,bedroomIdentifiers:C.bedroomIdentifiers};if(c){const de=(await R.put(`/api/admin/units/${c.id}`,le)).data;t(X=>X.map(ue=>ue.id===c.id?de:ue)),I("Unit updated successfully")}else{const H=await R.post("/api/admin/units",le);t(de=>[H.data,...de]),I("Unit created successfully")}U()}catch(ee){console.error("Error saving unit:",ee),I(((Y=(ie=ee.response)==null?void 0:ie.data)==null?void 0:Y.message)||"Error saving unit","error")}finally{y(!1)}},te=async Q=>{var ie,Y;y(!0);try{await R.delete(`/api/admin/units/${Q.id}`),t(ee=>ee.filter(le=>le.id!==Q.id)),g(null),I("Unit deleted successfully")}catch(ee){console.error("Error deleting unit:",ee),I(((Y=(ie=ee.response)==null?void 0:ie.data)==null?void 0:Y.message)||"Error deleting unit","error")}finally{y(!1)}},se=e.filter(Q=>{var ee,le,H;const ie=((ee=Q.unitNumber)==null?void 0:ee.toLowerCase().includes(s.toLowerCase()))||((le=Q.building)==null?void 0:le.toLowerCase().includes(s.toLowerCase()))||((H=Q.unitType)==null?void 0:H.toLowerCase().includes(s.toLowerCase())),Y=!T||Q.unitType===T;return ie&&Y}),be=()=>{const Q=Math.max(1,N.totalPages||1),ie=N.page,Y=1,ee=[],le=[];for(let de=1;de<=Q;de++)(de===1||de===Q||de>=ie-Y&&de<=ie+Y)&&ee.push(de);let H;for(let de of ee)H&&(de-H===2?le.push(H+1):de-H!==1&&le.push("...")),le.push(de),H=de;return le};return a.jsx(Ce,{title:"Units",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[x&&a.jsxs("div",{className:`fixed top-4 right-4 z-[10000] flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg transition-all duration-300 ${x.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[x.type==="success"?a.jsx(yn,{size:18}):a.jsx(Qt,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:x.message})]}),a.jsxs("section",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white py-2.5 px-3.5 rounded-xl shadow-sm border border-slate-200",children:[a.jsx(Co,{size:16,className:"text-slate-400"}),a.jsxs("select",{value:T,onChange:Q=>L(Q.target.value),className:"border-none outline-none text-sm bg-transparent text-slate-700 min-w-[120px] font-medium cursor-pointer",children:[a.jsx("option",{value:"",children:"All Types"}),S.map(Q=>a.jsx("option",{value:Q.name,children:Q.name},Q.name))]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white py-2.5 px-3.5 rounded-xl shadow-sm border border-slate-200",children:[a.jsx(Zt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by unit or building",value:s,onChange:Q=>i(Q.target.value),className:"border-none outline-none text-sm w-48 text-slate-700 placeholder:text-slate-400"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(V,{variant:"secondary",onClick:()=>_(!0),children:[a.jsx(W2,{size:18}),"Manage Types"]}),a.jsxs(V,{variant:"primary",onClick:A,children:[a.jsx(Nt,{size:18}),"Add Unit"]})]})]}),a.jsx("section",{className:"bg-white rounded-2xl shadow-[0_15px_30px_rgba(0,0,0,0.08)] overflow-hidden",children:m?a.jsxs("div",{className:"flex items-center justify-center py-20",children:[a.jsx($a,{size:32,className:"animate-spin text-indigo-500"}),a.jsx("span",{className:"ml-3 text-slate-500",children:"Loading units..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("div",{className:"grid grid-cols-7 min-w-[800px] p-3.5 px-5 font-semibold bg-slate-50 text-slate-500 text-sm border-b border-slate-100 uppercase tracking-wide",children:[a.jsx("span",{children:"Unit Identifier"}),a.jsx("span",{children:"Building Name"}),a.jsx("span",{children:"Unit Type"}),a.jsx("span",{children:"Floor"}),a.jsx("span",{children:"Bedrooms"}),a.jsx("span",{children:"Status"}),a.jsx("span",{children:"Actions"})]}),se.length===0?a.jsx("div",{className:"text-center py-12 text-slate-500",children:'No units found. Click "Add Unit" to create one.'}):se.map(Q=>a.jsxs("div",{className:"grid grid-cols-7 min-w-[800px] p-3.5 px-5 transition-all duration-300 hover:bg-slate-50 bg-white border-b border-slate-50 last:border-0 text-sm items-center",children:[a.jsx(Jn,{to:`/units/${Q.id}`,className:"font-medium text-indigo-600 hover:text-indigo-800 hover:underline transition-all",children:Q.unitNumber}),a.jsx("span",{className:"font-bold text-indigo-600",children:Q.buildingName||Q.civicNumber}),a.jsx("span",{className:"text-slate-600",children:Q.unitType||"-"}),a.jsx("span",{className:"text-slate-600",children:Q.floor||"-"}),a.jsx("span",{className:"text-slate-600",children:Q.bedrooms||"-"}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold w-fit ${Q.status==="Occupied"?"bg-blue-50 text-blue-700 border border-blue-100":Q.status==="Fully Booked"?"bg-indigo-50 text-indigo-700 border border-indigo-100":"bg-emerald-50 text-emerald-700 border border-emerald-100"}`,children:Q.status}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jn,{to:`/units/${Q.id}`,children:a.jsx($t,{size:16,className:"text-slate-400 hover:text-indigo-600 transition-colors"})}),a.jsx(Ps,{size:16,className:"cursor-pointer text-slate-400 hover:text-blue-600 transition-colors",onClick:()=>P(Q)}),a.jsx(Jt,{size:16,className:"cursor-pointer text-slate-400 hover:text-red-600 transition-colors",onClick:()=>g(Q)})]})]},Q.id))]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 bg-slate-50 border-t border-slate-100 gap-4",children:[a.jsxs("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:["Showing ",se.length," of ",N.total," units"]}),a.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap justify-center",children:[a.jsx(V,{variant:"secondary",size:"sm",disabled:N.page<=1,onClick:()=>v(Q=>({...Q,page:Q.page-1})),className:"!px-2",children:"Prev"}),be().map((Q,ie)=>Q==="..."?a.jsx("span",{className:"px-2 text-slate-400 text-sm",children:"..."},`dots-${ie}`):a.jsx("button",{onClick:()=>v(Y=>({...Y,page:Q})),className:`min-w-[32px] h-8 flex items-center justify-center rounded-lg text-sm font-medium transition-all ${N.page===Q?"bg-indigo-600 text-white shadow-md shadow-indigo-600/20":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-indigo-600 hover:border-indigo-200"}`,children:Q},Q)),a.jsx(V,{variant:"secondary",size:"sm",disabled:N.page>=(N.totalPages||1),onClick:()=>v(Q=>({...Q,page:Q.page+1})),className:"!px-2",children:"Next"})]})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl max-h-[95vh] flex flex-col animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 flex-shrink-0 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-t-2xl",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:c?"Edit Unit":"Add New Unit"}),a.jsx("button",{type:"button",onClick:U,className:"text-white/80 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-lg",children:a.jsx(we,{size:22})})]}),a.jsx("div",{className:"overflow-y-auto flex-1 p-6",children:a.jsxs("form",{id:"unitForm",onSubmit:D,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Building Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"propertyId",value:C.propertyId,onChange:K,required:!0,className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 bg-white text-sm appearance-none pr-10 transition-all",children:[a.jsx("option",{value:"",disabled:!0,children:"Select Building"}),n.filter(Q=>Q.status==="Active").map(Q=>a.jsxs("option",{value:Q.id,children:[Q.name," - ",Q.civicNumber]},Q.id))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx(ht,{size:18,className:"text-slate-400"})})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Unit Identifier ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"unitNumber",value:C.unitNumber,onChange:K,placeholder:"e.g., 82-101",required:!0,className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 text-sm transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Unit Type"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"unitType",value:C.unitType,onChange:K,className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 bg-white text-sm appearance-none pr-10 transition-all font-medium",children:[a.jsx("option",{value:"",children:"Select Type"}),S.map(Q=>a.jsx("option",{value:Q.name,children:Q.name},Q.name))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx(ht,{size:18,className:"text-slate-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Floor"}),a.jsx("input",{name:"floor",type:"number",value:C.floor,onChange:K,placeholder:"e.g., 1",min:"1",className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 text-sm transition-all"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Number of Bedrooms"}),a.jsx("input",{name:"bedrooms",type:"number",value:C.bedrooms,onChange:K,placeholder:"e.g., 3",min:"0",className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 text-sm transition-all"}),parseInt(C.bedrooms)>0&&a.jsxs("div",{className:"mt-4 space-y-3 pl-4 border-l-2 border-slate-100",children:[a.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Bedroom Identifiers"}),Array.from({length:parseInt(C.bedrooms)}).map((Q,ie)=>a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("label",{className:"text-xs text-slate-500",children:["Bedroom ",ie+1]}),a.jsx("input",{value:C.bedroomIdentifiers[ie]||"",onChange:Y=>q(ie,Y.target.value),placeholder:`e.g., ${C.unitNumber||"82-101"}-${ie+1}`,className:"w-full p-2.5 rounded-lg border border-slate-200 text-sm focus:border-indigo-500 outline-none"})]},ie))]})]}),c&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"status",value:C.status,onChange:K,className:"w-full p-3.5 rounded-xl border-2 border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 bg-white text-sm appearance-none pr-10 transition-all",children:[a.jsx("option",{value:"Vacant",children:"Vacant"}),a.jsx("option",{value:"Occupied",children:"Occupied"})]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx(ht,{size:18,className:"text-slate-400"})})]})]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-slate-200 flex-shrink-0 bg-slate-50 rounded-b-2xl",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:U,disabled:h,children:"Cancel"}),a.jsx(V,{type:"submit",form:"unitForm",variant:"primary",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx($a,{size:16,className:"animate-spin"}),c?"Updating...":"Saving..."]}):c?"Update Unit":"Save Unit"})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 flex-shrink-0",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Unit Details"}),a.jsx("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-slate-600 transition-colors p-1 hover:bg-slate-100 rounded-lg",children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"overflow-y-auto flex-1 p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Unit Identifier"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:u.unitNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Unit Type"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:u.unitType||"-"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Building Name"}),a.jsx("p",{className:"text-sm font-bold text-indigo-600",children:u.building||u.civicNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Floor"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:u.floor||"-"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Bedrooms"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:u.bedrooms||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Status"}),a.jsx("span",{className:`inline-block px-2.5 py-1 rounded-full text-xs font-semibold ${u.status==="Occupied"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 border-t border-slate-200 flex-shrink-0 bg-slate-50 rounded-b-2xl",children:[a.jsx(V,{variant:"secondary",onClick:()=>f(null),children:"Close"}),a.jsxs(V,{variant:"primary",onClick:()=>{f(null),P(u)},children:[a.jsx(Ps,{size:16}),"Edit"]})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:a.jsx("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Jt,{size:24,className:"text-red-600"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Unit"}),a.jsxs("p",{className:"text-slate-500 text-sm mb-6",children:["Are you sure you want to delete unit ",a.jsx("strong",{children:p.unitNumber}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx(V,{variant:"secondary",onClick:()=>g(null),disabled:h,children:"Cancel"}),a.jsx("button",{onClick:()=>te(p),disabled:h,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium text-sm transition-colors disabled:opacity-50 flex items-center gap-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx($a,{size:16,className:"animate-spin"}),"Deleting..."]}):"Delete"})]})]})})}),O&&a.jsx(sZ,{types:S,onClose:()=>_(!1),onRefresh:F})]})})},sZ=({types:e,onClose:t,onRefresh:n})=>{const[r,s]=w.useState(""),[i,l]=w.useState(!1),o=async d=>{var u,f;if(d.preventDefault(),!!r.trim()){l(!0);try{await R.post("/api/admin/units/types",{name:r.trim()}),await n(),s("")}catch(p){alert(((f=(u=p.response)==null?void 0:u.data)==null?void 0:f.message)||"Error adding type")}finally{l(!1)}}},c=async d=>{if(window.confirm("Are you sure you want to delete this unit type?")){l(!0);try{await R.delete(`/api/admin/units/types/${d}`),await n()}catch{alert("Error deleting type")}finally{l(!1)}}};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-slate-50 rounded-t-2xl",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Manage Unit Types"}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("form",{onSubmit:o,className:"flex gap-2 mb-6",children:[a.jsx("input",{value:r,onChange:d=>s(d.target.value),placeholder:"Enter new type (e.g. Duplex)",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/10",autoFocus:!0}),a.jsxs(V,{variant:"primary",disabled:i||!r.trim(),children:[a.jsx(Nt,{size:18}),"Add"]})]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:e.length===0?a.jsx("p",{className:"text-center text-slate-400 py-4",children:"No unit types found."}):e.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg group",children:[a.jsx("span",{className:"font-medium text-slate-700",children:d.name}),d.id&&a.jsx("button",{onClick:()=>c(d.id),className:"text-slate-300 hover:text-red-500 transition-colors p-1",title:"Delete Type",children:a.jsx(Jt,{size:16})})]},d.id||d.name))})]})]})})},iZ=()=>{const{id:e}=Eu(),[t,n]=w.useState(null),[r,s]=w.useState([]);return w.useEffect(()=>{const i=async()=>{try{const o=await R.get(`/api/admin/properties/${e}`);n(o.data)}catch(o){console.error(o)}},l=async()=>{try{const c=(await R.get("/api/admin/documents")).data.filter(d=>d.propertyId===parseInt(e));s(c)}catch(o){console.error("Failed to fetch documents",o)}};e&&(i(),l())},[e]),t?a.jsxs(du,{title:"Property Details",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(Jn,{to:"/properties/buildings",className:"inline-flex items-center gap-2 text-slate-500 no-underline text-sm mb-2 hover:text-blue-600 transition-colors",children:[a.jsx(Vs,{size:16})," Back to Properties"]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold mt-2 text-slate-900",children:t.name}),a.jsx(V,{size:"sm",children:"Edit Property"})]})]}),a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(200px,1fr))] gap-4 mb-6",children:[a.jsxs(xe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"Total Units"}),a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:t.totalUnits})]}),a.jsxs(xe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"Occupancy"}),a.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[t.occupancyRate,"%"]})]}),a.jsxs(xe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"Revenue (YTD)"}),a.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:["$ ",t.revenue.toLocaleString("en-CA")]})]})]}),a.jsx(xe,{title:`Documents (${r.length})`,className:"mb-6",children:r.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left border-b border-slate-100",children:[a.jsx("th",{className:"pb-3 px-4 text-xs font-semibold text-slate-500 uppercase",children:"Document Name"}),a.jsx("th",{className:"pb-3 px-4 text-xs font-semibold text-slate-500 uppercase",children:"Type"}),a.jsx("th",{className:"pb-3 px-4 text-xs font-semibold text-slate-500 uppercase",children:"Date"}),a.jsx("th",{className:"pb-3 px-4 text-xs font-semibold text-slate-500 uppercase text-right",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(i=>a.jsxs("tr",{className:"border-b border-slate-50 last:border-0 hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600",children:a.jsx($e,{size:16})}),a.jsx("span",{className:"font-medium text-slate-700",children:i.name})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-slate-100 text-slate-600 uppercase",children:i.type})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-500",children:new Date(i.createdAt).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx("a",{href:`${R.defaults.baseURL}/api/admin/documents/${i.id}/download`,target:"_blank",rel:"noreferrer",className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"Download/View",children:a.jsx(wn,{size:16})})})})]},i.id))})]})}):a.jsx("div",{className:"py-8 text-center text-slate-400 text-sm",children:"No documents linked to this property."})}),a.jsx(xe,{title:"Units",className:"mt-6",children:a.jsx(vg,{headers:["Unit","Type","Rental Mode","Status","Tenant","Actions"],data:t.units,renderRow:i=>a.jsxs(a.Fragment,{children:[a.jsx("td",{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded bg-slate-100 flex items-center justify-center text-slate-500",children:a.jsx(ta,{size:16})}),a.jsx("span",{className:"font-medium text-slate-900",children:i.name})]})}),a.jsx("td",{className:"text-slate-700",children:i.type}),a.jsx("td",{children:a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium border ${i.mode==="Full Unit"?"bg-blue-50 border-blue-200 text-blue-700":"bg-purple-50 border-purple-200 text-purple-700"}`,children:i.mode})}),a.jsx("td",{children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${i.status==="Occupied"?"bg-emerald-100 text-emerald-700":i.status==="Vacant"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:i.status})}),a.jsx("td",{className:"text-slate-700",children:i.tenant}),a.jsx("td",{children:a.jsx(Jn,{to:`/units/${i.id}`,children:a.jsx(V,{variant:"outline",size:"sm",children:"Manage"})})})]})})})]}):a.jsx("div",{children:"Loading..."})},lZ=()=>{const{id:e}=Eu(),t=un(),[n,r]=w.useState(null),[s,i]=w.useState([]),[l,o]=w.useState(!0),[c,d]=w.useState(null);w.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{const f=await R.get(`/api/admin/units/${e}`);r(f.data);const g=(await R.get("/api/admin/documents")).data.filter(m=>m.unitId===parseInt(e));i(g)}catch(f){console.error("Error fetching unit:",f),d("Failed to load unit details")}finally{o(!1)}};return l?a.jsx(Ce,{title:"Unit Details",children:a.jsxs("div",{className:"flex items-center justify-center py-20",children:[a.jsx($a,{size:32,className:"animate-spin text-indigo-500"}),a.jsx("span",{className:"ml-3 text-slate-500",children:"Loading unit details..."})]})}):c||!n?a.jsx(Ce,{title:"Unit Details",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[a.jsx("p",{className:"text-red-500 mb-4",children:c||"Unit not found"}),a.jsxs(V,{variant:"secondary",onClick:()=>t("/units"),children:[a.jsx(Vs,{size:16}),"Back to Units"]})]})}):a.jsx(Ce,{title:`Unit ${n.unitNumber}`,children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx("div",{children:a.jsxs(V,{variant:"secondary",onClick:()=>t("/units"),children:[a.jsx(Vs,{size:16}),"Back to Units"]})}),a.jsxs("section",{className:"grid grid-cols-[repeat(auto-fit,minmax(150px,1fr))] gap-4",children:[a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Unit Number"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:n.unitNumber})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Unit Type"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:n.unitType||"-"})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Civic Number"}),a.jsx("div",{className:"text-lg font-bold text-indigo-600",children:n.civicNumber||n.building})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Floor"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:n.floor||"-"})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Bedrooms"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:n.bedrooms||1})]}),a.jsxs(xe,{className:"p-4 flex flex-col gap-2",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Status"}),a.jsx("div",{className:`text-lg font-bold ${n.status==="Occupied"?"text-green-600":"text-red-600"}`,children:n.status})]})]}),a.jsx("section",{className:"flex gap-4 items-center py-4 border-b border-dashed border-slate-200",children:a.jsxs(V,{variant:"primary",onClick:()=>t("/units"),children:[a.jsx(Ps,{size:16}),"Edit Unit"]})}),a.jsx("section",{className:"grid grid-cols-1 gap-6",children:a.jsxs(xe,{title:`Linked Documents (${s.length})`,className:"min-h-[300px]",children:[a.jsx("p",{className:"text-slate-500 text-sm mb-6 -mt-2",children:"Access all files and documents linked specifically to this unit."}),s.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-100 rounded-2xl bg-slate-50/50 hover:bg-slate-50 transition-all hover:shadow-md group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-white shadow-sm flex items-center justify-center text-indigo-600 border border-slate-100",children:a.jsx($e,{size:20})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-bold text-slate-800",children:f.name}),a.jsxs("span",{className:"text-[11px] text-slate-500 font-medium uppercase tracking-wider",children:[f.type,"  ",new Date(f.createdAt).toLocaleDateString()]})]})]}),a.jsx("a",{href:`${R.defaults.baseURL}/api/admin/documents/${f.id}/download`,target:"_blank",rel:"noreferrer",className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-indigo-600 hover:bg-white rounded-xl transition-all border border-transparent hover:border-indigo-100 shadow-none hover:shadow-sm",title:"Download",children:a.jsx(wn,{size:18})})]},f.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4 text-slate-300",children:a.jsx($e,{size:32})}),a.jsx("p",{className:"text-slate-400 italic",children:"No documents currently linked to this unit."}),a.jsx("p",{className:"text-slate-300 text-xs mt-1",children:"Upload documents via the Document Library to see them here."})]})]})})]})})},oZ=()=>a.jsx(Ce,{title:"Bedroom Setup",children:a.jsxs("div",{className:"flex flex-col gap-6 max-w-[1000px] mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-indigo-50 border border-indigo-100 rounded-md text-indigo-800 text-sm",children:[a.jsx(Qt,{size:20,className:"text-indigo-600"}),a.jsxs("p",{children:[a.jsx("strong",{children:"Note:"})," Bedrooms must be defined even for Full Unit rentals to ensure accurate inventory tracking."]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Bedroom Inventory"}),a.jsxs(V,{variant:"primary",children:[a.jsx(Nt,{size:16})," Add Bedroom"]})]}),a.jsxs(xe,{className:"p-0 overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[2fr_1fr_3fr_80px] p-4 px-6 bg-slate-50 border-b border-slate-200 font-semibold text-xs uppercase text-slate-500 hidden md:grid",children:[a.jsx("div",{className:"col-name",children:"Bedroom Label"}),a.jsx("div",{className:"col-status",children:"Status"}),a.jsx("div",{className:"col-notes",children:"Notes"}),a.jsx("div",{className:"col-actions",children:"Actions"})]}),a.jsx("div",{className:"flex flex-col",children:[1,2,3].map(e=>a.jsxs("div",{className:"grid grid-cols-[1fr_1fr] md:grid-cols-[2fr_1fr_3fr_80px] p-4 px-6 border-b border-slate-100 items-center gap-2",children:[a.jsx("div",{className:"col-name",children:a.jsx("div",{className:"h-4 bg-slate-100 rounded w-32 animate-pulse"})}),a.jsx("div",{className:"col-status",children:a.jsx("div",{className:"h-6 bg-slate-100 rounded-full w-20 animate-pulse"})}),a.jsx("div",{className:"col-notes hidden md:block",children:a.jsx("div",{className:"h-4 bg-slate-100 rounded w-48 animate-pulse"})}),a.jsx("div",{className:"col-actions hidden md:block",children:a.jsx("div",{className:"h-8 bg-slate-200 rounded w-8 animate-pulse"})})]},e))}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"w-full p-4 border-2 border-dashed border-slate-200 rounded-md text-center text-slate-400 font-medium cursor-pointer transition-colors hover:bg-slate-50",children:"+ Add another bedroom"})})]})]})}),cZ=()=>a.jsx(Ce,{title:"Switch Rental Mode",children:a.jsxs("div",{className:"max-w-[800px] mx-auto flex flex-col gap-6",children:[a.jsxs(xe,{className:"bg-slate-50 border border-slate-200",children:[a.jsx("div",{className:"text-xs uppercase text-slate-500 font-bold mb-2 tracking-wide",children:"Current Configuration"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-700",children:"Full Unit"}),a.jsx("span",{className:"text-slate-500 text-sm ml-2",children:"Allows 1 active lease for the entire unit."})]})]}),a.jsx(xe,{title:"Select New Configuration",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4 p-4 border border-blue-500 bg-blue-50 rounded-lg cursor-pointer transition-all ring-1 ring-blue-500 shadow-sm",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-blue-600 bg-blue-600 shadow-[inset_0_0_0_4px_white] mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900",children:"Full Unit Rental"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Single lease for the entire property."})]})]}),a.jsxs("div",{className:"flex items-start gap-4 p-4 border border-slate-200 rounded-lg cursor-pointer transition-all hover:border-blue-300 hover:bg-slate-50",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-300 mt-0.5 shrink-0 bg-white"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900",children:"Bedroom-by-Bedroom"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Individual leases per room. Shared common areas."})]})]})]})}),a.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-300 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Lu,{size:18,className:"text-amber-500"}),a.jsx("span",{className:"font-bold text-amber-800",children:"Prerequisites for Switching"})]}),a.jsxs("ul",{className:"list-none p-0 m-0 flex flex-col gap-2",children:[a.jsxs("li",{className:"flex items-center gap-2 text-sm font-medium text-emerald-600",children:[a.jsx(yn,{size:16,className:"text-success"})," No Active Leases"]}),a.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 rounded-full"})," No Pending Invoices"]}),a.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 rounded-full"})," No Open Maintenance Requests"]})]}),a.jsx("p",{className:"text-xs text-amber-700/80 mt-3 font-medium",children:"System prevents switching if these conditions are not met to ensure accounting integrity."})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-2",children:[a.jsx(V,{variant:"ghost",icon:Vs,children:"Cancel"}),a.jsx(V,{variant:"primary",disabled:!0,children:"Confirm Switch"})]})]})}),Bj=()=>{const{id:e}=Eu(),t=un(),[n,r]=w.useState([]),[s,i]=w.useState(!0),[l,o]=w.useState(""),[c,d]=w.useState(!1),[u,f]=w.useState(null),[p,g]=w.useState(null),[m,b]=w.useState(!1),[h,y]=w.useState(!1),[x,j]=w.useState({}),[N,v]=w.useState([]),[S,k]=w.useState([]),[O,_]=w.useState([]),[C,E]=w.useState([]),[T,L]=w.useState([]),[I,F]=w.useState(""),[$,z]=w.useState("Individual"),[A,P]=w.useState([]),[U,K]=w.useState([{name:"",email:"",phone:"",role:""}]),[q,D]=w.useState(""),[te,se]=w.useState(""),[be,Q]=w.useState(!1),[ie,Y]=w.useState(1),[ee,le]=w.useState([]),[H,de]=w.useState("");w.useEffect(()=>{X()},[]);const X=async()=>{try{const J=await R.get("/api/admin/tenants");r(J.data)}catch(J){console.error("Failed to fetch tenants",J)}finally{i(!1)}},ue=async()=>{var J;try{const ye=await R.get("/api/admin/properties"),Ut=((J=ye.data)==null?void 0:J.data)||ye.data||[];v(Ut)}catch(ye){console.error("Failed to fetch dropdown data",ye),v([])}};w.useEffect(()=>{ue()},[]),w.useEffect(()=>{(async()=>{var ye;if(I)try{const Ut=await R.get(`/api/admin/units?building_id=${I}&limit=1000`),Mr=(((ye=Ut.data)==null?void 0:ye.data)||Ut.data||[]).filter(Gn=>Gn.status!=="Fully Booked");_(Mr),u&&u.unitId&&Mr.find(st=>st.id===parseInt(u.unitId))&&D(u.unitId.toString())}catch(Ut){console.error("Failed to fetch units",Ut),_([])}else _([])})()},[I,u]),w.useEffect(()=>{if(q){const J=O.find(ye=>ye.id===parseInt(q));Q((J==null?void 0:J.rentalMode)==="BEDROOM_WISE")}else Q(!1)},[q,O]),w.useEffect(()=>{(async()=>{if(q&&be)try{const ye=await R.get(`/api/admin/units/bedrooms/vacant?unitId=${q}`);L(ye.data||[])}catch(ye){console.error("Failed to fetch bedrooms",ye)}else L([])})()},[q,be]),w.useEffect(()=>{if(e){const J=parseInt(e),ye=n.find(Ut=>Ut.id===J);ye?(g(ye),b(!1)):(g(null),b(!0))}else g(null),b(!1)},[e,n]),w.useEffect(()=>{const J=n.filter(ye=>ye.type!=="RESIDENT"&&ye.type!=="Resident");le(J)},[n]),w.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[c]);const me=n.filter(J=>{var ye;return J.name.toLowerCase().includes(l.toLowerCase())||J.companyName&&J.companyName.toLowerCase().includes(l.toLowerCase())||J.property.toLowerCase().includes(l.toLowerCase())||J.unit.toLowerCase().includes(l.toLowerCase())||((ye=J.email)==null?void 0:ye.toLowerCase().includes(l.toLowerCase()))}),je=async J=>{var ts,bg,jg;J.preventDefault(),console.log("handleSaveTenant called");const ye=J.target;let yt=ye.phone.value.replace(/[\s-()]/g,"");if(yt.length===10&&/^\d+$/.test(yt)?yt="+1"+yt:yt.length===11&&yt.startsWith("1")&&(yt="+"+yt),!/^\+1\d{10}$/.test(yt)){alert(`Invalid Phone Number.

Please enter a valid Canadian/US number.
Example: 514-321-6767 or +15143216767`);return}const Gn=new FormData(ye),st=It=>Gn.get(It)||"",kt={firstName:st("firstName"),lastName:st("lastName"),type:$,email:st("email"),phone:yt,parentId:$==="Resident"?H:null,companyName:$==="Company"?st("companyName"):null,companyDetails:$==="Company"?st("companyDetails"):null,street:$==="Company"?st("street"):null,street2:$==="Company"?st("street2"):null,city:$==="Company"?st("city"):null,state:$==="Company"?st("state"):null,postalCode:$==="Company"?st("postalCode"):null,country:$==="Company"?st("country"):null,companyContacts:$==="Company"?U:[],residents:A};y(!0),j({});try{let It;u?It=await R.put(`/api/admin/tenants/${u.id}`,kt):It=await R.post("/api/admin/tenants",kt),(ts=It.data)!=null&&ts.smsResult?It.data.smsResult.skipped?alert($==="Resident"?"Resident added successfully!":"Tenant added successfully!"):It.data.smsResult.success?alert(`Tenant added successfully! 
SMS Credentials sent.`):alert(`Tenant added, BUT SMS Failed. 
Error: ${It.data.smsResult.error||"Unknown Error"}`):u||alert($==="Resident"?"Resident added successfully!":"Tenant added successfully!"),await X(),await ue(),d(!1),f(null),Ne()}catch(It){console.error(It),It.response&&It.response.data&&It.response.data.errors?j(It.response.data.errors):alert(((jg=(bg=It.response)==null?void 0:bg.data)==null?void 0:jg.message)||(u?"Failed to update tenant":"Failed to create tenant"))}finally{y(!1)}},Ne=()=>{F(""),D(""),se(""),de(""),z("Individual"),P([]),K([{name:"",email:"",phone:"",role:""}]),Q(!1),Y(1)},B=async J=>{if(window.confirm("Are you sure you want to delete this tenant?"))try{await R.delete(`/api/admin/tenants/${J}`),r(n.filter(ye=>ye.id!==J))}catch{alert("Failed to delete tenant")}},ne=J=>{var ye;f(J),J.propertyId&&F(J.propertyId.toString()),J.unitId&&D(J.unitId.toString()),J.bedroomId&&se(J.bedroomId.toString()),J.type&&z(J.type==="INDIVIDUAL"?"Individual":J.type==="COMPANY"?"Company":J.type==="RESIDENT"?"Resident":J.type),J.parentId&&de(J.parentId.toString()),P(J.residents||[]),K(((ye=J.companyContacts)==null?void 0:ye.length)>0?J.companyContacts:[{name:"",email:"",phone:"",role:""}]),Y(2),d(!0)},ge=async J=>{try{const ye=await R.post(`/api/admin/tenants/${J.id}/send-invite`);alert(`Invite link generated: ${ye.data.inviteLink}
(In production, this would be sent via email)`)}catch(ye){console.error(ye),alert("Failed to send invite")}},Te=J=>{t(`/tenants/${J.id}`)},Ge=()=>{t("/tenants")};return m?a.jsx(Ce,{title:"Tenant Not Found",children:a.jsxs("div",{className:"flex flex-col items-center justify-center p-20 bg-white rounded-3xl shadow-sm border border-slate-100 text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center text-rose-500",children:a.jsx(Qt,{size:40})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Tenant Record Not Found"}),a.jsx("p",{className:"text-slate-500 font-medium mt-2 max-w-sm",children:"The tenant profile you are looking for might have been moved or deleted."})]}),a.jsxs(V,{variant:"secondary",onClick:Ge,className:"gap-2",children:[a.jsx(Vs,{size:18}),"Back to Tenants"]})]})}):p?a.jsx(dZ,{tenant:p,onBack:Ge}):a.jsx(Ce,{title:"Tenants",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-[0_5px_15px_rgba(0,0,0,0.06)] gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-indigo-500 focus-within:ring-4 focus-within:ring-indigo-500/10 transition-all w-full md:w-auto md:min-w-[320px]",children:[a.jsx(Zt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search tenants, email, building",value:l,onChange:J=>o(J.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm font-medium"})]}),a.jsxs(V,{variant:"primary",onClick:()=>{f(null),d(!0)},children:[a.jsx(Nt,{size:18}),"Add Tenant"]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.08)] overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_1fr_0.8fr_1fr_1fr_1fr_0.8fr] bg-slate-50 border-b border-slate-200 px-6 py-4",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tenant"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Email"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Type"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Company Name"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Property / Unit"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Lease Status"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider text-center",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:me.map((J,ye)=>{var yt;const Ut=(yt=J.insurance)==null?void 0:yt.some(Mr=>{const Gn=new Date(Mr.endDate),st=new Date,kt=Math.ceil((Gn-st)/(1e3*60*60*24));return Gn<st||kt<=30});return a.jsxs("div",{className:"grid grid-cols-[1fr_1fr_0.8fr_1fr_1fr_1fr_0.8fr] px-6 py-4 items-center hover:bg-slate-50/80 transition-all duration-200",style:{animationDelay:`${ye*.05}s`},children:[a.jsxs("span",{className:"flex items-center gap-3 font-medium text-slate-700 overflow-hidden",children:[a.jsx("div",{className:"min-w-[32px] w-8 h-8 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:a.jsx(zt,{size:16})}),a.jsx("button",{onClick:()=>Te(J),className:"hover:text-indigo-600 hover:underline transition-all text-left truncate",children:J.name}),Ut&&a.jsx("div",{className:"text-amber-500 min-w-[14px]",title:"Insurance Expired or Expiring Soon",children:a.jsx(Qt,{size:14})})]}),a.jsx("span",{className:"text-sm text-slate-600 truncate",children:J.email}),a.jsx("span",{className:"w-fit",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border ${J.type==="Company"||J.type==="COMPANY"?"bg-purple-50 text-purple-700 border-purple-100":J.type==="Resident"||J.type==="RESIDENT"?"bg-amber-50 text-amber-700 border-amber-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:J.type==="COMPANY"||J.type==="Company"?"Company":J.type==="RESIDENT"||J.type==="Resident"?"Resident":"Individual"})}),a.jsx("span",{className:"text-sm text-slate-600 truncate",children:(J.type==="COMPANY"||J.type==="Company")&&J.companyName||"-"}),a.jsxs("span",{className:"text-sm text-slate-600",children:[a.jsx("div",{className:"font-medium text-slate-800",children:J.property}),a.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:J.unit})]}),a.jsx("span",{className:"w-fit",children:a.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold border ${J.leaseStatus==="Active"?"bg-emerald-50 text-emerald-700 border-emerald-100":J.leaseStatus==="DRAFT"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${J.leaseStatus==="Active"?"bg-emerald-500":J.leaseStatus==="DRAFT"?"bg-amber-500":"bg-red-500"}`}),J.leaseStatus==="DRAFT"?"Draft":J.leaseStatus]})}),a.jsxs("span",{className:"flex justify-center gap-1",children:[a.jsx("button",{onClick:()=>Te(J),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-200",title:"View Details",children:a.jsx($t,{size:16})}),a.jsx("button",{onClick:()=>ne(J),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200",title:"Edit Tenant",children:a.jsx(_o,{size:16})}),!J.hasPortalAccess&&a.jsx("button",{onClick:()=>ge(J),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-amber-600 hover:bg-amber-50 transition-all duration-200",title:"Send Invite",children:a.jsx(p0,{size:16})}),a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-all duration-200",onClick:()=>B(J.id),title:"Delete Tenant",children:a.jsx(Jt,{size:16})})]})]},J.id)})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center z-50 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-2xl shadow-2xl animate-in zoom-in-95 duration-400 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"px-10 py-8 border-b border-slate-100 flex justify-between items-center bg-white shrink-0",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u?"Edit Profile":ie===1?"Select Tenant Type":$==="Individual"?"Individual Tenant Details":$==="Company"?"Company Tenant Details":$==="Resident"?"Resident Tenant Detail":"Tenant Details"}),a.jsx("p",{className:"text-slate-500 font-medium text-sm mt-1",children:u?`Updating ${u.name}`:ie===1?"Step 1 of 2: Classification":"Step 2 of 2: Information"})]}),a.jsx("button",{type:"button",onClick:()=>{d(!1),f(null),Ne()},className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-50 text-slate-400 hover:bg-rose-50 hover:text-rose-500 transition-all duration-300",children:a.jsx(Nt,{className:"rotate-45",size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-10 py-8 custom-scrollbar",children:ie===1&&!u?a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>{z("Individual"),Y(2)},className:"group p-6 rounded-2xl border-2 border-slate-100 hover:border-indigo-500 hover:bg-indigo-50/30 text-left transition-all duration-300 flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300",children:a.jsx(zt,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Individual Tenant"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Single legal leaseholder. Receives credentials via SMS."})]})]}),a.jsxs("button",{type:"button",onClick:()=>{z("Company"),Y(2)},className:"group p-6 rounded-2xl border-2 border-slate-100 hover:border-purple-500 hover:bg-purple-50/30 text-left transition-all duration-300 flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-50 text-purple-600 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300",children:a.jsx(Or,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Company Tenant"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Corporate leaseholder with occupants. Billing via primary contact."})]})]}),a.jsxs("button",{type:"button",onClick:()=>{z("Resident"),Y(2)},className:"group p-6 rounded-2xl border-2 border-slate-100 hover:border-amber-500 hover:bg-amber-50/30 text-left transition-all duration-300 flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300",children:a.jsx($e,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Resident (Occupant Only)"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Physical occupant only. Non-billable. Linked to a billable tenant."})]})]})]}):a.jsxs("form",{onSubmit:je,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 mb-2",children:[a.jsx(zt,{size:18}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Personal Identification"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"First Name"}),a.jsx("input",{name:"firstName",placeholder:"John",defaultValue:(u==null?void 0:u.firstName)||"",required:!0,className:`px-5 py-3.5 rounded-2xl border ${x.firstName?"border-red-500 bg-red-50":"border-slate-200 bg-slate-50/50"} outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800`}),x.firstName&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:x.firstName})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Last Name"}),a.jsx("input",{name:"lastName",placeholder:"Doe",defaultValue:(u==null?void 0:u.lastName)||"",required:!0,className:`px-5 py-3.5 rounded-2xl border ${x.lastName?"border-red-500 bg-red-50":"border-slate-200 bg-slate-50/50"} outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800`}),x.lastName&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:x.lastName})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Email Adddress"}),a.jsx("input",{name:"email",type:"email",placeholder:"john@example.com",defaultValue:(u==null?void 0:u.email)||"",required:$!=="Resident",className:`px-5 py-3.5 rounded-2xl border ${x.email?"border-red-500 bg-red-50":"border-slate-200 bg-slate-50/50"} outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800`}),x.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:x.email})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Mobile Number"}),a.jsx("input",{name:"phone",type:"tel",placeholder:"(514) 123-4567",defaultValue:(u==null?void 0:u.phone)||"+1 ",required:!0,className:`px-5 py-3.5 rounded-2xl border ${x.phone?"border-red-500 bg-red-50":"border-slate-200 bg-slate-50/50"} outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800`}),x.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:x.phone}),a.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-1 italic",children:"Canadian/US format supported (e.g. 514-123-4567)"})]})]})]}),$==="Resident"&&a.jsxs("div",{className:"p-6 bg-amber-50/50 rounded-[24px] border border-amber-100 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-2",children:[a.jsx(Qt,{size:18}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Resident Linking"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Responsible Tenant (Billable)"}),a.jsxs("select",{value:H,onChange:J=>de(J.target.value),required:$==="Resident",className:`px-5 py-3.5 rounded-2xl border ${x.parentId?"border-red-500 bg-red-50":"border-slate-200 bg-white"} outline-none focus:border-amber-500 focus:ring-4 focus:ring-amber-500/10 transition-all font-medium text-slate-800 appearance-none`,children:[a.jsx("option",{value:"",children:"Choose a billable tenant..."}),ee.map(J=>a.jsxs("option",{value:J.id,children:[J.name," (",J.type,")"]},J.id))]}),x.parentId&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:x.parentId})]})]}),$==="Company"&&a.jsxs("div",{className:"p-6 bg-purple-50/30 rounded-[24px] border border-purple-100 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-2",children:[a.jsx(Or,{size:18}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Company Information"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Company legal Name"}),a.jsx("input",{name:"companyName",placeholder:"LLC / Inc / Corp",defaultValue:(u==null?void 0:u.companyName)||"",required:!0,className:`px-5 py-3.5 rounded-2xl border ${x.companyName?"border-red-500 bg-red-50":"border-slate-200 bg-white"} outline-none focus:border-purple-500 transition-all font-medium`}),x.companyName&&a.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:x.companyName})]}),a.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Street Address"}),a.jsx("input",{name:"street",placeholder:"123 Corporate Way",defaultValue:(u==null?void 0:u.street)||"",required:!0,className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white outline-none focus:border-purple-500 transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Address Line 2 (Optional)"}),a.jsx("input",{name:"street2",placeholder:"Building B, Suite 100",defaultValue:(u==null?void 0:u.street2)||"",className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white outline-none focus:border-purple-500 transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"City"}),a.jsx("input",{name:"city",placeholder:"Business City",defaultValue:(u==null?void 0:u.city)||"",required:!0,className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"State / Province"}),a.jsx("input",{name:"state",placeholder:"State",defaultValue:(u==null?void 0:u.state)||"",className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Postal Code"}),a.jsx("input",{name:"postalCode",placeholder:"H4F 3G1",defaultValue:(u==null?void 0:u.postalCode)||"",required:!0,className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 ml-1",children:"Country"}),a.jsx("input",{name:"country",placeholder:"Canada",defaultValue:(u==null?void 0:u.country)||"",className:"px-5 py-3.5 rounded-2xl border border-slate-200 bg-white transition-all font-medium"})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 -mx-10 -mb-8 px-10 py-6 border-t border-slate-200 sticky bottom-0",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>u?Ne():Y(1),children:u?"Reset":"Back to Selection"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>{d(!1),f(null),Ne()},children:"Cancel"}),a.jsx(V,{type:"submit",isLoading:h,children:u?"Save Changes":"Create Tenant"})]})]})]})})]})})]})})},dZ=({tenant:e,onBack:t})=>{var Ne;const[n,r]=w.useState("Details"),[s,i]=w.useState(!1),[l,o]=w.useState({...e,email:e.email||`${e.name.toLowerCase().replace(" ",".")}@example.com`,phone:e.phone||"+1 (555) 012-3456",leaseStatus:e.leaseStatus||"Active"}),[c,d]=w.useState(e.documents||[]),[u,f]=w.useState(e.insurance||[]),[p,g]=w.useState([]),[m,b]=w.useState([]),h=async()=>{var B,ne,ge,Te,Ge,J,ye,Ut,yt,Mr,Gn;try{i(!0);const kt=(await R.get(`/api/admin/tenants/${e.id}`)).data;o({...kt,name:kt.name||`${kt.firstName||""} ${kt.lastName||""}`.trim(),leaseStatus:((ne=(B=kt.leases)==null?void 0:B.find(ts=>ts.status==="Active"))==null?void 0:ne.status)||((Te=(ge=kt.leases)==null?void 0:ge.find(ts=>ts.status==="DRAFT"))==null?void 0:Te.status)||"Inactive",property:((Ut=(ye=(J=(Ge=kt.leases)==null?void 0:Ge[0])==null?void 0:J.unit)==null?void 0:ye.property)==null?void 0:Ut.name)||"No Property",unit:((Gn=(Mr=(yt=kt.leases)==null?void 0:yt[0])==null?void 0:Mr.unit)==null?void 0:Gn.name)||"No Unit"}),d(kt.documents||[]),f(kt.insurances||[]),g(kt.leases||[])}catch(st){console.error("Failed to fetch tenant data",st)}finally{i(!1)}};w.useEffect(()=>{e!=null&&e.id&&(h(),y())},[e==null?void 0:e.id]);const y=async()=>{try{const ne=(await R.get(`/api/admin/tickets?userId=${e.id}`)).data.map(ge=>({id:ge.id,dbId:ge.dbId,title:ge.subject,category:ge.category||"General",priority:ge.priority,status:ge.status,date:ge.date}));b(ne)}catch(B){console.error("Failed to fetch tickets",B)}},[x,j]=w.useState(!1),[N,v]=w.useState(!1),[S,k]=w.useState(!1),[O,_]=w.useState(!1),[C,E]=w.useState(!1),[T,L]=w.useState(!1),[I,F]=w.useState(null),[$,z]=w.useState(null),[A,P]=w.useState(null),[U,K]=w.useState(!1),[q,D]=w.useState(null),[te,se]=w.useState(""),be=B=>{confirm("Are you sure you want to delete this document?")&&d(c.filter(ne=>ne.id!==B))},Q=B=>{confirm("Are you sure you want to delete this insurance policy?")&&f(u.filter(ne=>ne.id!==B))},ie=B=>{const ne=new Date(B),ge=new Date;ne.setHours(0,0,0,0),ge.setHours(0,0,0,0);const Te=ne-ge,Ge=Math.ceil(Te/(1e3*60*60*24));return Ge<0?{label:"Expired",class:"bg-red-50 text-red-700 border-red-100",dot:"bg-red-500",helper:`Expired ${Math.abs(Ge)} days ago`,icon:!0}:Ge<=30?{label:"Expiring Soon",class:"bg-amber-50 text-amber-700 border-amber-100",dot:"bg-amber-500",helper:`Expires in ${Ge} days`,icon:!0}:{label:"Active",class:"bg-emerald-50 text-emerald-700 border-emerald-100",dot:"bg-emerald-500",helper:`Expires in ${Ge} days`,icon:!1}},Y=B=>{B.preventDefault();const ne=B.target,ge={id:I?I.id:Date.now(),provider:ne.provider.value,policyNumber:ne.policyNumber.value,startDate:ne.startDate.value,endDate:ne.endDate.value,document:"uploaded_policy.pdf"};f(I?u.map(Te=>Te.id===I.id?ge:Te):[...u,ge]),j(!1),F(null)},ee=B=>{B.preventDefault();const ne=B.target,ge={id:Date.now(),name:ne.docName.value||"New Document.pdf",type:ne.docType.value,expiryDate:ne.expiryDate.value,date:new Date().toISOString().split("T")[0]};d([...c,ge]),v(!1)},le=async B=>{B.preventDefault();const ne=B.target;try{const ge={tenantId:e.id,subject:ne.title.value,category:ne.category.value,priority:ne.priority.value,description:`Created via Admin Portal for ${e.name}`,propertyId:e.propertyId,unitId:e.unitId};await R.post("/api/admin/tickets",ge),y(),k(!1)}catch(ge){console.error("Failed to save ticket",ge),alert("Error creating ticket")}},H=B=>{B.preventDefault(),B.target,_(!1)},de=async B=>{if(window.confirm("Are you sure you want to activate this lease?"))try{await R.post(`/api/admin/leases/${B}/activate`),alert("Lease activated successfully"),h()}catch(ne){console.error(ne),alert("Failed to activate lease")}},X=p.length>0?[...p].sort((B,ne)=>ne.id-B.id)[0]:null,ue=X&&(X.status==="DRAFT"||((Ne=X.status)==null?void 0:Ne.toLowerCase())==="expired"),me=async B=>{if(B.preventDefault(),!!q)try{await R.put(`/api/admin/leases/${q.id}`,{monthlyRent:te}),alert("Rent updated successfully"),K(!1),h()}catch(ne){console.error(ne),alert("Failed to update rent")}},je=async B=>{B.preventDefault();const ne=B.target;try{const ge={firstName:ne.name.value.split(" ")[0],lastName:ne.name.value.split(" ").slice(1).join(" "),email:ne.email.value,phone:ne.phone.value,type:ne.type.value};await R.put(`/api/admin/tenants/${e.id}`,ge),alert("Tenant updated successfully"),E(!1),h()}catch(ge){console.error(ge),alert("Failed to update tenant")}};return a.jsx(Ce,{title:`Tenant: ${e.name}`,children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2.5 rounded-xl bg-slate-50 text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-all border border-slate-100",children:a.jsx(Vs,{size:20})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 border border-indigo-100 font-bold text-lg",children:l.name.split(" ").map(B=>B[0]).join("")}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-sm text-slate-500 font-medium",children:l.property}),a.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),a.jsx("span",{className:"text-sm text-slate-500 font-medium",children:l.unit})]})]})]})]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsx(V,{variant:"secondary",className:"flex-1 md:flex-none",onClick:()=>E(!0),children:"Edit Tenant"}),a.jsx(V,{variant:"primary",className:"flex-1 md:flex-none",onClick:()=>L(!0),children:"Contact"})]})]}),a.jsx("div",{className:"flex border-b border-slate-200 gap-8 px-2 overflow-x-auto no-scrollbar",children:["Details","Leases","Documents","Insurance","Tickets"].map(B=>a.jsxs("button",{onClick:()=>r(B),className:fe("pb-4 px-2 text-sm font-semibold transition-all relative whitespace-nowrap",n===B?"text-indigo-600":"text-slate-400 hover:text-slate-600"),children:[B,n===B&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 rounded-full animate-in fade-in slide-in-from-bottom-1 duration-300"})]},B))}),a.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[n==="Details"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${l.leaseStatus==="Active"?"bg-emerald-500":"bg-red-500"}`}),a.jsx("span",{className:"font-semibold text-slate-700",children:l.leaseStatus})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Type"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold border ${l.type==="Company"?"bg-purple-50 text-purple-700 border-purple-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:l.type})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Tenant ID"}),a.jsxs("p",{className:"font-mono text-sm text-slate-600",children:["TEN-",l.id]})]}),a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Primary Email"}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:l.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Primary Phone"}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:l.phone})]})]})]}),l.type==="Company"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Company Address"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Street Address"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.street||"N/A"}),l.street2&&a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.street2})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"City"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.city||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"State / Province"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.state||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Postal Code"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.postalCode||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Country"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:l.country||"N/A"})]})]})]}),l.companyContacts&&l.companyContacts.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Company Contacts"}),a.jsx("div",{className:"space-y-3",children:l.companyContacts.map((B,ne)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex justify-between items-center group",children:[a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-500 font-bold",children:B.name[0]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-800",children:B.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:B.role||"No Role specified"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700",children:B.email}),a.jsx("p",{className:"text-[11px] text-slate-400",children:B.phone||"No phone"})]})]},ne))})]})]}),l.residents&&l.residents.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Linked Residents"}),a.jsx("div",{className:"space-y-3",children:l.residents.map((B,ne)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsxs("div",{className:"w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center text-indigo-500 font-bold",children:[B.firstName[0],B.lastName[0]]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-slate-800",children:[B.firstName," ",B.lastName]}),a.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-500 bg-indigo-50 px-1.5 py-0.5 rounded",children:"Resident"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700",children:B.email||"No email"}),a.jsx("p",{className:"text-[11px] text-slate-400",children:B.phone||"No phone"})]})]},ne))})]})]})]}),n==="Leases"&&a.jsxs("section",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Lease History"}),a.jsxs("div",{className:"flex gap-2",children:[ue&&a.jsx(V,{variant:"primary",size:"sm",onClick:()=>de(X.id),children:"Activate Lease"}),a.jsx(V,{variant:"secondary",size:"sm",onClick:()=>_(!0),children:"Add Past Lease"})]})]}),p.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Unit / Bedroom"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Period"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Rent"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:p.map(B=>{var ne,ge;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all font-medium",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:((ne=B.unit)==null?void 0:ne.rentalMode)||"Full Unit"}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:((ge=B.unit)==null?void 0:ge.name)||"N/A"}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[B.startDate?new Date(B.startDate).toLocaleDateString():"TBD"," - ",B.endDate?new Date(B.endDate).toLocaleDateString():"TBD"]}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 font-bold",children:!B.monthlyRent||parseFloat(B.monthlyRent)===0?a.jsx("button",{onClick:()=>{D(B),se(""),K(!0)},className:"text-[10px] text-indigo-600 hover:text-indigo-700 bg-indigo-50 px-2 py-1 rounded font-black uppercase",children:"[ Set Rent ]"}):a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsxs("span",{children:["$",B.monthlyRent]}),a.jsx("button",{onClick:()=>{D(B),se(B.monthlyRent.toString()),K(!0)},className:"text-slate-400 hover:text-indigo-600 opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:a.jsx(_o,{size:14})})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight ${B.status==="Active"?"bg-emerald-50 text-emerald-700 border-emerald-100":B.status==="DRAFT"?"bg-amber-50 text-amber-700 border-amber-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:B.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx("button",{onClick:async()=>{try{const Te=await R.get(`/api/admin/leases/${B.id}/download`,{responseType:"blob"}),Ge=window.URL.createObjectURL(new Blob([Te.data])),J=document.createElement("a");J.href=Ge,J.setAttribute("download",`lease-${B.id}.pdf`),document.body.appendChild(J),J.click(),J.remove()}catch{alert("Download failed")}},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"Download Lease PDF",children:a.jsx(wn,{size:18})})})})]},B.id)})})]})}):a.jsx("div",{className:"py-12 text-center",children:a.jsxs("div",{className:"max-w-xs mx-auto space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-50 border border-slate-100 rounded-2xl flex items-center justify-center mx-auto text-slate-300",children:a.jsx($e,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"No Lease History"}),a.jsx("p",{className:"text-sm text-slate-500",children:"The historical lease record for this tenant is currently being migrated."})]})]})})]}),n==="Documents"&&a.jsxs("section",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Tenant Documents"}),a.jsxs(V,{variant:"primary",size:"sm",className:"gap-2",onClick:()=>v(!0),children:[a.jsx(yr,{size:16}),"Upload Document"]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Document Name"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Expiry"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:c.map(B=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600 border border-indigo-100",children:a.jsx($e,{size:16})}),a.jsx("span",{className:"font-semibold text-slate-700",children:B.name})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-xs font-medium text-slate-500 bg-slate-100 px-2.5 py-1 rounded-lg",children:B.type})}),a.jsx("td",{className:"px-6 py-4",children:B.expiryDate?a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-700",children:B.expiryDate}),(()=>{const ne=Math.ceil((new Date(B.expiryDate)-new Date)/864e5);return a.jsx("p",{className:fe("text-[10px] font-bold uppercase tracking-wider mt-1",ne<0?"text-rose-500":ne<=30?"text-amber-500":"text-emerald-500"),children:ne<0?`Expired ${Math.abs(ne)} days ago`:`Expires in ${ne} days`})})()]}):a.jsx("span",{className:"text-sm text-slate-400 italic",children:"No Expiry"})}),a.jsx("td",{className:"px-6 py-4",children:B.expiryDate?(()=>{const ne=ie(B.expiryDate);return a.jsxs("span",{className:fe("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight w-fit",ne.class),children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ne.dot}`}),ne.label]})})():a.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-bold border bg-slate-50 text-slate-400 uppercase tracking-tight",children:"Permanent"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>P(B),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"View",children:a.jsx($t,{size:18})}),a.jsx("button",{onClick:()=>be(B.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:a.jsx(Jt,{size:18})})]})})]},B.id))})]}),c.length===0&&a.jsx("div",{className:"py-12 text-center text-slate-400 italic",children:"No documents uploaded yet."})]})]}),n==="Insurance"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Insurance Policies"}),a.jsx(V,{variant:"primary",size:"sm",onClick:()=>{F(null),j(!0)},children:"Add Insurance"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Provider"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Policy Number"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Period"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:u.map(B=>{const ne=ie(B.endDate);return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg ${ne.class.split(" ")[0]} flex items-center justify-center ${ne.class.split(" ")[1]} border ${ne.class.split(" ")[2]}`,children:a.jsx(Or,{size:16})}),a.jsx("span",{className:"font-semibold text-slate-700",children:B.provider})]})}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-slate-500",children:B.policyNumber}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-xs font-medium text-slate-600",children:[B.startDate," - ",B.endDate]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:fe("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight w-fit",ne.class),children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ne.dot}`}),ne.label]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>z(B),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"View",children:a.jsx($t,{size:18})}),a.jsx("button",{onClick:()=>{F(B),j(!0)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit",children:a.jsx(F2,{size:18})}),a.jsx("button",{onClick:()=>Q(B.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:a.jsx(Jt,{size:18})})]})})]},B.id)})})]}),u.length===0&&a.jsx("div",{className:"py-12 text-center text-slate-400 italic",children:"No insurance policies added."})]})]}),a.jsxs("div",{className:"bg-amber-50 rounded-2xl p-6 border border-amber-100 flex items-start gap-4",children:[a.jsx("div",{className:"p-2 rounded-xl bg-amber-100 text-amber-600",children:a.jsx(Qt,{size:20})}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-bold text-amber-900",children:"Compliance Requirement"}),a.jsx("p",{className:"text-sm text-amber-800 mt-1 opacity-80",children:"All tenants are required to maintain a valid Liability Insurance policy throughout their lease term. System will automatically notify the tenant 30 days before expiry."})]})]})]}),n==="Tickets"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Maintenance Tickets"}),a.jsx(V,{variant:"primary",size:"sm",onClick:()=>k(!0),children:"Create Ticket"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Ticket"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:m.map(B=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-700",children:B.title}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:["#",B.id]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-xs font-medium text-slate-500 bg-slate-100 px-2.5 py-1 rounded-lg",children:B.category})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight w-fit ${B.status==="Open"?"bg-blue-50 text-blue-700 border-blue-100":B.status==="In Progress"?"bg-amber-50 text-amber-700 border-amber-100":"bg-emerald-50 text-emerald-700 border-emerald-100"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${B.status==="Open"?"bg-blue-500":B.status==="In Progress"?"bg-amber-500":"bg-emerald-500"}`}),B.status]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 font-medium",children:B.date}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx("button",{className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:a.jsx(Zt,{size:16})})})})]},B.id))})]}),m.length===0&&a.jsx("div",{className:"py-12 text-center text-slate-400 italic",children:"No tickets found for this tenant."})]})]})})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:Y,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:[I?"Edit":"Add"," Insurance Policy"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Provider Name"}),a.jsx("input",{name:"provider",defaultValue:(I==null?void 0:I.provider)||"",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all font-medium text-slate-700",placeholder:"e.g. State Farm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Policy Number"}),a.jsx("input",{name:"policyNumber",defaultValue:(I==null?void 0:I.policyNumber)||"",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all font-medium text-slate-700 font-mono",placeholder:"e.g. POL-12345"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"startDate",type:"date",defaultValue:(I==null?void 0:I.startDate)||"",required:!0,className:"w-full pl-11 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all text-sm font-medium text-slate-700"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"endDate",type:"date",defaultValue:(I==null?void 0:I.endDate)||"",required:!0,className:"w-full pl-11 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all text-sm font-medium text-slate-700"})]})]})]}),a.jsxs("div",{className:"p-6 border-2 border-dashed border-slate-100 rounded-2xl flex flex-col items-center justify-center gap-2 hover:border-indigo-200 transition-all group cursor-pointer relative",children:[a.jsx(yr,{size:24,className:"text-slate-300 group-hover:text-indigo-400 transition-all"}),a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Upload Policy Document"}),a.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>j(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Policy"})]})]})}),$&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",onClick:()=>z(null),children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",onClick:B=>B.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Insurance Details"}),a.jsx("button",{onClick:()=>z(null),className:"text-slate-400 hover:text-slate-600 transition-all",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600",children:a.jsx(Or,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider",children:"Provider"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:$.provider})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Policy Number"}),a.jsx("p",{className:"font-mono text-sm font-semibold text-slate-700",children:$.policyNumber})]}),a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Status"}),(()=>{const B=ie($.endDate);return a.jsx("span",{className:fe("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight w-fit",B.class),children:B.label})})()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Start Date"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:$.startDate})]}),a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"End Date"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:$.endDate})]})]}),a.jsxs("div",{className:"p-4 rounded-2xl border border-indigo-100 bg-indigo-50/30 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($e,{size:18,className:"text-indigo-600"}),a.jsx("span",{className:"text-sm font-medium text-indigo-900",children:$.document})]}),a.jsx("button",{onClick:async()=>{try{const B=$.uploadedDocumentId;if(!B)return alert("No document record found for this policy");const ne=`/api/admin/documents/${B}/download`,ge=await R.get(ne,{responseType:"blob"}),Te=window.URL.createObjectURL(new Blob([ge.data])),Ge=document.createElement("a");Ge.href=Te,Ge.setAttribute("download",`insurance-${$.id}.pdf`),document.body.appendChild(Ge),Ge.click(),Ge.remove()}catch{alert("Download failed")}},className:"text-indigo-600 hover:text-indigo-800 transition-all",children:a.jsx(wn,{size:18})})]})]}),a.jsx("div",{className:"mt-8",children:a.jsx(V,{variant:"secondary",className:"w-full",onClick:()=>z(null),children:"Close"})})]})}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:ee,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Upload Document"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Document Name"}),a.jsx("input",{name:"docName",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all font-medium text-slate-700",placeholder:"e.g. ID Proof"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Document Type"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"docType",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all appearance-none bg-white font-medium text-slate-700",children:[a.jsx("option",{value:"Agreement",children:"Lease Agreement"}),a.jsx("option",{value:"ID",children:"Identity Proof"}),a.jsx("option",{value:"Income",children:"Income Proof"}),a.jsx("option",{value:"Other",children:"Other"})]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:""})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Expiry Date (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"expiryDate",type:"date",className:"w-full pl-11 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all text-sm font-medium text-slate-700"})]})]}),a.jsxs("div",{className:"p-6 border-2 border-dashed border-slate-100 rounded-2xl flex flex-col items-center justify-center gap-2 hover:border-indigo-200 transition-all group cursor-pointer relative",children:[a.jsx(yr,{size:24,className:"text-slate-300 group-hover:text-indigo-400 transition-all"}),a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Choose File"}),a.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>v(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Upload"})]})]})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",onClick:()=>P(null),children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-4xl max-h-[90vh] shadow-2xl animate-in zoom-in-95 duration-300 flex flex-col",onClick:B=>B.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:A.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:[A.type,"  Uploaded on ",A.date]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:"secondary",size:"sm",className:"gap-2",onClick:async()=>{try{const B=`/api/admin/documents/${A.id}/download`,ne=await R.get(B,{responseType:"blob"}),ge=window.URL.createObjectURL(new Blob([ne.data])),Te=document.createElement("a");Te.href=ge,Te.setAttribute("download",`${A.name}`),document.body.appendChild(Te),Te.click(),Te.remove()}catch{alert("Download failed")}},children:[a.jsx(wn,{size:16}),"Download"]}),a.jsx("button",{onClick:()=>P(null),className:"p-2 text-slate-400 hover:text-slate-600 transition-all",children:""})]})]}),a.jsx("div",{className:"flex-1 bg-slate-50 rounded-xl border border-slate-200 overflow-hidden relative min-h-[500px]",children:A.name.toLowerCase().endsWith(".pdf")?a.jsx("iframe",{src:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf#toolbar=0",className:"w-full h-full border-none",title:"PDF Preview"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:a.jsx("img",{src:"https://images.unsplash.com/photo-1586281380349-632531db7ed4?auto=format&fit=crop&q=80&w=1000",className:"max-w-full max-h-full object-contain rounded-lg shadow-lg",alt:"Document Preview"})})}),a.jsx("div",{className:"mt-8",children:a.jsx(V,{variant:"secondary",className:"w-full",onClick:()=>P(null),children:"Close Preview"})})]})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:le,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Create Maintenance Ticket"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5 opacity-60",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Tenant"}),a.jsx("input",{disabled:!0,value:e.name,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 font-medium"})]}),a.jsxs("div",{className:"space-y-1.5 opacity-60",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Unit"}),a.jsx("input",{disabled:!0,value:e.unit,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 font-medium"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Issue Title"}),a.jsx("input",{name:"title",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all font-medium text-slate-700",placeholder:"e.g. Broken Light Fixture"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Category"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"category",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 transition-all appearance-none bg-white font-medium text-slate-700",children:[a.jsx("option",{value:"Plumbing",children:"Plumbing"}),a.jsx("option",{value:"Electrical",children:"Electrical"}),a.jsx("option",{value:"HVAC",children:"HVAC"}),a.jsx("option",{value:"Appliance",children:"Appliance"}),a.jsx("option",{value:"Other",children:"Other"})]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:""})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Priority"}),a.jsx("div",{className:"flex gap-4",children:["Low","Medium","High"].map(B=>a.jsxs("label",{className:"flex-1",children:[a.jsx("input",{type:"radio",name:"priority",value:B,defaultChecked:B==="Medium",className:"sr-only peer"}),a.jsx("div",{className:"text-center py-2 rounded-xl border border-slate-200 peer-checked:border-indigo-500 peer-checked:bg-indigo-50 peer-checked:text-indigo-600 cursor-pointer transition-all text-sm font-bold opacity-60 peer-checked:opacity-100",children:B})]},B))})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>k(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Submit Ticket"})]})]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:je,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Edit Tenant"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Name"}),a.jsx("input",{name:"name",defaultValue:l.name,required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all font-medium text-slate-700"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Email"}),a.jsx("input",{name:"email",type:"email",defaultValue:l.email,required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all font-medium text-slate-700"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Phone"}),a.jsx("input",{name:"phone",defaultValue:l.phone||"+1 ",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all font-medium text-slate-700"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Type"}),a.jsxs("select",{name:"type",defaultValue:l.type,required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all appearance-none bg-white font-medium text-slate-700",children:[a.jsx("option",{value:"Individual",children:"Individual"}),a.jsx("option",{value:"Company",children:"Company"})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>E(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Changes"})]})]})}),T&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",onClick:()=>L(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-sm shadow-2xl animate-in zoom-in-95 duration-300",onClick:B=>B.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Contact Tenant"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 rounded-2xl bg-indigo-50/50 border border-indigo-100",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Email Address"}),a.jsx("a",{href:`mailto:${l.email}`,className:"text-indigo-600 font-bold hover:underline break-all",children:l.email})]}),a.jsxs("div",{className:"p-4 rounded-2xl bg-indigo-50/50 border border-indigo-100",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Phone Number"}),a.jsx("a",{href:`tel:${l.phone}`,className:"text-indigo-600 font-bold hover:underline",children:l.phone})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Quick Note"}),a.jsx("textarea",{placeholder:"Type a message...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all text-sm h-24 resize-none"})]})]}),a.jsx("div",{className:"flex gap-3 mt-8",children:a.jsx(V,{variant:"secondary",className:"w-full",onClick:()=>L(!1),children:"Close"})})]})}),O&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:H,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Add Historical Lease"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Lease Type"}),a.jsxs("select",{name:"type",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none transition-all appearance-none bg-white font-medium text-slate-700",children:[a.jsx("option",{value:"Full Unit",children:"Full Unit"}),a.jsx("option",{value:"Bedroom",children:"Bedroom"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Unit / Room"}),a.jsx("input",{name:"unit",defaultValue:l.unit,required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none font-medium text-slate-700"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Start Date"}),a.jsx("input",{name:"startDate",type:"date",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none font-medium text-slate-700"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"End Date"}),a.jsx("input",{name:"endDate",type:"date",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none font-medium text-slate-700"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Monthly Rent"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),a.jsx("input",{name:"rent",type:"number",required:!0,placeholder:"0.00",className:"w-full pl-8 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none font-medium text-slate-700"})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>_(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Lease"})]})]})}),U&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:me,className:"bg-white rounded-2xl p-8 w-full max-w-sm shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Set Lease Rent"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Monthly Rent Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),a.jsx("input",{type:"number",step:"0.01",required:!0,min:"0.01",value:te,onChange:B=>se(B.target.value),className:"w-full pl-8 pr-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none transition-all font-bold text-slate-700 text-lg",placeholder:"0.00",autoFocus:!0})]})]})}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>K(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Rent"})]})]})})]})})},uZ=()=>{un();const[e,t]=w.useState(""),[n,r]=w.useState("All"),[s,i]=w.useState("All"),[l,o]=w.useState(null),[c,d]=w.useState([]),[u,f]=w.useState({active:0,expiring:0,expired:0,pending:0}),[p,g]=w.useState(""),[m,b]=w.useState(!1),h=async()=>{try{const[v,S]=await Promise.all([R.get("/api/admin/insurance/alerts"),R.get("/api/admin/insurance/stats")]);d(v.data),f(S.data)}catch(v){console.error(v)}};w.useEffect(()=>{h()},[]);const y=async v=>{if(window.confirm("Approve this insurance policy?"))try{await R.post(`/api/admin/insurance/${v}/approve`),o(null),h()}catch{alert("Approval failed")}},x=async v=>{if(!p)return alert("Please provide a reason");try{await R.post(`/api/admin/insurance/${v}/reject`,{reason:p}),o(null),b(!1),g(""),h()}catch{alert("Rejection failed")}},j=c.filter(v=>{const S=v.tenantName.toLowerCase().includes(e.toLowerCase())||v.policyNumber.toLowerCase().includes(e.toLowerCase()),k=n==="All"||v.status===n||n==="EXPIRING_SOON"&&v.expiry.label==="Expiring Soon",O=s==="All"||v.property===s;return S&&k&&O}),N=()=>{t(""),r("All"),i("All")};return a.jsx(Ce,{title:"Insurance Compliance",children:a.jsxs("div",{className:"flex flex-col gap-8 pb-10",children:[a.jsx("div",{className:"space-y-1",children:a.jsx("p",{className:"text-slate-500 font-medium",children:"Manage tenant insurance approvals and monitor portfolio compliance."})}),a.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(xe,{className:`p-6 rounded-[24px] cursor-pointer transition-all duration-300 hover:-translate-y-1 border-b-4 ${n==="PENDING_APPROVAL"?"border-amber-500 shadow-lg":"border-transparent shadow-sm bg-white"}`,onClick:()=>r("PENDING_APPROVAL"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-600",children:a.jsx(sr,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u.pending}),a.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest leading-none mt-1",children:"Pending Approval"})]})]})}),a.jsx(xe,{className:`p-6 rounded-[24px] cursor-pointer transition-all duration-300 hover:-translate-y-1 border-b-4 ${n==="EXPIRED"?"border-red-500 shadow-lg":"border-transparent shadow-sm bg-white"}`,onClick:()=>r("EXPIRED"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-xl flex items-center justify-center text-red-600",children:a.jsx(YA,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u.expired}),a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest leading-none mt-1",children:"Expired"})]})]})}),a.jsx(xe,{className:`p-6 rounded-[24px] cursor-pointer transition-all duration-300 hover:-translate-y-1 border-b-4 ${n==="EXPIRING_SOON"?"border-orange-500 shadow-lg":"border-transparent shadow-sm bg-white"}`,onClick:()=>r("EXPIRING_SOON"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center text-orange-600",children:a.jsx(Lu,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u.expiring}),a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest leading-none mt-1",children:"Expiring Soon"})]})]})}),a.jsx(xe,{className:`p-6 rounded-[24px] cursor-pointer transition-all duration-300 hover:-translate-y-1 border-b-4 ${n==="ACTIVE"?"border-emerald-500 shadow-lg":"border-transparent shadow-sm bg-white"}`,onClick:()=>r("ACTIVE"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-xl flex items-center justify-center text-emerald-600",children:a.jsx(kr,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u.active}),a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest leading-none mt-1",children:"Active (Compliant)"})]})]})})]}),a.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 min-w-[240px] relative",children:[a.jsx(Zt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search tenant or policy #...",value:e,onChange:v=>t(v.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-primary-500 focus:ring-4 focus:ring-primary-50 transition-all text-sm font-medium"})]}),a.jsxs("select",{value:n,onChange:v=>r(v.target.value),className:"px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-primary-500 text-sm font-medium bg-white",children:[a.jsx("option",{value:"All",children:"All Statuses"}),a.jsx("option",{value:"PENDING_APPROVAL",children:"Pending Approval"}),a.jsx("option",{value:"ACTIVE",children:"Active"}),a.jsx("option",{value:"EXPIRING_SOON",children:"Expiring Soon"}),a.jsx("option",{value:"EXPIRED",children:"Expired"}),a.jsx("option",{value:"REJECTED",children:"Rejected"})]}),a.jsxs("button",{onClick:N,className:"text-sm font-bold text-slate-400 hover:text-danger px-2 flex items-center gap-1",children:[a.jsx(we,{size:16})," Reset"]})]}),a.jsx("section",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Tenant Name"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Property / Unit"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Provider"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Policy #"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Expiry"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),a.jsx("th",{className:"p-4 px-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:j.length>0?j.map(v=>a.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"p-4 px-6",children:a.jsx("div",{className:"font-bold text-slate-800 tracking-tight text-sm",children:v.tenantName})}),a.jsxs("td",{className:"p-4 px-6 text-sm",children:[a.jsx("div",{className:"font-bold text-slate-600",children:v.property}),a.jsxs("div",{className:"text-[11px] text-slate-400 font-bold uppercase tracking-wide",children:["Unit ",v.unit]})]}),a.jsx("td",{className:"p-4 px-6 text-sm font-medium text-slate-500",children:v.provider}),a.jsx("td",{className:"p-4 px-6 text-[12px] font-mono text-slate-400",children:v.policyNumber}),a.jsx("td",{className:"p-4 px-6 text-center text-sm font-bold text-slate-600",children:new Date(v.endDate).toLocaleDateString()}),a.jsx("td",{className:"p-4 px-6 text-center",children:a.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${v.status==="ACTIVE"?"bg-emerald-50 text-emerald-600 border-emerald-100":v.status==="PENDING_APPROVAL"?"bg-amber-50 text-amber-600 border-amber-100":"bg-red-50 text-red-600 border-red-100"}`,children:v.status.replace("_"," ")})}),a.jsx("td",{className:"p-4 px-6 text-right",children:a.jsxs("div",{className:"flex justify-end gap-1",children:[a.jsx("button",{onClick:()=>o(v),className:"p-2 text-slate-400 hover:text-primary-600 hover:bg-white rounded-xl transition-all shadow-none hover:shadow-sm border border-transparent hover:border-slate-100",children:a.jsx($t,{size:18})}),v.status==="PENDING_APPROVAL"&&a.jsx("button",{onClick:()=>y(v.id),className:"p-2 text-emerald-500 hover:bg-emerald-50 rounded-xl transition-all",title:"Approve Now",children:a.jsx(kr,{size:18})})]})})]},v.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center text-slate-300 font-bold",children:"No records found."})})})]})})}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden animate-in zoom-in-95",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Review Insurance"}),a.jsxs("p",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:[l.tenantName,"  Unit ",l.unit]})]}),a.jsx("button",{onClick:()=>{o(null),b(!1)},className:"p-2 text-slate-400 hover:text-slate-800 rounded-2xl",children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Provider"}),a.jsx("p",{className:"font-bold text-slate-700",children:l.provider})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Policy #"}),a.jsx("p",{className:"font-mono font-bold text-slate-500 text-sm",children:l.policyNumber})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Start Date"}),a.jsx("p",{className:"font-bold text-slate-700",children:l.startDate})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"End Date"}),a.jsx("p",{className:"font-bold text-slate-800",children:l.endDate})]})]}),a.jsxs("a",{href:l.documentUrl?`${R.defaults.baseURL.replace("/api","")}${l.documentUrl}`:"#",target:"_blank",rel:"noreferrer",className:"flex items-center justify-between w-full p-5 rounded-2xl bg-slate-50 border border-slate-100 hover:border-primary-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx($e,{size:20,className:"text-slate-400 group-hover:text-primary-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-600 group-hover:text-primary-700",children:"View Document"})]}),a.jsx(d0,{size:18,className:"text-slate-300 group-hover:text-primary-500"})]}),l.status==="PENDING_APPROVAL"&&!m&&a.jsxs("div",{className:"pt-4 grid grid-cols-2 gap-4",children:[a.jsx(V,{variant:"secondary",className:"h-14",onClick:()=>b(!0),children:"Reject Policy"}),a.jsx(V,{variant:"primary",className:"h-14",onClick:()=>y(l.id),children:"Approve Policy"})]}),m&&a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rejection Reason"}),a.jsx("textarea",{value:p,onChange:v=>g(v.target.value),className:"w-full p-4 rounded-xl border border-slate-200 outline-none focus:border-red-500 min-h-[100px] text-sm font-medium",placeholder:"Explain why the policy was rejected..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(V,{variant:"secondary",onClick:()=>b(!1),children:"Cancel"}),a.jsx(V,{variant:"danger",disabled:!p,onClick:()=>x(l.id),children:"Confirm Reject"})]})]}),l.status==="REJECTED"&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl",children:[a.jsx("p",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest mb-1",children:"Rejection Reason"}),a.jsx("p",{className:"text-sm font-bold text-red-600",children:l.rejectionReason})]})]})]})})]})})},fZ=()=>{const[e,t]=w.useState("All"),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(!0),[c,d]=w.useState([]),[u,f]=w.useState(""),[p,g]=w.useState(null),[m,b]=w.useState("Other"),[h,y]=w.useState(""),[x,j]=w.useState(""),[N,v]=w.useState([]),[S,k]=w.useState({tenants:[],properties:[],units:[],leases:[]}),[O,_]=w.useState(""),[C,E]=w.useState("USER"),T=async()=>{try{o(!0);const P=await R.get("/api/admin/documents");d(P.data)}catch(P){console.error(P)}finally{o(!1)}},L=async P=>{if(window.confirm("Are you sure you want to delete this document? This action cannot be undone."))try{await R.delete(`/api/admin/documents/${P}`),T()}catch{alert("Delete failed")}},I=async()=>{try{const[P,U,K,q]=await Promise.all([R.get("/api/admin/tenants"),R.get("/api/admin/properties"),R.get("/api/admin/units?limit=1000"),R.get("/api/admin/leases")]);k({tenants:P.data,properties:U.data.data||U.data,units:K.data.data||K.data,leases:q.data})}catch(P){console.error(P)}},F=async P=>{if(P.preventDefault(),!p)return alert("Please select a file");try{i(!0);const U=new FormData;U.append("file",p),U.append("type",m),U.append("name",h),U.append("expiryDate",x),U.append("links",JSON.stringify(N.map(K=>({entityType:K.entityType,entityId:K.entityId})))),await R.post("/api/admin/documents/upload",U,{headers:{"Content-Type":"multipart/form-data"}}),alert("Document uploaded successfully"),r(!1),$(),T()}catch(U){console.error(U),alert("Upload failed")}finally{i(!1)}},$=()=>{g(null),b("Other"),y(""),j(""),v([])};w.useEffect(()=>{T(),I()},[]);const z=c.filter(P=>{var q,D,te,se;const U=P.name.toLowerCase().includes(u.toLowerCase())||((D=(q=P.user)==null?void 0:q.firstName)==null?void 0:D.toLowerCase().includes(u.toLowerCase()))||((se=(te=P.user)==null?void 0:te.lastName)==null?void 0:se.toLowerCase().includes(u.toLowerCase())),K=e==="All"||P.type===e;return U&&K}),A=P=>{switch(P){case"Insurance":return a.jsx(Or,{className:"text-emerald-500",size:20});case"Lease":return a.jsx($e,{className:"text-indigo-500",size:20});case"Invoice":return a.jsx($e,{className:"text-amber-500",size:20});default:return a.jsx($e,{className:"text-slate-400",size:20})}};return a.jsx(Ce,{title:"Document Library",children:a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsx("p",{className:"text-slate-500 font-medium",children:"Access and manage all system-wide documents and tenant uploads."})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(V,{variant:"primary",className:"h-12 px-6 rounded-2xl shadow-lg shadow-indigo-100",onClick:()=>r(!0),children:[a.jsx(Nt,{size:20,className:"mr-2"}),"Upload Document"]}),a.jsxs("div",{className:"px-5 py-3 bg-white rounded-2xl border border-slate-100 shadow-sm flex items-center gap-3",children:[a.jsx($e,{className:"text-indigo-600",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"Total Files"}),a.jsx("p",{className:"text-lg font-black text-slate-800 leading-none",children:c.length})]})]})]})]}),a.jsxs(xe,{className:"p-6 rounded-[24px] border border-slate-100 shadow-sm flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 relative w-full",children:[a.jsx(Zt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search by filename or tenant...",value:u,onChange:P=>f(P.target.value),className:"w-full pl-12 pr-5 py-3.5 rounded-[18px] border border-slate-200 outline-none focus:border-indigo-500 font-medium text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-inner"})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"flex items-center gap-2 px-4 py-3.5 rounded-[18px] border border-slate-200 bg-white font-bold text-slate-600 text-sm",children:[a.jsx(Co,{size:16,className:"text-slate-400"}),a.jsxs("select",{value:e,onChange:P=>t(P.target.value),className:"outline-none bg-transparent cursor-pointer",children:[a.jsx("option",{value:"All",children:"All Types"}),a.jsx("option",{value:"Lease",children:"Leases"}),a.jsx("option",{value:"Insurance",children:"Insurance"}),a.jsx("option",{value:"Invoice",children:"Invoices"})]})]}),a.jsx(V,{variant:"secondary",className:"h-14 px-6 rounded-[18px]",onClick:()=>{f(""),t("All")},children:"Reset"})]})]}),a.jsx(xe,{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-slate-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Name"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Linked Entity"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:l?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Vn,{className:"animate-spin text-slate-400",size:24})})})}):z.length>0?z.map(P=>{let U="-";return P.user?U=`Tenant: ${P.user.firstName||""} ${P.user.lastName||""}`.trim():P.property?U=`Building: ${P.property.name}${P.property.civicNumber?` - ${P.property.civicNumber}`:""}`:P.unit?U=`Unit: ${P.unit.name||P.unit.unitNumber||"N/A"}`:P.lease?U=`Lease #${P.lease.id}`:P.invoice&&(U=`Invoice: ${P.invoice.invoiceNo||P.invoice.id}`),a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center shrink-0",children:A(P.type)}),a.jsx("span",{className:"font-bold text-slate-800",children:P.name})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded-md text-xs font-bold text-slate-600 uppercase tracking-wider",children:P.type})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:U})}),a.jsx("td",{className:"px-6 py-4",children:P.expiryDate?a.jsx("span",{className:"text-sm font-medium text-slate-700",children:new Date(P.expiryDate).toLocaleDateString()}):a.jsx("span",{className:"text-sm text-slate-400",children:"-"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>{const K=R.defaults.baseURL.endsWith("/")?R.defaults.baseURL.slice(0,-1):R.defaults.baseURL,q=P.fileUrl.startsWith("http")?P.fileUrl:`${K.replace("/api","")}${P.fileUrl}`;window.open(q,"_blank")},className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all",title:"Open",children:a.jsx(d0,{size:16})}),a.jsx("button",{onClick:async()=>{try{const K=localStorage.getItem("accessToken"),q=await fetch(`${R.defaults.baseURL}/api/admin/documents/${P.id}/download`,{headers:{Authorization:`Bearer ${K}`}});if(!q.ok)throw new Error("Download failed");const D=await q.blob(),te=window.URL.createObjectURL(D),se=document.createElement("a");se.href=te,se.download=P.name,document.body.appendChild(se),se.click(),document.body.removeChild(se),window.URL.revokeObjectURL(te)}catch(K){console.error("Download failed",K),alert("Failed to download file")}},className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 transition-all",title:"Download",children:a.jsx(wn,{size:16})}),a.jsx("button",{onClick:()=>L(P.id),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-all",title:"Delete",children:a.jsx(Jt,{size:16})})]})})]},P.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-20 text-center",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[24px] flex items-center justify-center mx-auto text-slate-200",children:a.jsx(BA,{size:48})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-slate-400 font-bold text-xl",children:"No documents found matching your filters."}),a.jsx("p",{className:"text-slate-400/60 font-medium",children:"Try resetting filters or searching for something else."})]})]})})})})]})})}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Upload Document"}),a.jsx("p",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:"Add a new file and link it to entities"})]}),a.jsx("button",{onClick:()=>{r(!1),$()},className:"p-2 text-slate-400 hover:text-slate-800 rounded-2xl bg-white shadow-sm border border-slate-100",children:a.jsx(we,{size:20})})]}),a.jsxs("form",{onSubmit:F,className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Document Type"}),a.jsxs("select",{value:m,onChange:P=>b(P.target.value),className:"w-full px-4 py-3 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50",required:!0,children:[a.jsx("option",{value:"Lease",children:"Lease Agreement"}),a.jsx("option",{value:"Insurance",children:"Insurance Policy"}),a.jsx("option",{value:"Invoice",children:"Invoice"}),a.jsx("option",{value:"ID",children:"Identification"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Display Name (Optional)"}),a.jsx("input",{type:"text",placeholder:"Standard naming applied if blank",value:h,onChange:P=>y(P.target.value),className:"w-full px-4 py-3 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Expiry Date (Optional)"}),a.jsx("input",{type:"date",value:x,onChange:P=>j(P.target.value),className:"w-full px-4 py-3 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Select File"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",onChange:P=>g(P.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer z-10",required:!0}),a.jsxs("div",{className:"w-full px-4 py-3 rounded-2xl border border-slate-200 border-dashed bg-slate-50 flex items-center gap-3 text-slate-500 font-bold text-sm",children:[a.jsx(yr,{size:18,className:"text-indigo-500"}),p?p.name:"Choose PDF or Image..."]})]})]})]}),a.jsxs("div",{className:"p-6 bg-indigo-50/50 rounded-[32px] border border-indigo-100/50 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-[11px] font-black text-indigo-500 uppercase tracking-widest",children:"Multi-Entity Linking"}),a.jsxs("span",{className:"text-[10px] bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded-full font-bold",children:[N.length," Linked"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:C,onChange:P=>E(P.target.value),className:"px-3 py-2 rounded-xl bg-white border border-indigo-100 text-xs font-bold outline-none",children:[a.jsx("option",{value:"USER",children:"Tenant"}),a.jsx("option",{value:"PROPERTY",children:"Property"}),a.jsx("option",{value:"UNIT",children:"Unit"}),a.jsx("option",{value:"LEASE",children:"Lease"})]}),a.jsx("div",{className:"flex-1 relative",children:a.jsxs("select",{onChange:P=>{const U=P.target.value;if(!U)return;const K=P.target.options[P.target.selectedIndex].text;N.find(q=>q.entityId===U&&q.entityType===C)||v([...N,{entityType:C,entityId:U,label:K}])},className:"w-full px-3 py-2 rounded-xl bg-white border border-indigo-100 text-xs font-bold outline-none",children:[a.jsx("option",{value:"",children:"Search & Add..."}),C==="USER"&&S.tenants.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),C==="PROPERTY"&&S.properties.map(P=>a.jsxs("option",{value:P.id,children:[P.name," - ",P.civicNumber]},P.id)),C==="UNIT"&&S.units.map(P=>a.jsx("option",{value:P.id,children:P.unitNumber},P.id)),C==="LEASE"&&S.leases.map(P=>a.jsxs("option",{value:P.id,children:["Lease #",P.id," - ",P.tenantName]},P.id))]})})]}),N.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:N.map((P,U)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white rounded-full border border-indigo-100 text-[10px] font-bold text-slate-600 shadow-sm animate-in zoom-in-90",children:[a.jsx("span",{className:"text-[8px] bg-indigo-50 text-indigo-500 px-1.5 py-0.5 rounded-md uppercase",children:P.entityType}),P.label,a.jsx("button",{type:"button",onClick:()=>v(N.filter((K,q)=>q!==U)),className:"text-slate-300 hover:text-red-500",children:a.jsx(we,{size:14})})]},U))})]}),a.jsxs("div",{className:"pt-4 flex gap-4",children:[a.jsx(V,{variant:"secondary",className:"flex-1 h-14 rounded-2xl",type:"button",onClick:()=>{r(!1),$()},children:"Cancel"}),a.jsx(V,{variant:"primary",className:"flex-1 h-14 rounded-2xl shadow-xl shadow-indigo-100",type:"submit",disabled:s,children:s?"Uploading...":"Finish Upload"})]})]})]})})]})})},pZ=()=>{var x,j;const e=un(),[t,n]=w.useState([]),[r,s]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState(""),[d,u]=w.useState(null),[f,p]=w.useState({unitId:"",tenantId:"",coTenantIds:[],startDate:"",endDate:"",monthlyRent:"",securityDeposit:""});w.useEffect(()=>{g(),m()},[]);const g=async()=>{try{const N=await R.get("/api/admin/properties");n(N.data)}catch(N){console.error("Failed to fetch buildings",N)}},m=async()=>{try{const v=(await R.get("/api/admin/tenants")).data.filter(S=>S.leaseStatus!=="Active");l(v)}catch(N){console.error("Failed to fetch tenants",N)}},b=async N=>{const v=N.target.value;if(c(v),s([]),p({...f,unitId:"",tenantId:""}),v)try{const S=await R.get(`/api/admin/units?propertyId=${v}&limit=1000`),O=(Array.isArray(S.data.data)?S.data.data:Array.isArray(S.data)?S.data:[]).filter(_=>!(_.status==="Occupied"||_.status==="Fully Booked"));s(O)}catch(S){console.error("Failed to fetch units",S)}},h=async N=>{const v=N.target.value;if(p({...f,unitId:v,tenantId:""}),u(null),v){const S=r.find(k=>k.id===parseInt(v));u(S);try{const k=await R.get(`/api/admin/leases/active/${v}`);k.data&&k.data.tenantId&&p(O=>({...O,tenantId:k.data.tenantId.toString()}))}catch(k){console.error("Failed to fetch draft lease",k)}}},y=async()=>{var N,v;if(!f.unitId||!f.tenantId||!f.startDate||!f.endDate){alert("Please fill all required fields (Unit, Tenant, Start Date, End Date)");return}try{const S={unitId:parseInt(f.unitId),tenantId:parseInt(f.tenantId),coTenantIds:f.coTenantIds.map(_=>parseInt(_)),startDate:f.startDate,endDate:f.endDate,monthlyRent:parseFloat(f.monthlyRent)||0,securityDeposit:parseFloat(f.securityDeposit)||0},k=await R.post("/api/admin/leases",S);let O="Lease created successfully.";if(k.data.notifications){const{status:_,sms:C,email:E,message:T}=k.data.notifications;_==="Sent"?O+=`

Credentials sent via: ${C?"SMS ":""}${E?"Email":""}`:_==="Skipped"?O+=`

Onboarding: ${T}`:_==="Failed"&&(O+=`

Failed to send credentials (check SMS/Email settings)`)}alert(O),e("/leases")}catch(S){console.error("Failed to create lease",S),alert(((v=(N=S.response)==null?void 0:N.data)==null?void 0:v.message)||"Error creating lease")}};return a.jsx(Ce,{title:"Create New Lease",children:a.jsxs("div",{className:"max-w-[760px] mx-auto bg-white p-8 rounded-2xl shadow-lg border border-slate-100 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600",children:a.jsx(ta,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 m-0",children:"New Lease"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Create a full unit lease"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"BUILDING NAME"}),a.jsxs("div",{className:"relative",children:[a.jsx(ta,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{value:o,onChange:b,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none",children:[a.jsx("option",{value:"",children:"Choose a Building"}),t.map(N=>a.jsxs("option",{value:N.id,children:[N.name," - ",N.civicNumber]},N.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(ht,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Unit"}),a.jsxs("div",{className:"relative",children:[a.jsx(ta,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"unitId",value:f.unitId,onChange:h,disabled:!o,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Unit"}),r.map(N=>a.jsx("option",{value:N.id,children:N.unitIdentifier||N.unit_identifier||N.unitNumber||N.name},N.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(ht,{size:18})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Select Primary Tenant"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"tenantId",value:f.tenantId,onChange:N=>p({...f,tenantId:N.target.value}),disabled:!f.unitId,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Primary Tenant"}),i.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(ht,{size:18})})]}),f.tenantId&&((x=i.find(N=>N.id.toString()===f.tenantId.toString()))==null?void 0:x.type)==="RESIDENT"&&a.jsxs("p",{className:"text-xs font-semibold text-amber-600 mt-2 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100 flex items-center gap-2 w-fit",children:[a.jsx(Or,{size:14}),"Resident of: ",((j=i.find(N=>N.id.toString()===f.tenantId.toString()))==null?void 0:j.parentName)||"Unknown Parent"]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Co-Applicants / Occupants (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-1 min-h-[30px]",children:f.coTenantIds.map(N=>{const v=i.find(S=>S.id.toString()===N.toString());return v?a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-indigo-50 border border-indigo-100 rounded-lg text-sm font-medium text-indigo-700",children:[v.name," ",v.type==="RESIDENT"&&v.parentName?`(Res. of ${v.parentName})`:"",a.jsx("button",{type:"button",onClick:()=>p(S=>({...S,coTenantIds:S.coTenantIds.filter(k=>k!==N)})),className:"hover:text-indigo-900",children:""})]},N):null})}),a.jsx(zt,{size:18,className:"absolute left-4 top-[50%] -translate-y-1/2 text-slate-400 mt-2"}),a.jsxs("select",{value:"",onChange:N=>{const v=N.target.value;v&&!f.coTenantIds.includes(v)&&p(S=>({...S,coTenantIds:[...S.coTenantIds,v]}))},disabled:!f.unitId||!f.tenantId,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Add Co-Tenant..."}),i.filter(N=>N.id.toString()!==f.tenantId&&!f.coTenantIds.includes(N.id.toString())).map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]}),a.jsx("div",{className:"absolute right-4 top-[50%] -translate-y-1/2 pointer-events-none text-slate-400 mt-2",children:a.jsx(ht,{size:18})})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select additional tenants for this lease."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",value:f.startDate,onChange:N=>p({...f,startDate:N.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",value:f.endDate,onChange:N=>p({...f,endDate:N.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Monthly Rent ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(zu,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{placeholder:"0.00",type:"number",value:f.monthlyRent,onChange:N=>p({...f,monthlyRent:N.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Security Deposit ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Or,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{placeholder:"0.00",type:"number",value:f.securityDeposit,onChange:N=>p({...f,securityDeposit:N.target.value}),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-10 pt-6 border-t border-slate-100",children:[a.jsx(V,{variant:"secondary",onClick:()=>e("/leases"),children:"Cancel"}),a.jsx(V,{variant:"primary",onClick:y,className:"min-w-[140px] shadow-lg shadow-indigo-200",children:"Save Lease"})]})]})})},mZ=()=>{var j,N;const e=un(),[t,n]=w.useState([]),[r,s]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState(""),[f,p]=w.useState({unitId:"",bedroomId:"",tenantId:"",startDate:"",endDate:"",monthlyRent:"",securityDeposit:""});w.useEffect(()=>{g(),m()},[]);const g=async()=>{try{const v=await R.get("/api/admin/properties");n(v.data)}catch(v){console.error("Failed to fetch buildings",v)}},m=async()=>{try{const S=(await R.get("/api/admin/tenants")).data.filter(k=>k.leaseStatus!=="Active");c(S)}catch(v){console.error("Failed to fetch tenants",v)}},b=async v=>{const S=v.target.value;if(u(S),s([]),l([]),p({...f,unitId:"",bedroomId:"",tenantId:""}),S)try{const k=await R.get(`/api/admin/units?propertyId=${S}&limit=1000`),_=(Array.isArray(k.data.data)?k.data.data:Array.isArray(k.data)?k.data:[]).filter(C=>!(C.status==="Fully Booked"||(C.rentalMode==="FULL_UNIT"||!C.rentalMode)&&C.status==="Occupied"));s(_)}catch(k){console.error("Failed to fetch units",k)}},h=async v=>{const S=v.target.value;if(p({...f,unitId:S,bedroomId:"",tenantId:""}),l([]),S)try{const k=await R.get(`/api/admin/units/bedrooms/vacant?unitId=${S}`);l(k.data)}catch(k){console.error("Failed to fetch bedrooms",k)}},y=async()=>{var v,S;if(!f.unitId||!f.bedroomId||!f.tenantId||!f.startDate||!f.endDate){alert("Please fill all required fields (Unit, Bedroom, Tenant, Dates)");return}try{const k={...f,unitId:parseInt(f.unitId),bedroomId:parseInt(f.bedroomId),tenantId:parseInt(f.tenantId),monthlyRent:parseFloat(f.monthlyRent)||0,securityDeposit:parseFloat(f.securityDeposit)||0},O=await R.post("/api/admin/leases",k);let _="Bedroom Lease created successfully.";if(O.data.notifications){const{status:C,sms:E,email:T,message:L}=O.data.notifications;C==="Sent"?_+=`

Credentials sent via: ${E?"SMS ":""}${T?"Email":""}`:C==="Skipped"?_+=`

Onboarding: ${L}`:C==="Failed"&&(_+=`

Failed to send credentials (check SMS/Email settings)`)}alert(_),e("/leases")}catch(k){console.error("Failed to create lease",k),alert(((S=(v=k.response)==null?void 0:v.data)==null?void 0:S.message)||"Error creating lease")}},x=v=>{p({...f,[v.target.name]:v.target.value})};return a.jsx(Ce,{title:"Bedroom Lease",children:a.jsx("div",{className:"max-w-3xl mx-auto py-6",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl animate-in slide-in-from-bottom-4 duration-500 fade-in border border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600",children:a.jsx(DA,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 m-0",children:"New Bedroom Lease"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Create a lease for an individual bedroom"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"BUILDING NAME"}),a.jsxs("div",{className:"relative",children:[a.jsx(ta,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{value:d,onChange:b,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none",children:[a.jsx("option",{value:"",children:"Choose a Building"}),t.map(v=>a.jsxs("option",{value:v.id,children:[v.name," - ",v.civicNumber]},v.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(ht,{size:18})})]})]}),a.jsxs("div",{className:"md:col-span-1",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Unit"}),a.jsxs("div",{className:"relative",children:[a.jsx(ta,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"unitId",value:f.unitId,onChange:h,disabled:!d,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Unit"}),r.map(v=>a.jsxs("option",{value:v.id,children:[v.unitNumber||v.unit_identifier||v.name," (",v.status,")"]},v.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(ht,{size:18})})]})]}),a.jsxs("div",{className:"md:col-span-1",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Bedroom"}),a.jsxs("div",{className:"relative",children:[a.jsx(L2,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"bedroomId",value:f.bedroomId,onChange:x,disabled:!f.unitId,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Bedroom"}),i.map(v=>a.jsx("option",{value:v.id,children:v.bedroomNumber},v.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(ht,{size:18})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Select Tenant"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"tenantId",value:f.tenantId,onChange:x,disabled:!f.bedroomId,className:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 appearance-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Tenant"}),o.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:a.jsx(ht,{size:18})})]}),f.tenantId&&((j=o.find(v=>v.id.toString()===f.tenantId.toString()))==null?void 0:j.type)==="RESIDENT"&&a.jsxs("p",{className:"text-xs font-semibold text-amber-600 mt-2 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100 flex items-center gap-2 w-fit",children:[a.jsx(Or,{size:14}),"Resident of: ",((N=o.find(v=>v.id.toString()===f.tenantId.toString()))==null?void 0:N.parentName)||"Unknown Parent"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Monthly Rent ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(zu,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"monthlyRent",placeholder:"0.00",type:"number",value:f.monthlyRent,onChange:x,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Security Deposit ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Or,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{name:"securityDeposit",placeholder:"0.00",type:"number",value:f.securityDeposit,onChange:x,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",name:"startDate",value:f.startDate,onChange:x,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 placeholder-slate-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2 uppercase tracking-wide",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",name:"endDate",value:f.endDate,onChange:x,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50/50 outline-none focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium text-slate-800 placeholder-slate-400"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-slate-100",children:[a.jsx(V,{variant:"secondary",onClick:()=>e("/leases"),children:"Cancel"}),a.jsxs(V,{variant:"primary",onClick:y,className:"min-w-[140px] shadow-lg shadow-indigo-200",children:[a.jsx(yn,{size:18}),"Save Lease"]})]})]})})})},hZ=()=>{const e=un(),[t,n]=w.useState([]),[r,s]=w.useState(null),[i,l]=w.useState(null);w.useEffect(()=>{(async()=>{try{const u=await R.get("/api/admin/leases");n(u.data)}catch(u){console.error("Failed to fetch leases",u)}})()},[]);const o=async d=>{if(window.confirm("Delete this lease?"))try{await R.delete(`/api/admin/leases/${d}`);const u=t.filter(f=>f.id!==d);n(u)}catch{alert("Failed to delete lease")}},c=async d=>{d.preventDefault();try{const u={monthlyRent:i.monthlyRent,startDate:i.startDate,endDate:i.endDate,firstName:i.tenantFirstName,lastName:i.tenantLastName};await R.put(`/api/admin/leases/${i.id}`,u);const f=await R.get("/api/admin/leases");n(f.data),l(null)}catch(u){console.error(u),alert("Failed to update lease")}};return a.jsx(Ce,{title:"Lease History",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-end gap-3 actions-bar",children:[a.jsxs(V,{variant:"secondary",onClick:()=>e("/leases/new-bedroom"),children:[a.jsx(L2,{size:18}),"Bedroom Lease"]}),a.jsxs(V,{variant:"primary",onClick:()=>e("/leases/new"),children:[a.jsx($e,{size:18}),"Full Unit Lease"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-slate-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Lease Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Building"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Bedroom"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tenant"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Term"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Monthly Rent"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((d,u)=>a.jsxs("tr",{className:"hover:bg-slate-50/80 transition-all duration-200 animate-in slide-in-from-left-2 fade-in fill-mode-forwards",style:{animationDelay:`${u*.05}s`},children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${d.leaseType==="Bedroom Lease"?"bg-amber-50 text-amber-700 border border-amber-100":"bg-blue-50 text-blue-700 border border-blue-100"}`,children:d.leaseType})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 font-medium",children:d.buildingName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"font-semibold text-slate-800",children:d.unit})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:d.bedroom}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-700",children:d.tenant}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 font-mono text-[13px]",children:d.term}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-700",children:["$",(d.monthlyRent||0).toLocaleString("en-CA")]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold border ${d.status.toLowerCase()==="active"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-slate-100 text-slate-600 border-slate-200"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${d.status.toLowerCase()==="active"?"bg-emerald-500":"bg-slate-400"}`}),d.status.charAt(0).toUpperCase()+d.status.slice(1).toLowerCase()]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-200",onClick:()=>s(d),title:"View Details",children:a.jsx($t,{size:16})}),a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 transition-all duration-200",onClick:()=>l({...d}),title:"Edit Lease",children:a.jsx(_o,{size:16})}),a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-all duration-200",onClick:()=>o(d.id),title:"Delete Lease",children:a.jsx(Jt,{size:16})})]})})]},d.id))})]})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Lease Details"}),a.jsx("button",{onClick:()=>s(null),className:"w-8 h-8 rounded-full flex items-center justify-center text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors",children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Lease Type"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.leaseType})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Building"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.buildingName})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Unit"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.unit})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Bedroom"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.bedroom})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Tenant"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.tenant})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Term"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.term})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Monthly Rent"}),a.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["$",(r.monthlyRent||0).toLocaleString("en-CA")]})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[a.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold ${r.status.toLowerCase()==="active"?"bg-emerald-100 text-emerald-800":"bg-slate-100 text-slate-600"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1).toLowerCase()})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(V,{variant:"secondary",onClick:()=>s(null),children:"Close"})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("form",{onSubmit:c,className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Edit Lease"}),a.jsx("button",{type:"button",onClick:()=>l(null),className:"w-8 h-8 rounded-full flex items-center justify-center text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors",children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm",value:i.tenantFirstName||"",onChange:d=>l({...i,tenantFirstName:d.target.value}),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Last Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm",value:i.tenantLastName||"",onChange:d=>l({...i,tenantLastName:d.target.value}),required:!0})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm",value:i.startDate,onChange:d=>l({...i,startDate:d.target.value}),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm",value:i.endDate,onChange:d=>l({...i,endDate:d.target.value}),required:!0})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Monthly Rent"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all text-sm font-semibold",value:i.monthlyRent,onChange:d=>l({...i,monthlyRent:d.target.value}),required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>l(null),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",children:"Save Changes"})]})]})})]})})},xZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState(null),[l,o]=w.useState("idle"),[c,d]=w.useState(null),[u,f]=w.useState(!1),[p,g]=w.useState(!1),[m,b]=w.useState({}),[h,y]=w.useState([]),[x,j]=w.useState(""),[N,v]=w.useState([]),[S,k]=w.useState([]),[O,_]=w.useState({tenantId:"",unitId:"",tenant:"",unit:"",unitName:"",month:"",rent:"",serviceFees:"",category:"RENT",description:""});w.useEffect(()=>{E(),T(),C()},[]);const C=async()=>{try{const D=await R.get("/api/admin/settings");b(D.data.settings||{})}catch(D){console.error("Failed to fetch settings",D)}},E=async()=>{try{const D=await R.get("/api/admin/invoices");t(D.data)}catch(D){console.error(D)}},T=async()=>{try{const D=await R.get("/api/admin/properties");y(D.data)}catch(D){console.error("Failed to fetch buildings",D)}},L=async D=>{try{const te=await R.get(`/api/admin/tenants?propertyId=${D}`);v(te.data)}catch(te){console.error("Failed to fetch tenants",te)}},I=D=>{const te=D.target.value;j(te),v([]),k([]),_(se=>({...se,tenantId:"",tenant:"",unitId:"",unitName:"",month:""})),te&&L(te)},F=(D,te)=>{if(!D||!te)return[];const se=new Date(D),be=new Date(te),Q=[];let ie=new Date(se.getFullYear(),se.getMonth(),1);const Y=new Date(be.getFullYear(),be.getMonth(),1);for(;ie<=Y;)Q.push(ie.toLocaleString("default",{month:"long",year:"numeric"})),ie.setMonth(ie.getMonth()+1);return Q},$=D=>{const te=D.target.value;if(!te){k([]),_(be=>({...be,tenantId:"",tenant:"",unit:"",unitId:"",unitName:"",month:""}));return}const se=N.find(be=>be.id===parseInt(te));if(se){const be=F(se.leaseStartDate,se.leaseEndDate);k(be);const Q=new Date().toLocaleString("default",{month:"long",year:"numeric"}),ie=be.includes(Q)?Q:be[0]||"";_(Y=>({...Y,tenantId:se.id,tenant:se.name,unitId:se.unitId,unit:se.unit,unitName:se.unit,month:ie,rent:(se.rentAmount||0).toString()}))}},z=async()=>{if(window.confirm("Run batch invoicing for all active leases for the current month?")){f(!0);try{const D=await R.post("/api/admin/invoices/batch");alert(`Batch complete! Created: ${D.data.createdCount}, Skipped: ${D.data.skippedCount}`),E()}catch(D){console.error(D),alert("Batch run failed")}finally{f(!1)}}},A=async D=>{try{await R.put(`/api/admin/invoices/${D}`,{status:"paid"}),E()}catch{alert("Error updating status")}},P=async D=>{try{await R.put(`/api/admin/invoices/${D}`,{status:"sent"}),E(),n&&n.id===D&&r({...n,status:"sent"})}catch{alert("Error updating status")}},U=async D=>{if(window.confirm("Delete this invoice?"))try{await R.delete(`/api/admin/invoices/${D}`),E()}catch{alert("Error deleting invoice")}},K=async D=>{D.preventDefault();try{c?await R.put(`/api/admin/invoices/${c.id}`,{month:O.month,rent:O.category==="RENT"?O.rent:0,serviceFees:O.category==="SERVICE"?O.serviceFees:0,category:O.category,description:O.description}):await R.post("/api/admin/invoices",{tenantId:O.tenantId,unitId:O.unitId,month:O.month,rent:O.category==="RENT"?O.rent:0,serviceFees:O.category==="SERVICE"?O.serviceFees:0,category:O.category,description:O.description}),E(),g(!1),d(null),_({tenantId:"",unitId:"",tenant:"",unit:"",unitName:"",month:"",rent:"",serviceFees:"",category:"RENT",description:""}),j(""),k([])}catch{alert("Failed to save invoice")}},q=D=>{d(D);const te=F(D.leaseStartDate,D.leaseEndDate);k(te),_({tenantId:D.tenantId||"",unitId:D.unitId||"",tenant:D.tenant,unit:D.unit,month:D.month,rent:(D.rent||0).toString(),serviceFees:(D.serviceFees||0).toString(),category:D.category||"RENT",description:D.description||""}),g(!0)};return a.jsx(Ce,{title:"Rent Invoices",children:a.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsxs(V,{variant:"secondary",onClick:z,disabled:u,className:"bg-white border-slate-200 text-slate-700 hover:bg-slate-50",children:[u?a.jsx($a,{size:18,className:"mr-1 animate-spin"}):a.jsx(jn,{size:18,className:"mr-1"}),"Run Batch Rent Invoicing"]}),a.jsxs(V,{variant:"secondary",onClick:()=>{d(null),_({tenant:"",unit:"",month:"",rent:"0",serviceFees:"",category:"SERVICE",description:""}),g(!0)},children:[a.jsx(Nt,{size:18,className:"mr-1"}),"Create Service Fee Invoice"]}),a.jsxs(V,{variant:"primary",onClick:()=>{d(null),_({tenant:"",unit:"",month:"",rent:"",serviceFees:"0",category:"RENT",description:""}),g(!0)},children:[a.jsx(Nt,{size:18,className:"mr-1"}),"Create Rent Invoice"]})]}),a.jsx("div",{className:"w-full bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-slate-100",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-gray-100",children:[a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Invoice No"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Tenant"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Unit"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Type"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Month"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Amount"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Status"}),a.jsx("th",{className:"p-4 text-xs text-left uppercase text-slate-500 font-bold tracking-wider",children:"Action"})]})}),a.jsx("tbody",{children:e.map(D=>a.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors border-b border-gray-50 last:border-0",children:[a.jsx("td",{className:"p-4 text-sm text-slate-700 font-medium",children:D.invoiceNo}),a.jsx("td",{className:"p-4 text-sm text-slate-600",children:D.tenant}),a.jsx("td",{className:"p-4 text-sm text-slate-600",children:D.unit}),a.jsx("td",{className:"p-4 text-sm",children:a.jsx("span",{className:fe("px-2 py-0.5 rounded text-[10px] font-bold uppercase",D.category==="SERVICE"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"),children:D.category||"RENT"})}),a.jsx("td",{className:"p-4 text-sm text-slate-600",children:D.month}),a.jsxs("td",{className:"p-4 text-sm text-slate-900 font-bold font-mono",children:["$ ",D.amount.toLocaleString("en-CA")]}),a.jsx("td",{className:"p-4 text-sm",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] font-bold uppercase tracking-wider ${D.status==="paid"?"bg-emerald-100 text-emerald-700":D.status==="sent"?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-700"}`,children:D.status})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2 text-slate-400",children:[a.jsx("button",{onClick:()=>r(D),className:"hover:text-indigo-600 transition-colors bg-white border border-slate-200 p-1.5 rounded-lg shadow-sm",title:"View",children:a.jsx($t,{size:16})}),a.jsx("button",{onClick:()=>q(D),className:"hover:text-amber-600 transition-colors bg-white border border-slate-200 p-1.5 rounded-lg shadow-sm",title:"Edit",children:a.jsx(Ps,{size:16})}),D.status==="sent"&&a.jsxs("button",{onClick:()=>{i(D),o("idle")},className:"hover:text-emerald-600 transition-colors bg-white border border-slate-200 px-2.5 py-1 rounded-lg shadow-sm flex items-center gap-1.5 text-[11px] font-bold text-emerald-600 uppercase",children:[a.jsx(jn,{size:14}),"Pay"]}),a.jsx("button",{onClick:()=>U(D.id),className:"hover:text-rose-600 transition-colors bg-white border border-slate-200 p-1.5 rounded-lg shadow-sm",title:"Delete",children:a.jsx(Jt,{size:16})})]})})]},D.id))})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 flex items-center justify-center z-[100] backdrop-blur-md animate-in fade-in duration-300 px-4",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl shadow-[0_20px_50px_rgba(0,0,0,0.2)] animate-in zoom-in-95 duration-300 flex flex-col max-h-[90vh] overflow-hidden border border-slate-200",children:[a.jsxs("div",{className:"px-8 py-4 bg-slate-50 border-b border-slate-100 flex items-center justify-between shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:fe("w-2 h-2 rounded-full",n.status==="paid"?"bg-emerald-500":n.status==="sent"?"bg-indigo-500":"bg-slate-400")}),a.jsxs("span",{className:"text-[11px] font-black uppercase text-slate-500 tracking-widest",children:["Invoice Status: ",n.status]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:async()=>{try{const D=await R.get(`/api/admin/invoices/${n.id}/download`,{responseType:"blob"}),te=window.URL.createObjectURL(new Blob([D.data])),se=document.createElement("a");se.href=te,se.setAttribute("download",`invoice-${n.invoiceNo}.pdf`),document.body.appendChild(se),se.click(),se.remove()}catch{alert("Download failed")}},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-200 transition-colors border border-slate-200 bg-white",children:[a.jsx(wn,{size:14}),"Download PDF"]}),a.jsx("button",{onClick:()=>r(null),className:"p-1.5 rounded-lg hover:bg-slate-200 transition-colors text-slate-400 border border-transparent",children:a.jsx(we,{size:20})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-12 bg-white",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-12",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-indigo-600",children:[m.company_logo?a.jsx("img",{src:m.company_logo,alt:"Logo",className:"w-10 h-10 object-contain"}):a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center font-black text-xl italic",children:"P"}),a.jsx("h2",{className:"text-xl font-black tracking-tighter text-slate-900 uppercase italic",children:m.company_name||"PropManage SaaS"})]}),a.jsx("div",{className:"text-[11px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed whitespace-pre-line",children:m.company_address||`123 Business Avenue, Suite 500
Toronto, ON M5V 2N8
+1 416-555-0123`})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic opacity-10",children:"INVOICE"}),a.jsxs("div",{className:"mt-4 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Invoice Number"}),a.jsx("p",{className:"font-mono text-lg font-bold text-slate-800",children:n.invoiceNo})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-12 pt-8 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Billed To"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-slate-800 italic",children:n.tenant||"Tenant"}),a.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Unit ",n.unit||"N/A"]}),a.jsx("p",{className:"text-sm text-slate-400",children:"Primary Resident"})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Date Issued"}),a.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[(n.month||"Jan 2026").split(" ")[0]," 01, ",(n.month||"Jan 2026").split(" ")[1]||""]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Due Date"}),a.jsxs("p",{className:"text-sm font-bold text-rose-600 underline underline-offset-4 decoration-2",children:[(n.month||"Jan 2026").split(" ")[0]," 10, ",(n.month||"Jan 2026").split(" ")[1]||""]})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-900 rounded-xl px-6 py-3 flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest",children:"Description"}),a.jsx("span",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest",children:"Amount"})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-slate-50 hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:"Monthly Rent Payment"}),a.jsxs("p",{className:"text-[11px] text-slate-400 font-medium uppercase tracking-widest mt-0.5",children:["Period: ",n.month]})]}),a.jsxs("span",{className:"font-bold text-slate-700 font-mono italic",children:["$ ",(n.rent||0).toLocaleString("en-CA")]})]}),(n.serviceFees||0)>0&&a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-slate-50 hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:"Common Area Service Fees"}),a.jsx("p",{className:"text-[11px] text-slate-400 font-medium uppercase tracking-widest mt-0.5",children:"Maintenance & Amenities"})]}),a.jsxs("span",{className:"font-bold text-slate-700 font-mono italic",children:["$ ",(n.serviceFees||0).toLocaleString("en-CA")]})]})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("div",{className:"w-64 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm px-2",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Subtotal"}),a.jsxs("span",{className:"font-bold text-slate-600 font-mono italic",children:["$ ",(n.amount||0).toLocaleString("en-CA")]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm px-2",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Taxes (0%)"}),a.jsx("span",{className:"font-bold text-slate-600 font-mono italic",children:"$ 0"})]}),a.jsxs("div",{className:"bg-indigo-600 rounded-2xl p-6 shadow-xl shadow-indigo-100 flex justify-between items-center text-white mt-4 relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:"Total Due"}),a.jsxs("p",{className:"text-2xl font-black tracking-tight mt-1 italic",children:["$ ",(n.amount||0).toLocaleString("en-CA")]})]}),a.jsx("div",{className:"absolute right-[-10%] top-[-20%] w-24 h-24 bg-white/5 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"})]})]})}),a.jsx("div",{className:"pt-12 text-center border-t border-slate-50",children:a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed italic",children:"Thank you for being a valued tenant. Please ensure payments are made before the due date to avoid late fees. Contact support@propmanagesaas.com for any billing inquiries."})})]})}),a.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 shrink-0",children:n.status==="draft"?a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(V,{onClick:()=>{const D=n;r(null),q(D)},variant:"secondary",className:"flex-1 rounded-2xl py-4 h-auto font-black shadow-none border-2 border-slate-200 hover:bg-white flex items-center justify-center gap-2 group",children:[a.jsx(Ps,{size:18,className:"group-hover:rotate-12 transition-transform"}),"Edit Draft"]}),a.jsxs(V,{onClick:()=>P(n.id),className:"flex-[2] rounded-2xl py-4 h-auto font-black shadow-xl shadow-indigo-100 flex items-center justify-center gap-3 group relative overflow-hidden",children:[a.jsx("span",{className:"relative z-10",children:"Send to Tenant"}),a.jsx(Po,{size:18,className:"relative z-10 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-violet-600 group-hover:scale-105 transition-transform duration-500"})]})]}):a.jsx(V,{onClick:()=>r(null),className:"w-full rounded-2xl py-4 h-auto font-black shadow-lg shadow-slate-100 bg-slate-900 hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:"Return to Invoices"})})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-[110] backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center border border-indigo-100",children:c?a.jsx(Ps,{size:20}):a.jsx(Nt,{size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:c?"Update Invoice":"Create New Invoice"}),a.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Fill in the details below"})]})]}),a.jsx("button",{onClick:()=>g(!1),className:"p-2 rounded-lg hover:bg-slate-200 transition-colors text-slate-400",children:a.jsx(we,{size:20})})]}),a.jsxs("form",{onSubmit:K,className:"p-6 space-y-5 overflow-y-auto flex-1 custom-scrollbar",children:[!c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Select Building"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:x,onChange:I,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-800 appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Choose Building"}),h.map(D=>a.jsxs("option",{value:D.id,children:[D.name,D.civicNumber?` - ${D.civicNumber}`:""]},D.id))]}),a.jsx(ht,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Tenant"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:O.tenantId||"",onChange:$,disabled:!x,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-800 appearance-none bg-white disabled:bg-slate-50 disabled:text-slate-400",children:[a.jsx("option",{value:"",children:"Select Tenant"}),N.filter(D=>D.type!=="RESIDENT"&&D.type!=="Resident").map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]}),a.jsx(ht,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Unit"}),a.jsx("input",{placeholder:"Unit",value:O.unitName||"",readOnly:!0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm bg-slate-50 font-medium text-slate-600 focus:outline-none"})]})]})]}),c&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Tenant Name"}),a.jsx("input",{value:O.tenant,readOnly:!0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm bg-slate-50 text-slate-600"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Unit Number"}),a.jsx("input",{value:O.unit,readOnly:!0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm bg-slate-50 text-slate-600"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Billing Month"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:O.month,onChange:D=>_({...O,month:D.target.value}),required:!0,disabled:S.length===0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-800 appearance-none bg-white disabled:bg-slate-50 disabled:text-slate-400",children:[a.jsx("option",{value:"",children:"Select Month"}),S.map(D=>a.jsx("option",{value:D,children:D},D))]}),a.jsx(ht,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Invoice Type"}),a.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-xl",children:[a.jsx("button",{type:"button",onClick:()=>_({...O,category:"RENT",serviceFees:"0",description:""}),className:fe("flex-1 py-2 text-xs font-bold rounded-lg transition-all",O.category==="RENT"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Rent Payment"}),a.jsx("button",{type:"button",onClick:()=>_({...O,category:"SERVICE",rent:"0"}),className:fe("flex-1 py-2 text-xs font-bold rounded-lg transition-all",O.category==="SERVICE"?"bg-white text-amber-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Service Fee"})]})]}),O.category==="SERVICE"&&a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Service Description"}),a.jsx("textarea",{placeholder:"e.g. Parking fee, Utility charges, Maintenance...",value:O.description,onChange:D=>_({...O,description:D.target.value}),required:O.category==="SERVICE",className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-800 bg-white min-h-[80px]"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-slate-50",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center px-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Base Rent ($)"}),parseFloat(O.serviceFees)>0&&a.jsx("span",{className:"text-[9px] text-amber-600 font-bold uppercase",children:"Disabled"})]}),a.jsx("input",{type:"number",placeholder:"0.00",value:O.rent,onChange:D=>_({...O,rent:D.target.value,serviceFees:"0"}),required:parseFloat(O.serviceFees)===0,disabled:parseFloat(O.serviceFees)>0,readOnly:!!O.tenantId,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-900 font-mono disabled:bg-slate-50 disabled:text-slate-400 read-only:bg-slate-50 read-only:text-indigo-600"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center px-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Service Fees ($)"}),parseFloat(O.rent)>0&&a.jsx("span",{className:"text-[9px] text-amber-600 font-bold uppercase",children:"Disabled"})]}),a.jsx("input",{type:"number",placeholder:"0.00",value:O.serviceFees,onChange:D=>_({...O,serviceFees:D.target.value,rent:"0"}),required:parseFloat(O.rent)===0,disabled:parseFloat(O.rent)>0,className:"w-full p-3 rounded-xl border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all font-medium text-slate-900 font-mono disabled:bg-slate-50 disabled:text-slate-400"})]})]}),a.jsxs("div",{className:"bg-indigo-600 rounded-2xl p-5 text-white shadow-xl shadow-indigo-100 flex justify-between items-center",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.15em] opacity-80",children:"Total Calculation"}),a.jsx("p",{className:"text-xs font-semibold opacity-60",children:"Rent + Service Fees"})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-2xl font-black tracking-tighter",children:["$ ",((parseFloat(O.rent)||0)+(parseFloat(O.serviceFees)||0)).toLocaleString("en-CA")]})})]}),a.jsxs("div",{className:"flex gap-3 pt-2 pb-2",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-3.5 rounded-xl border-none cursor-pointer bg-slate-100 text-slate-600 hover:bg-slate-200 font-bold text-sm transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 py-3.5 rounded-xl border-none cursor-pointer bg-indigo-600 text-white hover:bg-indigo-700 font-bold text-sm shadow-lg shadow-indigo-100 transition-all active:scale-95",children:c?"Update & Save":"Save as Draft"})]})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 flex items-center justify-center z-[120] backdrop-blur-md animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95",children:[l==="idle"&&a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Complete Payment"}),a.jsx("button",{onClick:()=>i(null),className:"p-2 rounded-xl hover:bg-slate-100 text-slate-400",children:a.jsx(we,{size:24})})]}),a.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 mb-8 text-white shadow-xl shadow-slate-200/50",children:[a.jsxs("div",{className:"flex justify-between items-end mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Due Amount"}),a.jsxs("p",{className:"text-3xl font-black tracking-tighter",children:["$ ",s.amount.toLocaleString("en-CA")]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.1em] text-slate-400 mb-1",children:"Invoice"}),a.jsx("p",{className:"font-bold text-xs",children:s.invoiceNo})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-800 flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500",children:s.month}),a.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest bg-slate-800 px-2.5 py-1 rounded-full",children:"Secure SSL"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 px-1",children:"Payment Method"}),a.jsxs("button",{onClick:()=>{o("processing"),setTimeout(()=>{o("success"),A(s.id)},2e3)},className:"w-full flex items-center gap-4 p-4 rounded-2xl border border-slate-100 hover:border-indigo-500 hover:bg-indigo-50/50 transition-all group active:scale-[0.98]",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center border border-indigo-100 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:a.jsx(jn,{size:24})}),a.jsxs("div",{className:"text-left flex-1",children:[a.jsx("p",{className:"font-bold text-slate-800 group-hover:text-indigo-900",children:"Card Payment"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Instant Verification"})]})]}),a.jsxs("button",{onClick:()=>{o("processing"),setTimeout(()=>{o("success"),A(s.id)},2e3)},className:"w-full flex items-center gap-4 p-4 rounded-2xl border border-slate-100 hover:border-emerald-500 hover:bg-emerald-50/50 transition-all group active:scale-[0.98]",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center border border-emerald-100 group-hover:bg-emerald-600 group-hover:text-white transition-all",children:a.jsx(H2,{size:24})}),a.jsxs("div",{className:"text-left flex-1",children:[a.jsx("p",{className:"font-bold text-slate-800 group-hover:text-emerald-900",children:"UPI / Net Banking"}),a.jsx("p",{className:"text-xs text-slate-500",children:"No Transaction Fees"})]})]})]})]}),l==="processing"&&a.jsxs("div",{className:"p-16 flex flex-col items-center justify-center text-center space-y-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-slate-100 border-t-indigo-600 animate-spin"}),a.jsx($a,{size:32,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-600 animate-pulse"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Authorizing..."}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Communicating with the bank securely"})]})]}),l==="success"&&a.jsxs("div",{className:"p-16 flex flex-col items-center justify-center text-center space-y-8 animate-in zoom-in-50 duration-500",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center border-4 border-emerald-100 shadow-xl shadow-emerald-50",children:a.jsx(yn,{size:48,className:"animate-bounce"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Payment Confirmed!"}),a.jsxs("p",{className:"text-slate-500 font-medium leading-relaxed",children:["Transaction ",a.jsx("span",{className:"text-slate-900 font-bold",children:"#RCP-982173"})," was successful. ",a.jsx("br",{}),"The invoice has been updated."]})]}),a.jsx(V,{variant:"primary",className:"w-full h-14 rounded-2xl py-0 font-bold shadow-xl shadow-indigo-100",onClick:()=>i(null),children:"Return to Dashboard"})]})]})})]})})},gZ=()=>{const[e,t]=w.useState([]);w.useEffect(()=>{n()},[]);const n=async()=>{try{const l=await R.get("/api/admin/payments");t(l.data)}catch(l){console.error("Error fetching payments:",l)}},r=async l=>{const o=window.prompt(`Enter reason for refunding ${l.id}:`,"Security Deposit Refund");if(o)try{await R.post("/api/admin/refunds",{type:"Refund",reason:o,tenantId:l.tenantId,unitId:l.unitId,amount:l.amount,status:"Completed",date:new Date}),alert("Refund recorded successfully")}catch(c){console.error("Refund failed:",c),alert("Failed to record refund")}},[s,i]=w.useState(null);return a.jsx(Ce,{title:"Payments Received",children:a.jsxs("div",{className:"p-0",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-gray-100",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Invoice"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Tenant"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Unit"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Amount"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Method"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Date"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Status"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Action"})]})}),a.jsx("tbody",{children:e.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700 font-mono",children:l.id}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:l.tenant}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:l.unit}),a.jsxs("td",{className:"p-4 border-b border-gray-100 text-sm font-medium font-mono",children:["$",l.amount.toLocaleString("en-CA")]}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:l.method}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:l.date}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold border bg-emerald-50 text-emerald-700 border-emerald-100",children:l.status})}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>i(l),className:"p-1.5 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx($t,{size:16})}),a.jsx("button",{onClick:()=>r(l),title:"Refund",className:"p-1.5 text-slate-500 hover:text-orange-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(XA,{size:16})})]})})]},l.id))})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl w-[520px] shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b border-slate-100",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Payment Details"}),a.jsx("button",{onClick:()=>i(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:18})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Invoice No"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.id})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Tenant"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.tenant})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Unit"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.unit})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Lease Type"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.type})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Payment Method"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.method})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Paid On"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.date})]}),a.jsxs("div",{className:"col-span-2 mt-2 p-4 rounded-lg bg-emerald-50 text-center text-xl font-bold text-emerald-800 border border-emerald-100",children:["$",s.amount.toLocaleString("en-CA")]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{variant:"secondary",onClick:()=>i(null),children:"Close"}),a.jsx(V,{onClick:async()=>{try{const l=await R.get(`/api/admin/payments/${s.id}/download`,{responseType:"blob"}),o=window.URL.createObjectURL(new Blob([l.data])),c=document.createElement("a");c.href=o,c.setAttribute("download",`receipt-${s.id}.pdf`),document.body.appendChild(c),c.click(),c.remove()}catch{alert("Download failed")}},children:"Download Receipt"})]})]})})]})})},yZ=()=>{const[e,t]=w.useState([]);w.useEffect(()=>{n()},[]);const n=async()=>{try{const u=await R.get("/api/admin/outstanding-dues");t(u.data)}catch(u){console.error("Error fetching outstanding dues:",u)}},[r,s]=w.useState(null),[i,l]=w.useState(!1),[o,c]=w.useState({amount:"",paymentMethod:"Cash"}),d=async()=>{if(!r||!o.amount){alert("Please enter a valid amount");return}try{await R.post("/api/admin/payments",{invoiceId:r.id,amount:o.amount,paymentMethod:o.paymentMethod}),alert("Payment recorded successfully"),l(!1),c({amount:"",paymentMethod:"Cash"}),n()}catch(u){console.error("Error recording payment:",u),alert("Failed to record payment")}};return a.jsx(Ce,{title:"Outstanding Dues",children:a.jsxs("div",{className:"p-0",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-gray-100",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Invoice"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Tenant"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Unit"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Lease Type"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Amount"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Due Date"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Status"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Action"})]})}),a.jsx("tbody",{children:e.map(u=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700 font-mono",children:u.invoice}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:u.tenant}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:u.unit}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:u.leaseType}),a.jsxs("td",{className:"p-4 border-b border-gray-100 text-sm font-medium font-mono text-slate-700",children:["$",u.amount.toLocaleString("en-CA")]}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:u.dueDate}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border ${u.status==="Overdue"?"bg-red-50 text-red-700 border-red-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:[u.status,u.daysOverdue>0&&` (${u.daysOverdue} days)`]})}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>s(u),className:"p-1.5 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx($t,{size:16})}),a.jsx("button",{onClick:()=>{s(u),c({amount:u.amount.toString(),paymentMethod:"Cash"}),l(!0)},title:"Record Payment",className:"p-1.5 text-slate-500 hover:text-emerald-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(jn,{size:16})})]})})]},u.invoice))})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl w-[520px] shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b border-slate-100",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Outstanding Invoice"}),a.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:18})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Invoice"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.invoice})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Tenant"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.tenant})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Unit"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.unit})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Lease Type"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.leaseType})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Due Date"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.dueDate})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1",children:"Status"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.status})]}),a.jsxs("div",{className:"col-span-2 mt-2 p-4 rounded-lg bg-red-50 text-center text-xl font-bold text-red-800 border border-red-100",children:["$",r.amount.toLocaleString("en-CA")," Due"]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{variant:"secondary",onClick:()=>s(null),children:"Close"}),a.jsx(V,{onClick:()=>{c({amount:r.amount.toString(),paymentMethod:"Cash"}),l(!0)},children:"Record Payment"})]})]})}),i&&r&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl w-[420px] shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b border-slate-100",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Record Payment"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:18})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Invoice: ",a.jsx("span",{className:"font-mono font-semibold text-slate-900",children:r.invoice})]}),a.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Tenant: ",a.jsx("span",{className:"font-semibold text-slate-900",children:r.tenant})]}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Outstanding: ",a.jsxs("span",{className:"font-semibold text-red-600",children:["$",r.amount.toLocaleString("en-CA")]})]})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("label",{className:"flex flex-col gap-1.5",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Amount ($)"}),a.jsx("input",{type:"number",value:o.amount,onChange:u=>c({...o,amount:u.target.value}),placeholder:"0.00",className:"p-3 rounded-lg border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-50 transition-all font-medium text-slate-900"})]}),a.jsxs("label",{className:"flex flex-col gap-1.5",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Payment Method"}),a.jsxs("select",{value:o.paymentMethod,onChange:u=>c({...o,paymentMethod:u.target.value}),className:"p-3 rounded-lg border border-slate-200 text-sm focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-50 transition-all font-medium text-slate-900 bg-white",children:[a.jsx("option",{children:"Cash"}),a.jsx("option",{children:"Check"}),a.jsx("option",{children:"Bank Transfer"}),a.jsx("option",{children:"Credit Card"}),a.jsx("option",{children:"Debit Card"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(V,{variant:"secondary",onClick:()=>l(!1),children:"Cancel"}),a.jsx(V,{onClick:d,children:"Confirm Payment"})]})]})})]})})},vZ=()=>{var C,E;const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState([]),[l,o]=w.useState(!0),[c,d]=w.useState(!1),[u,f]=w.useState(!1),[p,g]=w.useState(null),[m,b]=w.useState(null),[h,y]=w.useState(""),[x,j]=w.useState("");w.useEffect(()=>{N()},[]);const N=async()=>{o(!0),await Promise.all([v(),S(),k()]),o(!1)},v=async()=>{try{const T=await R.get("/api/admin/refunds");t(T.data)}catch(T){console.error("Error fetching refunds:",T)}},S=async()=>{try{const T=await R.get("/api/admin/tenants");r(T.data)}catch(T){console.error(T)}},k=async()=>{try{const T=await R.get("/api/admin/units?limit=1000");i(T.data.data||T.data)}catch(T){console.error(T)}},O=async T=>{T.preventDefault(),d(!0);const L=new FormData(T.target),I=Object.fromEntries(L.entries());try{p?await R.put(`/api/admin/refunds/${p.id}`,I):await R.post("/api/admin/refunds",I),f(!1),g(null),await v()}catch(F){alert("Error saving refund"),console.error(F)}finally{d(!1)}},_=async T=>{if(window.confirm("Are you sure you want to delete this record?"))try{await R.delete(`/api/admin/refunds/${T}`),v()}catch(L){console.error(L)}};return a.jsx(Ce,{title:"Refunds & Adjustments",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(V,{variant:"primary",onClick:()=>{g(null),y(""),j(""),f(!0)},children:"+ Create Refund"})}),a.jsx("div",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.06)] overflow-hidden border border-gray-100",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"ID"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Type"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Reason"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Tenant"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Unit"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Amount"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Date"}),a.jsx("th",{className:"p-4 bg-slate-50 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Status"}),a.jsx("th",{className:"p-4 bg-slate-50 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-gray-100",children:"Action"})]})}),a.jsxs("tbody",{children:[l?a.jsx("tr",{children:a.jsxs("td",{colSpan:"9",className:"p-12 text-center text-slate-400",children:[a.jsx($a,{className:"animate-spin mx-auto mb-2"}),"Loading records..."]})}):e.map(T=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700 font-mono",children:T.id}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border ${T.type.toLowerCase().includes("refund")?"bg-cyan-50 text-cyan-700 border-cyan-100":"bg-yellow-50 text-yellow-700 border-yellow-100"}`,children:T.type})}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:T.reason}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:T.tenant}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:T.unit}),a.jsxs("td",{className:`p-4 border-b border-gray-100 text-sm font-medium font-mono ${T.amount<0?"text-amber-700":"text-slate-700"}`,children:["$",Math.abs(T.amount).toLocaleString("en-CA")]}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm text-slate-700",children:T.date}),a.jsx("td",{className:"p-4 border-b border-gray-100 text-sm",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border ${T.status==="Completed"?"bg-emerald-50 text-emerald-700 border-emerald-100":T.status==="Applied"?"bg-yellow-50 text-yellow-700 border-yellow-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:T.status})}),a.jsxs("td",{className:"p-4 border-b border-gray-100 text-sm text-right flex justify-end gap-2 text-nowrap",children:[a.jsx("button",{onClick:()=>b(T),className:"p-1.5 text-slate-500 hover:text-primary-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx($t,{size:16})}),a.jsx("button",{onClick:()=>{g(T),f(!0)},className:"p-1.5 text-slate-500 hover:text-blue-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(F2,{size:16})}),a.jsx("button",{onClick:()=>_(T.id),className:"p-1.5 text-slate-500 hover:text-red-600 hover:bg-slate-100 rounded-md transition-colors",children:a.jsx(Jt,{size:16})})]})]},T.id)),!l&&e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-400 italic",children:"No refund records found."})})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsx("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl overflow-hidden animate-in zoom-in-95",children:a.jsxs("form",{onSubmit:O,children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:p?"Edit Refund":"Create Refund/Adjustment"}),a.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Type"}),a.jsxs("select",{name:"type",defaultValue:(p==null?void 0:p.type)||"Security Deposit",className:"px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"Security Deposit",children:"Security Deposit"}),a.jsx("option",{value:"Rent Refund",children:"Rent Refund"}),a.jsx("option",{value:"Adjustment",children:"Adjustment"}),a.jsx("option",{value:"Overcharge",children:"Overcharge"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Status"}),a.jsxs("select",{name:"status",defaultValue:(p==null?void 0:p.status)||"Completed",className:"px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Applied",children:"Applied"})]})]})]}),!p&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tenant"}),a.jsxs("select",{name:"tenantId",required:!0,value:h,onChange:T=>{const L=T.target.value;y(L);const I=n.find(F=>F.id===parseInt(L));I&&I.unitId?j(I.unitId):j("")},className:"px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"",children:"Select Tenant"}),n.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Unit"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Unit will auto-fill",value:((C=s.find(T=>T.id===parseInt(x)))==null?void 0:C.unitNumber)||((E=s.find(T=>T.id===parseInt(x)))==null?void 0:E.name)||"",readOnly:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 bg-slate-50 text-slate-600 font-semibold cursor-not-allowed"}),a.jsx("input",{type:"hidden",name:"unitId",value:x})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",defaultValue:(p==null?void 0:p.amount)||"",required:!0,className:"w-full pl-8 pr-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Reason"}),a.jsx("textarea",{name:"reason",rows:"3",defaultValue:(p==null?void 0:p.reason)||"",required:!0,className:"px-4 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 font-medium resize-none"})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 hover:bg-slate-100 text-slate-600 font-bold transition-all disabled:opacity-50",type:"button",onClick:()=>f(!1),disabled:c,children:"Cancel"}),a.jsx(V,{variant:"primary",type:"submit",disabled:c,children:c?"Processing...":"Save Changes"})]})]})})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl w-[520px] shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b border-slate-100",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[m.type," Details"]}),a.jsx("button",{onClick:()=>b(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:20})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 mb-6",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Request ID"}),a.jsx("span",{className:"text-md font-mono font-medium text-slate-900",children:m.id})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Status"}),a.jsx("span",{className:"w-fit mt-1",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${m.status==="Completed"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:m.status})})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Tenant"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:m.tenant})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Unit"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:m.unit})]}),a.jsxs("div",{className:"flex flex-col col-span-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Reason"}),a.jsx("span",{className:"text-sm text-slate-700 mt-1",children:m.reason})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Date"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:m.date})]}),a.jsxs("div",{className:`col-span-2 mt-2 p-4 rounded-xl text-center text-2xl font-black border ${m.amount<0?"bg-amber-50 text-amber-800 border-amber-100":"bg-cyan-50 text-cyan-800 border-cyan-100"}`,children:["$",Math.abs(m.amount).toLocaleString("en-CA")]})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(V,{variant:"secondary",onClick:()=>b(null),children:"Close"})})]})})]})})},bZ=()=>a.jsx(Ce,{title:"Record Payment",children:a.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-blue-50 border border-blue-100 text-blue-900 shadow-sm",children:[a.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg shrink-0",children:a.jsx(Mc,{size:20})}),a.jsxs("div",{className:"text-sm leading-relaxed pt-1",children:[a.jsx("strong",{children:"Accounting Rule:"})," All payments must be linked to a generated invoice for proper ledger tracking. This ensures that your financial reports remain accurate and audit-ready."]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-6",children:[a.jsx("div",{className:"flex flex-col gap-6",children:a.jsx(xe,{title:"Payment Details",className:"animate-in slide-in-from-bottom-4 duration-500 fade-in",children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Linked Invoice"}),a.jsx("div",{className:"h-11 px-4 rounded-lg bg-slate-50 border border-slate-200 flex items-center text-slate-500 font-medium text-sm select-none",children:"INV-2024-001  Oct Rent"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Payment Amount"}),a.jsxs("div",{className:"h-11 px-3 rounded-lg border border-slate-200 flex items-center gap-3 bg-white w-full animate-pulse",children:[a.jsx(zu,{size:16,className:"text-slate-300"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Payment Date"}),a.jsxs("div",{className:"h-11 px-3 rounded-lg border border-slate-200 flex items-center justify-between bg-white w-full animate-pulse",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-28"}),a.jsx(Lt,{size:16,className:"text-slate-300"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Payment Method"}),a.jsxs("div",{className:"h-11 px-3 rounded-lg border border-slate-200 flex items-center justify-between bg-white w-full animate-pulse",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-32"}),a.jsx(jn,{size:16,className:"text-slate-300"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Reference / Notes"}),a.jsxs("div",{className:"h-24 px-3 py-3 rounded-lg border border-slate-200 bg-white w-full animate-pulse",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-full mb-2"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})]})]})]})})}),a.jsx("div",{className:"flex flex-col gap-6",children:a.jsxs(xe,{className:"animate-in slide-in-from-right-4 duration-500 fade-in delay-100 h-fit sticky top-6",children:[a.jsx("h4",{className:"text-xs font-bold uppercase text-slate-400 mb-6 tracking-wider border-b border-slate-100 pb-2",children:"Invoice Balance"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center group",children:[a.jsx("span",{className:"text-slate-600 font-medium text-sm group-hover:text-slate-900 transition-colors",children:"Total Due"}),a.jsx("div",{className:"h-5 w-20 bg-slate-200 rounded animate-pulse"})]}),a.jsxs("div",{className:"flex justify-between items-center group",children:[a.jsx("span",{className:"text-slate-600 font-medium text-sm group-hover:text-slate-900 transition-colors",children:"Remaining"}),a.jsx("div",{className:"h-5 w-20 bg-slate-200 rounded animate-pulse"})]}),a.jsx("div",{className:"p-4 bg-slate-50 rounded-lg text-xs text-slate-500 leading-relaxed border border-slate-100 my-4",children:"Partial payments are allowed. The remaining balance will stay open until fully settled."}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[a.jsx(V,{variant:"primary",className:"w-full justify-center",disabled:!0,children:"Record Transaction"}),a.jsx(V,{variant:"ghost",className:"w-full justify-center",children:"Cancel"})]})]})]})})]})]})}),jZ=({invoice:e,onClose:t,onSubmit:n})=>{var f;const[r,s]=w.useState(e.balance||0),[i,l]=w.useState("Bank Transfer"),[o,c]=w.useState(""),d=parseFloat(r)<parseFloat(e.balance),u=p=>{p.preventDefault(),n({amount:r,paymentMethod:i,note:o})};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-opacity",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 overflow-hidden transform transition-all animate-in fade-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Record Payment"}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-slate-100 rounded text-slate-500 transition-colors",children:a.jsx(we,{size:20})})]}),a.jsxs("form",{onSubmit:u,className:"p-6",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-md mb-6 border border-slate-200",children:[a.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Invoice For"}),a.jsx("div",{className:"font-medium text-slate-900 mt-1",children:e.description}),a.jsxs("div",{className:"flex justify-between mt-3 text-sm border-t border-slate-200 pt-3",children:[a.jsx("span",{className:"text-slate-600",children:"Total Due:"}),a.jsxs("span",{className:"font-bold text-slate-900",children:["$",(f=e.balance)==null?void 0:f.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Payment Amount ($)"}),a.jsx("input",{type:"number",step:"0.01",className:"h-10 w-full border border-slate-300 rounded-md px-3 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all",value:r,onChange:p=>s(p.target.value)}),d&&a.jsx("div",{className:"text-xs text-warning-600 font-medium flex items-center gap-1",children:" Partial Payment. Remaining balance will stay open."})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Payment Method"}),a.jsxs("select",{className:"h-10 w-full border border-slate-300 rounded-md px-3 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all",value:i,onChange:p=>l(p.target.value),children:[a.jsx("option",{children:"Bank Transfer"}),a.jsx("option",{children:"Check"}),a.jsx("option",{children:"Cash"}),a.jsx("option",{children:"Credit Card"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Notes (Optional)"}),a.jsx("textarea",{className:"w-full border border-slate-300 rounded-md p-3 text-sm h-24 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all resize-none",placeholder:"Reference numbers, dates, etc.",value:o,onChange:p=>c(p.target.value)})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[a.jsx(V,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),a.jsx(V,{variant:"primary",type:"submit",children:"Record Payment"})]})]})]})})},wZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null);M.useEffect(()=>{s()},[]);const s=async()=>{try{const c=await R.get("/api/admin/accounting/transactions");t(c.data)}catch(c){console.error(c)}},i=e.filter(c=>c.type==="Invoice").reduce((c,d)=>c+d.balance,0),l=e.filter(c=>c.type==="Payment").reduce((c,d)=>c+d.amount,0),o=e.filter(c=>c.type==="Expense").reduce((c,d)=>c+d.amount,0);return a.jsxs(du,{title:"Accounting & Ledger",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(V,{variant:"outline",icon:Co,children:"Filter"}),a.jsx(V,{variant:"outline",icon:wn,children:"Export QuickBooks"})]}),a.jsx(V,{icon:Nt,onClick:async()=>{const c=prompt("Transaction Description:");if(!c)return;const d=parseFloat(prompt("Amount:")),u=prompt("Type (Invoice/Payment/Expense):","Expense");try{await R.post("/api/admin/accounting/transactions",{date:new Date,description:c,type:u,amount:d,status:"Paid"}),s()}catch{alert("Error")}},children:"Record Transaction"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs(xe,{className:"p-4 bg-slate-50 border-slate-200",children:[a.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Total Receivables"}),a.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:["$",i.toLocaleString("en-CA")]})]}),a.jsxs(xe,{className:"p-4 bg-slate-50 border-slate-200",children:[a.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"YTD Income"}),a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",l.toLocaleString("en-CA")]})]}),a.jsxs(xe,{className:"p-4 bg-slate-50 border-slate-200",children:[a.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Expenses"}),a.jsxs("div",{className:"text-2xl font-bold text-slate-700",children:["$",o.toLocaleString("en-CA")]})]})]}),a.jsx(xe,{title:"General Ledger",children:a.jsx(vg,{headers:["Date","Description","Type","Amount","Balance","Status","Actions"],data:e,renderRow:c=>a.jsxs(a.Fragment,{children:[a.jsx("td",{children:c.date}),a.jsx("td",{className:"font-medium text-slate-900",children:c.description}),a.jsx("td",{children:a.jsx("span",{className:`px-2.5 py-1 rounded text-xs font-medium ${c.type==="Invoice"?"bg-slate-100 text-slate-700":"bg-green-100 text-green-700"}`,children:c.type})}),a.jsx("td",{children:a.jsxs("span",{className:c.amount<0?"text-green-600 font-medium":"text-slate-900 font-medium",children:[c.amount<0?"-":"","$",Math.abs(c.amount).toFixed(2)]})}),a.jsxs("td",{className:"font-bold text-slate-900",children:["$",c.balance.toFixed(2)]}),a.jsx("td",{children:a.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium capitalize ${c.status==="Unpaid"?"bg-red-100 text-red-700":c.status==="Partial"?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:c.status})}),a.jsx("td",{children:c.balance>0&&c.type==="Invoice"&&a.jsx(V,{size:"sm",variant:"ghost",onClick:()=>r(c),children:"Pay"})})]})})}),n&&a.jsx(jZ,{invoice:n,onClose:()=>r(null),onSubmit:c=>{console.log("Processing payment:",c),r(null)}})]})};var j4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fj=M.createContext&&M.createContext(j4),NZ=["attr","size","title"];function SZ(e,t){if(e==null)return{};var n=kZ(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kZ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uu.apply(this,arguments)}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(r){OZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OZ(e,t,n){return t=CZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w4(e){return e&&e.map((t,n)=>M.createElement(t.tag,fu({key:n},t.attr),w4(t.child)))}function Ef(e){return t=>M.createElement(PZ,uu({attr:fu({},e.attr)},t),w4(e.child))}function PZ(e){var t=n=>{var{attr:r,size:s,title:i}=e,l=SZ(e,NZ),o=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),M.createElement("svg",uu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:c,style:fu(fu({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&M.createElement("title",null,i),e.children)};return Fj!==void 0?M.createElement(Fj.Consumer,null,n=>t(n)):t(j4)}function AZ(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function EZ(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function TZ(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function $Z(e){return Ef({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const IZ=()=>{const[e,t]=w.useState("All"),[n,r]=w.useState(!1),[s,i]=w.useState(null),[l,o]=w.useState({name:"",type:"Asset",balance:""}),[c,d]=w.useState([]);w.useEffect(()=>{u()},[]);const u=async()=>{try{const h=await R.get("/api/admin/accounts");d(h.data)}catch(h){console.error(h)}},f=()=>{i(null),o({name:"",type:"Asset",balance:""}),r(!0)},p=(h,y)=>{i(y),o(h),r(!0)},g=async()=>{if(!l.name||!l.balance){alert("Please fill all fields");return}try{const h={accountName:l.name,assetType:l.type,openingBalance:l.balance};if(s!==null){const y=c[s].id;await R.patch(`/api/admin/accounts/${y}`,h)}else await R.post("/api/admin/accounts",h);u(),r(!1)}catch{alert("Error saving account")}},m=async h=>{if(window.confirm("Are you sure you want to delete this account?"))try{await R.delete(`/api/admin/accounts/${h}`),u()}catch{alert("Error deleting account")}},b=e==="All"?c:c.filter(h=>h.assetType===e);return a.jsx(Ce,{title:"Company Chart of Accounts",children:a.jsxs("div",{className:"p-6 animate-[fadeIn_0.4s_ease-in-out]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("div",{className:"flex gap-2.5",children:["All","Asset","Income","Expense"].map(h=>a.jsx("button",{className:`py-2 px-3.5 rounded-lg border text-sm cursor-pointer transition-all duration-250 ${e===h?"bg-indigo-600 text-white border-indigo-600":"bg-white border-slate-200 hover:bg-slate-100 text-slate-700"}`,onClick:()=>t(h),children:h},h))}),a.jsxs("button",{className:"flex items-center gap-1.5 bg-green-600 text-white py-2.5 px-3.5 rounded-lg text-sm cursor-pointer border-none transition-all duration-250 hover:bg-green-700 hover:-translate-y-px",onClick:f,children:[a.jsx(EZ,{})," Add New Account"]})]}),a.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(260px,1fr))] gap-4.5",children:b.map((h,y)=>a.jsxs("div",{className:`rounded-xl p-4.5 bg-white shadow-[0_6px_20px_rgba(0,0,0,0.06)] relative transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_14px_32px_rgba(0,0,0,0.08)] border-l-[5px] ${h.type==="Asset"?"border-l-blue-600":h.type==="Income"?"border-l-green-600":"border-l-red-600"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900",children:h.accountName}),a.jsxs("div",{className:"flex gap-1.5 items-center",children:[a.jsx("button",{className:"bg-none border-none cursor-pointer text-slate-500 text-base transition-colors duration-200 hover:text-indigo-600",onClick:()=>p({name:h.accountName,type:h.assetType,balance:h.openingBalance},y),children:a.jsx(AZ,{})}),a.jsx("button",{className:"bg-none border-none cursor-pointer text-slate-500 text-base transition-colors duration-200 hover:text-red-600",onClick:()=>m(h.id),children:a.jsx(TZ,{})})]})]}),a.jsx("p",{className:"text-[13px] text-slate-500 mt-1.5",children:h.assetType}),a.jsxs("h2",{className:"text-[22px] font-bold my-2.5 text-slate-900",children:["$ ",Number(h.openingBalance).toLocaleString("en-CA")]}),a.jsxs("div",{className:"flex gap-1 items-end h-[30px]",children:[a.jsx("span",{className:"w-1.5 bg-gradient-to-b from-indigo-600 to-indigo-400 rounded h-[10px] animate-[grow_1.2s_ease_infinite_alternate]"}),a.jsx("span",{className:"w-1.5 bg-gradient-to-b from-indigo-600 to-indigo-400 rounded h-[18px] animate-[grow_1.2s_ease_infinite_alternate_0.2s]"}),a.jsx("span",{className:"w-1.5 bg-gradient-to-b from-indigo-600 to-indigo-400 rounded h-[24px] animate-[grow_1.2s_ease_infinite_alternate_0.4s]"}),a.jsx("span",{className:"w-1.5 bg-gradient-to-b from-indigo-600 to-indigo-400 rounded h-[14px] animate-[grow_1.2s_ease_infinite_alternate_0.6s]"})]})]},y))}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[999] animate-[fadeIn_0.2s_ease]",children:a.jsxs("div",{className:"bg-white w-[420px] rounded-xl shadow-2xl animate-[scaleIn_0.25s_ease]",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900",children:s!==null?"Edit Account":"Add Account"}),a.jsx("button",{onClick:()=>r(!1),className:"bg-none border-none cursor-pointer text-lg text-slate-500 hover:text-slate-800",children:a.jsx($Z,{})})]}),a.jsxs("div",{className:"p-5 flex flex-col gap-3.5",children:[a.jsx("input",{placeholder:"Account Name",value:l.name,onChange:h=>o({...l,name:h.target.value}),className:"p-2.5 rounded-lg border border-slate-300 text-sm focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"}),a.jsxs("select",{value:l.type,onChange:h=>o({...l,type:h.target.value}),className:"p-2.5 rounded-lg border border-slate-300 text-sm focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white",children:[a.jsx("option",{children:"Asset"}),a.jsx("option",{children:"Income"}),a.jsx("option",{children:"Expense"})]}),a.jsx("input",{type:"number",placeholder:"Opening Balance",value:l.balance,onChange:h=>o({...l,balance:h.target.value}),className:"p-2.5 rounded-lg border border-slate-300 text-sm focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"p-4 flex justify-end gap-2.5",children:[a.jsx("button",{onClick:()=>r(!1),className:"py-2 px-3.5 rounded-lg border-none cursor-pointer bg-slate-100 text-slate-700 hover:bg-slate-200 font-medium text-sm",children:"Cancel"}),a.jsx("button",{className:"py-2 px-3.5 rounded-lg border-none cursor-pointer bg-indigo-600 text-white hover:bg-indigo-700 font-medium text-sm",onClick:g,children:"Save Account"})]})]})})]})})},MZ=()=>{const[e,t]=w.useState([]);w.useEffect(()=>{(async()=>{try{const b=await R.get("/api/admin/taxes");t(b.data)}catch(b){console.error(b)}})()},[]);const[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState({name:"",rate:"",appliesTo:"Rent",status:"active"}),u=m=>{d({...c,[m.target.name]:m.target.value})},f=m=>{d({name:m.name,rate:m.rate,appliesTo:m.appliesTo,status:m.status}),o(m.id),i(!0),r(!0)},p=async()=>{if(!c.name||!c.rate){alert("Please fill all required fields");return}try{if(s){const m=await R.patch(`/api/admin/taxes/${l}`,c);t(e.map(b=>b.id===l?m.data:b))}else{const m=await R.post("/api/admin/taxes",c);t([...e,m.data])}d({name:"",rate:"",appliesTo:"Rent",status:"active"}),r(!1),i(!1),o(null)}catch{alert("Error saving tax")}},g=async m=>{if(window.confirm("Are you sure you want to delete this tax?"))try{await R.delete(`/api/admin/taxes/${m}`),t(e.filter(b=>b.id!==m))}catch{alert("Error deleting tax")}};return a.jsx(Ce,{title:"Tax Settings",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-5",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Total Taxes"}),a.jsx("p",{className:"text-xl font-bold mt-1.5 text-slate-900",children:e.length})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Active Taxes"}),a.jsx("p",{className:"text-xl font-bold mt-1.5 text-green-600",children:e.filter(m=>m.status==="active").length})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Avg Tax Rate"}),a.jsxs("p",{className:"text-xl font-bold mt-1.5 text-slate-900",children:[(e.reduce((m,b)=>m+Number(b.rate),0)/e.length).toFixed(1),"%"]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{className:"bg-indigo-600 text-white border-none py-2.5 px-4 rounded-lg cursor-pointer transition-colors hover:bg-indigo-700 font-medium text-sm",onClick:()=>{d({name:"",rate:"",appliesTo:"Rent",status:"active"}),i(!1),r(!0)},children:"+ Add New Tax"})}),a.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100",children:"Tax Name"}),a.jsx("th",{className:"text-left p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100",children:"Rate (%)"}),a.jsx("th",{className:"text-left p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100",children:"Applies To"}),a.jsx("th",{className:"text-left p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100",children:"Status"}),a.jsx("th",{className:"text-right p-3.5 bg-slate-50 text-[13px] text-slate-500 font-semibold border-b border-gray-100 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{children:e.map((m,b)=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-3.5 border-t border-gray-100 text-sm text-slate-700",children:m.name}),a.jsxs("td",{className:"p-3.5 border-t border-gray-100 text-sm text-slate-700",children:[m.rate,"%"]}),a.jsx("td",{className:"p-3.5 border-t border-gray-100 text-sm text-slate-700",children:m.appliesTo}),a.jsx("td",{className:"p-3.5 border-t border-gray-100",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold capitalize ${m.status==="active"?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"}`,children:m.status})}),a.jsx("td",{className:"p-3.5 border-t border-gray-100 text-right",children:a.jsxs("div",{className:"flex justify-end gap-1",children:[a.jsx("button",{onClick:()=>f(m),className:"p-2 text-indigo-500 hover:bg-indigo-50 rounded-lg transition-colors border-none bg-transparent cursor-pointer",title:"Edit Tax",children:a.jsx(GA,{size:18})}),a.jsx("button",{onClick:()=>g(m.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors border-none bg-transparent cursor-pointer",title:"Delete Tax",children:a.jsx(Jt,{size:18})})]})})]},b))})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[999]",children:a.jsxs("div",{className:"bg-white w-[420px] rounded-2xl p-6 animate-[zoomIn_0.3s_ease]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-900",children:s?"Edit Tax":"Add New Tax"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("input",{name:"name",placeholder:"Tax Name",value:c.name,onChange:u,className:"p-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"}),a.jsx("input",{name:"rate",type:"number",placeholder:"Tax Rate (%)",value:c.rate,onChange:u,className:"p-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"}),a.jsxs("select",{name:"appliesTo",value:c.appliesTo,onChange:u,className:"p-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white",children:[a.jsx("option",{children:"Rent"}),a.jsx("option",{children:"Maintenance"}),a.jsx("option",{children:"Utilities"})]}),a.jsxs("select",{name:"status",value:c.status,onChange:u,className:"p-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2.5 mt-5",children:[a.jsx("button",{onClick:()=>r(!1),className:"py-2 px-3.5 rounded-lg border-none cursor-pointer bg-slate-100 text-slate-700 hover:bg-slate-200 text-sm font-medium",children:"Cancel"}),a.jsx("button",{className:"py-2 px-3.5 rounded-lg border-none cursor-pointer bg-indigo-600 text-white hover:bg-indigo-700 text-sm font-medium",onClick:p,children:"Save Tax"})]})]})})]})})},DZ=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[s,i]=w.useState("realtime"),[l,o]=w.useState([]),[c,d]=w.useState(""),[u,f]=w.useState({fullUnitRent:"",bedroomRent:"",securityDeposit:"",lateFees:""});w.useEffect(()=>{p()},[]),w.useEffect(()=>{c&&g(c)},[c]);const p=async()=>{try{const h=await R.get("/api/admin/owners");o(h.data),h.data.length>0&&d(h.data[0].id)}catch(h){console.error(h)}},g=async h=>{try{const x=(await R.get(`/api/admin/settings?userId=${h}`)).data.settings||{};t(x.qb_connected==="true"),r(x.qb_autoSync==="true"),x.qb_frequency&&i(x.qb_frequency),f({fullUnitRent:x.qb_account_fullUnitRent||"",bedroomRent:x.qb_account_bedroomRent||"",securityDeposit:x.qb_account_securityDeposit||"",lateFees:x.qb_account_lateFees||""})}catch(y){console.error(y)}},m=async()=>{try{await R.post("/api/admin/settings",{userId:c,qb_connected:String(e),qb_autoSync:String(n),qb_frequency:s,qb_account_fullUnitRent:u.fullUnitRent,qb_account_bedroomRent:u.bedroomRent,qb_account_securityDeposit:u.securityDeposit,qb_account_lateFees:u.lateFees}),alert("Settings Saved")}catch{alert("Error saving settings")}},b=!e||!u.fullUnitRent||!u.bedroomRent||!u.securityDeposit||!u.lateFees;return a.jsx(Ce,{title:"QuickBooks Integration",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-800",children:"Select Owner"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Configure QBO for specific owner"})]}),a.jsx("select",{className:"px-4 py-2 rounded-lg border border-slate-200 text-sm font-medium outline-none focus:border-indigo-500",value:c,onChange:h=>d(h.target.value),children:l.map(h=>a.jsxs("option",{value:h.id,children:[h.name," (",h.companyName||"No Company",")"]},h.id))})]}),a.jsx(xe,{title:"Connection Status",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl text-lg font-bold transition-all ${e?"bg-green-600 text-white":"bg-slate-100 text-slate-400"}`,children:"QB"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-slate-800",children:"QuickBooks Online"}),a.jsx("div",{className:"text-sm text-slate-500",children:e?"Connected":"Not Connected"})]})]}),a.jsx(V,{variant:e?"outline":"primary",icon:UA,onClick:()=>t(!e),children:e?"Disconnect":"Connect"})]})}),a.jsxs(xe,{title:"Sync Configuration",children:[a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"font-medium text-slate-800 block mb-1",children:"Enable Automatic Sync"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Automatically push invoices and payments to QuickBooks."})]}),a.jsx("div",{className:`w-11 h-[22px] rounded-full relative cursor-pointer transition-colors ${n?"bg-indigo-600":"bg-gray-200"}`,onClick:()=>r(!n),children:a.jsx("span",{className:`block w-[18px] h-[18px] bg-white rounded-full absolute top-[2px] transition-all shadow-sm ${n?"left-[24px]":"left-[2px]"}`})})]}),a.jsx("hr",{className:"my-5 border-slate-100"}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx("label",{className:"font-medium text-slate-800",children:"Sync Frequency"})}),a.jsxs("select",{className:"w-48 h-10 px-3 rounded-lg border border-slate-200 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-50 disabled:text-slate-400 transition-all font-medium text-slate-900",value:s,onChange:h=>i(h.target.value),disabled:!n,children:[a.jsx("option",{value:"realtime",children:"Real-time"}),a.jsx("option",{value:"hourly",children:"Hourly"}),a.jsx("option",{value:"daily",children:"Daily"})]})]})]}),a.jsxs(xe,{title:"Chart of Accounts Mapping",children:[a.jsx("p",{className:"text-sm text-slate-500 mb-6 font-medium",children:"Map your property management transactions to QuickBooks accounts."}),a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-2 border-b border-slate-100 text-xs font-semibold uppercase text-slate-400 tracking-wide",children:[a.jsx("span",{children:"Transaction Type"}),a.jsx("span",{children:"QuickBooks Account"})]}),a.jsx(yc,{label:"Full Unit Rent",value:u.fullUnitRent,onChange:h=>f({...u,fullUnitRent:h})}),a.jsx(yc,{label:"Bedroom Rent",value:u.bedroomRent,onChange:h=>f({...u,bedroomRent:h})}),a.jsx(yc,{label:"Security Deposits",value:u.securityDeposit,onChange:h=>f({...u,securityDeposit:h})}),a.jsx(yc,{label:"Late Fees",value:u.lateFees,onChange:h=>f({...u,lateFees:h})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(V,{variant:"ghost",children:"Cancel"}),a.jsx(V,{variant:"primary",icon:yn,disabled:b,onClick:m,children:"Save Settings"})]})]})})},yc=({label:e,value:t,onChange:n})=>a.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center p-2 rounded-lg hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:"text-sm font-medium text-slate-700",children:e}),a.jsxs("select",{className:"h-10 px-3 rounded-lg border border-slate-200 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white w-full transition-all text-slate-900",value:t,onChange:r=>n(r.target.value),children:[a.jsx("option",{value:"",children:"Select account"}),a.jsx("option",{value:"income",children:"Income Account"}),a.jsx("option",{value:"liability",children:"Liability Account"}),a.jsx("option",{value:"other",children:"Other Account"})]})]}),RZ=()=>{const[e,t]=w.useState({kpi:{totalRevenue:0,occupancyRate:0,activeLeases:0,outstandingDues:0},monthlyRevenue:[],leaseDistribution:{fullUnit:0,bedroom:0},topProperties:[]});w.useEffect(()=>{(async()=>{try{const u=await R.get("/api/admin/reports");t(u.data)}catch(u){console.error(u)}})()},[]);const{kpi:n,topProperties:r,leaseDistribution:s,monthlyRevenue:i}=e,l=s.fullUnit+s.bedroom,o=l>0?Math.round(s.fullUnit/l*100):0,c=l>0?Math.round(s.bedroom/l*100):0;return a.jsx(Ce,{title:"Reports & Analytics",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-5",children:[a.jsxs("div",{className:"p-5 rounded-xl bg-white shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-in slide-in-from-bottom-4 duration-600 fade-in",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Total Revenue"}),a.jsxs("p",{className:"text-[26px] font-bold my-1.5 font-sans",children:["$ ",n.totalRevenue.toLocaleString("en-CA")]}),a.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"+12% this month"})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-in slide-in-from-bottom-4 duration-600 fade-in delay-100",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Occupancy Rate"}),a.jsxs("p",{className:"text-[26px] font-bold my-1.5 font-sans",children:[n.occupancyRate,"%"]}),a.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"Stable"})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-in slide-in-from-bottom-4 duration-600 fade-in delay-200",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Active Leases"}),a.jsx("p",{className:"text-[26px] font-bold my-1.5 font-sans",children:n.activeLeases}),a.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"+5 new"})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-in slide-in-from-bottom-4 duration-600 fade-in delay-300",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Outstanding Dues"}),a.jsxs("p",{className:"text-[26px] font-bold my-1.5 font-sans",children:["$ ",n.outstandingDues.toLocaleString("en-CA")]}),a.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Needs Attention"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-6",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:"Monthly Revenue"}),a.jsx("div",{className:"flex items-end gap-3 h-[180px] mt-5",children:i.length>0?i.map((d,u)=>a.jsx("div",{className:"w-[30px] rounded-md bg-gradient-to-t from-indigo-500 to-indigo-300 transition-all duration-1000 ease-out",style:{height:`${Math.min(d.amount/15e3*100,100)}%`},title:d.month},u)):a.jsx("div",{className:"w-full text-center text-slate-400",children:"No revenue data yet"})})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:"Lease Type Distribution"}),a.jsxs("div",{className:"flex flex-col gap-3 mt-5",children:[a.jsxs("div",{className:"p-3 rounded-lg font-semibold bg-indigo-50 text-indigo-800 text-sm",children:["Full Unit ",o,"%"]}),a.jsxs("div",{className:"p-3 rounded-lg font-semibold bg-emerald-50 text-emerald-800 text-sm",children:["Bedroom ",c,"%"]})]})]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] overflow-hidden",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Top Performing Properties"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left text-sm font-semibold text-slate-500 border-b border-slate-200",children:"Property"}),a.jsx("th",{className:"p-3 text-left text-sm font-semibold text-slate-500 border-b border-slate-200",children:"Revenue"}),a.jsx("th",{className:"p-3 text-left text-sm font-semibold text-slate-500 border-b border-slate-200",children:"Occupancy"})]})}),a.jsx("tbody",{children:r.length>0?r.map((d,u)=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-3 text-sm text-slate-700 border-b border-slate-100",children:d.name}),a.jsxs("td",{className:"p-3 text-sm text-slate-700 border-b border-slate-100",children:["$ ",d.revenue.toLocaleString("en-CA")]}),a.jsxs("td",{className:"p-3 text-sm text-slate-700 border-b border-slate-100",children:[d.occupancy,"%"]})]},u)):a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"p-3 text-center text-slate-500",children:"No data available"})})})]})})]})]})})},LZ={Completed:"bg-emerald-50 text-emerald-700 border-emerald-100",Upcoming:"bg-amber-50 text-amber-700 border-amber-100",Overdue:"bg-red-50 text-red-700 border-red-100"},zZ={Completed:a.jsx(Un,{size:14,className:"text-emerald-500"}),Upcoming:a.jsx(sr,{size:14,className:"text-amber-500"}),Overdue:a.jsx(Qt,{size:14,className:"text-red-500"})},BZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(!1),[u,f]=w.useState(null);w.useEffect(()=>{p(),g()},[l]);const p=async()=>{try{const x=await R.get(`/api/admin/maintenance?propertyId=${l}`);t(x.data)}catch(x){console.error(x)}},g=async()=>{try{const x=await R.get("/api/admin/properties");r(x.data)}catch(x){console.error(x)}},m={total:e.length,upcoming:e.filter(x=>x.status==="Upcoming").length,overdue:e.filter(x=>x.status==="Overdue").length,completed:e.filter(x=>x.status==="Completed").length},b=e.filter(x=>x.name.toLowerCase().includes(s.toLowerCase())||x.building.toLowerCase().includes(s.toLowerCase())||x.vendor.toLowerCase().includes(s.toLowerCase())),h=async x=>{const j=e.find(N=>N.id===x);if(j)try{await R.put(`/api/admin/maintenance/${j.dbId}`,{status:"Completed"}),p()}catch{alert("Failed")}},y=async x=>{x.preventDefault();const j=new FormData(x.target);try{const N={name:j.get("name"),buildingId:j.get("buildingId"),type:j.get("type"),frequency:j.get("frequency"),dueDate:j.get("dueDate"),vendor:j.get("vendor"),status:j.get("status")||"Upcoming",notes:j.get("notes")};u?await R.put(`/api/admin/maintenance/${u.dbId}`,N):await R.post("/api/admin/maintenance",N),p(),d(!1),f(null)}catch{alert("Failed to save task")}};return a.jsxs(Ce,{title:"Maintenance Management",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(vc,{label:"Total Tasks",value:m.total,icon:B2,color:"indigo"}),a.jsx(vc,{label:"Upcoming",value:m.upcoming,icon:sr,color:"amber"}),a.jsx(vc,{label:"Overdue",value:m.overdue,icon:Qt,color:"red"}),a.jsx(vc,{label:"Completed",value:m.completed,icon:Un,color:"emerald"})]}),a.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-100 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1 w-full",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-indigo-500 focus-within:ring-4 focus-within:ring-indigo-500/10 transition-all w-full md:w-auto md:min-w-[320px]",children:[a.jsx(Zt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search tasks, buildings, or vendors...",value:s,onChange:x=>i(x.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm font-medium"})]}),a.jsxs("div",{className:"relative min-w-[200px]",children:[a.jsx(dd,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{value:l,onChange:x=>o(x.target.value),className:"w-full pl-12 pr-10 py-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 bg-slate-50 text-sm font-medium appearance-none",children:[a.jsx("option",{value:"all",children:"All Buildings"}),n.map(x=>a.jsxs("option",{value:x.id,children:[x.name,x.civicNumber?` - ${x.civicNumber}`:""]},x.id))]}),a.jsx(ht,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(V,{variant:"secondary",size:"sm",children:[a.jsx(Co,{size:16}),"Filters"]}),a.jsxs(V,{variant:"primary",size:"sm",onClick:()=>d(!0),children:[a.jsx(Nt,{size:16}),"Add Task"]})]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[1.5fr_1fr_1fr_1fr_1fr_0.8fr_0.5fr] bg-slate-50 border-b border-slate-200 px-6 py-4",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Task Details"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Building"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Frequency"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Next Due Date"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Vendor"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Status"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest text-right",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100 text-sm",children:b.map(x=>a.jsxs("div",{className:"grid grid-cols-[1.5fr_1fr_1fr_1fr_1fr_0.8fr_0.5fr] px-6 py-4 items-center hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-indigo-600 mb-0.5",children:x.id}),a.jsx("span",{className:"font-semibold text-slate-700",children:x.name}),a.jsx("span",{className:"text-xs text-slate-400 line-clamp-1",children:x.notes})]}),a.jsxs("span",{className:"flex items-center gap-2 text-slate-600 font-medium",children:[a.jsx(dd,{size:14,className:"text-slate-400"}),x.building]}),a.jsx("span",{className:"text-slate-600 font-medium",children:x.frequency}),a.jsxs("span",{className:"flex items-center gap-2 text-slate-600 font-medium",children:[a.jsx(Lt,{size:14,className:"text-slate-400"}),x.dueDate]}),a.jsxs("span",{className:"flex items-center gap-2 text-slate-600 font-medium truncate",children:[a.jsx(zt,{size:14,className:"text-slate-400"}),x.vendor]}),a.jsx("div",{children:a.jsxs("span",{className:fe("flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border w-fit",LZ[x.status]),children:[zZ[x.status],x.status]})}),a.jsxs("div",{className:"flex justify-end gap-2 text-slate-400",children:[x.status!=="Completed"&&a.jsx("button",{onClick:()=>h(x.id),className:"p-2 hover:bg-emerald-50 hover:text-emerald-600 rounded-lg transition-colors",title:"Mark as Completed",children:a.jsx(Un,{size:16})}),a.jsx("button",{onClick:()=>{f(x),d(!0)},className:"p-2 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors",title:"Edit Task",children:a.jsx(qA,{size:16})})]})]},x.id))})]})]}),(c||u)&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u?"Edit Maintenance Task":"Add New Maintenance Task"}),a.jsx("button",{onClick:()=>{d(!1),f(null)},className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:24})})]}),a.jsxs("form",{onSubmit:y,className:"p-8 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5 col-span-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Task Name"}),a.jsx("input",{name:"name",required:!0,defaultValue:u==null?void 0:u.name,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium",placeholder:"e.g. Elevator Inspection"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Building"}),a.jsxs("select",{name:"buildingId",required:!0,defaultValue:u==null?void 0:u.buildingId,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"",children:"Select Building"}),n.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Task Type"}),a.jsx("input",{name:"type",required:!0,defaultValue:u==null?void 0:u.type,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium",placeholder:"e.g. HVAC, Fire, etc."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Frequency"}),a.jsxs("select",{name:"frequency",required:!0,defaultValue:u==null?void 0:u.frequency,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium bg-white",children:[a.jsx("option",{value:"One-time",children:"One-time"}),a.jsx("option",{value:"Monthly",children:"Monthly"}),a.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Next Due Date"}),a.jsx("input",{name:"dueDate",type:"date",required:!0,defaultValue:u==null?void 0:u.dueDate,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium"})]}),a.jsxs("div",{className:"space-y-1.5 col-span-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Vendor Name"}),a.jsx("input",{name:"vendor",defaultValue:u==null?void 0:u.vendor,className:"w-full h-11 px-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium",placeholder:"Contractor or Service Provider"})]}),a.jsxs("div",{className:"space-y-1.5 col-span-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Notes"}),a.jsx("textarea",{name:"notes",defaultValue:u==null?void 0:u.notes,className:"w-full h-24 p-4 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 font-medium resize-none text-sm",placeholder:"Any specific details..."})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-50 mt-4",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>{d(!1),f(null)},children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Task"})]})]})]})})]})},vc=({label:e,value:t,icon:n,color:r})=>{const s={indigo:"text-indigo-600 bg-indigo-50 border-indigo-100",amber:"text-amber-600 bg-amber-50 border-amber-100",red:"text-red-600 bg-red-50 border-red-100",emerald:"text-emerald-600 bg-emerald-50 border-emerald-100"};return a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:e}),a.jsx("div",{className:"flex items-baseline gap-2",children:a.jsx("span",{className:"text-3xl font-black text-slate-800 tracking-tight",children:t})})]}),a.jsx("div",{className:fe("w-14 h-14 rounded-2xl flex items-center justify-center border",s[r]),children:a.jsx(n,{size:28})})]})},FZ={High:"bg-red-50 text-red-700 border-red-100",Medium:"bg-amber-50 text-amber-700 border-amber-100",Low:"bg-blue-50 text-blue-700 border-blue-100"},UZ={Open:a.jsx(Lu,{size:14,className:"text-amber-500"}),"In Progress":a.jsx(sr,{size:14,className:"text-blue-500"}),Resolved:a.jsx(yn,{size:14,className:"text-emerald-500"})},VZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState([]),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(null),[p,g]=w.useState(!1),[m,b]=w.useState(null),[h,y]=w.useState(""),[x,j]=w.useState({});w.useEffect(()=>{N(),v()},[]),w.useEffect(()=>{l?S(l):i([])},[l]);const N=async()=>{try{const C=await R.get("/api/admin/tickets");t(C.data)}catch(C){console.error("Error fetching tickets",C)}},v=async()=>{try{const C=await R.get("/api/admin/properties");r(C.data)}catch(C){console.error(C)}},S=async C=>{try{const E=await R.get(`/api/admin/tenants?propertyId=${C}`);i(E.data)}catch(E){console.error(E)}},k=e.filter(C=>(C.tenant||"").toLowerCase().includes(c.toLowerCase())||(C.id||"").toLowerCase().includes(c.toLowerCase())||(C.subject||"").toLowerCase().includes(c.toLowerCase())),O=async(C,E)=>{const T=e.find(L=>L.id===C);if(T)try{await R.put(`/api/admin/tickets/${T.dbId}/status`,{status:E}),t(e.map(L=>L.id===C?{...L,status:E}:L)),f(L=>L?{...L,status:E}:null)}catch{alert("Failed to update status")}},_=async C=>{C.preventDefault();const E=C.target,T=E.tenantId.value,L=s.find(I=>I.id===parseInt(T));try{const I=new FormData;I.append("propertyId",l),I.append("unitId",L==null?void 0:L.unitId),I.append("tenantId",T),I.append("subject",E.subject.value),I.append("description",E.description.value),I.append("priority",E.priority.value),E.images.files.length>0&&Array.from(E.images.files).forEach(F=>{I.append("images",F)}),E.video.files.length>0&&I.append("video",E.video.files[0]),await R.post("/api/admin/tickets",I,{headers:{"Content-Type":"multipart/form-data"}}),N(),g(!1),o(""),y("Ticket Created Successfully!"),setTimeout(()=>y(""),3e3)}catch(I){console.error("Error creating ticket:",I),alert("Failed to create ticket")}};return a.jsx(Ce,{title:"Maintenance Tickets",children:a.jsxs("div",{className:"flex flex-col gap-6 relative",children:[h&&a.jsx("div",{className:"fixed top-24 right-8 z-[100] animate-in slide-in-from-right-full duration-500",children:a.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3",children:[a.jsx(yn,{size:20}),a.jsx("span",{className:"font-bold",children:h})]})}),a.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-[0_5px_15px_rgba(0,0,0,0.06)] gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-indigo-500 focus-within:ring-4 focus-within:ring-indigo-500/10 transition-all w-full md:w-auto md:min-w-[320px]",children:[a.jsx(Zt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by ID, tenant, or subject",value:c,onChange:C=>d(C.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm font-medium"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(V,{variant:"secondary",size:"sm",children:[a.jsx(Co,{size:16}),"Filters"]}),a.jsxs(V,{variant:"primary",size:"sm",onClick:()=>g(!0),children:[a.jsx(Nt,{size:16}),"Add Ticket"]})]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.08)] overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_1.5fr_1.2fr_1.2fr_1fr_1fr_0.5fr] bg-slate-50 border-b border-slate-200 px-6 py-4",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Ticket ID"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Subject"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tenant"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Unit"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Priority"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider text-center",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:k.map((C,E)=>a.jsxs("div",{className:"grid grid-cols-[1fr_1.5fr_1.2fr_1.2fr_1fr_1fr_0.5fr] px-6 py-4 items-center hover:bg-slate-50/80 transition-all duration-200",children:[a.jsx("span",{className:"text-sm font-medium text-indigo-600",children:C.id}),a.jsx("span",{className:"text-sm text-slate-700 font-medium truncate pr-4",children:C.subject}),a.jsx("button",{onClick:()=>{b(C.tenantDetails||{name:C.tenant})},className:"text-sm text-indigo-600 font-semibold hover:underline text-left w-fit",children:C.tenant}),a.jsx("span",{className:"text-sm text-slate-500",children:C.unit}),a.jsx("span",{children:a.jsx("span",{className:fe("px-2 py-1 rounded-full text-[10px] font-bold border uppercase tracking-tight",FZ[C.priority]),children:C.priority})}),a.jsxs("span",{className:"flex items-center gap-2 text-sm text-slate-700",children:[UZ[C.status],C.status]}),a.jsx("span",{className:"flex justify-center",children:a.jsx("button",{onClick:()=>f(C),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all",children:a.jsx($t,{size:16})})})]},C.id))})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:u.id}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Created: ",u.createdAt]})]}),a.jsx("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Tenant"}),a.jsx("p",{className:"font-medium text-slate-700",children:u.tenant})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Unit"}),a.jsx("p",{className:"font-medium text-slate-700",children:u.unit})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Subject"}),a.jsx("p",{className:"text-slate-700 bg-slate-50 p-3 rounded-lg border border-slate-100 mt-1",children:u.subject})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Description"}),a.jsx("p",{className:"text-slate-600 text-sm mt-1",children:u.desc||"No description provided"})]}),u.attachments&&u.attachments.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Attachments"}),a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-3",children:u.attachments.map((C,E)=>a.jsxs("div",{className:"border border-slate-200 rounded-lg p-2 bg-slate-50",children:[C.type==="image"&&a.jsx("img",{src:C.url,alt:"attachment",className:"w-full h-32 object-cover rounded-md"}),C.type==="video"&&a.jsx("video",{src:C.url,controls:!0,className:"w-full h-32 rounded-md"}),a.jsx("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-indigo-600 font-semibold mt-2 text-center hover:underline",children:"Open in new tab"})]},E))})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 flex flex-col gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Update Status"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Open","In Progress","Resolved"].map(C=>a.jsx("button",{onClick:()=>O(u.id,C),className:fe("px-4 py-2 rounded-lg text-sm font-medium transition-all border",u.status===C?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100":"bg-white text-slate-600 border-slate-200 hover:border-indigo-300"),children:C},C))})]})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx(V,{variant:"primary",onClick:()=>f(null),children:"Close"})})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("form",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300 max-h-[90vh] overflow-y-auto",onSubmit:_,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"New Maintenance Ticket"}),a.jsx("button",{type:"button",onClick:()=>g(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Building"}),a.jsxs("div",{className:"relative",children:[a.jsx(dd,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{value:l,onChange:C=>o(C.target.value),required:!0,className:"w-full pl-12 pr-10 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 bg-white appearance-none text-slate-800 font-medium",children:[a.jsx("option",{value:"",children:"Select Building"}),n.map(C=>a.jsxs("option",{value:C.id,children:[C.name,C.civicNumber?` - ${C.civicNumber}`:""]},C.id))]}),a.jsx(ht,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Tenant"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsxs("select",{name:"tenantId",required:!0,disabled:!l,className:"w-full pl-12 pr-10 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 bg-white appearance-none text-slate-800 font-medium disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select Tenant"}),s.map(C=>a.jsxs("option",{value:C.id,children:[C.name," (",C.unit,")"]},C.id))]}),a.jsx(ht,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Subject"}),a.jsx("input",{name:"subject",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500",placeholder:"e.g. Toilet leaking"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Description"}),a.jsx("textarea",{name:"description",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 h-24 resize-none",placeholder:"Describe the issue in detail..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Priority"}),a.jsxs("select",{name:"priority",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 bg-white",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Images"}),a.jsx("input",{type:"file",name:"images",multiple:!0,accept:".jpg,.png,.jpeg",className:"w-full text-xs text-slate-500 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-black file:bg-slate-100 file:text-slate-600 cursor-pointer"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Video"}),a.jsx("input",{type:"file",name:"video",accept:".mp4,.mov",className:"w-full text-xs text-slate-500 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-black file:bg-slate-100 file:text-slate-600 cursor-pointer"})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>g(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1",children:"Save Ticket"})]})]})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-sm shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Tenant Info"}),a.jsx("button",{onClick:()=>b(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(we,{size:24})})]}),a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 border-4 border-white shadow-lg",children:a.jsx(zt,{size:40})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold text-slate-900",children:m.name}),a.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-1",children:[a.jsx("span",{className:fe("w-2 h-2 rounded-full",m.leaseStatus==="Active"?"bg-emerald-500":"bg-red-500")}),a.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:[m.leaseStatus," Lease"]})]})]})]}),a.jsx("div",{className:"mt-8 space-y-3",children:a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white text-slate-400 shadow-sm",children:a.jsx(dd,{size:18})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Assigned Unit"}),a.jsxs("p",{className:"font-semibold text-slate-700",children:[m.property,"  ",m.unit]})]})]})}),a.jsxs("div",{className:"mt-8 flex gap-3",children:[a.jsx(V,{variant:"secondary",className:"flex-1",onClick:()=>b(null),children:"Close"}),a.jsx(V,{variant:"primary",className:"flex-1",children:"View Full Profile"})]})]})})]})})},er={sendMessage:async(e,t)=>(await R.post("/api/communication/send",{receiverId:e,content:t})).data,getHistory:async e=>(await R.get(`/api/communication/history/${e}`)).data,getConversations:async()=>(await R.get("/api/communication/conversations")).data,markAsRead:async e=>(await R.post("/api/communication/mark-read",{senderId:e})).data},WZ=()=>{var z;const[e,t]=w.useState(null),[n,r]=w.useState([]),[s,i]=w.useState("ALL"),[l,o]=w.useState(""),[c,d]=w.useState(null),[u,f]=w.useState([]),[p,g]=w.useState([]),[m,b]=w.useState(""),[h,y]=w.useState(!1),[x,j]=w.useState(!1),[N,v]=w.useState(!1),S=w.useRef(null);w.useRef(null),w.useEffect(()=>{const A=localStorage.getItem("user");A&&t(JSON.parse(A)),k()},[]);const k=async()=>{try{v(!0);const A=await er.getConversations();r(A||[])}catch(A){console.error(A)}finally{v(!1)}},O=async()=>{try{y(!0);const A=await R.get("/api/admin/communication");g(A.data)}catch(A){console.error(A)}finally{y(!1)}};w.useEffect(()=>{s==="AUDIT"&&(O(),d(null))},[s]);const C=(()=>{if(s==="AUDIT")return[];let A=n;return s!=="ALL"&&(s==="RESIDENT"?A=A.filter(P=>P.role==="RESIDENT"||P.isResident):A=A.filter(P=>P.role===s&&!P.isResident)),l&&(A=A.filter(P=>{var U,K;return((U=P.name)==null?void 0:U.toLowerCase().includes(l.toLowerCase()))||((K=P.email)==null?void 0:K.toLowerCase().includes(l.toLowerCase()))})),A})(),E=C.filter(A=>(A.unreadCount||0)>0),T=E.map(A=>A.name||A.email||"Someone").join(", "),L=async A=>{d(A),f([]),y(!0);const P=typeof A.id=="string"&&A.id.startsWith("resident_")?parseInt(A.id.replace("resident_",""),10):A.id;if(!isNaN(P))try{await er.markAsRead(P),await k()}catch{}await I(A.id),y(!1)},I=async A=>{try{const P=await er.getHistory(A);f(P),$()}catch(P){console.error(P)}},F=async A=>{if(A.preventDefault(),!(!m.trim()||!c)){j(!0);try{await er.sendMessage(c.id,m),b(""),I(c.id)}catch(P){console.error(P)}finally{j(!1)}}},$=()=>{var A;return(A=S.current)==null?void 0:A.scrollIntoView({behavior:"smooth"})};return a.jsx(Ce,{title:"Communication Hub",children:a.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-white rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] overflow-hidden",children:[a.jsxs("div",{className:"w-[340px] border-r border-slate-100 flex flex-col bg-slate-50/50",children:[a.jsxs("div",{className:"p-4 bg-white border-b border-slate-100 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-bold text-slate-800",children:"History"}),a.jsx("button",{onClick:k,className:`p-2 rounded-full hover:bg-slate-100 ${N?"animate-spin":""}`,children:a.jsx(Vn,{size:16})})]}),a.jsx("div",{className:"flex p-1 bg-slate-100 rounded-lg overflow-x-auto scrollbar-hide",children:["ALL","TENANT","OWNER","RESIDENT","AUDIT"].map(A=>a.jsx("button",{onClick:()=>i(A),className:`flex-1 min-w-[60px] py-1.5 text-[10px] font-black uppercase tracking-widest rounded-md transition-all ${s===A?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:A==="AUDIT"?"Audit Trail":A},A))}),s!=="AUDIT"&&a.jsxs("div",{className:"relative",children:[a.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search contact...",className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",value:l,onChange:A=>o(A.target.value)})]}),s!=="AUDIT"&&E.length>0&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-50 border border-amber-200",children:[a.jsx(WA,{className:"flex-shrink-0 text-amber-600",size:18}),a.jsxs("p",{className:"text-xs font-semibold text-amber-800",children:["New message",E.length>1?"s":""," from: ",a.jsx("span",{className:"font-bold",children:T})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:s==="AUDIT"?a.jsxs("div",{className:"p-4 text-center text-slate-400 space-y-2 mt-10 px-8",children:[a.jsx(sr,{size:32,className:"mx-auto opacity-20"}),a.jsx("p",{className:"text-sm font-bold",children:"Audit Trail Mode"}),a.jsx("p",{className:"text-[11px]",children:"Monitoring all outgoing automated system notifications."})]}):C.map(A=>{var U;const P=(A.unreadCount||0)>0;return a.jsxs("div",{onClick:()=>L(A),className:`p-4 flex items-center gap-3 cursor-pointer border-b border-slate-50 hover:bg-white group ${(c==null?void 0:c.id)===A.id?"bg-white border-l-4 border-l-indigo-600":"border-l-4 border-l-transparent"} ${P?"bg-amber-50/70":""}`,children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${P?"bg-amber-100 text-amber-700 ring-2 ring-amber-300":"bg-indigo-50 text-indigo-600"}`,children:((U=A.name)==null?void 0:U.charAt(0))||"U"}),P&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex h-4 min-w-4 items-center justify-center rounded-full bg-amber-500 text-[10px] font-black text-white px-1",children:A.unreadCount>99?"99+":A.unreadCount})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h4",{className:`text-sm font-semibold truncate ${P?"text-amber-900":"text-slate-700"}`,children:[A.name||A.email,P&&a.jsx("span",{className:"ml-1 text-[10px] font-black text-amber-600 uppercase",children:"(new)"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black",children:A.role})]})]},A.id)})})]}),a.jsx("div",{className:"flex-1 flex flex-col bg-slate-50 relative overflow-hidden",children:s==="AUDIT"?a.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Outgoing Communication Audit"}),h?a.jsx("div",{className:"p-20 text-center",children:a.jsx(Vn,{className:"animate-spin mx-auto text-slate-200",size:48})}):a.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Time"}),a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Recipient"}),a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Event"}),a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Channel"}),a.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:p.map(A=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"p-4 text-xs font-medium text-slate-500",children:A.date}),a.jsx("td",{className:"p-4 text-sm font-bold text-slate-700",children:A.recipient}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-600 rounded text-[9px] font-black uppercase tracking-widest",children:A.eventType})}),a.jsx("td",{className:"p-4 text-xs font-bold text-slate-400",children:A.channel}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${A.status==="Sent"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:A.status})})]},A.id))})]})})]})}):c?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-[73px] px-6 bg-white border-b border-slate-100 flex items-center justify-between shadow-sm z-20",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-sm",children:((z=c.name)==null?void 0:z.charAt(0))||"U"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-800",children:c.name||c.email}),a.jsx("p",{className:"text-[10px] text-emerald-600 font-black uppercase tracking-widest",children:"Online"})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[u.map((A,P)=>{const U=A.senderId===(e==null?void 0:e.id);return a.jsx("div",{className:`flex ${U?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[70%] px-5 py-3 rounded-2xl text-sm ${U?"bg-indigo-600 text-white":"bg-white text-slate-700 shadow-sm border border-slate-100"}`,children:A.content})},A.id||P)}),a.jsx("div",{ref:S})]}),a.jsx("div",{className:"p-4 bg-white border-t border-slate-100",children:a.jsxs("form",{onSubmit:F,className:"flex gap-3",children:[a.jsx("input",{type:"text",value:m,onChange:A=>b(A.target.value),placeholder:"Type a message...",className:"flex-1 h-12 px-5 bg-slate-50 border border-slate-200 rounded-xl text-sm"}),a.jsx("button",{type:"submit",disabled:x,className:"h-12 w-12 bg-indigo-600 text-white rounded-xl flex items-center justify-center",children:a.jsx(Po,{size:20})})]})})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[a.jsx(zt,{size:64,className:"opacity-10 mb-4"}),a.jsx("p",{className:"font-bold",children:"Select a user to chat"})]})})]})})},Qi=10,Vj=5,HZ=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(0),[s,i]=w.useState(1),[l,o]=w.useState(1),[c]=w.useState(Qi),[d,u]=w.useState(!0),[f,p]=w.useState(""),[g,m]=w.useState(null),[b,h]=w.useState(!1),[y,x]=w.useState(""),[j,N]=w.useState(""),[v,S]=w.useState(""),[k,O]=w.useState(!1),[_,C]=w.useState(""),[E,T]=w.useState(""),[L,I]=w.useState(!1),[F,$]=w.useState([]),[z,A]=w.useState(!1),[P,U]=w.useState(new Set),K=async(X=1)=>{u(!0);try{const me=(await R.get("/api/admin/communication/emails",{params:{page:X,limit:Qi}})).data,je=me&&typeof me=="object"&&"data"in me,Ne=je?me.data||[]:Array.isArray(me)?me:[],B=je?me.total??Ne.length:Ne.length,ne=je&&me.page||1,ge=je&&me.totalPages!=null?me.totalPages:Math.ceil(B/Qi)||1;t(Ne),r(B),i(ne),o(Math.max(1,ge))}catch(ue){console.error(ue),t([]),r(0),o(1)}finally{u(!1)}};w.useEffect(()=>{K(1)},[]);const q=X=>{const ue=Math.max(1,Math.min(X,l||1));i(ue),K(ue)},D=()=>{const X=l||1;if(X<=Vj)return Array.from({length:X},(je,Ne)=>Ne+1);const ue=new Set([1,X]),me=Math.floor(Vj/2);for(let je=Math.max(1,s-me);je<=Math.min(X,s+me);je++)ue.add(je);return Array.from(ue).sort((je,Ne)=>je-Ne)},te=async X=>{var ue,me;if(window.confirm("Remove this email log entry? This cannot be undone.")){m(X);try{await R.delete(`/api/admin/communication/emails/${X}`),await K(e.length===1&&s>1?s-1:s)}catch(je){console.error(je),alert(((me=(ue=je.response)==null?void 0:ue.data)==null?void 0:me.message)||"Failed to delete log.")}finally{m(null)}}},se=e.filter(X=>(X.recipient||"").toLowerCase().includes(f.toLowerCase())||(X.recipientEmail||"").toLowerCase().includes(f.toLowerCase())||(X.subject||"").toLowerCase().includes(f.toLowerCase())||(X.source||"").toLowerCase().includes(f.toLowerCase())),be=()=>{h(!0),C(""),T("")},Q=()=>{h(!1),C(""),T(""),k||(x(""),N(""),S(""))},ie=async()=>{A(!0);try{const[X,ue]=await Promise.all([R.get("/api/admin/tenants").catch(()=>({data:[]})),R.get("/api/admin/owners").catch(()=>({data:[]}))]),me=Array.isArray(X.data)?X.data:[],je=Array.isArray(ue.data)?ue.data:[],Ne=[...me.map(B=>({email:B.email,name:B.name||B.email,type:"Tenant"})),...je.map(B=>({email:B.email,name:B.name||B.email,type:"Owner"}))].filter(B=>B.email);$(Ne),I(!0),U(new Set)}catch(X){console.error(X)}finally{A(!1)}},Y=X=>{U(ue=>{const me=new Set(ue);return me.has(X)?me.delete(X):me.add(X),me})},ee=()=>{const ue=[...y.split(/[\s,;]+/).filter(Boolean),...P];x(ue.join(", ")),I(!1)},le=async X=>{var me,je;X.preventDefault(),C(""),T("");const ue=(y||"").split(/[\s,;]+/).map(Ne=>Ne.trim()).filter(Boolean);if(!ue.length){C("Please enter at least one recipient email.");return}if(!j.trim()){C("Please enter a subject.");return}O(!0);try{const Ne=await R.post("/api/admin/communication/send-email",{recipients:ue,subject:j.trim(),body:v.trim()});Ne.data.success?(T(Ne.data.message||"Email(s) sent successfully."),setTimeout(()=>{Q(),K(1)},1500)):C(Ne.data.message||"Failed to send.")}catch(Ne){const B=((je=(me=Ne.response)==null?void 0:me.data)==null?void 0:je.message)||Ne.message||"Failed to send email. Please try again.";C(B)}finally{O(!1)}},H=D(),de=l||1;return a.jsxs(Ce,{title:"Email Logs",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"relative flex items-center bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden min-w-[220px]",children:[a.jsx(Zt,{className:"absolute left-3 w-4 h-4 text-slate-400 pointer-events-none"}),a.jsx("input",{type:"text",placeholder:"Search by recipient, subject...",value:f,onChange:X=>p(X.target.value),className:"w-full pl-10 pr-4 py-2.5 text-sm bg-transparent border-0 outline-none text-slate-800 placeholder-slate-400"})]}),a.jsxs(V,{variant:"secondary",onClick:()=>K(s),disabled:d,className:"shrink-0",children:[a.jsx(Vn,{size:18,className:d?"animate-spin":""}),"Refresh"]})]}),a.jsxs(V,{variant:"primary",onClick:be,className:"shrink-0 w-full sm:w-auto",children:[a.jsx(Po,{size:18}),"Compose Email"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[800px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[a.jsx("th",{className:"w-12 px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Delete"}),a.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest whitespace-nowrap",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Recipient"}),a.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Subject"}),a.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Snippet"}),a.jsx("th",{className:"px-4 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-widest w-24",children:"Source"}),a.jsx("th",{className:"px-4 py-3 text-center text-[10px] font-bold text-slate-500 uppercase tracking-widest w-24",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:d?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-400",children:[a.jsx(Vn,{size:28,className:"animate-spin mx-auto mb-2 text-slate-300"}),a.jsx("p",{className:"text-sm",children:"Loading email logs..."})]})}):se.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-500",children:[a.jsx(p0,{size:40,className:"mx-auto mb-2 text-slate-300"}),a.jsx("p",{className:"text-sm font-medium",children:"No emails found"}),a.jsx("p",{className:"text-xs mt-1",children:"Send an email or adjust your search."})]})}):se.map(X=>a.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{type:"button",onClick:()=>te(X.id),disabled:g===X.id,className:"p-2 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",title:"Delete log",children:a.jsx(Jt,{size:16,className:g===X.id?"animate-pulse":""})})}),a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 font-medium whitespace-nowrap",children:X.date}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-800",children:X.recipient||""}),a.jsx("span",{className:"text-xs text-slate-500",children:X.recipientEmail||""})]})}),a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-indigo-600 max-w-[200px] truncate",title:X.subject,children:X.subject||""}),a.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 max-w-[240px] truncate",title:X.message,children:X.message||""}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold ${X.source==="Manual"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-600"}`,children:X.source||"System"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:X.status==="Sent"?a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-emerald-700 bg-emerald-100 px-2.5 py-1 rounded-full",children:[a.jsx(yn,{size:12})," Sent"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-red-700 bg-red-100 px-2.5 py-1 rounded-full",children:[a.jsx(JA,{size:12})," Failed"]})})]},X.id))})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 px-4 py-4 bg-slate-50 border-t border-slate-200",children:[a.jsx("p",{className:"text-sm text-slate-600 order-2 sm:order-1",children:n===0?"No emails":`Showing ${(s-1)*Qi+1}${Math.min(s*Qi,n)} of ${n}`}),a.jsxs("div",{className:"flex items-center justify-center gap-1 order-1 sm:order-2",children:[a.jsx("button",{type:"button",onClick:()=>q(s-1),disabled:s<=1||d,className:"p-2 rounded-lg border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:a.jsx(LA,{size:18})}),H.map((X,ue)=>a.jsxs(M.Fragment,{children:[ue>0&&H[ue-1]!==X-1&&a.jsx("span",{className:"px-2 text-slate-400 text-sm",children:""}),a.jsx("button",{type:"button",onClick:()=>q(X),disabled:d,className:`min-w-[36px] h-9 px-2 rounded-lg border text-sm font-medium transition-colors ${s===X?"bg-indigo-600 border-indigo-600 text-white":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"} disabled:opacity-50`,children:X})]},X)),a.jsx("button",{type:"button",onClick:()=>q(s+1),disabled:s>=de||d,className:"p-2 rounded-lg border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:a.jsx(z2,{size:18})})]})]})]})]}),b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Compose Email"}),a.jsx("button",{type:"button",onClick:Q,disabled:k,className:"p-2 rounded-lg hover:bg-slate-100 text-slate-500",children:a.jsx(we,{size:20})})]}),a.jsxs("form",{onSubmit:le,className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[_&&a.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:_}),E&&a.jsx("div",{className:"p-3 rounded-lg bg-emerald-50 border border-emerald-200 text-emerald-700 text-sm",children:E}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"To (email addresses, comma-separated)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:y,onChange:X=>x(X.target.value),placeholder:"e.g. user@example.com, other@example.com",className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),a.jsxs(V,{type:"button",variant:"secondary",onClick:ie,disabled:z,children:[a.jsx(QA,{size:16})," ",z?"...":"Choose"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",value:j,onChange:X=>N(X.target.value),placeholder:"Email subject",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Message"}),a.jsx("textarea",{value:v,onChange:X=>S(X.target.value),placeholder:"Write your message...",rows:6,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm resize-none",required:!0})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t border-slate-200 bg-slate-50",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:Q,disabled:k,children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",disabled:k,children:k?"Sending...":"Send Email"})]})]})]})}),L&&a.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:"Select recipients"}),a.jsx("button",{type:"button",onClick:()=>I(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:a.jsx(we,{size:18})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:F.length===0?a.jsx("p",{className:"text-sm text-slate-500",children:"No tenants or owners with email found."}):F.map(X=>a.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:P.has(X.email),onChange:()=>Y(X.email)}),a.jsx("span",{className:"text-sm font-medium text-slate-800",children:X.name}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",X.email,")"]})]},X.email))}),a.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-2",children:[a.jsx(V,{variant:"secondary",onClick:()=>I(!1),children:"Cancel"}),a.jsx(V,{variant:"primary",onClick:ee,children:"Add to To field"})]})]})})]})},qZ=()=>(w.useEffect(()=>{const t="google-translate-script",n=document.getElementById(t);n&&n.remove(),window.googleTranslateElementInit&&delete window.googleTranslateElementInit,window.google&&window.google.translate;const r=()=>{if(window.google&&window.google.translate&&window.google.translate.TranslateElement){const c=document.getElementById("google_translate_element");c&&(c.innerHTML="",new window.google.translate.TranslateElement({pageLanguage:"en",includedLanguages:"en,fr",layout:window.google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay:!1},"google_translate_element"),i())}};window.googleTranslateElementInit=r;const s=document.createElement("script");s.id=t,s.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",s.async=!0,document.body.appendChild(s);const i=()=>{document.querySelectorAll('.goog-te-banner-frame.skiptranslate, .goog-te-banner-frame, iframe[id=":2.container"], iframe[class*="banner"]').forEach(d=>{d&&!d.classList.contains("goog-te-menu-frame")&&(d.style.display="none",d.style.visibility="hidden",d.style.height="0",d.style.opacity="0")}),(document.body.style.top!=="0px"||document.body.style.marginTop!=="0px"||document.body.style.position!=="static")&&(document.body.style.top="0px",document.body.style.marginTop="0px",document.body.style.position="")},l=setInterval(i,1e3),o=new MutationObserver(i);return o.observe(document.body,{childList:!0,subtree:!0}),()=>{clearInterval(l),o.disconnect()}},[]),a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
    /* Safe Styles to ensure visibility while trying to be clean */
    .goog-te-banner-frame {
        display: none !important;
        visibility: hidden !important;
    }
    
    body {
        top: 0px !important; 
    }

    /* Hide the Google Icon only if it doesn't break layout */
    .goog-te-gadget-icon {
        display: none !important;
    }

    /* Basic styling for the container */
    .goog-te-gadget-simple {
        background-color: transparent !important;
        border: none !important;
        padding: 0 !important;
        font-family: inherit !important;
    }

    /* Ensure dropdown is visible */
    .goog-te-combo {
        color: #1e293b !important;
        border: 1px solid #e2e8f0 !important;
        border-radius: 6px !important;
        padding: 6px !important;
        font-size: 14px !important;
        outline: none !important;
        background: white !important;
    }
  `}),a.jsx("div",{id:"google_translate_element",className:"google-translate-container relative z-50"})]})),GZ=()=>{const[e,t]=w.useState({notifications:!0,autoInvoices:!0,twoFactor:!1,companyName:"My Property Management",currency:"CAD ($)",paymentCycle:"Monthly",lateFee:5}),[n,r]=w.useState({activeUsers:0,systemStatus:"Checking...",storageUsage:"Checking...",lastBackup:"Never"});w.useEffect(()=>{s()},[]);const s=async()=>{try{const o=await R.get("/api/admin/settings"),c=o.data.settings||{},d={};Object.keys(c).forEach(u=>{c[u]==="true"?d[u]=!0:c[u]==="false"?d[u]=!1:d[u]=c[u]}),t(u=>({...u,...d})),r(o.data.stats)}catch(o){console.error(o)}},i=async(o,c)=>{t(d=>({...d,[o]:c}));try{await R.post("/api/admin/settings",{[o]:c})}catch(d){console.error(d)}},l=o=>{i(o,!e[o])};return a.jsx(Ce,{title:"Application Settings",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-5",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"System Status"}),a.jsx("p",{className:"text-lg font-semibold mt-1.5 text-emerald-600",children:n.systemStatus})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Storage Usage"}),a.jsx("p",{className:"text-lg font-semibold mt-1.5 text-slate-900",children:n.storageUsage})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Active Users"}),a.jsxs("p",{className:"text-lg font-semibold mt-1.5 text-slate-900",children:[n.activeUsers," Users"]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)] animate-[fadeUp_0.6s_ease]",children:[a.jsx("h4",{className:"text-sm text-slate-500",children:"Last Backup"}),a.jsx("p",{className:"text-lg font-semibold mt-1.5 text-slate-900",children:n.lastBackup!=="Never"?new Date(n.lastBackup).toLocaleDateString()+" "+new Date(n.lastBackup).toLocaleTimeString():"Never"})]})]}),a.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(320px,1fr))] gap-6",children:[a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"Language Settings"}),a.jsxs("div",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:[a.jsx("span",{className:"mb-2",children:"Select Application Language"}),a.jsx("div",{className:"relative z-10",children:a.jsx(qZ,{})})]})]}),a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"General Settings"}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Company Name",a.jsx("input",{value:e.companyName,onChange:o=>i("companyName",o.target.value),className:"h-[38px] px-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all font-medium text-slate-900"})]}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Company Address",a.jsx("textarea",{value:e.companyAddress||"",onChange:o=>i("companyAddress",o.target.value),placeholder:`e.g. 123 Business Avenue, Suite 500
Toronto, ON M5V 2N8`,className:"px-2.5 py-2 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all font-medium text-slate-900 min-h-[60px] resize-none"})]}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Default Currency",a.jsxs("select",{value:e.currency,onChange:o=>i("currency",o.target.value),className:"h-[38px] px-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all bg-white font-medium text-slate-900",children:[a.jsx("option",{children:"CAD ($)"}),a.jsx("option",{children:"INR ()"}),a.jsx("option",{children:"USD ($)"}),a.jsx("option",{children:"AED (.)"})]})]})]}),a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"Notifications"}),a.jsxs("div",{className:"flex justify-between items-center mb-3.5",children:[a.jsx("span",{className:"text-[13px] font-medium text-slate-700",children:"Email Notifications"}),a.jsx("button",{className:`w-11 h-[22px] rounded-full relative cursor-pointer border-none transition-colors ${e.notifications?"bg-indigo-600":"bg-gray-200"}`,onClick:()=>l("notifications"),children:a.jsx("span",{className:`block w-[18px] h-[18px] bg-white rounded-full absolute top-[2px] transition-all shadow-sm ${e.notifications?"left-[24px]":"left-[2px]"}`})})]}),a.jsxs("div",{className:"flex justify-between items-center mb-3.5",children:[a.jsx("span",{className:"text-[13px] font-medium text-slate-700",children:"Auto Invoice Generation"}),a.jsx("button",{className:`w-11 h-[22px] rounded-full relative cursor-pointer border-none transition-colors ${e.autoInvoices?"bg-indigo-600":"bg-gray-200"}`,onClick:()=>l("autoInvoices"),children:a.jsx("span",{className:`block w-[18px] h-[18px] bg-white rounded-full absolute top-[2px] transition-all shadow-sm ${e.autoInvoices?"left-[24px]":"left-[2px]"}`})})]})]}),a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"Security"}),a.jsxs("div",{className:"flex justify-between items-center mb-3.5",children:[a.jsx("span",{className:"text-[13px] font-medium text-slate-700",children:"Two-Factor Authentication"}),a.jsx("button",{className:`w-11 h-[22px] rounded-full relative cursor-pointer border-none transition-colors ${e.twoFactor?"bg-indigo-600":"bg-gray-200"}`,onClick:()=>l("twoFactor"),children:a.jsx("span",{className:`block w-[18px] h-[18px] bg-white rounded-full absolute top-[2px] transition-all shadow-sm ${e.twoFactor?"left-[24px]":"left-[2px]"}`})})]}),a.jsx("button",{className:"mt-2.5 w-full bg-red-50 text-red-700 border-none p-2.5 rounded-lg cursor-pointer hover:bg-red-100 transition-colors text-[13px] font-semibold",children:"Force Logout All Users"})]}),a.jsxs("div",{className:"bg-white p-[22px] rounded-xl shadow-[0_10px_25px_rgba(0,0,0,0.06)]",children:[a.jsx("h3",{className:"mb-4 text-base font-semibold text-slate-800",children:"Finance & Payments"}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Payment Cycle",a.jsxs("select",{value:e.paymentCycle,onChange:o=>i("paymentCycle",o.target.value),className:"h-[38px] px-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all bg-white font-medium text-slate-900",children:[a.jsx("option",{children:"Monthly"}),a.jsx("option",{children:"Quarterly"}),a.jsx("option",{children:"Yearly"})]})]}),a.jsxs("label",{className:"flex flex-col gap-1.5 text-[13px] mb-3.5 text-slate-700",children:["Late Fee (%)",a.jsx("input",{type:"number",value:e.lateFee,onChange:o=>i("lateFee",o.target.value),className:"h-[38px] px-2.5 rounded-lg border border-slate-200 outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all font-medium text-slate-900"})]})]})]})]})})},KZ=()=>{var S,k;const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState(null),[u,f]=w.useState([]),[p,g]=w.useState([]),[m,b]=w.useState(!1);w.useEffect(()=>{h()},[]);const h=async()=>{try{const O=await R.get("/api/admin/owners");t(O.data)}catch(O){console.error("Failed to fetch owners",O)}},y=async(O=null)=>{try{console.log("Fetching available properties with ownerId:",O);const _=O?{ownerId:O}:{};console.log("API params:",_);const C=await R.get("/api/admin/properties/available",{params:_});return console.log("Received properties:",C.data),f(C.data),C.data}catch(_){return console.error("Failed to fetch available properties",_),[]}},x=e.filter(O=>O.name&&O.name.toLowerCase().includes(n.toLowerCase())||O.email&&O.email.toLowerCase().includes(n.toLowerCase())||O.phone&&O.phone.toLowerCase().includes(n.toLowerCase())),j=async O=>{var E,T,L,I;O.preventDefault();const _=O.target,C={firstName:_.firstName.value,lastName:_.lastName.value,name:`${_.firstName.value} ${_.lastName.value}`,email:_.email.value,phone:_.phone.value,companyName:((E=_.companyName)==null?void 0:E.value)||"",isPrimary:((T=_.isPrimary)==null?void 0:T.checked)||!1,propertyIds:p.map(F=>F.id)};try{c?await R.put(`/api/admin/owners/${c.id}`,C):(await R.post("/api/admin/owners",C),alert("Owner account created! Individual login credentials sent.")),h(),i(!1),d(null),g([]),_.reset()}catch(F){console.error(F),alert(((I=(L=F.response)==null?void 0:L.data)==null?void 0:I.message)||"Error saving owner")}},N=async O=>{if(window.confirm("Are you sure? This will delete the login but preserve property data."))try{await R.delete(`/api/admin/owners/${O}`),h()}catch(_){console.error(_),alert("Error deleting owner")}},v=async O=>{const _=await y(O.id);d(O);const C=_.filter(E=>Number(E.ownerId)===Number(O.id));g(C),i(!0)};return a.jsx(Ce,{title:"Owners Management",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-[0_5px_15px_rgba(0,0,0,0.06)] gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 px-4 py-2.5 rounded-lg border border-slate-200 focus-within:border-indigo-500 focus-within:ring-4 focus-within:ring-indigo-500/10 transition-all w-full md:w-auto md:min-w-[320px]",children:[a.jsx(Zt,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by name, company, email...",value:n,onChange:O=>r(O.target.value),className:"bg-transparent border-none outline-none text-slate-700 placeholder:text-slate-400 w-full text-sm font-medium"})]}),a.jsxs(V,{variant:"primary",onClick:()=>{d(null),g([]),y(),i(!0)},children:[a.jsx(Nt,{size:18}),"Add New Owner"]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.08)] overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[1.2fr_1.2fr_1.2fr_1.2fr_0.6fr_0.8fr] bg-slate-50 border-b border-slate-200 px-6 py-4",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Contact Name"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Company"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Email (Login)"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Assigned Portfolio"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Units"}),a.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider text-center",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:x.map(O=>a.jsxs("div",{className:"grid grid-cols-[1.2fr_1.2fr_1.2fr_1.2fr_0.6fr_0.8fr] px-6 py-4 items-center hover:bg-slate-50/80 transition-all duration-200",children:[a.jsxs("span",{className:"flex items-center gap-3 font-medium text-slate-700",children:[a.jsx("div",{className:`min-w-[32px] w-8 h-8 rounded-full flex items-center justify-center ${O.isPrimaryContact?"bg-indigo-600 text-white":"bg-slate-100 text-slate-500"}`,children:a.jsx(zt,{size:16})}),a.jsxs("span",{className:"truncate flex flex-col",children:[O.name,O.isPrimaryContact&&a.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-tight",children:"Primary"})]})]}),a.jsx("span",{className:"text-sm text-indigo-600 truncate font-bold",children:O.companyName||"-"}),a.jsx("span",{className:"text-sm text-slate-600 truncate",children:O.email}),a.jsx("span",{className:"text-sm text-slate-600 truncate italic",children:O.properties.length>0?O.properties.join(", "):"No properties assigned"}),a.jsx("span",{className:"text-sm font-bold text-slate-700",children:O.totalUnits}),a.jsxs("span",{className:"flex justify-center gap-1",children:[a.jsx("button",{onClick:()=>o(O),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all",children:a.jsx($t,{size:16})}),a.jsx("button",{onClick:()=>v(O),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-all",children:a.jsx(_o,{size:16})}),a.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-all",onClick:()=>N(O.id),children:a.jsx(Jt,{size:16})})]})]},O.id))})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("form",{className:"bg-white rounded-2xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 max-h-[90vh] overflow-y-auto",onSubmit:j,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:c?"Edit Portfolio Access":"Create Owner Access"}),a.jsx("button",{type:"button",onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Entity / Company"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Company Name"}),a.jsx("input",{name:"companyName",defaultValue:(c==null?void 0:c.companyName)||"",placeholder:"e.g. Grand Holdings Ltd",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Adding multiple users to the same company allows them to share property visibility."})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Primary Contact (Login User)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"First Name"}),a.jsx("input",{name:"firstName",defaultValue:((S=c==null?void 0:c.name)==null?void 0:S.split(" ")[0])||"",placeholder:"First Name",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Last Name"}),a.jsx("input",{name:"lastName",defaultValue:((k=c==null?void 0:c.name)==null?void 0:k.split(" ").slice(1).join(" "))||"",placeholder:"Last Name",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email (Username)"}),a.jsx("input",{name:"email",type:"email",defaultValue:(c==null?void 0:c.email)||"",placeholder:"contact@company.com",required:!0,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),a.jsx("input",{name:"phone",type:"tel",defaultValue:(c==null?void 0:c.phone)||"+1",placeholder:"+1 (555) 000-0000",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-dashed border-slate-200",children:[a.jsx("input",{type:"checkbox",name:"isPrimary",id:"isPrimary",defaultChecked:c==null?void 0:c.isPrimaryContact,className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"}),a.jsx("label",{htmlFor:"isPrimary",className:"text-sm font-semibold text-slate-700 cursor-pointer",children:"Set as Primary Contact for this Company"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Building Assignments"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(O=>a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-indigo-50 border border-indigo-100 rounded-lg text-sm font-medium text-indigo-700",children:[O.name,a.jsx("button",{type:"button",onClick:()=>g(_=>_.filter(C=>C.id!==O.id)),className:"hover:text-indigo-900",children:""})]},O.id))}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>b(!m),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-left text-slate-700 hover:border-indigo-400 transition-all font-medium flex justify-between items-center",children:[a.jsx("span",{className:p.length===0?"text-slate-400":"",children:p.length>0?"Assign more buildings...":"Select Buildings to Assign"}),a.jsx(Nt,{size:16})]}),m&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border border-slate-100 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:u.filter(O=>!p.some(_=>_.id===O.id)).map(O=>a.jsxs("button",{type:"button",onClick:()=>{g([...p,O]),b(!1)},className:"w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0 text-slate-700 font-medium text-sm flex items-center justify-between",children:[O.name,a.jsx("span",{className:"text-[10px] bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:"Add"})]},O.id))})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-slate-100",children:[a.jsx(V,{type:"button",variant:"secondary",onClick:()=>{i(!1),d(null)},children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",children:c?"Sync Portfolio":"Create Access"})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 border border-indigo-100 font-bold text-lg",children:l.name.split(" ").map(O=>O[0]).join("")}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:l.name}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Owner Details"})]})]}),a.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-all text-slate-400",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Email"}),a.jsx("p",{className:"text-slate-700 font-medium",children:l.email})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Phone"}),a.jsx("p",{className:"text-slate-700 font-medium",children:l.phone||"N/A"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Properties & Units"}),a.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Total Units Managed"}),a.jsxs("span",{className:"text-sm font-black text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-lg",children:[l.totalUnits," Units"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.properties.map((O,_)=>a.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-semibold text-slate-700 shadow-sm",children:[a.jsx(sa,{size:12,className:"text-slate-400"}),O]},_))})]})]})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx(V,{variant:"secondary",onClick:()=>o(null),children:"Close"})})]})})]})})},XZ=()=>localStorage.getItem("tenantLoggedIn")==="true"?a.jsx(r0,{}):a.jsx(_s,{to:"/tenant/login",replace:!0}),YZ=[{icon:u0,label:"Dashboard",path:"/tenant/dashboard"},{icon:$e,label:"My Lease",path:"/tenant/lease"},{icon:jn,label:"My Invoices",path:"/tenant/invoices"},{icon:jn,label:"Pay Rent",path:"/tenant/payments"},{icon:U2,label:"My Documents",path:"/tenant/documents"},{icon:kr,label:"Insurance",path:"/tenant/insurance"},{icon:Ml,label:"Maintenance Tickets",path:"/tenant/tickets"},{icon:vi,label:"Messages",path:"/tenant/communication"},{icon:c0,label:"Reports",path:"/tenant/reports"}],QZ=({isOpen:e,onClose:t})=>{const n=()=>{localStorage.removeItem("tenantLoggedIn"),window.location.href="/tenant/login"};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:fe("fixed inset-0 bg-black/40 z-40 lg:hidden transition-opacity duration-300",e?"opacity-100 block":"opacity-0 hidden"),onClick:t}),a.jsxs("aside",{className:fe("fixed left-0 top-0 h-screen w-[260px] bg-white border-r border-slate-100 shadow-xl z-50 transition-transform duration-300 ease-in-out flex flex-col",e?"translate-x-0":"-translate-x-full","lg:translate-x-0"),children:[a.jsxs("div",{className:"h-20 flex items-center px-6 justify-between border-b border-slate-100 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("img",{src:"/assets/logo.png",alt:"Masteko Logo",className:"h-10 w-auto object-container"})}),a.jsx("button",{className:"lg:hidden p-2 text-slate-500 hover:bg-slate-100 rounded-md transition",onClick:t,children:a.jsx(we,{size:20})})]}),a.jsxs("nav",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-1 custom-scrollbar flex flex-col",children:[a.jsx("div",{className:"flex-1 space-y-1",children:YZ.map(r=>a.jsxs(a0,{to:r.path,onClick:t,className:({isActive:s})=>fe("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 group relative",s?"bg-primary-50 text-priority-600 shadow-sm border border-primary-100/50":"text-slate-600 hover:bg-slate-50 hover:text-slate-900",s&&"after:absolute after:left-0 after:top-1/2 after:-translate-y-1/2 after:h-8 after:w-1 after:bg-primary-600 after:rounded-r-full"),children:[a.jsx(r.icon,{size:20}),a.jsx("span",{children:r.label})]},r.label))}),a.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-slate-600 hover:bg-red-50 hover:text-red-600 transition-all duration-200 mt-auto border border-transparent hover:border-red-100",children:[a.jsx(f0,{size:20}),a.jsx("span",{children:"Logout"})]})]})]})]})},JZ=({title:e="Dashboard",onMenuClick:t})=>a.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 sticky top-0 z-40 lg:px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{className:"block lg:hidden text-slate-600 p-2",onClick:t,children:a.jsx(m0,{size:24})}),a.jsx("h1",{className:"text-lg font-bold text-slate-800",children:e})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"John Smith"}),a.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Building A  301"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold border border-primary-200",children:"JS"})})]})]}),Wn=({children:e,title:t="Tenant Portal"})=>{const[n,r]=w.useState(!1),s=()=>r(!n),i=()=>r(!1);return a.jsxs("div",{className:"flex w-full min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsx(QZ,{isOpen:n,onClose:i}),a.jsxs("div",{className:"flex flex-col flex-1 min-w-0 transition-all duration-200 ml-0 lg:ml-[260px]",children:[a.jsx(JZ,{title:t,onMenuClick:s}),a.jsx("main",{className:"flex-1 w-full max-w-[1400px] mx-auto flex flex-col gap-8 p-4 lg:p-8",children:e})]})]})},ZZ=()=>{const[e,t]=M.useState("Tenant"),[n,r]=M.useState([{title:"Current Rent",value:"Loading...",subValue:"-",icon:jn,color:"bg-blue-500",path:"/tenant/invoices"},{title:"Lease Status",value:"Loading...",subValue:"-",icon:$e,color:"bg-emerald-500",path:"/tenant/lease"},{title:"Maintenance",value:"0 Open",subValue:"0 In Progress",icon:Ml,color:"bg-amber-500",path:"/tenant/tickets"},{title:"Insurance",value:"...",subValue:"-",icon:kr,color:"bg-purple-500",path:"/tenant/insurance"}]);return M.useEffect(()=>{(async()=>{try{const i=await R.get("/api/tenant/dashboard"),{tenantName:l,stats:o}=i.data;t(l||"Tenant"),r([{title:"Current Rent",value:`$${o.currentRent.toLocaleString("en-CA")}`,subValue:o.rentDueStatus,icon:jn,color:"bg-blue-500",path:"/tenant/invoices"},{title:"Lease Status",value:o.leaseStatus,subValue:o.leaseExpiry?new Date(o.leaseExpiry).toLocaleDateString():"N/A",icon:$e,color:"bg-emerald-500",path:"/tenant/lease"},{title:"Maintenance",value:`${o.openTickets} Open`,subValue:"Check Tickets",icon:Ml,color:"bg-amber-500",path:"/tenant/tickets"},{title:"Insurance",value:o.insuranceStatus,subValue:"Check Status",icon:kr,color:"bg-purple-500",path:"/tenant/insurance"}])}catch(i){console.error(i)}})()},[]),a.jsx(Wn,{title:"Dashboard",children:a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("section",{className:"bg-red-50 border border-red-100 rounded-3xl p-6 flex flex-col md:flex-row gap-6 items-center justify-between shadow-sm animate-in slide-in-from-top-4 duration-700",children:[a.jsxs("div",{className:"flex gap-5 items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-2xl flex items-center justify-center text-white shrink-0 shadow-lg shadow-red-100",children:a.jsx(Qt,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-lg font-black text-red-900 leading-tight",children:"Action Required: Insurance Expired"}),a.jsx("p",{className:"text-red-700/80 font-medium text-sm",children:"Your insurance policy has expired. Please upload a renewed policy document immediately to remain compliant."})]})]}),a.jsx(Jn,{to:"/tenant/insurance",className:"bg-red-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-red-700 transition-all shadow-md active:scale-95 whitespace-nowrap",children:"Upload Insurance"})]}),a.jsxs("section",{className:"bg-indigo-600 rounded-3xl p-8 text-white relative overflow-hidden shadow-xl shadow-indigo-100",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsxs("h2",{className:"text-3xl font-bold",children:["Good morning, ",e,"! "]}),a.jsx("p",{className:"text-indigo-100 font-medium text-lg",children:"Your next rent payment is due on Feb 1st, 2026."}),a.jsx("div",{className:"pt-4",children:a.jsxs(Jn,{to:"/tenant/payments",className:"inline-flex items-center gap-2 bg-white text-indigo-600 px-6 py-3 rounded-xl font-bold hover:bg-indigo-50 transition-all shadow-lg hover:translate-y-[-2px] active:scale-95",children:["Pay Rent Now",a.jsx(cd,{size:20})]})})]}),a.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-64 h-64 bg-indigo-500 rounded-full blur-3xl opacity-50"}),a.jsx("div",{className:"absolute bottom-[-20%] left-[-5%] w-48 h-48 bg-indigo-400 rounded-full blur-2xl opacity-30"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,i)=>a.jsxs(Jn,{to:s.path,className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all group active:scale-[0.98]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`w-12 h-12 ${s.color} rounded-xl flex items-center justify-center text-white shadow-lg`,children:a.jsx(s.icon,{size:24})}),a.jsx(cd,{size:18,className:"text-slate-300 group-hover:text-primary transition-colors"})]}),a.jsx("h4",{className:"text-slate-500 font-bold text-sm uppercase tracking-wider",children:s.title}),a.jsxs("div",{className:"mt-1 space-y-1",children:[a.jsx("p",{className:"text-2xl font-black text-slate-800 tracking-tight",children:s.value}),a.jsx("p",{className:"text-sm font-medium text-slate-400",children:s.subValue})]})]},i))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("section",{className:"lg:col-span-2 bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden h-fit",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[a.jsx("h3",{className:"font-black text-slate-800 text-lg",children:"Announcements"}),a.jsx("span",{className:"bg-indigo-50 text-indigo-600 py-1 px-3 rounded-full text-xs font-bold",children:"New"})]}),a.jsx("div",{className:"divide-y divide-slate-50",children:[{title:"Elevator Maintenance",date:"Jan 15",desc:"Building A elevators will be undergoing maintenance from 10 AM to 2 PM.",type:"Warning"},{title:"New Visitor Parking Rules",date:"Jan 10",desc:"Please register all visitor vehicles in the lobby kiosk starting Monday.",type:"Info"}].map((s,i)=>a.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors flex gap-5 items-start",children:[a.jsx("div",{className:`mt-1 w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${s.type==="Warning"?"bg-amber-50 text-amber-600":"bg-blue-50 text-blue-600"}`,children:a.jsx(Qt,{size:20})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-bold text-slate-800",children:s.title}),a.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:s.date})]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed",children:s.desc})]})]},i))})]}),a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden h-fit",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex items-center justify-between",children:[a.jsx("h3",{className:"font-black text-slate-800 text-lg",children:"Recent Tickets"}),a.jsx(Jn,{to:"/tenant/tickets",className:"text-xs font-bold text-primary hover:underline",children:"View All"})]}),a.jsx("div",{className:"p-2 space-y-1",children:[{id:"T-1025",title:"Leaking Sink",status:"In Progress"},{id:"T-1024",title:"AC Filter",status:"Resolved"}].map((s,i)=>a.jsxs("div",{className:"p-4 rounded-xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 cursor-pointer",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:s.id}),a.jsx("h4",{className:"font-bold text-slate-700",children:s.title}),a.jsxs("div",{className:"mt-2 flex items-center gap-1.5",children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.status==="Resolved"?"bg-emerald-500":"bg-amber-500"}`}),a.jsx("span",{className:`text-[11px] font-bold uppercase tracking-tight ${s.status==="Resolved"?"text-emerald-600":"text-amber-600"}`,children:s.status})]})]},i))})]})]})]})})},eee=()=>{const[e,t]=M.useState(null);return M.useEffect(()=>{(async()=>{try{const r=await R.get("/api/tenant/lease");t(r.data)}catch(r){console.error(r)}})()},[]),e?a.jsx(Wn,{title:"My Lease",children:a.jsxs("div",{className:"max-w-4xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 shadow-xl overflow-hidden shadow-slate-100/50",children:[a.jsxs("div",{className:"bg-primary-600 p-8 text-white flex justify-between items-center",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Standard Lease Agreement"}),a.jsxs("p",{className:"text-primary-100 font-medium",children:["Agreement ID: ",e.id]})]}),a.jsxs("div",{className:"bg-emerald-400/20 text-emerald-50 px-4 py-2 rounded-xl border border-emerald-400/30 flex items-center gap-2 font-bold text-sm",children:[a.jsx(Un,{size:18}),e.status]})]}),a.jsxs("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center shrink-0",children:a.jsx(ta,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Lease Property"}),a.jsxs("h4",{className:"text-lg font-bold text-slate-800",children:[e.property," - Unit ",e.unit]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:e.address})]})]}),a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-50 text-emerald-600 flex items-center justify-center shrink-0",children:a.jsx(zu,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Monthly Rent"}),a.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["$",e.monthlyRent.toLocaleString("en-CA")]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Due on 1st of every month"})]})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:a.jsx(Lt,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Lease Period"}),a.jsx("h4",{className:"text-lg font-bold text-slate-800",children:"Fixed Term"}),a.jsxs("p",{className:"text-sm text-slate-500 font-medium tracking-tight",children:[new Date(e.startDate).toLocaleDateString(),"  ",new Date(e.endDate).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center shrink-0",children:a.jsx($e,{size:24})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Security Deposit"}),a.jsxs("h4",{className:"text-lg font-bold text-slate-800",children:["$",e.deposit.toLocaleString("en-CA")]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Held in Escrow"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 p-8 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800",children:"Lease Terms"}),a.jsx("div",{className:"space-y-4",children:["Lock-in period: 6 months","Notice period: 2 months","Late fee after 5th: 10%","Annual rent increase: 5%"].map((n,r)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-600",children:n})]},r))})]}),a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 p-8 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800",children:"Contact Support"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed",children:"For any queries regarding your lease agreement, please contact the property management office."}),a.jsxs("div",{className:"pt-2 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-slate-50 border border-slate-100",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Office Phone"}),a.jsx("span",{className:"text-sm font-black text-primary-600 uppercase",children:"+1 555-0123"})]}),a.jsx("button",{className:"w-full py-4 rounded-2xl bg-primary-600 text-white font-bold hover:bg-primary-700 transition-all shadow-lg shadow-primary-50",children:"Message Manager"})]})]})]})]})}):a.jsx(Wn,{title:"My Lease",children:a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading lease details or no active lease found..."})})},tee=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null);return M.useEffect(()=>{(async()=>{try{const i=await R.get("/api/tenant/invoices");t(i.data.map(l=>({...l,amount:`$${l.amount.toLocaleString("en-CA")}`})))}catch(i){console.error(i)}})()},[]),a.jsxs(Wn,{title:"My Invoices",children:[a.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/20",children:[a.jsx("h3",{className:"font-black text-slate-800 text-lg",children:"Invoice History"}),a.jsxs("span",{className:"text-sm font-bold text-slate-400",children:["Showing ",e.length," entries"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-50",children:[a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Invoice ID"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Month"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Due Date"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:e.map(s=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-5 font-bold text-slate-700",children:s.id}),a.jsx("td",{className:"px-6 py-5 font-bold text-slate-800",children:s.month}),a.jsx("td",{className:"px-6 py-5 text-sm font-medium text-slate-500",children:s.date}),a.jsx("td",{className:"px-6 py-5 font-black text-slate-800",children:s.amount}),a.jsx("td",{className:"px-6 py-5",children:a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[11px] font-black uppercase tracking-tight border ${s.status==="Paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[s.status==="Paid"?a.jsx(Un,{size:12}):a.jsx(sr,{size:12}),s.status]})}),a.jsx("td",{className:"px-6 py-5 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 outline-none",children:[a.jsx("button",{onClick:()=>r(s),className:"p-2 text-slate-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-all",children:a.jsx($t,{size:18})}),a.jsx("button",{onClick:async()=>{try{const i=await R.get(`/api/tenant/invoices/${s.dbId}/download`,{responseType:"blob"}),l=window.URL.createObjectURL(new Blob([i.data])),o=document.createElement("a");o.href=l,o.setAttribute("download",`invoice-${s.id}.pdf`),document.body.appendChild(o),o.click(),o.remove()}catch{alert("Download failed")}},className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",children:a.jsx(wn,{size:18})})]})})]},s.id))})]})})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",onClick:()=>r(null),children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",onClick:s=>s.stopPropagation(),children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-50 text-primary-600 flex items-center justify-center",children:a.jsx($e,{size:24})}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Invoice Details"}),a.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:n.id})]})]}),a.jsx("button",{onClick:()=>r(null),className:"p-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:a.jsx(we,{size:24})})]}),a.jsxs("div",{className:"p-8 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Billed To"}),a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"John Smith"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Building A - 301"})]}),a.jsxs("div",{className:"space-y-1 text-right",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Issued By"}),a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Masteko Management"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"info@masteko.com"})]})]}),a.jsx("div",{className:"rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase text-left",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase text-right",children:"Amount"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 font-bold text-slate-700",children:["Monthly Rent - ",n.month]}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-800 text-right",children:n.amount})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:"Service Charges"}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-800 text-right",children:"$0.00"})]})]}),a.jsx("tfoot",{className:"bg-slate-50/50",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-800",children:"Total Amount"}),a.jsx("td",{className:"px-6 py-4 font-black text-primary-600 text-lg text-right",children:n.amount})]})})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(V,{variant:"secondary",className:"flex-1 rounded-2xl py-4 h-auto font-bold",onClick:async()=>{try{const s=await R.get(`/api/tenant/invoices/${n.dbId}/download`,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([s.data])),l=document.createElement("a");l.href=i,l.setAttribute("download",`invoice-${n.id}.pdf`),document.body.appendChild(l),l.click(),l.remove()}catch{alert("Download failed")}},children:"Download PDF"}),n.status==="Due"&&a.jsx(V,{variant:"primary",className:"flex-1 rounded-2xl py-4 h-auto font-bold",children:"Pay Now"})]})]})]})})]})},nee=()=>{var f,p,g;const[e,t]=w.useState("card"),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState(!0);M.useEffect(()=>{(async()=>{try{const h=(await R.get("/api/tenant/invoices")).data.find(y=>y.status==="Due"||y.status==="Overdue");h&&o(h)}catch(b){console.error(b)}finally{d(!1)}})()},[]);const u=async m=>{if(m.preventDefault(),!!l){r(!0);try{await R.post("/api/tenant/pay",{invoiceId:l.dbId,amount:l.amount,paymentMethod:e}),r(!1),i(!0)}catch(b){console.error(b),r(!1),alert("Payment failed. Please try again.")}}};return c?a.jsx("div",{className:"p-10 text-center",children:"Loading payment details..."}):!l&&!s?a.jsx(Wn,{title:"Pay Rent",children:a.jsxs("div",{className:"p-10 text-center bg-white rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(yn,{size:40})}),a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"No Pending Dues"}),a.jsx("p",{className:"text-slate-500 mt-2",children:"You are all caught up! No rent is due at this time."})]})}):a.jsxs(Wn,{title:"Pay Rent",children:[a.jsx("div",{className:"max-w-4xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8",children:[a.jsx("div",{className:"md:col-span-3 space-y-6",children:a.jsxs("section",{className:"bg-white rounded-3xl border border-slate-100 p-8 shadow-sm space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Payment Method"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Select how you would like to pay your rent."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{id:"card",label:"Credit / Debit Card",icon:jn},{id:"bank",label:"Bank Transfer (ACH)",icon:MA},{id:"wallet",label:"Digital Wallet",icon:H2}].map(m=>a.jsxs("button",{onClick:()=>t(m.id),className:`flex items-center gap-4 p-5 rounded-2xl border-2 transition-all text-left ${e===m.id?"border-primary-600 bg-primary-50/30":"border-slate-100 hover:border-primary-200"}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${e===m.id?"bg-primary-600 text-white":"bg-slate-50 text-slate-400"}`,children:a.jsx(m.icon,{size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:`font-bold ${e===m.id?"text-primary-700":"text-slate-700"}`,children:m.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Fast & Secure"})]}),e===m.id&&a.jsx("div",{className:"bg-primary-600 text-white rounded-full p-1 shadow-md",children:a.jsx(yn,{size:16})})]},m.id))}),a.jsxs("div",{className:"pt-2",children:[a.jsx(V,{className:"w-full h-14 rounded-2xl font-black text-lg shadow-xl shadow-primary-100 flex items-center justify-center gap-2",onClick:u,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:["Pay $",(f=l==null?void 0:l.amount)==null?void 0:f.toLocaleString(),a.jsx(cd,{size:20})]})}),a.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-slate-400",children:[a.jsx(kr,{size:16}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Secure 256-bit Encrypted Payment"})]})]})]})}),a.jsx("div",{className:"md:col-span-2 space-y-6",children:a.jsxs("section",{className:"bg-slate-900 rounded-3xl p-8 text-white shadow-xl shadow-slate-200/50 space-y-8 sticky top-24",children:[a.jsx("h3",{className:"text-lg font-bold",children:"Payment Summary"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-medium text-sm",children:[a.jsxs("span",{children:["Rent (",l==null?void 0:l.month,")"]}),a.jsxs("span",{className:"text-white font-bold tracking-tight",children:["$",(p=l==null?void 0:l.amount)==null?void 0:p.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-medium text-sm",children:[a.jsx("span",{children:"Processing Fee"}),a.jsx("span",{className:"text-emerald-400 font-bold tracking-tight",children:"$0.00"})]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-800 space-y-1",children:[a.jsx("p",{className:"text-xs text-slate-500 font-black uppercase tracking-widest",children:"Total to Pay"}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("span",{className:"text-4xl font-black tracking-tighter",children:["$",(g=l==null?void 0:l.amount)==null?void 0:g.toLocaleString()]}),a.jsx("span",{className:"text-xs font-bold text-slate-500 mb-2 underline decoration-slate-700 underline-offset-4",children:"USD"})]})]}),a.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-4 flex gap-4 border border-white/5",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center shrink-0",children:a.jsx(yn,{size:20,className:"text-emerald-500"})}),a.jsxs("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:["Your payment for ",l==null?void 0:l.month," will be processed immediately."]})]})]})})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-500 text-center p-10 space-y-6",children:[a.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-2 animate-bounce duration-1000",children:a.jsx(yn,{size:48})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Payment Successful!"}),a.jsxs("p",{className:"text-slate-500 font-medium",children:["Your rent for ",l==null?void 0:l.month," has been successfully paid."]})]}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 text-left border border-slate-100",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold py-1",children:[a.jsx("span",{className:"text-slate-400 uppercase",children:"Receipt #"}),a.jsxs("span",{className:"text-slate-700",children:["RCP-",Math.floor(Math.random()*1e5)]})]}),a.jsxs("div",{className:"flex justify-between text-xs font-bold py-1",children:[a.jsx("span",{className:"text-slate-400 uppercase",children:"Method"}),a.jsx("span",{className:"text-slate-700 uppercase",children:e})]})]}),a.jsx(V,{variant:"primary",className:"w-full rounded-2x h-12 h-auto font-bold mt-2",onClick:()=>window.location.reload(),children:"Great, thanks!"})]})})]})},ree=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!1),[s,i]=w.useState(!1),l=M.useRef(null),[o,c]=w.useState(null);M.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await R.get("/api/tenant/documents");m.data.length>0?t(m.data):t([])}catch(m){console.error(m)}},u=m=>{m.target.files&&m.target.files[0]&&c(m.target.files[0])},f=async m=>{m.preventDefault(),i(!0);const b=m.target;if(!o){alert("Please select a file"),i(!1);return}try{const h=new FormData;h.append("name",b.docName.value||o.name),h.append("type",b.docType.value),h.append("file",o);const y=await R.post("/api/tenant/documents",h,{headers:{"Content-Type":"multipart/form-data"}});t([y.data,...e]),r(!1),c(null)}catch(h){console.error(h),alert("Upload failed")}finally{i(!1)}},p=m=>{const b=m.startsWith("http")?m:`${R.defaults.baseURL.replace("/api","")}${m}`;window.open(b,"_blank")},g=async(m,b)=>{try{const h=m.startsWith("http")?m:`${R.defaults.baseURL.replace("/api","")}${m}`,x=await(await fetch(h)).blob(),j=window.URL.createObjectURL(x),N=document.createElement("a");N.href=j,N.setAttribute("download",b),document.body.appendChild(N),N.click(),N.remove(),window.URL.revokeObjectURL(j)}catch(h){console.error("Download failed",h),alert("Could not download file")}};return a.jsxs(Wn,{title:"My Documents",children:[a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Personal Document Vault"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Safe storage for your lease and ID documents."})]}),a.jsxs(V,{variant:"primary",className:"rounded-xl flex items-center gap-2 font-bold py-3 shadow-lg shadow-primary-50 active:scale-95",onClick:()=>r(!0),children:[a.jsx(yr,{size:18}),"Upload Document"]})]}),a.jsx("section",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50/50",children:a.jsxs("tr",{className:"border-b border-slate-50",children:[a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"Document Name"}),a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"File Type"}),a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"Upload Date"}),a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"Expiry Date"}),a.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest text-right whitespace-nowrap",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:e.map(m=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-5",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0 border border-primary-100",children:a.jsx($e,{size:20})}),a.jsx("span",{className:"font-bold text-slate-700 tracking-tight",children:m.name})]})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-bold text-slate-500",children:m.type})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-400",children:m.date})}),a.jsx("td",{className:"px-8 py-5",children:m.expiryDate?a.jsx("span",{className:"text-sm font-medium text-slate-600",children:new Date(m.expiryDate).toLocaleDateString()}):a.jsx("span",{className:"text-sm text-slate-300",children:"-"})}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsx("div",{className:"flex items-center justify-end gap-2",children:m.fileUrl&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>p(m.fileUrl),className:"p-2.5 text-slate-400 hover:text-primary-600 hover:bg-primary-50 rounded-xl transition-all",title:"View Document",children:a.jsx($t,{size:20})}),a.jsx("button",{onClick:()=>g(m.fileUrl,m.name),className:"p-2.5 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-xl transition-all",title:"Download PDF",children:a.jsx(wn,{size:20})})]})})})]},m.id))})]}),e.length===0&&a.jsxs("div",{className:"p-20 text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mx-auto text-slate-200",children:a.jsx(U2,{size:40})}),a.jsx("p",{className:"text-slate-400 font-bold",children:"No documents uploaded yet."})]})]})})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Upload New Document"}),a.jsx("button",{onClick:()=>r(!1),className:"p-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:a.jsx(we,{size:24})})]}),a.jsxs("form",{onSubmit:f,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Friendly Name"}),a.jsx("input",{name:"docName",className:"w-full h-12 px-4 rounded-xl border border-slate-200 focus:border-primary-500 outline-none font-medium text-slate-700",placeholder:"e.g. Utility Bill Jan"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Document Type"}),a.jsxs("select",{name:"docType",className:"w-full h-12 px-4 rounded-xl border border-slate-200 focus:border-primary-500 outline-none bg-white font-medium text-slate-700 appearance-none",children:[a.jsx("option",{value:"ID Proof",children:"ID Proof"}),a.jsx("option",{value:"Agreement",children:"Lease Related"}),a.jsx("option",{value:"Utility",children:"Utility Bill"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsx("input",{type:"file",className:"hidden",ref:l,onChange:u,accept:"application/pdf,image/*"}),a.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-8 text-center space-y-4 hover:border-primary-300 transition-colors cursor-pointer group ${o?"border-primary-500 bg-primary-50/10":"border-slate-200"}`,onClick:()=>{var m;return(m=l.current)==null?void 0:m.click()},children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto text-slate-400 group-hover:text-primary-500 group-hover:bg-primary-50 transition-colors",children:o?a.jsx(Un,{size:24,className:"text-emerald-500"}):a.jsx(yr,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-700",children:o?o.name:"Click to select file"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:o?`${Math.round(o.size/1024)} KB`:"PDF, JPG, PNG (Max 10MB)"})]})]}),a.jsx(V,{variant:"primary",className:"w-full h-14 rounded-2xl font-black text-lg",disabled:s||!o,children:s?"Uploading...":"Confirm Upload"})]})]})})]})},aee=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState({provider:"",policyNumber:"",coverageType:"",startDate:"",endDate:""}),p=w.useRef(null),[g,m]=w.useState(null),b=async()=>{try{r(!0);const v=await R.get("/api/tenant/insurance");t(v.data),v.data&&f({provider:v.data.provider,policyNumber:v.data.policyNumber,coverageType:v.data.coverageType||"",startDate:v.data.startDate,endDate:v.data.endDate})}catch(v){console.error(v)}finally{r(!1)}};w.useEffect(()=>{b()},[]);const h=v=>{v.target.files&&v.target.files[0]&&m(v.target.files[0])},y=async v=>{v.preventDefault();const S=new FormData;if(S.append("provider",u.provider),S.append("policyNumber",u.policyNumber),S.append("coverageType",u.coverageType),S.append("startDate",u.startDate),S.append("endDate",u.endDate),g)S.append("file",g);else{alert("Please select an insurance document file");return}try{d(!0),await R.post("/api/tenant/insurance",S,{headers:{"Content-Type":"multipart/form-data"}}),o(!1),b()}catch(k){console.error(k),alert("Upload failed")}finally{d(!1)}};if(n)return a.jsx("div",{className:"p-10 text-center",children:"Loading insurance details..."});const j=(v=>{switch(v){case"ACTIVE":return{bg:"emerald-50",text:"emerald-600",border:"emerald-100",icon:kr,label:"Approved & Active"};case"PENDING_APPROVAL":return{bg:"amber-50",text:"amber-600",border:"amber-100",icon:Mc,label:"Pending Admin Review"};case"REJECTED":return{bg:"red-50",text:"red-600",border:"red-100",icon:we,label:"Policy Rejected"};case"EXPIRED":return{bg:"red-50",text:"red-600",border:"red-100",icon:Lu,label:"Policy Expired"};case"EXPIRING_SOON":return{bg:"amber-50",text:"amber-600",border:"amber-100",icon:Clock,label:"Expiring Soon"};default:return{bg:"slate-50",text:"slate-600",border:"slate-100",icon:Mc,label:v}}})((e==null?void 0:e.status)||"N/A"),N=!e||e.status==="REJECTED"||e.status==="EXPIRED";return a.jsxs(Wn,{title:"Insurance Compliance",children:[a.jsxs("div",{className:"max-w-4xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e&&a.jsxs("div",{className:`p-6 rounded-3xl border ${j.bg} ${j.border} flex items-center justify-between`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[(()=>{const v=j.icon;return a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-lg bg-${j.text.split("-")[0]}-500`,children:a.jsx(v,{size:24})})})(),a.jsxs("div",{children:[a.jsx("h3",{className:`font-black tracking-tight text-${j.text.split("-")[0]}-900`,children:j.label}),a.jsx("p",{className:`text-sm font-medium text-${j.text.split("-")[0]}-700/80`,children:e.status==="REJECTED"?`Reason: ${e.rejectionReason}`:e.status==="PENDING_APPROVAL"?"We'll notify you once admin reviews your document.":`Valid until ${new Date(e.endDate).toLocaleDateString()}`})]})]}),N&&a.jsx(V,{size:"sm",onClick:()=>o(!0),children:"Update Policy"})]}),e?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs(xe,{className:"p-8 rounded-[32px] shadow-xl shadow-slate-100/50 border-0 bg-white",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 pb-10 border-b border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center italic font-black text-2xl border border-indigo-100 shadow-sm",children:e.provider.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:e.provider}),a.jsx("p",{className:"text-sm font-black text-slate-400 uppercase tracking-widest leading-none mt-1",children:e.coverageType||"General Liability"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Policy Number"}),a.jsx("p",{className:"text-lg font-mono font-black text-slate-700 tracking-tighter",children:e.policyNumber})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[a.jsx(Lt,{size:16}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Effective Date"})]}),a.jsx("p",{className:"text-lg font-black text-slate-700",children:new Date(e.startDate).toLocaleDateString()})]}),a.jsxs("div",{className:"space-y-4 text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 justify-end",children:[a.jsx(Lt,{size:16}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Expiration Date"})]}),a.jsx("p",{className:`text-lg font-black ${e.status==="EXPIRED"?"text-red-600":"text-slate-800"}`,children:new Date(e.endDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"mt-10 pt-10 border-t border-slate-50 flex gap-4",children:[a.jsxs(V,{variant:"secondary",className:"flex-1 h-14 rounded-2xl",onClick:()=>i(!0),children:[a.jsx($t,{size:18,className:"mr-2"}),"View Certificate"]}),N&&a.jsxs(V,{variant:"outline",className:"flex-1 h-14 rounded-2xl",onClick:()=>o(!0),children:[a.jsx(yr,{size:18,className:"mr-2"}),"Update Policy"]})]})]}),a.jsxs("section",{className:"bg-slate-900 rounded-[32px] p-8 text-white flex items-center justify-between relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform duration-500"}),a.jsxs("div",{className:"space-y-2 relative z-10",children:[a.jsx("h4",{className:"text-xl font-black tracking-tight italic",children:"Switch & Save?"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium max-w-xs",children:"Compare renters insurance quotes directly from our portfolio partners."})]}),a.jsx("button",{className:"bg-white text-slate-900 px-6 py-3 rounded-xl font-black text-sm hover:scale-105 transition-all relative z-10",children:"Get Quotes"})]})]}),a.jsx("div",{className:"space-y-8",children:a.jsxs(xe,{className:"p-8 rounded-[32px] bg-indigo-600 text-white border-0 shadow-xl shadow-indigo-100",children:[a.jsx(Mc,{size:32,className:"mb-6 opacity-80"}),a.jsx("h4",{className:"text-xl font-black mb-3 italic tracking-tight uppercase",children:"Why Insurance?"}),a.jsx("p",{className:"text-indigo-100 text-sm font-medium leading-relaxed opacity-90",children:"Did you know your landlord's insurance doesn't cover your belongings? Renter's insurance protects everything inside your home from theft, fire, or water damage."})]})})]}):a.jsxs("section",{className:"bg-white rounded-[40px] border-4 border-dashed border-slate-100 p-16 flex flex-col items-center text-center space-y-8",children:[a.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-[32px] flex items-center justify-center text-slate-300 shadow-inner",children:a.jsx(kr,{size:48})}),a.jsxs("div",{className:"max-w-md space-y-3",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Protect Your Home"}),a.jsx("p",{className:"text-slate-500 font-medium leading-relaxed",children:"Renters insurance is mandatory for all tenants to protect your personal property and liability. Please upload your active policy document to comply."})]}),a.jsxs(V,{variant:"primary",size:"lg",onClick:()=>o(!0),className:"px-10 h-16 rounded-2xl text-lg shadow-xl shadow-primary-100",children:["Upload Insurance Policy",a.jsx(yr,{size:20,className:"ml-2"})]})]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Upload Policy"}),a.jsx("button",{onClick:()=>o(!1),className:"p-2.5 text-slate-400 hover:bg-slate-50 rounded-2xl transition-all",children:a.jsx(we,{size:24})})]}),a.jsxs("form",{onSubmit:y,className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Insurance Provider"}),a.jsx("input",{type:"text",required:!0,value:u.provider,onChange:v=>f({...u,provider:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm",placeholder:"e.g. State Farm, Geico"})]}),a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Policy Number"}),a.jsx("input",{type:"text",required:!0,value:u.policyNumber,onChange:v=>f({...u,policyNumber:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm",placeholder:"e.g. SF-9001-X"})]}),a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Coverage Type"}),a.jsxs("select",{value:u.coverageType,onChange:v=>f({...u,coverageType:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm appearance-none",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"General Liability",children:"General Liability"}),a.jsx("option",{value:"Full Comprehensive",children:"Full Comprehensive"}),a.jsx("option",{value:"Theft & Liability",children:"Theft & Liability"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Start Date"}),a.jsx("input",{type:"date",required:!0,value:u.startDate.substring(0,10),onChange:v=>f({...u,startDate:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm"})]}),a.jsxs("div",{className:"space-y-1.5 px-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"End Date"}),a.jsx("input",{type:"date",required:!0,value:u.endDate.substring(0,10),onChange:v=>f({...u,endDate:v.target.value}),className:"w-full px-5 py-3.5 rounded-2xl border border-slate-200 outline-none focus:border-indigo-500 font-bold text-slate-700 bg-slate-50 focus:bg-white transition-all shadow-sm"})]})]}),a.jsxs("div",{className:"pt-2",children:[a.jsxs("div",{onClick:()=>p.current.click(),className:`w-full p-8 border-2 border-dashed rounded-3xl flex flex-col items-center gap-3 cursor-pointer transition-all ${g?"border-emerald-200 bg-emerald-50/50":"border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30"}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${g?"bg-emerald-500 text-white":"bg-white shadow-sm text-slate-400"}`,children:a.jsx(yr,{size:24})}),a.jsx("p",{className:"text-sm font-black text-slate-600 tracking-tight",children:g?g.name:"Select Policy Document (PDF)"}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Max file size: 10MB"})]}),a.jsx("input",{type:"file",ref:p,className:"hidden",onChange:h,accept:".pdf,image/*"})]}),a.jsxs("div",{className:"pt-4 flex gap-4",children:[a.jsx(V,{type:"button",variant:"secondary",className:"flex-1 h-16 rounded-2xl",onClick:()=>o(!1),children:"Cancel"}),a.jsx(V,{type:"submit",variant:"primary",className:"flex-1 h-16 rounded-2xl shadow-xl shadow-indigo-100",disabled:c,children:c?"Finalizing...":"Submit Policy"})]})]})]})}),s&&(e==null?void 0:e.documentUrl)&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-3xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex items-center justify-between bg-slate-50/30",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-500 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx($e,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Policy Document"}),a.jsx("p",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest leading-none mt-1",children:"Certificate of Insurance"})]})]}),a.jsx("button",{onClick:()=>i(!1),className:"p-3 text-slate-400 hover:bg-white hover:shadow-md border border-transparent hover:border-slate-100 rounded-2xl transition-all",children:a.jsx(we,{size:24})})]}),a.jsx("div",{className:"relative aspect-[16/10] bg-slate-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-[32px] flex items-center justify-center mx-auto shadow-2xl text-slate-200",children:a.jsx($e,{size:48})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-slate-400 font-bold text-lg px-8",children:"Your insurance document is ready for download and review."}),a.jsx("a",{href:`${R.defaults.baseURL.replace("/api","")}${e.documentUrl}`,target:"_blank",rel:"noreferrer",className:"inline-block mt-4",children:a.jsx(V,{variant:"primary",className:"h-16 px-10 rounded-2xl text-lg shadow-xl shadow-primary-100",children:"Download Secure PDF"})})]})]})})]})})]})},see=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState({});M.useEffect(()=>{u()},[]);const u=async()=>{try{const p=await R.get("/api/tenant/tickets");t(p.data)}catch(p){console.error(p)}},f=async p=>{p.preventDefault(),i(!0);const g=p.target;try{const m=new FormData;m.append("subject",g.subject.value),m.append("description",g.description.value),m.append("priority",g.priority.value),Array.from(g.images.files).forEach(j=>{m.append("images",j)});const h=g.video.files[0];h&&m.append("video",h);const x=(await R.post("/api/tenant/tickets",m,{headers:{"Content-Type":"multipart/form-data"}})).data;t([x,...e]),r(!1),g.reset()}catch(m){console.error("Upload Error:",m),alert("Failed to create ticket")}finally{i(!1)}};return a.jsxs(Wn,{title:"Maintenance Tickets",children:[a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Support Requests"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Need something fixed? We're here to help."})]}),a.jsxs(V,{variant:"primary",className:"rounded-xl flex items-center gap-2 font-bold py-3 shadow-lg shadow-primary-50 active:scale-95",onClick:()=>r(!0),children:[a.jsx(Nt,{size:18}),"Raise New Ticket"]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.map(p=>a.jsxs("div",{onClick:()=>o(p),className:"bg-white rounded-3xl border border-slate-100 p-6 flex flex-col md:flex-row gap-6 items-start md:items-center hover:shadow-md transition-all group cursor-pointer",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${p.status==="Resolved"?"bg-emerald-50 text-emerald-600":"bg-primary-50 text-primary-600"}`,children:a.jsx(Ml,{size:24})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:p.id}),a.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-tight border ${p.priority==="High"?"bg-red-50 text-red-600 border-red-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:[p.priority," Priority"]})]}),a.jsx("h4",{className:"text-lg font-bold text-slate-800 group-hover:text-primary-600 transition-colors",children:p.subject}),a.jsx("p",{className:"text-sm text-slate-500 font-medium line-clamp-1",children:p.desc})]}),a.jsxs("div",{className:"flex flex-row md:flex-col items-center md:items-end gap-4 md:gap-1 shrink-0 w-full md:w-auto pt-4 md:pt-0 border-t md:border-t-0 border-slate-50",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-tight border ${p.status==="Resolved"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[p.status==="Resolved"?a.jsx(Un,{size:14}):a.jsx(sr,{size:14}),p.status]}),a.jsx("span",{className:"text-xs font-bold text-slate-400",children:p.date})]})]},p.id)),e.length===0&&a.jsxs("div",{className:"p-20 text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mx-auto text-slate-200",children:a.jsx(vi,{size:40})}),a.jsx("p",{className:"text-slate-400 font-bold",children:"No tickets found."})]})]})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Raise New Ticket"}),a.jsx("button",{onClick:()=>r(!1),className:"p-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:a.jsx(we,{size:24})})]}),a.jsxs("form",{onSubmit:f,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Subject"}),a.jsx("input",{name:"subject",required:!0,className:"w-full h-12 px-4 rounded-xl border border-slate-200 focus:border-primary-500 outline-none font-medium text-slate-700",placeholder:"e.g. Broken Light Fixture"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Priority"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Low","Medium","High"].map(p=>a.jsxs("label",{className:"cursor-pointer group",children:[a.jsx("input",{type:"radio",name:"priority",value:p,defaultChecked:p==="Medium",className:"peer sr-only"}),a.jsx("div",{className:"text-center py-2.5 rounded-xl border-2 border-slate-100 peer-checked:border-primary-600 peer-checked:bg-primary-50 text-xs font-black uppercase text-slate-400 peer-checked:text-primary-600 transition-all",children:p})]},p))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Description"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full h-32 p-4 rounded-xl border border-slate-200 focus:border-primary-500 outline-none font-medium text-slate-700 resize-none",placeholder:"Provide more details..."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Images"}),a.jsx("input",{type:"file",name:"images",multiple:!0,accept:".jpg,.png,.jpeg",className:"w-full text-xs text-slate-500 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-black file:bg-primary-50 file:text-primary-600 cursor-pointer"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Video"}),a.jsx("input",{type:"file",name:"video",accept:".mp4,.mov",className:"w-full text-xs text-slate-500 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-black file:bg-primary-50 file:text-primary-600 cursor-pointer"})]})]}),a.jsx(V,{variant:"primary",className:"w-full h-14 rounded-2xl font-black text-lg",disabled:s,children:s?"Submitting...":"Send Request"})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800",children:[l.id," Detail"]}),a.jsx("button",{onClick:()=>o(null),className:"p-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:a.jsx(we,{size:24})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Subject"}),a.jsx("p",{className:"text-lg font-bold text-slate-800 mt-1",children:l.subject})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Description"}),a.jsx("p",{className:"text-slate-600 font-medium mt-1",children:l.desc})]}),a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Attachments"}),l.attachments&&l.attachments.length>0?a.jsxs("div",{className:"space-y-4",children:[l.attachments.some(p=>p.type==="image")&&a.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.attachments.filter(p=>p.type==="image").map((p,g)=>a.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden border border-slate-100 bg-slate-50 cursor-pointer hover:opacity-90 transition-opacity",children:a.jsx("img",{src:p.url,alt:"",className:"w-full h-full object-cover",onClick:()=>window.open(p.url,"_blank")})},g))}),l.attachments.find(p=>p.type==="video")&&a.jsxs("div",{className:"rounded-2xl overflow-hidden border border-slate-100 bg-slate-900 aspect-video relative group",children:[a.jsx("video",{src:l.attachments.find(p=>p.type==="video").url,className:"w-full h-full object-cover",controls:!0}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/40 transition-colors pointer-events-none group-data-[playing=true]:hidden",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white ring-4 ring-white/10",children:a.jsx(sr,{size:24})})})]})]}):a.jsx("p",{className:"text-sm text-slate-400 italic",children:"No attachments provided"}),a.jsx(V,{variant:"primary",className:"w-full h-14 rounded-2xl font-black text-lg",onClick:()=>o(null),children:"Close"})]})]})})]})},iee=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(null),[l,o]=w.useState(null),[c,d]=w.useState(!1),u=w.useRef(null),f=w.useRef(null);w.useEffect(()=>{const h=localStorage.getItem("currentTenantId");return h&&o(parseInt(h)),p(),()=>clearInterval(f.current)},[]);const p=async()=>{try{const h=await er.getConversations();h.length>0&&i(h[0])}catch(h){console.error(h)}};w.useEffect(()=>{s&&(g(),f.current=setInterval(g,3e3))},[s]);const g=async()=>{if(s)try{const h=await er.getHistory(s.id);t(h)}catch(h){console.error(h)}};w.useEffect(()=>{m()},[e]);const m=()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},b=async h=>{if(h.preventDefault(),!(!n.trim()||!s)){d(!0);try{await er.sendMessage(s.id,n),r(""),g()}catch(y){console.error(y)}finally{d(!1)}}};return a.jsx(Wn,{title:"Messages",children:a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden h-[calc(100vh-140px)] flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-50 bg-slate-50/50 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 flex items-center justify-center text-indigo-600",children:a.jsx(vi,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-slate-800",children:"Support Chat"}),a.jsx("p",{className:"text-xs font-medium text-slate-500",children:s?`Chatting with ${s.name}`:"Connecting..."})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-white relative",children:[!s&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 text-sm",children:"Connecting to support..."}),e.map((h,y)=>{const x=h.senderId===l;return a.jsx("div",{className:`flex ${x?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] px-5 py-3 rounded-2xl text-sm font-medium shadow-sm ${x?"bg-indigo-600 text-white rounded-br-none":"bg-slate-100 text-slate-700 rounded-bl-none"}`,children:[h.content,a.jsx("div",{className:"text-[10px] mt-1 text-right opacity-70",children:new Date(h.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},y)}),a.jsx("div",{ref:u})]}),a.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:a.jsxs("form",{onSubmit:b,className:"flex gap-3",children:[a.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"Type a message...",className:"flex-1 h-12 px-4 rounded-xl border border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none transition-all font-medium text-slate-700"}),a.jsx("button",{type:"submit",disabled:c||!n,className:"h-12 w-12 bg-indigo-600 text-white rounded-xl flex items-center justify-center hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:c?a.jsx(Vn,{className:"animate-spin",size:20}):a.jsx(Po,{size:20})})]})})]})})},lee=()=>{const{token:e}=Eu(),t=un(),[n,r]=w.useState(null),[s,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState("loading"),[u,f]=w.useState(""),[p,g]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const h=await R.get(`/api/auth/invite/${e}`);r(h.data),d("ready")}catch(h){console.error(h),d("error"),f("This invite link is invalid or has expired.")}})()},[e]);const m=async b=>{if(b.preventDefault(),f(""),s!==l){f("Passwords do not match");return}if(s.length<6){f("Password must be at least 6 characters");return}g(!0);try{await R.post("/api/auth/accept-invite",{token:e,password:s}),d("success")}catch(h){console.error(h),f("Failed to set password. Please try again.")}finally{g(!1)}};return c==="loading"?a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full"}),a.jsx("div",{className:"h-4 w-32 bg-slate-200 rounded"})]})}):c==="error"?a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-100 p-8 text-center space-y-6",children:[a.jsx("div",{className:"w-16 h-16 bg-rose-50 rounded-full flex items-center justify-center text-rose-500 mx-auto",children:a.jsx(Qt,{size:32})}),a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Invite Invalid"}),a.jsx("p",{className:"text-slate-500 font-medium",children:u}),a.jsx(V,{onClick:()=>t("/login"),variant:"secondary",className:"w-full",children:"Return to Login"})]})}):c==="success"?a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-100 p-8 text-center space-y-6",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 mx-auto",children:a.jsx(Un,{size:32})}),a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Account Activated!"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Your password has been set successfully. You can now log in to the tenant portal."}),a.jsx(V,{onClick:()=>t("/login"),variant:"primary",className:"w-full",children:"Sign In Now"})]})}):a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-100 p-8 space-y-8 animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-lg shadow-indigo-200",children:a.jsx(zt,{size:30})}),a.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome, ",n==null?void 0:n.firstName,"!"]}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Set your password to activate your tenant portal access"})]}),u&&a.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-xl flex items-center gap-3 text-sm animate-in slide-in-from-top-2",children:[a.jsx(Qt,{size:18}),a.jsx("span",{className:"font-medium",children:u})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsx("div",{className:"space-y-1.5 font-medium text-slate-500 text-sm",children:a.jsxs("p",{children:["Email: ",a.jsx("span",{className:"text-slate-800 font-bold",children:n==null?void 0:n.email})]})}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Create Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(nv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"password",required:!0,value:s,onChange:b=>i(b.target.value),className:"w-full h-12 pl-12 pr-4 rounded-xl border border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none transition-all font-medium text-slate-700",placeholder:""})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-1",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(nv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"password",required:!0,value:l,onChange:b=>o(b.target.value),className:"w-full h-12 pl-12 pr-4 rounded-xl border border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none transition-all font-medium text-slate-700",placeholder:""})]})]}),a.jsx(V,{type:"submit",variant:"primary",className:"w-full h-12 rounded-xl text-base font-bold shadow-lg shadow-indigo-100",disabled:p,children:p?"Activating...":"Activate Account"})]})]})})},oee={payment_history:jn,invoice_summary:KA},cee={payment_history:{color:"text-emerald-600",bg:"bg-emerald-50"},invoice_summary:{color:"text-indigo-600",bg:"bg-indigo-50"}},dee=()=>{const e=un(),[t,n]=w.useState([]),[r,s]=w.useState(null),[i,l]=w.useState(!0),[o,c]=w.useState(""),d=async()=>{var f,p;l(!0),c("");try{const m=(await R.get("/api/tenant/reports")).data,h=(Array.isArray(m==null?void 0:m.reports)?m.reports:Array.isArray(m)?m:[]).map(y=>({...y,id:y.id||y.type,icon:oee[y.type]||zA,...cee[y.type]}));n(h),s((m==null?void 0:m.stats)||null)}catch(g){console.error(g),c(((p=(f=g.response)==null?void 0:f.data)==null?void 0:p.message)||"Failed to load reports."),n([]),s(null)}finally{l(!1)}};w.useEffect(()=>{d()},[]);const u=r?[{label:"Reports Available",value:r.reportsViewable??"",sub:r.reportsViewableSub??""},{label:"Paid (Total)",value:r.paidAmount!=null?`$${Number(r.paidAmount).toFixed(2)}`:"",sub:`${r.paidCount??0} invoices`},{label:"Outstanding",value:r.outstandingAmount!=null?`$${Number(r.outstandingAmount).toFixed(2)}`:"",sub:r.dataLatency??"Real-time"}]:[{label:"Reports Available",value:"",sub:""},{label:"Paid (Total)",value:"",sub:""},{label:"Outstanding",value:"",sub:""}];return a.jsx(Wn,{title:"My Reports",children:a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:"Account Reports"}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm md:text-base",children:"Your invoice and payment history at a glance."})]}),a.jsxs(V,{variant:"secondary",onClick:d,disabled:i,children:[a.jsx(Vn,{size:18,className:i?"animate-spin":""}),"Refresh"]})]}),o&&a.jsx("div",{className:"p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm",children:o}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((f,p)=>a.jsxs("div",{className:"bg-white px-6 py-5 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:f.label}),a.jsx("p",{className:"text-lg font-black text-slate-800 italic",children:f.value}),a.jsx("p",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-tighter mt-1",children:f.sub})]},p))}),i?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx(Vn,{size:40,className:"animate-spin text-slate-300"})}):t.length===0?a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-12 text-center text-slate-500",children:[a.jsx($e,{size:48,className:"mx-auto mb-4 text-slate-300"}),a.jsx("p",{className:"font-medium",children:"No reports available."})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map((f,p)=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm hover:shadow-lg transition-all group flex flex-col sm:flex-row gap-6",children:[a.jsx("div",{className:`w-14 h-14 shrink-0 rounded-xl ${f.bg||"bg-slate-50"} ${f.color||"text-slate-600"} flex items-center justify-center mx-auto sm:mx-0`,children:a.jsx(f.icon,{size:28})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:f.title}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:f.description}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-4",children:["Last: ",f.lastGenerated||""]}),a.jsx("div",{className:"mt-4 flex gap-2",children:a.jsxs(V,{variant:"secondary",size:"sm",className:"gap-2",onClick:()=>e(f.type==="invoice_summary"?"/tenant/invoices":"/tenant/payments"),children:[a.jsx($e,{size:14})," View"]})})]})]},f.id||p))}),a.jsx("div",{className:"bg-slate-100 rounded-2xl p-6 border border-slate-200 text-center text-slate-600 text-sm",children:a.jsxs("p",{children:["For detailed invoices and payment history, use ",a.jsx("strong",{children:"My Invoices"})," and ",a.jsx("strong",{children:"Pay Rent"})," from the menu."]})})]})})},uee=()=>localStorage.getItem("isOwnerLoggedIn")==="true"?a.jsx(r0,{}):a.jsx(_s,{to:"/owner/login",replace:!0}),fee=({isOpen:e,setIsOpen:t})=>{const n=un(),r=()=>{localStorage.removeItem("isOwnerLoggedIn"),localStorage.removeItem("ownerId"),n("/owner/login")},s=[{icon:u0,label:"Dashboard",path:"/owner/dashboard"},{icon:sa,label:"Properties",path:"/owner/properties"},{icon:ka,label:"Financials",path:"/owner/financials"},{icon:c0,label:"Reports",path:"/owner/reports"},{icon:vi,label:"Messages",path:"/owner/communication"}];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:fe("fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-50 transition-opacity duration-300 lg:hidden",e?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>t(!1)}),a.jsxs("aside",{className:fe("fixed inset-y-0 left-0 lg:sticky lg:top-0 z-[60] w-72 bg-white border-r border-slate-100 flex flex-col h-screen shrink-0 transition-transform duration-300 ease-in-out lg:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:[a.jsxs("div",{className:"p-8 pb-10 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:()=>n("/owner/dashboard"),children:a.jsx("img",{src:"/assets/logo.png",alt:"Masteko Logo",className:"h-10 w-auto object-container"})}),a.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-2 rounded-xl text-slate-400 hover:bg-slate-50 transition-colors",children:a.jsx(we,{size:24})})]}),a.jsxs("nav",{className:"flex-1 px-4 space-y-2",children:[a.jsx("div",{className:"px-4 mb-4",children:a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Main Menu"})}),s.map(i=>a.jsxs(a0,{to:i.path,onClick:()=>t(!1),className:({isActive:l})=>fe("flex items-center gap-3 px-4 py-3.5 rounded-2xl text-sm font-bold transition-all duration-300 group",l?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),children:[a.jsx(i.icon,{size:20,className:fe("transition-transform duration-300 group-hover:scale-110",window.location.pathname===i.path?"text-white":"text-slate-400 group-hover:text-indigo-600")}),i.label]},i.path))]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center border-2 border-white shadow-sm",children:a.jsx(kr,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Access Mode"}),a.jsx("p",{className:"text-xs font-black text-slate-700 italic",children:"Read-Only"})]})]})}),a.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-4 rounded-2xl text-sm font-bold text-rose-500 hover:bg-rose-50 transition-all duration-300 group",children:[a.jsx(f0,{size:20,className:"transition-transform group-hover:-translate-x-1"}),"Secure Logout"]})]})]})]})},pee=({title:e,onMenuClick:t})=>a.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-slate-100 flex items-center justify-between px-4 md:px-8 sticky top-0 z-40",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-xl text-slate-600 hover:bg-slate-50 transition-colors",children:a.jsx(m0,{size:24})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h2",{className:"text-lg md:text-xl font-black text-slate-800 tracking-tight italic uppercase truncate max-w-[150px] md:max-w-none",children:e}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] hidden xs:block",children:"Live Portfolio View"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[a.jsxs("div",{className:"hidden xl:flex items-center gap-3 bg-slate-50 border border-slate-100 px-4 py-2 rounded-xl text-slate-400 focus-within:bg-white focus-within:border-indigo-200 transition-all w-64 group",children:[a.jsx(Zt,{size:16,className:"group-focus-within:text-indigo-600 transition-colors"}),a.jsx("input",{type:"text",placeholder:"Search portfolio...",className:"bg-transparent border-none outline-none text-xs font-bold text-slate-600 w-full placeholder:text-slate-300",disabled:!0})]}),a.jsx("div",{className:"flex items-center gap-2 md:gap-4 md:border-l md:border-slate-100 md:pl-6",children:a.jsxs("div",{className:"flex items-center gap-3 md:pl-2 group cursor-default",children:[a.jsxs("div",{className:"text-right hidden sm:block",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 italic",children:"Owner Demo"}),a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"ID: owner_demo_1"})]}),a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-slate-900 text-white flex items-center justify-center font-black group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-slate-200 shrink-0",children:"OD"})]})})]})]}),ui=({children:e,title:t="Dashboard"})=>{const[n,r]=w.useState(!1);return a.jsxs("div",{className:"flex min-h-screen bg-slate-50 selection:bg-indigo-100 selection:text-indigo-900",children:[a.jsx(fee,{isOpen:n,setIsOpen:r}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx(pee,{title:t,onMenuClick:()=>r(!0)}),a.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:a.jsx("div",{className:"max-w-[1600px] mx-auto animate-in fade-in duration-500",children:e})})]})]})},mee=()=>{const[e,t]=M.useState([]),[n,r]=M.useState([]),[s,i]=M.useState(!0),[l,o]=M.useState(0);return M.useEffect(()=>{(async()=>{try{const[d,u]=await Promise.all([R.get("/api/owner/dashboard/stats"),R.get("/api/owner/dashboard/financial-pulse")]),f=d.data,p=u.data;t([{label:"Total Properties",value:f.propertyCount.toString(),icon:sa,color:"text-indigo-600",bg:"bg-indigo-50",trend:"Active Portfolio",trendUp:!0},{label:"Total Units",value:f.unitCount.toString(),icon:sa,color:"text-blue-600",bg:"bg-blue-50",trend:"Across locations",trendUp:null},{label:"Occupancy Rate",value:`${f.unitCount>0?Math.round(f.occupancy.occupied/f.unitCount*100):0}%`,icon:Bu,color:"text-emerald-600",bg:"bg-emerald-50",trend:"Current status",trendUp:!0},{label:"Monthly Revenue",value:`$ ${f.monthlyRevenue?f.monthlyRevenue.toLocaleString("en-CA"):"0"}`,icon:ka,color:"text-violet-600",bg:"bg-violet-50",trend:"Collected this month",trendUp:!0},{label:"Outstanding Dues",value:`$ ${f.outstandingDues?f.outstandingDues.toLocaleString("en-CA"):"0"}`,icon:Qt,color:"text-rose-600",bg:"bg-rose-50",trend:"Pending collection",trendUp:!1}]),o(f.insuranceExpiryCount||0),r(p)}catch(d){console.error("Failed to fetch owner dashboard data",d)}finally{i(!1)}})()},[]),s?a.jsx(ui,{title:"Portfolio Overview",children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}):a.jsx(ui,{title:"Portfolio Overview",children:a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-800 tracking-tight italic",children:"Welcome back, Owner."}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm md:text-base",children:"Here is the update on your property portfolio performance."})]}),a.jsxs("div",{className:"text-left sm:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Portfolio Value Index"}),a.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-black text-xl italic drop-shadow-sm",children:[a.jsx(ud,{size:24}),"+12.4% ",a.jsx("span",{className:"text-slate-400 text-sm font-bold not-italic font-sans underline decoration-emerald-200",children:"YoY"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 md:gap-6",children:e.map((c,d)=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm shadow-slate-200/50 hover:shadow-xl hover:shadow-indigo-100/50 hover:-translate-y-1 transition-all duration-300 group overflow-hidden relative",children:[a.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[a.jsx("div",{className:`w-12 h-12 ${c.bg} ${c.color} rounded-2xl flex items-center justify-center mb-4 transition-transform group-hover:scale-110 duration-500`,children:a.jsx(c.icon,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-2",children:c.label}),a.jsx("h4",{className:"text-2xl font-black text-slate-800 tracking-tight italic mb-2 leading-none",children:c.value}),a.jsx("div",{className:"mt-auto pt-4 border-t border-slate-50",children:a.jsxs("div",{className:"flex items-center gap-1",children:[c.trendUp===!0&&a.jsx(R2,{size:14,className:"text-emerald-500"}),c.trendUp===!1&&a.jsx(D2,{size:14,className:"text-rose-500"}),a.jsx("span",{className:`text-[10px] font-bold ${c.trendUp===!0?"text-emerald-600":c.trendUp===!1?"text-rose-600":"text-slate-500"}`,children:c.trend})]})})]}),a.jsx(c.icon,{size:120,className:`absolute -right-8 -bottom-8 opacity-[0.03] ${c.color} group-hover:scale-110 transition-transform duration-700`})]},d))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl border border-slate-100 shadow-sm p-4 md:p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-lg md:text-xl font-black text-slate-800 tracking-tight italic uppercase",children:"Recent Financial Pulse"}),a.jsx("button",{className:"text-[10px] md:text-xs font-black text-indigo-600 hover:underline decoration-2",children:"View Full Financials"})]}),a.jsx("div",{className:"overflow-x-auto bg-slate-50 rounded-2xl border border-slate-100 -mx-4 md:mx-0",children:a.jsxs("table",{className:"w-full text-left min-w-[500px]",children:[a.jsx("thead",{className:"bg-slate-100/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 md:px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Month"}),a.jsx("th",{className:"px-4 md:px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Target"}),a.jsx("th",{className:"px-4 md:px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actual Collected"}),a.jsx("th",{className:"px-4 md:px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Remaining Dues"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map((c,d)=>a.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[a.jsx("td",{className:"px-4 md:px-6 py-4 text-xs font-black text-slate-700 italic",children:c.month}),a.jsxs("td",{className:"px-4 md:px-6 py-4 text-sm font-bold text-slate-400 text-right font-mono",children:["$",c.expected.toLocaleString("en-CA")]}),a.jsxs("td",{className:"px-4 md:px-6 py-4 text-sm font-black text-slate-800 text-right font-mono italic",children:["$",c.collected.toLocaleString("en-CA")]}),a.jsx("td",{className:"px-4 md:px-6 py-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black ${c.dues>0?"bg-rose-50 text-rose-600":"bg-emerald-50 text-emerald-600"}`,children:c.dues>0?`$${c.dues.toLocaleString("en-CA")}`:"CLEAR"})})]},d))})]})})]}),l>0?a.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-8 flex flex-col justify-between text-white shadow-2xl shadow-indigo-200 overflow-hidden relative group",children:[a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-md",children:a.jsx(Qt,{size:24})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-xl font-black italic tracking-tight uppercase",children:"Compliance Notice"}),a.jsxs("p",{className:"text-indigo-100 text-sm font-medium leading-relaxed",children:[l," properties have insurance policies expiring within the next 30 days. Please review the Insurance Alerts."]})]}),a.jsx("button",{className:"w-full bg-white text-indigo-600 h-14 rounded-2xl font-black text-sm shadow-xl hover:bg-slate-50 transition-colors uppercase tracking-widest",children:"Acknowledge & Archive"})]}),a.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:scale-125 transition-transform duration-700"})]}):a.jsxs("div",{className:"bg-emerald-600 rounded-3xl p-8 flex flex-col justify-between text-white shadow-2xl shadow-emerald-200 overflow-hidden relative group",children:[a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-md",children:a.jsx(Un,{size:24})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-xl font-black italic tracking-tight uppercase",children:"All Good!"}),a.jsx("p",{className:"text-emerald-100 text-sm font-medium leading-relaxed",children:"Your portfolio is fully compliant. No actions needed at this time."})]})]}),a.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:scale-125 transition-transform duration-700"})]})]})]})})},hee=()=>{const[e,t]=w.useState(null),[n,r]=w.useState([]);return M.useEffect(()=>{(async()=>{try{const l=(await R.get("/api/owner/properties")).data.map(o=>({id:o.id,name:o.name,address:o.address,units:o.units,occupancy:parseInt(o.occupancy),revenue:0,image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=400&h=250&fit=crop"}));r(l)}catch(i){console.error(i)}})()},[]),a.jsxs(ui,{title:"Property Portfolio",children:[a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:"Managed Assets"}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm md:text-base",children:"Detailed breakdown of your property holdings and their performance."})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:n.map(s=>a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm hover:shadow-2xl hover:shadow-indigo-100/50 hover:-translate-y-2 transition-all duration-500 overflow-hidden group",children:[a.jsxs("div",{className:"h-56 relative overflow-hidden group-hover:scale-95 group-hover:m-2 group-hover:rounded-[2rem] transition-all duration-700",children:[a.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent"}),a.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex justify-between items-end",children:[a.jsxs("div",{className:"bg-white/20 backdrop-blur-md px-4 py-2 rounded-2xl border border-white/30 text-white text-xs font-black uppercase tracking-widest",children:[s.units," Units"]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mb-1",children:"Monthly Revenue"}),a.jsxs("p",{className:"text-white text-lg font-black tracking-tight italic",children:["$ ",s.revenue.toLocaleString("en-CA")]})]})]})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-2 text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(VA,{size:12,className:"text-indigo-400"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:s.address})]}),a.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100 italic font-black text-[10px] uppercase tracking-tighter shadow-sm",children:[a.jsx(ud,{size:12}),s.occupancy,"% Occupied"]})]}),a.jsx("h4",{className:"text-2xl font-black text-slate-800 tracking-tight italic uppercase group-hover:text-indigo-600 transition-colors",children:s.name})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-6 border-b border-slate-50",children:[a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 transition-colors group-hover:bg-indigo-50/50",children:[a.jsx(tv,{size:18,className:"text-indigo-600 mb-2"}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ownership"}),a.jsx("p",{className:"text-sm font-black text-slate-700 italic",children:"Primary (100%)"})]}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 transition-colors group-hover:bg-emerald-50/50",children:[a.jsx(Bu,{size:18,className:"text-emerald-600 mb-2"}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Tenants"}),a.jsxs("p",{className:"text-sm font-black text-slate-700 italic",children:[Math.floor(s.units*(s.occupancy/100))," Active"]})]})]}),a.jsxs("button",{onClick:()=>t(s),className:"w-full h-14 rounded-2xl bg-slate-900 hover:bg-indigo-600 text-white font-black text-sm tracking-widest uppercase transition-all flex items-center justify-center gap-3 active:scale-95 shadow-lg shadow-slate-200",children:["View Summary",a.jsx(cd,{size:18})]})]})]},s.id))})]}),e&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 flex items-center justify-center z-[100] backdrop-blur-md animate-in fade-in duration-300 p-4",children:a.jsxs("div",{className:"bg-white rounded-[2rem] md:rounded-[3rem] w-full max-w-2xl shadow-[0_20px_50px_rgba(0,0,0,0.2)] animate-in zoom-in-95 duration-300 flex flex-col max-h-[90vh] overflow-hidden border border-slate-200",children:[a.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:e.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1 italic",children:"Read-Only Asset Summary"})]}),a.jsx("button",{onClick:()=>t(null),className:"w-10 h-10 md:w-12 md:h-12 rounded-xl md:rounded-2xl bg-white border border-slate-100 text-slate-400 hover:text-rose-500 hover:border-rose-100 transition-all flex items-center justify-center shadow-sm",children:a.jsx(we,{size:24,className:"scale-75 md:scale-100"})})]}),a.jsxs("div",{className:"overflow-y-auto p-6 md:p-10 space-y-8 md:space-y-10",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-[2rem] bg-indigo-50/50 border border-indigo-100 flex items-center gap-5",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-indigo-600 shadow-sm border border-indigo-100",children:a.jsx(ud,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-1 font-sans not-italic",children:"Asset CAGR"}),a.jsxs("p",{className:"text-xl font-black text-slate-800 italic",children:["+7.8% ",a.jsx("span",{className:"text-xs text-slate-400 not-italic font-bold",children:"Annual"})]})]})]}),a.jsxs("div",{className:"p-6 rounded-[2rem] bg-emerald-50/50 border border-emerald-100 flex items-center gap-5",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-emerald-600 shadow-sm border border-emerald-100",children:a.jsx(Lt,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest mb-1 font-sans not-italic",children:"Next Payment"}),a.jsxs("p",{className:"text-xl font-black text-slate-800 italic",children:["Feb 01 ",a.jsx("span",{className:"text-xs text-slate-400 not-italic font-bold",children:"Payout"})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h5",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Asset Composition (Internal Registry)"}),a.jsx("div",{className:"space-y-4",children:[{label:"Residential Units",value:e.units,desc:"Apartments & Condos"},{label:"Commercial Spaces",value:"0",desc:"Retail / Office"},{label:"Common Areas",value:"4",desc:"Pool, Gym, Lounge"}].map((s,i)=>a.jsxs("div",{className:"flex justify-between items-center p-4 rounded-2xl border border-slate-50 hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 group-hover:text-indigo-600",children:a.jsx(tv,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-slate-800 italic",children:s.label}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:s.desc})]})]}),a.jsx("span",{className:"text-lg font-black text-slate-800 italic",children:s.value})]},i))})]})]}),a.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 mt-auto",children:a.jsx("p",{className:"text-[10px] text-center text-slate-400 font-bold uppercase tracking-widest italic decoration-indigo-200",children:"This property is managed by PropManage Admin. Full records are audit-locked."})})]})})]})},xee=()=>{const[e,t]=M.useState([{label:"Rent Collected (MTD)",value:"$ 0",icon:ka,color:"text-emerald-600",trend:"...",trendUp:!0},{label:"Service Fees (MTD)",value:"$ 0",icon:ka,color:"text-indigo-600",trend:"...",trendUp:!0},{label:"Outstanding Dues",value:"$ 0",icon:sr,color:"text-rose-600",trend:"...",trendUp:!0},{label:"Net Earnings (MTD)",value:"$ 0",icon:Un,color:"text-violet-600",trend:"...",trendUp:!0}]),[n,r]=M.useState([]);return M.useEffect(()=>{(async()=>{try{const i=await R.get("/api/owner/financials"),{collected:l,transactions:o}=i.data;t([{label:"Rent Collected (MTD)",value:`$ ${l.toLocaleString("en-CA")}`,icon:ka,color:"text-emerald-600",trend:"+4.2%",trendUp:!0},{label:"Service Fees (MTD)",value:"$ 0",icon:ka,color:"text-indigo-600",trend:"+1.5%",trendUp:!0},{label:"Outstanding Dues",value:"$ 0",icon:sr,color:"text-rose-600",trend:"Unknown",trendUp:!0},{label:"Net Earnings (MTD)",value:`$ ${l.toLocaleString("en-CA")}`,icon:Un,color:"text-violet-600",trend:"+3.8%",trendUp:!0}]),r(o)}catch(i){console.error(i)}})()},[]),a.jsx(ui,{title:"Financial Summary",children:a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:"Revenue Streams"}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm",children:"Real-time tracking of your portfolio's financial health."})]}),a.jsxs(V,{variant:"secondary",className:"w-full sm:w-auto gap-2 h-12 rounded-2xl font-black text-[10px] md:text-xs uppercase tracking-widest border-2",children:[a.jsx(wn,{size:18}),"Download YTD Statement"]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:e.map((s,i)=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm border-b-4 border-b-slate-50 hover:border-b-indigo-500 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl bg-slate-50 ${s.color} flex items-center justify-center`,children:a.jsx(s.icon,{size:20})}),a.jsxs("div",{className:`flex items-center gap-0.5 text-[10px] font-black ${s.trendUp?"text-emerald-600":"text-rose-600"}`,children:[s.trendUp?a.jsx(R2,{size:12}):a.jsx(D2,{size:12}),s.trend]})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:s.label}),a.jsx("h4",{className:"text-xl font-black text-slate-800 tracking-tight italic",children:s.value})]},i))}),a.jsxs("div",{className:"bg-white rounded-[2rem] md:rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 md:p-8 border-b border-slate-50 flex flex-col md:flex-row justify-between md:items-center bg-slate-50/30 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-base md:text-lg font-black text-slate-800 tracking-tight italic uppercase",children:"Ledger Activity"}),a.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-indigo-50 text-indigo-600 text-[9px] font-black uppercase tracking-widest border border-indigo-100 italic",children:"January 2026"})]}),a.jsxs("div",{className:"flex items-center gap-4 bg-white border border-slate-100 px-4 py-2 rounded-xl text-slate-400 w-full md:w-64 group",children:[a.jsx(Zt,{size:14,className:"group-focus-within:text-indigo-600 transition-colors"}),a.jsx("input",{type:"text",placeholder:"Search ledger...",className:"bg-transparent border-none outline-none text-[10px] font-bold text-slate-600 w-full placeholder:text-slate-300",disabled:!0})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[a.jsx("thead",{className:"bg-slate-50/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Transaction ID"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Property"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Amount"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:n.map((s,i)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-5 text-xs font-mono font-bold text-indigo-600",children:s.id}),a.jsx("td",{className:"px-8 py-5 text-sm font-black text-slate-700 italic",children:s.property}),a.jsx("td",{className:"px-8 py-5 text-xs font-bold text-slate-400",children:s.date}),a.jsx("td",{className:"px-8 py-5 text-xs font-black text-slate-500 uppercase tracking-widest",children:s.type}),a.jsxs("td",{className:"px-8 py-5 text-sm font-black text-slate-800 text-right italic font-mono",children:["$",s.amount.toLocaleString("en-CA")]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${s.status==="Paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100 animate-pulse"}`,children:s.status})}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("button",{className:"p-2 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all",children:a.jsx($e,{size:18})})})]},i))})]})}),a.jsx("div",{className:"p-6 bg-slate-50/30 border-t border-slate-50 flex justify-center",children:a.jsx("button",{className:"text-[10px] font-black text-slate-400 hover:text-indigo-600 uppercase tracking-[0.2em] transition-all",children:"Load Historical Archives"})})]})]})})},gee={monthly_summary:c0,annual_overview:ka,occupancy_stats:Bu,tax_statement:$e},yee={monthly_summary:{color:"text-indigo-600",bg:"bg-indigo-50"},annual_overview:{color:"text-emerald-600",bg:"bg-emerald-50"},occupancy_stats:{color:"text-blue-600",bg:"bg-blue-50"},tax_statement:{color:"text-violet-600",bg:"bg-violet-50"}},vee=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState(!0),[l,o]=w.useState(""),c=async()=>{var f,p;i(!0),o("");try{const m=(await R.get("/api/owner/reports")).data,h=(Array.isArray(m==null?void 0:m.reports)?m.reports:Array.isArray(m)?m:[]).map(y=>({...y,id:y.id||y.type,icon:gee[y.type]||$e,...yee[y.type]}));t(h),r((m==null?void 0:m.stats)||null)}catch(g){console.error(g),o(((p=(f=g.response)==null?void 0:f.data)==null?void 0:p.message)||"Failed to load reports."),t([]),r(null)}finally{i(!1)}};w.useEffect(()=>{c()},[]);const u=n?[{label:"Reports Viewable",value:n.reportsViewable??"",sub:n.reportsViewableSub??""},{label:"Export Limit",value:n.exportLimit??"Unlimited",sub:n.exportLimitSub??""},{label:"Data Latency",value:n.dataLatency??"Real-time",sub:n.dataLatencySub??""}]:[{label:"Reports Viewable",value:"",sub:"Last 12 months"},{label:"Export Limit",value:"Unlimited",sub:"PDF / CSV Formats"},{label:"Data Latency",value:"Real-time",sub:"Synced with Admin"}];return a.jsx(ui,{title:"Performance Reports",children:a.jsxs("div",{className:"space-y-8 pb-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight italic uppercase",children:"Portfolio Analytics"}),a.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm md:text-base",children:"Export-ready reports generated from managed property data."})]}),a.jsxs(V,{variant:"secondary",onClick:c,disabled:s,children:[a.jsx(Vn,{size:18,className:s?"animate-spin":""}),"Refresh"]})]}),l&&a.jsx("div",{className:"p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm",children:l}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((f,p)=>a.jsxs("div",{className:"bg-white px-8 py-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-center",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:f.label}),a.jsx("p",{className:"text-xl font-black text-slate-800 italic",children:f.value}),a.jsx("p",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-tighter mt-1",children:f.sub})]},p))}),s?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx(Vn,{size:40,className:"animate-spin text-slate-300"})}):e.length===0?a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-12 text-center text-slate-500",children:[a.jsx($e,{size:48,className:"mx-auto mb-4 text-slate-300"}),a.jsx("p",{className:"font-medium",children:"No reports available."})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:e.map((f,p)=>a.jsxs("div",{className:"bg-white rounded-2xl md:rounded-2.5rem p-6 md:p-8 border border-slate-100 shadow-sm hover:shadow-xl hover:shadow-indigo-100/50 transition-all duration-500 group flex flex-col sm:flex-row gap-6 md:gap-8",children:[a.jsx("div",{className:`w-16 h-16 md:w-20 md:h-20 shrink-0 rounded-2xl ${f.bg||"bg-slate-50"} ${f.color||"text-slate-600"} flex items-center justify-center transition-transform group-hover:scale-110 duration-500 shadow-inner mx-auto sm:mx-0`,children:a.jsx(f.icon,{size:32,className:"md:w-9 md:h-9"})}),a.jsxs("div",{className:"flex flex-col justify-between flex-1",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"text-xl font-black text-slate-800 tracking-tight italic uppercase group-hover:text-indigo-600 transition-colors leading-tight",children:f.title}),a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-black text-slate-400 uppercase tracking-widest italic",children:[a.jsx(ud,{size:12})," Active"]})]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed",children:f.description})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-6 md:mt-8 gap-4",children:[a.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:["Last Run: ",f.lastGenerated||""]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx("button",{type:"button",className:"flex-1 sm:flex-none p-3 rounded-xl bg-slate-50 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all border border-transparent hover:border-indigo-100 flex justify-center",children:a.jsx(d0,{size:18})}),a.jsxs(V,{variant:"secondary",className:"flex-[3] sm:flex-none gap-2 h-11 px-6 rounded-xl font-black text-[10px] uppercase tracking-widest border-2",onClick:async()=>{var g,m;try{const b=await R.get(`/api/admin/reports/${f.id||f.type}/download`,{responseType:"blob"}),h=window.URL.createObjectURL(new Blob([b.data])),y=document.createElement("a");y.href=h,y.setAttribute("download",`${(f.title||"report").toLowerCase().replace(/\s+/g,"_")}.pdf`),document.body.appendChild(y),y.click(),y.remove()}catch(b){alert(((m=(g=b.response)==null?void 0:g.data)==null?void 0:m.message)||"Report download failed.")}},children:[a.jsx(wn,{size:16})," Export"]})]})]})]})]},f.id||p))}),a.jsxs("div",{className:"bg-slate-900 rounded-2xl md:rounded-2.5rem p-6 md:p-10 flex flex-col md:flex-row items-center justify-between text-white overflow-hidden relative group gap-8",children:[a.jsxs("div",{className:"relative z-10 space-y-4 max-w-xl text-center md:text-left",children:[a.jsx("h4",{className:"text-xl md:text-2xl font-black italic tracking-tight uppercase",children:"Custom Report Requests"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:"Need a specific data extract or a consolidated tax statement not listed here? Contact your relationship manager directly from the Admin panel to request custom reporting modules."}),a.jsx("button",{type:"button",className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-indigo-600 text-white font-black text-xs uppercase tracking-widest hover:bg-indigo-500 transition-all shadow-xl shadow-indigo-900/20 active:scale-95",children:"Contact Admin Support"})]}),a.jsx(V2,{size:240,className:"hidden md:block absolute -right-20 -top-20 opacity-10 group-hover:scale-110 transition-transform duration-1000 rotate-12"})]})]})})},bee=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(null),[l,o]=w.useState(null),[c,d]=w.useState(!1),u=w.useRef(null),f=w.useRef(null);w.useEffect(()=>{const h=localStorage.getItem("ownerId");return h&&o(parseInt(h)),p(),()=>clearInterval(f.current)},[]);const p=async()=>{try{const h=await er.getConversations();h.length>0&&i(h[0])}catch(h){console.error(h)}};w.useEffect(()=>{s&&(g(),f.current=setInterval(g,3e3))},[s]);const g=async()=>{if(s)try{const h=await er.getHistory(s.id);t(h)}catch(h){console.error(h)}};w.useEffect(()=>{m()},[e]);const m=()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},b=async h=>{if(h.preventDefault(),!(!n.trim()||!s)){d(!0);try{await er.sendMessage(s.id,n),r(""),g()}catch(y){console.error(y)}finally{d(!1)}}};return a.jsx(ui,{title:"Messages",children:a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden h-[calc(100vh-160px)] md:h-[calc(100vh-140px)] flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-50 bg-slate-50/50 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 flex items-center justify-center text-indigo-600",children:a.jsx(vi,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-slate-800",children:"Priority Support"}),a.jsx("p",{className:"text-xs font-medium text-slate-500",children:s?`Connected with ${s.name}`:"Connecting..."})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 bg-white relative",children:[!s&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 text-sm",children:"Connecting to support..."}),e.map((h,y)=>{const x=h.senderId===l;return a.jsx("div",{className:`flex ${x?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[90%] md:max-w-[80%] px-4 py-2.5 md:px-5 md:py-3 rounded-2xl text-sm font-medium shadow-sm ${x?"bg-indigo-600 text-white rounded-br-none":"bg-slate-100 text-slate-700 rounded-bl-none"}`,children:[h.content,a.jsx("div",{className:"text-[10px] mt-1 text-right opacity-70",children:new Date(h.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},y)}),a.jsx("div",{ref:u})]}),a.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:a.jsxs("form",{onSubmit:b,className:"flex gap-3",children:[a.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"Type a message...",className:"flex-1 h-12 px-4 rounded-xl border border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none transition-all font-medium text-slate-700"}),a.jsx("button",{type:"submit",disabled:c||!n,className:"h-12 w-12 bg-indigo-600 text-white rounded-xl flex items-center justify-center hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:c?a.jsx(Vn,{className:"animate-spin",size:20}):a.jsx(Po,{size:20})})]})})]})})};function jee(){return a.jsx(Y_,{children:a.jsxs(U_,{children:[a.jsx(pe,{path:"/",element:a.jsx(_s,{to:"/login",replace:!0})}),a.jsx(pe,{path:"/login",element:a.jsx(EA,{})}),a.jsxs(pe,{element:a.jsx(TA,{}),children:[a.jsx(pe,{path:"/dashboard",element:a.jsx(ZJ,{})}),a.jsx(pe,{path:"/vacancy",element:a.jsx(eZ,{})}),a.jsx(pe,{path:"/revenue",element:a.jsx(tZ,{})}),a.jsx(pe,{path:"/properties",element:a.jsx(nZ,{})}),a.jsx(pe,{path:"/properties/buildings",element:a.jsx(rZ,{})}),a.jsx(pe,{path:"/properties/:id",element:a.jsx(iZ,{})}),a.jsx(pe,{path:"/units",element:a.jsx(aZ,{})}),a.jsx(pe,{path:"/units/:id",element:a.jsx(lZ,{})}),a.jsx(pe,{path:"/units/:id/bedrooms",element:a.jsx(oZ,{})}),a.jsx(pe,{path:"/units/:id/switch-mode",element:a.jsx(cZ,{})}),a.jsx(pe,{path:"/tenants",element:a.jsx(Bj,{})}),a.jsx(pe,{path:"/tenants/:id",element:a.jsx(Bj,{})}),a.jsx(pe,{path:"/owners",element:a.jsx(KZ,{})}),a.jsx(pe,{path:"/insurance-alerts",element:a.jsx(uZ,{})}),a.jsx(pe,{path:"/documents",element:a.jsx(fZ,{})}),a.jsx(pe,{path:"/leases",element:a.jsx(hZ,{})}),a.jsx(pe,{path:"/leases/new",element:a.jsx(pZ,{})}),a.jsx(pe,{path:"/leases/new-bedroom",element:a.jsx(mZ,{})}),a.jsx(pe,{path:"/payments/invoices",element:a.jsx(xZ,{})}),a.jsx(pe,{path:"/payments/received",element:a.jsx(gZ,{})}),a.jsx(pe,{path:"/payments/outstanding",element:a.jsx(yZ,{})}),a.jsx(pe,{path:"/payments/refunds",element:a.jsx(vZ,{})}),a.jsx(pe,{path:"/payments/new",element:a.jsx(bZ,{})}),a.jsx(pe,{path:"/accounting",element:a.jsx(wZ,{})}),a.jsx(pe,{path:"/accounting/chart-of-accounts",element:a.jsx(IZ,{})}),a.jsx(pe,{path:"/accounting/tax-settings",element:a.jsx(MZ,{})}),a.jsx(pe,{path:"/settings/quickbooks",element:a.jsx(DZ,{})}),a.jsx(pe,{path:"/reports",element:a.jsx(RZ,{})}),a.jsx(pe,{path:"/maintenance",element:a.jsx(BZ,{})}),a.jsx(pe,{path:"/communication",element:a.jsx(WZ,{})}),a.jsx(pe,{path:"/emails",element:a.jsx(HZ,{})}),a.jsx(pe,{path:"/tickets",element:a.jsx(VZ,{})}),a.jsx(pe,{path:"/settings",element:a.jsx(GZ,{})})]}),a.jsx(pe,{path:"/tenant/login",element:a.jsx(_s,{to:"/login",replace:!0})}),a.jsx(pe,{path:"/tenant/invite/:token",element:a.jsx(lee,{})}),a.jsxs(pe,{element:a.jsx(XZ,{}),children:[a.jsx(pe,{path:"/tenant/dashboard",element:a.jsx(ZZ,{})}),a.jsx(pe,{path:"/tenant/lease",element:a.jsx(eee,{})}),a.jsx(pe,{path:"/tenant/invoices",element:a.jsx(tee,{})}),a.jsx(pe,{path:"/tenant/payments",element:a.jsx(nee,{})}),a.jsx(pe,{path:"/tenant/documents",element:a.jsx(ree,{})}),a.jsx(pe,{path:"/tenant/insurance",element:a.jsx(aee,{})}),a.jsx(pe,{path:"/tenant/tickets",element:a.jsx(see,{})}),a.jsx(pe,{path:"/tenant/communication",element:a.jsx(iee,{})}),a.jsx(pe,{path:"/tenant/reports",element:a.jsx(dee,{})})]}),a.jsx(pe,{path:"/owner/login",element:a.jsx(_s,{to:"/login",replace:!0})}),a.jsxs(pe,{element:a.jsx(uee,{}),children:[a.jsx(pe,{path:"/owner/dashboard",element:a.jsx(mee,{})}),a.jsx(pe,{path:"/owner/properties",element:a.jsx(hee,{})}),a.jsx(pe,{path:"/owner/financials",element:a.jsx(xee,{})}),a.jsx(pe,{path:"/owner/reports",element:a.jsx(vee,{})}),a.jsx(pe,{path:"/owner/communication",element:a.jsx(bee,{})})," "]})]})})}Rp.createRoot(document.getElementById("root")).render(a.jsx(M.StrictMode,{children:a.jsx(jee,{})}));
